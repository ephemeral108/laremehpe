!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AV=e():t.AV=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=245)}([function(t,e,n){"use strict";var r=n(9),i=n(71),o=n(4),a=n(8),s=n(73).f,u=n(148),c=n(15),f=n(58),l=n(39),d=n(13),h=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,v,_,y,b,g,m,O=t.target,w=t.global,x=t.stat,j=t.proto,A=w?r:x?r[O]:(r[O]||{}).prototype,S=w?c:c[O]||l(c,O,{})[O],E=S.prototype;for(v in e)n=u(w?v:O+(x?".":"#")+v,t.forced),i=!n&&A&&d(A,v),y=S[v],i&&(t.dontCallGetSet?(m=s(A,v),b=m&&m.value):b=A[v]),_=i&&b?b:e[v],i&&typeof y==typeof _||(g=t.bind&&i?f(_,r):t.wrap&&i?h(_):j&&a(_)?o(_):_,(t.sham||_&&_.sham||y&&y.sham)&&l(g,"sham",!0),l(S,v,g),j&&(p=O+"Prototype",d(c,p)||l(c,p,{}),l(c[p],v,_),t.real&&E&&!E[v]&&l(E,v,_)))}},function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(288);n.d(e,"default",function(){return r.a});var i=n(124);n.d(e,"VERSION",function(){return i.VERSION}),n.d(e,"restArguments",function(){return i.restArguments}),n.d(e,"isObject",function(){return i.isObject}),n.d(e,"isNull",function(){return i.isNull}),n.d(e,"isUndefined",function(){return i.isUndefined}),n.d(e,"isBoolean",function(){return i.isBoolean}),n.d(e,"isElement",function(){return i.isElement}),n.d(e,"isString",function(){return i.isString}),n.d(e,"isNumber",function(){return i.isNumber}),n.d(e,"isDate",function(){return i.isDate}),n.d(e,"isRegExp",function(){return i.isRegExp}),n.d(e,"isError",function(){return i.isError}),n.d(e,"isSymbol",function(){return i.isSymbol}),n.d(e,"isArrayBuffer",function(){return i.isArrayBuffer}),n.d(e,"isDataView",function(){return i.isDataView}),n.d(e,"isArray",function(){return i.isArray}),n.d(e,"isFunction",function(){return i.isFunction}),n.d(e,"isArguments",function(){return i.isArguments}),n.d(e,"isFinite",function(){return i.isFinite}),n.d(e,"isNaN",function(){return i.isNaN}),n.d(e,"isTypedArray",function(){return i.isTypedArray}),n.d(e,"isEmpty",function(){return i.isEmpty}),n.d(e,"isMatch",function(){return i.isMatch}),n.d(e,"isEqual",function(){return i.isEqual}),n.d(e,"isMap",function(){return i.isMap}),n.d(e,"isWeakMap",function(){return i.isWeakMap}),n.d(e,"isSet",function(){return i.isSet}),n.d(e,"isWeakSet",function(){return i.isWeakSet}),n.d(e,"keys",function(){return i.keys}),n.d(e,"allKeys",function(){return i.allKeys}),n.d(e,"values",function(){return i.values}),n.d(e,"pairs",function(){return i.pairs}),n.d(e,"invert",function(){return i.invert}),n.d(e,"functions",function(){return i.functions}),n.d(e,"methods",function(){return i.methods}),n.d(e,"extend",function(){return i.extend}),n.d(e,"extendOwn",function(){return i.extendOwn}),n.d(e,"assign",function(){return i.assign}),n.d(e,"defaults",function(){return i.defaults}),n.d(e,"create",function(){return i.create}),n.d(e,"clone",function(){return i.clone}),n.d(e,"tap",function(){return i.tap}),n.d(e,"get",function(){return i.get}),n.d(e,"has",function(){return i.has}),n.d(e,"mapObject",function(){return i.mapObject}),n.d(e,"identity",function(){return i.identity}),n.d(e,"constant",function(){return i.constant}),n.d(e,"noop",function(){return i.noop}),n.d(e,"toPath",function(){return i.toPath}),n.d(e,"property",function(){return i.property}),n.d(e,"propertyOf",function(){return i.propertyOf}),n.d(e,"matcher",function(){return i.matcher}),n.d(e,"matches",function(){return i.matches}),n.d(e,"times",function(){return i.times}),n.d(e,"random",function(){return i.random}),n.d(e,"now",function(){return i.now}),n.d(e,"escape",function(){return i.escape}),n.d(e,"unescape",function(){return i.unescape}),n.d(e,"templateSettings",function(){return i.templateSettings}),n.d(e,"template",function(){return i.template}),n.d(e,"result",function(){return i.result}),n.d(e,"uniqueId",function(){return i.uniqueId}),n.d(e,"chain",function(){return i.chain}),n.d(e,"iteratee",function(){return i.iteratee}),n.d(e,"partial",function(){return i.partial}),n.d(e,"bind",function(){return i.bind}),n.d(e,"bindAll",function(){return i.bindAll}),n.d(e,"memoize",function(){return i.memoize}),n.d(e,"delay",function(){return i.delay}),n.d(e,"defer",function(){return i.defer}),n.d(e,"throttle",function(){return i.throttle}),n.d(e,"debounce",function(){return i.debounce}),n.d(e,"wrap",function(){return i.wrap}),n.d(e,"negate",function(){return i.negate}),n.d(e,"compose",function(){return i.compose}),n.d(e,"after",function(){return i.after}),n.d(e,"before",function(){return i.before}),n.d(e,"once",function(){return i.once}),n.d(e,"findKey",function(){return i.findKey}),n.d(e,"findIndex",function(){return i.findIndex}),n.d(e,"findLastIndex",function(){return i.findLastIndex}),n.d(e,"sortedIndex",function(){return i.sortedIndex}),n.d(e,"indexOf",function(){return i.indexOf}),n.d(e,"lastIndexOf",function(){return i.lastIndexOf}),n.d(e,"find",function(){return i.find}),n.d(e,"detect",function(){return i.detect}),n.d(e,"findWhere",function(){return i.findWhere}),n.d(e,"each",function(){return i.each}),n.d(e,"forEach",function(){return i.forEach}),n.d(e,"map",function(){return i.map}),n.d(e,"collect",function(){return i.collect}),n.d(e,"reduce",function(){return i.reduce}),n.d(e,"foldl",function(){return i.foldl}),n.d(e,"inject",function(){return i.inject}),n.d(e,"reduceRight",function(){return i.reduceRight}),n.d(e,"foldr",function(){return i.foldr}),n.d(e,"filter",function(){return i.filter}),n.d(e,"select",function(){return i.select}),n.d(e,"reject",function(){return i.reject}),n.d(e,"every",function(){return i.every}),n.d(e,"all",function(){return i.all}),n.d(e,"some",function(){return i.some}),n.d(e,"any",function(){return i.any}),n.d(e,"contains",function(){return i.contains}),n.d(e,"includes",function(){return i.includes}),n.d(e,"include",function(){return i.include}),n.d(e,"invoke",function(){return i.invoke}),n.d(e,"pluck",function(){return i.pluck}),n.d(e,"where",function(){return i.where}),n.d(e,"max",function(){return i.max}),n.d(e,"min",function(){return i.min}),n.d(e,"shuffle",function(){return i.shuffle}),n.d(e,"sample",function(){return i.sample}),n.d(e,"sortBy",function(){return i.sortBy}),n.d(e,"groupBy",function(){return i.groupBy}),n.d(e,"indexBy",function(){return i.indexBy}),n.d(e,"countBy",function(){return i.countBy}),n.d(e,"partition",function(){return i.partition}),n.d(e,"toArray",function(){return i.toArray}),n.d(e,"size",function(){return i.size}),n.d(e,"pick",function(){return i.pick}),n.d(e,"omit",function(){return i.omit}),n.d(e,"first",function(){return i.first}),n.d(e,"head",function(){return i.head}),n.d(e,"take",function(){return i.take}),n.d(e,"initial",function(){return i.initial}),n.d(e,"last",function(){return i.last}),n.d(e,"rest",function(){return i.rest}),n.d(e,"tail",function(){return i.tail}),n.d(e,"drop",function(){return i.drop}),n.d(e,"compact",function(){return i.compact}),n.d(e,"flatten",function(){return i.flatten}),n.d(e,"without",function(){return i.without}),n.d(e,"uniq",function(){return i.uniq}),n.d(e,"unique",function(){return i.unique}),n.d(e,"union",function(){return i.union}),n.d(e,"intersection",function(){return i.intersection}),n.d(e,"difference",function(){return i.difference}),n.d(e,"unzip",function(){return i.unzip}),n.d(e,"transpose",function(){return i.transpose}),n.d(e,"zip",function(){return i.zip}),n.d(e,"object",function(){return i.object}),n.d(e,"range",function(){return i.range}),n.d(e,"chunk",function(){return i.chunk}),n.d(e,"mixin",function(){return i.mixin})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(72),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},function(t,e,n){var r=n(9),i=n(75),o=n(13),a=n(112),s=n(55),u=n(146),c=i("wks"),f=r.Symbol,l=f&&f.for,d=u?f:f&&f.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(f,t)?c[t]=f[t]:c[t]=u&&l?l(e):d(e)}return c[t]}},function(t,e,n){"use strict";(function(t){n.d(e,"e",function(){return r}),n.d(e,"p",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"o",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"t",function(){return f}),n.d(e,"i",function(){return l}),n.d(e,"r",function(){return d}),n.d(e,"s",function(){return h}),n.d(e,"k",function(){return p}),n.d(e,"m",function(){return v}),n.d(e,"j",function(){return _}),n.d(e,"l",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"f",function(){return g}),n.d(e,"h",function(){return m}),n.d(e,"n",function(){return O}),n.d(e,"b",function(){return w});var r="1.12.1",i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||Function("return this")()||{},o=Array.prototype,a=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,u=o.push,c=o.slice,f=a.toString,l=a.hasOwnProperty,d="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,p=Array.isArray,v=Object.keys,_=Object.create,y=d&&ArrayBuffer.isView,b=isNaN,g=isFinite,m=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1}).call(e,n(108))},function(t,e,n){var r=n(15),i=n(13),o=n(142),a=n(34).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(e,n(108))},function(t,e,n){t.exports=n(248)},function(t,e,n){var r=n(72),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(t,e,n){var r=n(4);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(4),i=n(33),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},function(t,e,n){"use strict";function r(t){if(!Object(i.a)(t))return[];if(o.m)return Object(o.m)(t);var e=[];for(var n in t)Object(a.a)(t,n)&&e.push(n);return o.h&&Object(s.a)(t,e),e}e.a=r;var i=n(50),o=n(6),a=n(41),s=n(177)},function(t,e){t.exports={}},function(t,e,n){"use strict";function r(t){var e="[object "+t+"]";return function(t){return i.t.call(t)===e}}e.a=r;var i=n(6)},function(t,e,n){var r=n(8);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(15),i=n(9),o=n(8),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){"use strict";function r(t,e,n){return i.a.iteratee!==a.a?i.a.iteratee(t,e):Object(o.a)(t,e,n)}e.a=r;var i=n(23),o=n(187),a=n(188)},function(t,e,n){var r=n(3);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e,n){var r=n(17),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},function(t,e,n){"use strict";function r(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}e.a=r},function(t,e,n){"use strict";function r(t){return t instanceof r?t:this instanceof r?void(this._wrapped=t):new r(t)}e.a=r;var i=n(6);r.VERSION=i.e,r.prototype.value=function(){return this._wrapped},r.prototype.valueOf=r.prototype.toJSON=r.prototype.value,r.prototype.toString=function(){return String(this._wrapped)}},function(t,e,n){"use strict";var r=n(175),i=n(30);e.a=Object(r.a)(i.a)},function(t,e,n){t.exports=n(360)},function(t,e,n){var r=n(15);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){"use strict";var r=n(1),i=r(n(25)),o=r(n(10)),a=n(2),s=n(500),u=n(2),c=u.extend,f=n(67),l=n(43),d=n(31),h=d.getSessionToken,p=n(106),v=function(t,e){var n,r=(new Date).getTime(),o=s(r+t);if(e){var a;return(0,i.default)(a="".concat(o,",")).call(a,r,",master")}return(0,i.default)(n="".concat(o,",")).call(n,r)},_=function(t,e){e?t["X-LC-Sign"]=v(f.applicationKey):t["X-LC-Key"]=f.applicationKey},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n={"X-LC-Id":f.applicationId,"Content-Type":"application/json;charset=UTF-8"},r=!1;return"boolean"==typeof t.useMasterKey?r=t.useMasterKey:"boolean"==typeof f._config.useMasterKey&&(r=f._config.useMasterKey),r?f.masterKey?e?n["X-LC-Sign"]=v(f.masterKey,!0):n["X-LC-Key"]="".concat(f.masterKey,",master"):(console.warn("masterKey is not set, fall back to use appKey"),_(n,e)):_(n,e),f.hookKey&&(n["X-LC-Hook-Key"]=f.hookKey),null!==f._config.production&&(n["X-LC-Prod"]=String(f._config.production)),n["X-LC-UA"]=f._sharedConfig.userAgent,o.default.resolve().then(function(){var e=h(t);if(e)n["X-LC-Session"]=e;else if(!f._config.disableCurrentUser)return f.User.currentAsync().then(function(t){return t&&t._sessionToken&&(n["X-LC-Session"]=t._sessionToken),n});return n})},b=function(t){var e=t.service,n=void 0===e?"api":e,r=t.version,i=void 0===r?"1.1":r,o=t.path,a=f._config.serverURLs[n];if(!a)throw new Error("undefined server URL for ".concat(n));return"/"!==a.charAt(a.length-1)&&(a+="/"),a+=i,o&&(a+=o),a},g=function(t){var e=t.service,n=t.version,r=t.method,o=t.path,s=t.query,u=t.data,c=t.authOptions,d=t.signKey,h=void 0===d||d;if(!f.applicationId||!f.applicationKey&&!f.masterKey)throw new Error("Not initialized");f._appRouter&&f._appRouter.refresh();var v=f._config.requestTimeout,_=b({service:e,path:o,version:n});return y(c,h).then(function(t){return p({method:r,url:_,query:s,data:u,headers:t,timeout:v}).catch(function(t){var e={code:t.code||-1,error:t.message||t.responseText};if(t.response&&t.response.code)e=t.response;else if(t.responseText)try{e=JSON.parse(t.responseText)}catch(t){}if(e.rawMessage=e.rawMessage||e.error,!f._sharedConfig.keepErrorRawMessage){var n,o;e.error+=(0,i.default)(n=(0,i.default)(o=" [".concat(t.statusCode||"N/A"," ")).call(o,r," ")).call(n,_,"]")}var s=new l(e.code,e.error);throw delete e.error,a.extend(s,e)})})},m=function(t,e,n,r,i,o,a){var s="";if(t&&(s+="/".concat(t)),e&&(s+="/".concat(e)),n&&(s+="/".concat(n)),i&&i._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(i&&i._where)throw new Error("_where should be in the query");return r&&"get"===r.toLowerCase()&&(a=c({},a,i),i=null),g({method:r,path:s,query:a,data:i,authOptions:o})};f.request=g,t.exports={_request:m,request:g}},function(t,e,n){var r=n(8),i=n(57),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},function(t,e,n){"use strict";var r=n(16),i=n(6),o=Object(r.a)("Function"),a=i.p.document&&i.p.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof a&&(o=function(t){return"function"==typeof t||!1}),e.a=o},function(t,e,n){"use strict";var r=n(176);e.a=Object(r.a)("length")},function(t,e,n){"use strict";var r=n(1),i=r(n(53)),o=r(n(220)),a=r(n(10)),s=n(2),u=function(t){return s.isNull(t)||s.isUndefined(t)},c=function(t){return s.isArray(t)?t:void 0===t||null===t?[]:[t]},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,i.default)(t),n=t.include,r=t.includeACL,o={};return e&&(o.keys=c(e).join(",")),n&&(o.include=c(n).join(",")),r&&(o.returnACL=r),o},l=function(t){return t.sessionToken?t.sessionToken:t.user&&"function"==typeof t.user.getSessionToken?t.user.getSessionToken():void 0},d=function(t){return function(e){return t(e),e}},h=function(){},p=function(t,e,n){var r;return r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},s.extend(r,t),h.prototype=t.prototype,r.prototype=new h,e&&s.extend(r.prototype,e),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=t.prototype,r},v=function(t){return new Date(t)},_=function(t,e,n){var r=e.split("."),i=r.pop(),o=t;return r.forEach(function(t){void 0===o[t]&&(o[t]={}),o=o[t]}),o[i]=n,t},y=function(t,e){for(var n=e.split("."),r=n[0],i=n.pop(),o=t,a=0;a<n.length;a++)if(void 0===(o=o[n[a]]))return[void 0,void 0,i];return[o[i],o,i,r]},b=function(t){return s.isObject(t)&&(0,o.default)(t)===Object.prototype},g=function t(e,n){return e()?n().then(function(){return t(e,n)}):a.default.resolve()};t.exports={isNullOrUndefined:u,ensureArray:c,transformFetchOptions:f,getSessionToken:l,tap:d,inherits:p,parseDate:v,setValue:_,findValue:y,isPlainObject:b,continueWhile:g}},function(t,e){t.exports=!0},function(t,e,n){var r=n(74),i=Object;t.exports=function(t){return i(r(t))}},function(t,e,n){var r=n(20),i=n(147),o=n(149),a=n(21),s=n(88),u=TypeError,c=Object.defineProperty,f=Object.getOwnPropertyDescriptor;e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=f(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(109),i=n(74);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(259);t.exports=function(t){return r(t.length)}},function(t,e,n){t.exports=n(372)},function(t,e,n){t.exports=n(227)},function(t,e,n){var r=n(20),i=n(34),o=n(44);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(47),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){"use strict";function r(t,e){return null!=t&&i.i.call(t,e)}e.a=r;var i=n(6)},function(t,e,n){t.exports=n(365)},function(t,e,n){"use strict";function r(t,e){if(this instanceof r?this.constructor:void 0){var n=new Error(e);return(0,o.default)(n,(0,a.default)(this)),n.code=t,n}return new r(t,e)}var i=n(1),o=i(n(387)),a=i(n(220)),s=n(2);r.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),(0,o.default)(r,Error),s.extend(r,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),t.exports=r},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(18);t.exports=r("navigator","userAgent")||""},function(t,e){t.exports={}},function(t,e,n){var r=n(121),i=n(8),o=n(54),a=n(5),s=a("toStringTag"),u=Object,c="Arguments"==o(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(t){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=u(t),s))?n:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},function(t,e,n){var r=n(39);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},function(t,e,n){"use strict";var r=n(28),i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t){var e=typeof t;return"function"===e||"object"===e&&!!t}e.a=r},function(t,e,n){"use strict";var r=n(6),i=n(16);e.a=r.k||Object(i.a)("Array")},function(t,e,n){"use strict";function r(t,e,n){e=Object(i.a)(e,n);var r,s;if(Object(o.a)(t))for(r=0,s=t.length;r<s;r++)e(t[r],r,t);else{var u=Object(a.a)(t);for(r=0,s=u.length;r<s;r++)e(t[u[r]],u[r],t)}return t}e.a=r;var i=n(83),o=n(24),a=n(14)},function(t,e,n){t.exports=n(378)},function(t,e,n){var r=n(4),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},function(t,e,n){var r=n(56),i=n(3);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})},function(t,e,n){var r,i,o=n(9),a=n(45),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,f=c&&c.v8;f&&(r=f.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},function(t,e){var n=String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(4),i=n(28),o=n(72),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r,i=n(21),o=n(152),a=n(118),s=n(93),u=n(153),c=n(113),f=n(91),l=f("IE_PROTO"),d=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=c("iframe");return e.style.display="none",u.appendChild(e),e.src=String("javascript:"),t=e.contentWindow.document,t.open(),t.write(h("document.F=Object")),t.close(),t.F},_=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}_="undefined"!=typeof document?document.domain&&r?p(r):v():p(r);for(var t=a.length;t--;)delete _.prototype[a[t]];return _()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=i(t),n=new d,d.prototype=null,n[l]=t):n=_(),void 0===e?n:o.f(n,e)}},function(t,e,n){"use strict";var r=n(35),i=n(122),o=n(46),a=n(95),s=n(34).f,u=n(157),c=n(32),f=n(20),l=a.set,d=a.getterFor("Array Iterator");t.exports=u(Array,"Array",function(t,e){l(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=d(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");var h=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&f&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(t){}},function(t,e,n){var r=n(121),i=n(34).f,o=n(39),a=n(13),s=n(266),u=n(5),c=u("toStringTag");t.exports=function(t,e,n,u){if(t){var f=n?t:t.prototype;a(f,c)||i(f,c,{configurable:!0,value:e}),u&&!r&&o(f,"toString",s)}}},function(t,e,n){var r=n(9);t.exports=r.Promise},function(t,e,n){n(60);var r=n(287),i=n(9),o=n(47),a=n(39),s=n(46),u=n(5),c=u("toStringTag");for(var f in r){var l=i[f],d=l&&l.prototype;d&&o(d)!==c&&a(d,c,f),s[f]=s.Array}},function(t,e,n){"use strict";function r(t){for(var e=Object(i.a)(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}e.a=r;var i=n(14)},function(t,e,n){"use strict";function r(t,e,n,u){if(u=u||[],e||0===e){if(e<=0)return u.concat(t)}else e=1/0;for(var c=u.length,f=0,l=Object(i.a)(t);f<l;f++){var d=t[f];if(Object(o.a)(d)&&(Object(a.a)(d)||Object(s.a)(d)))if(e>1)r(d,e-1,n,u),c=u.length;else for(var h=0,p=d.length;h<p;)u[c++]=d[h++];else n||(u[c++]=d)}return u}e.a=r;var i=n(30),o=n(24),a=n(51),s=n(127)},function(t,e,n){"use strict";function r(t,e,n){e=Object(i.a)(e,n);for(var r=!Object(o.a)(t)&&Object(a.a)(t),s=(r||t).length,u=Array(s),c=0;c<s;c++){var f=r?r[c]:c;u[c]=e(t[f],f,t)}return u}e.a=r;var i=n(19),o=n(24),a=n(14)},function(t,e,n){"use strict";(function(e){var r=n(1),i=r(n(10)),o=r(n(25)),a=r(n(42)),s=r(n(217)),u=r(n(37)),c=r(n(68)),f=r(n(53)),l=n(2),d=n(219),h=n(69),p=n(31),v=p.inherits,_=p.parseDate,y=n(222),b=n(70),g=b.setAdapters,m=b.adapterManager,O=e.AV||{};O._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null,requestTimeout:null};var w="LeanCloud-JS-SDK/".concat(y);O._sharedConfig={userAgent:w,liveQueryRealtime:null},m.on("platformInfo",function(t){var e=w;if(t)if(t.userAgent)e=t.userAgent;else{var n=t.name;t.version&&(n+="/".concat(t.version)),t.extra&&(n+="; ".concat(t.extra)),e+=" (".concat(n,")")}O._sharedConfig.userAgent=e}),O._getAVPath=function(t){if(!O.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(t||(t=""),!l.isString(t))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===t[0]&&(t=t.substring(1)),"AV/"+O.applicationId+"/"+t},O._installationId=null,O._getInstallationId=function(){if(O._installationId)return i.default.resolve(O._installationId);var t=O._getAVPath("installationId");return O.localStorage.getItemAsync(t).then(function(e){return O._installationId=e,O._installationId?e:(O._installationId=e=d(),O.localStorage.setItemAsync(t,e).then(function(){return e}))})},O._subscriptionId=null,O._refreshSubscriptionId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O._getAVPath("subscriptionId"),e=O._subscriptionId=d();return O.localStorage.setItemAsync(t,e).then(function(){return e})},O._getSubscriptionId=function(){if(O._subscriptionId)return i.default.resolve(O._subscriptionId);var t=O._getAVPath("subscriptionId");return O.localStorage.getItemAsync(t).then(function(e){return O._subscriptionId=e,O._subscriptionId||(e=O._refreshSubscriptionId(t)),e})},O._parseDate=_,O._extend=function(t,e){var n=v(this,t,e);return n.extend=this.extend,n},O._encode=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof O.Object){if(n)throw new Error("AV.Objects not allowed here");return e&&!l.include(e,t)&&t._hasData?t._toFullJSON((0,o.default)(e).call(e,t),r):t._toPointer()}if(t instanceof O.ACL)return t.toJSON();if(l.isDate(t))return r?{__type:"Date",iso:t.toJSON()}:t.toJSON();if(t instanceof O.GeoPoint)return t.toJSON();if(l.isArray(t))return(0,a.default)(l).call(l,t,function(t){return O._encode(t,e,n,r)});if(l.isRegExp(t))return t.source;if(t instanceof O.Relation)return t.toJSON();if(t instanceof O.Op)return t.toJSON();if(t instanceof O.File){if(!t.url()&&!t.id)throw new Error("Tried to save an object containing an unsaved file.");return t._toFullJSON(e,r)}return l.isObject(t)?l.mapObject(t,function(t,i){return O._encode(t,e,n,r)}):t},O._decode=function(t,e){if(!l.isObject(t)||l.isDate(t))return t;if(l.isArray(t))return(0,a.default)(l).call(l,t,function(t){return O._decode(t)});if(t instanceof O.Object)return t;if(t instanceof O.File)return t;if(t instanceof O.Op)return t;if(t instanceof O.GeoPoint)return t;if(t instanceof O.ACL)return t;if("ACL"===e)return new O.ACL(t);if(t.__op)return O.Op._decode(t);var n;if("Pointer"===t.__type){n=t.className;var r=O.Object._create(n);if((0,s.default)(t).length>3){var i=l.clone(t);delete i.__type,delete i.className,r._finishFetch(i,!0)}else r._finishFetch({objectId:t.objectId},!1);return r}if("Object"===t.__type){n=t.className;var o=l.clone(t);delete o.__type,delete o.className;var u=O.Object._create(n);return u._finishFetch(o,!0),u}if("Date"===t.__type)return O._parseDate(t.iso);if("GeoPoint"===t.__type)return new O.GeoPoint({latitude:t.latitude,longitude:t.longitude});if("Relation"===t.__type){if(!e)throw new Error("key missing decoding a Relation");var c=new O.Relation(null,e);return c.targetClassName=t.className,c}if("File"===t.__type){var f=new O.File(t.name),d=l.clone(t);return delete d.__type,f._finishFetch(d),f}return l.mapObject(t,O._decode)},O.parseJSON=O._decode,O.parse=function(t){return O.parseJSON(JSON.parse(t))},O.stringify=function(t){return(0,u.default)(O._encode(t,[],!1,!0))},O._encodeObjectOrArray=function(t){var e=function(t){return t&&t._toFullJSON&&(t=t._toFullJSON([])),l.mapObject(t,function(t){return O._encode(t,[])})};return l.isArray(t)?(0,a.default)(t).call(t,function(t){return e(t)}):e(t)},O._arrayEach=l.each,O._traverse=function(t,e,n){if(t instanceof O.Object){if(n=n||[],(0,c.default)(l).call(l,n,t)>=0)return;return n.push(t),O._traverse(t.attributes,e,n),e(t)}return t instanceof O.Relation||t instanceof O.File?e(t):l.isArray(t)?(l.each(t,function(r,i){var o=O._traverse(r,e,n);o&&(t[i]=o)}),e(t)):l.isObject(t)?(O._each(t,function(r,i){var o=O._traverse(r,e,n);o&&(t[i]=o)}),e(t)):e(t)},O._objectEach=O._each=function(t,e){l.isObject(t)?l.each((0,f.default)(l).call(l,t),function(n){e(t[n],n)}):l.each(t,e)},O.debug={enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leancloud*";return h.enable(t)},disable:h.disable},O.setAdapters=g,t.exports=O}).call(e,n(108))},function(t,e,n){t.exports=n(374)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)}}function a(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)}function s(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}}function u(){var t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}e.log=a,e.formatArgs=o,e.save=s,e.load=u,e.useColors=i,e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(383)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e,n){"use strict";var r=n(1),i=r(n(53)),o=n(2),a=n(223),s=n(31),u=s.inherits,c=u(a,{constructor:function(){a.apply(this),this._adapters={}},getAdapter:function(t){var e=this._adapters[t];if(void 0===e)throw new Error("".concat(t," adapter is not configured"));return e},setAdapters:function(t){var e=this;o.extend(this._adapters,t),(0,i.default)(o).call(o,t).forEach(function(n){return e.emit(n,t[n])})}}),f=new c;t.exports={getAdapter:f.getAdapter.bind(f),setAdapters:f.setAdapters.bind(f),adapterManager:f}},function(t,e,n){var r=n(72),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},function(t,e,n){var r=n(3);t.exports=!r(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},function(t,e,n){var r=n(20),i=n(11),o=n(145),a=n(44),s=n(35),u=n(88),c=n(13),f=n(147),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=u(e),f)try{return l(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},function(t,e){var n=TypeError;t.exports=function(t){if(void 0==t)throw n("Can't call method on "+t);return t}},function(t,e,n){var r=n(32),i=n(111);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.3",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,e,n){var r=n(58),i=n(11),o=n(21),a=n(57),s=n(154),u=n(36),c=n(12),f=n(155),l=n(94),d=n(156),h=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var _,y,b,g,m,O,w,x=n&&n.that,j=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),E=r(e,x),C=function(t){return _&&d(_,"normal",t),new p(!0,t)},T=function(t){return j?(o(t),S?E(t[0],t[1],C):E(t[0],t[1])):S?E(t,C):E(t)};if(A)_=t;else{if(!(y=l(t)))throw h(a(t)+" is not iterable");if(s(y)){for(b=0,g=u(t);g>b;b++)if((m=T(t[b]))&&c(v,m))return m;return new p(!1)}_=f(t,y)}for(O=_.next;!(w=i(O,_)).done;){try{m=T(w.value)}catch(t){d(_,"throw",t)}if("object"==typeof m&&m&&c(v,m))return m}return new p(!1)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r=n(9),i=n(62),o=n(8),a=n(148),s=n(123),u=n(5),c=n(277),f=n(32),l=n(56),d=i&&i.prototype,h=u("species"),p=!1,v=o(r.PromiseRejectionEvent),_=a("Promise",function(){var t=s(i),e=t!==String(i);if(!e&&66===l)return!0;if(f&&(!d.catch||!d.finally))return!0;if(l>=51&&/native code/.test(t))return!1;var n=new i(function(t){t(1)}),r=function(t){t(function(){},function(){})},o=n.constructor={};return o[h]=r,!(p=n.then(function(){})instanceof r)||!e&&c&&!v});t.exports={CONSTRUCTOR:_,REJECTION_EVENT:v,SUBCLASSING:p}},function(t,e,n){"use strict";var r=n(286).charAt,i=n(40),o=n(95),a=n(157),s=o.set,u=o.getterFor("String Iterator");a(String,"String",function(t){s(this,{type:"String Iterator",string:i(t),index:0})},function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n(6),i=n(294),o=r.s&&Object(i.a)(new DataView(new ArrayBuffer(8))),a="undefined"!=typeof Map&&Object(i.a)(new Map)},function(t,e,n){"use strict";function r(t){if(!Object(i.a)(t))return[];var e=[];for(var n in t)e.push(n);return o.h&&Object(a.a)(t,e),e}e.a=r;var i=n(50),o=n(6),a=n(177)},function(t,e,n){"use strict";function r(t){return i.a.toPath(t)}e.a=r;var i=n(23);n(186)},function(t,e,n){"use strict";function r(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}e.a=r},function(t,e,n){"use strict";function r(t,e,n){var r=[];return e=Object(i.a)(e,n),Object(o.a)(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}e.a=r;var i=n(19),o=n(52)},function(t,e,n){"use strict";function r(t,e,n,r){return Object(i.a)(t)||(t=Object(o.a)(t)),("number"!=typeof n||r)&&(n=0),Object(a.a)(t,e,n)>=0}e.a=r;var i=n(24),o=n(64),a=n(202)},function(t,e,n){var r=n(54);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){t.exports=n(230)},function(t,e,n){var r=n(252),i=n(89);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},function(t,e,n){var r=n(18),i=n(8),o=n(12),a=n(146),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},function(t,e,n){var r=n(13),i=n(8),o=n(33),a=n(91),s=n(150),u=a("IE_PROTO"),c=Object,f=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(r(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?f:null}},function(t,e,n){var r=n(75),i=n(112),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(4),i=n(21),o=n(255);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e){t.exports={}},function(t,e,n){var r=n(47),i=n(110),o=n(46),a=n(5),s=a("iterator");t.exports=function(t){if(void 0!=t)return i(t,s)||i(t,"@@iterator")||o[r(t)]}},function(t,e,n){var r,i,o,a=n(264),s=n(9),u=n(4),c=n(17),f=n(39),l=n(13),d=n(111),h=n(91),p=n(93),v=s.TypeError,_=s.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(a||d.state){var g=d.state||(d.state=new _),m=u(g.get),O=u(g.has),w=u(g.set);r=function(t,e){if(O(g,t))throw new v("Object already initialized");return e.facade=t,w(g,t,e),e},i=function(t){return m(g,t)||{}},o=function(t){return O(g,t)}}else{var x=h("state");p[x]=!0,r=function(t,e){if(l(t,x))throw new v("Object already initialized");return e.facade=t,f(t,x,e),e},i=function(t){return l(t,x)?t[x]:{}},o=function(t){return l(t,x)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},function(t,e){},function(t,e,n){var r=n(54),i=n(9);t.exports="process"==r(i.process)},function(t,e,n){var r=n(4),i=n(3),o=n(8),a=n(47),s=n(18),u=n(123),c=function(){},f=[],l=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),p=!d.exec(c),v=function(t){if(!o(t))return!1;try{return l(c,f,t),!0}catch(t){return!1}},_=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,u(t))}catch(t){return!0}};_.sham=!0,t.exports=!l||i(function(){var t;return v(v.call)||!v(Object)||!v(function(){t=!0})||t})?_:v},function(t,e,n){var r=n(4);t.exports=r([].slice)},function(t,e,n){"use strict";function r(t){return t=Object(i.a)({},t),function(e){return Object(o.a)(e,t)}}e.a=r;var i=n(131),o=n(178)},function(t,e,n){"use strict";var r=n(22),i=n(194),o=n(23),a=Object(r.a)(function(t,e){var n=a.placeholder,r=function(){for(var o=0,a=e.length,s=Array(a),u=0;u<a;u++)s[u]=e[u]===n?arguments[o++]:e[u];for(;o<arguments.length;)s.push(arguments[o++]);return Object(i.a)(t,r,this,this,s)};return r});a.placeholder=o.a,e.a=a},function(t,e,n){"use strict";function r(t,e){return function(n,r,a){var s=e?[[],[]]:{};return r=Object(i.a)(r,a),Object(o.a)(n,function(e,i){var o=r(e,i,n);t(s,e,o)}),s}}e.a=r;var i=n(19),o=n(52)},function(t,e,n){"use strict";var r=n(88),i=n(34),o=n(44);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var r=n(3),i=n(5),o=n(56),a=i("species");t.exports=function(t){return o>=51||!r(function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){var r=n(58),i=n(4),o=n(109),a=n(33),s=n(36),u=n(216),c=i([].push),f=function(t){var e=1==t,n=2==t,i=3==t,f=4==t,l=6==t,d=7==t,h=5==t||l;return function(p,v,_,y){for(var b,g,m=a(p),O=o(m),w=r(v,_),x=s(O),j=0,A=y||u,S=e?A(p,x):n||d?A(p,0):void 0;x>j;j++)if((h||j in O)&&(b=O[j],g=w(b,j,m),t))if(e)S[j]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return j;case 2:c(S,b)}else switch(t){case 4:return!1;case 7:c(S,b)}return l?-1:i||f?f:S}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},function(t,e,n){"use strict";var r=n(1),i=r(n(141)),o=r(n(436)),a=r(n(42)),s=r(n(217)),u=r(n(37)),c=r(n(25)),f=(n(2),n(441)),l=f.timeout,d=n(69),h=d("leancloud:request"),p=d("leancloud:request:error"),v=n(70),_=v.getAdapter,y=0,b=function(t){var e=t.method,n=t.url,r=t.query,f=t.data,v=t.headers,b=void 0===v?{}:v,g=t.timeout,m=t.onprogress;if(r){var O,w,x,j=(0,o.default)(O=(0,a.default)(w=(0,s.default)(r)).call(w,function(t){var e,n=r[t];if(void 0!==n){var o="object"===(0,i.default)(n)?(0,u.default)(n):n;return(0,c.default)(e="".concat(encodeURIComponent(t),"=")).call(e,encodeURIComponent(o))}})).call(O,function(t){return t}).join("&");n=(0,c.default)(x="".concat(n,"?")).call(x,j)}var A=y++;h("request(%d) %s %s %o %o %o",A,e,n,r,f,b);var S=_("request"),E=S(n,{method:e,headers:b,data:f,onprogress:m}).then(function(t){if(h("response(%d) %d %O %o",A,t.status,t.data||t.text,t.header),!1===t.ok){var e=new Error;throw e.response=t,e}return t.data}).catch(function(t){throw t.response&&(d.enabled("leancloud:request")||p("request(%d) %s %s %o %o %o",A,e,n,r,f,b),p("response(%d) %d %O %o",A,t.response.status,t.response.data||t.response.text,t.response.header),t.statusCode=t.response.status,t.responseText=t.response.text,t.response=t.response.data),t});return g?l(E,g):E};t.exports=b},function(t,e,n){t.exports=n(446)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),i=n(3),o=n(54),a=Object,s=r("".split);t.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?s(t,""):a(t)}:a},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){var r=n(9),i=n(254),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(4),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},function(t,e,n){var r=n(9),i=n(17),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(151),i=n(118),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(35),i=n(116),o=n(36),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u),f=i(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(117),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(258);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(151),i=n(118);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(5),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(4),i=n(8),o=n(111),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6);n.d(e,"VERSION",function(){return r.e});var i=n(22);n.d(e,"restArguments",function(){return i.a});var o=n(50);n.d(e,"isObject",function(){return o.a});var a=n(289);n.d(e,"isNull",function(){return a.a});var s=n(167);n.d(e,"isUndefined",function(){return s.a});var u=n(168);n.d(e,"isBoolean",function(){return u.a});var c=n(290);n.d(e,"isElement",function(){return c.a});var f=n(125);n.d(e,"isString",function(){return f.a});var l=n(169);n.d(e,"isNumber",function(){return l.a});var d=n(291);n.d(e,"isDate",function(){return d.a});var h=n(292);n.d(e,"isRegExp",function(){return h.a});var p=n(293);n.d(e,"isError",function(){return p.a});var v=n(170);n.d(e,"isSymbol",function(){return v.a});var _=n(171);n.d(e,"isArrayBuffer",function(){return _.a});var y=n(126);n.d(e,"isDataView",function(){return y.a});var b=n(51);n.d(e,"isArray",function(){return b.a});var g=n(29);n.d(e,"isFunction",function(){return g.a});var m=n(127);n.d(e,"isArguments",function(){return m.a});var O=n(295);n.d(e,"isFinite",function(){return O.a});var w=n(172);n.d(e,"isNaN",function(){return w.a});var x=n(173);n.d(e,"isTypedArray",function(){return x.a});var j=n(297);n.d(e,"isEmpty",function(){return j.a});var A=n(178);n.d(e,"isMatch",function(){return A.a});var S=n(298);n.d(e,"isEqual",function(){return S.a});var E=n(300);n.d(e,"isMap",function(){return E.a});var C=n(301);n.d(e,"isWeakMap",function(){return C.a});var T=n(302);n.d(e,"isSet",function(){return T.a});var N=n(303);n.d(e,"isWeakSet",function(){return N.a});var I=n(14);n.d(e,"keys",function(){return I.a});var k=n(81);n.d(e,"allKeys",function(){return k.a});var U=n(64);n.d(e,"values",function(){return U.a});var P=n(304);n.d(e,"pairs",function(){return P.a});var R=n(179);n.d(e,"invert",function(){return R.a});var D=n(180);n.d(e,"functions",function(){return D.a}),n.d(e,"methods",function(){return D.a});var L=n(181);n.d(e,"extend",function(){return L.a});var M=n(131);n.d(e,"extendOwn",function(){return M.a}),n.d(e,"assign",function(){return M.a});var q=n(182);n.d(e,"defaults",function(){return q.a});var F=n(305);n.d(e,"create",function(){return F.a});var W=n(184);n.d(e,"clone",function(){return W.a});var B=n(306);n.d(e,"tap",function(){return B.a});var Q=n(185);n.d(e,"get",function(){return Q.a});var V=n(307);n.d(e,"has",function(){return V.a});var K=n(308);n.d(e,"mapObject",function(){return K.a});var z=n(133);n.d(e,"identity",function(){return z.a});var J=n(174);n.d(e,"constant",function(){return J.a});var G=n(189);n.d(e,"noop",function(){return G.a});var H=n(186);n.d(e,"toPath",function(){return H.a});var $=n(134);n.d(e,"property",function(){return $.a});var X=n(309);n.d(e,"propertyOf",function(){return X.a});var Y=n(100);n.d(e,"matcher",function(){return Y.a}),n.d(e,"matches",function(){return Y.a});var Z=n(310);n.d(e,"times",function(){return Z.a});var tt=n(190);n.d(e,"random",function(){return tt.a});var et=n(135);n.d(e,"now",function(){return et.a});var nt=n(311);n.d(e,"escape",function(){return nt.a});var rt=n(312);n.d(e,"unescape",function(){return rt.a});var it=n(193);n.d(e,"templateSettings",function(){return it.a});var ot=n(314);n.d(e,"template",function(){return ot.a});var at=n(315);n.d(e,"result",function(){return at.a});var st=n(316);n.d(e,"uniqueId",function(){return st.a});var ut=n(317);n.d(e,"chain",function(){return ut.a});var ct=n(188);n.d(e,"iteratee",function(){return ct.a});var ft=n(101);n.d(e,"partial",function(){return ft.a});var lt=n(195);n.d(e,"bind",function(){return lt.a});var dt=n(318);n.d(e,"bindAll",function(){return dt.a});var ht=n(319);n.d(e,"memoize",function(){return ht.a});var pt=n(196);n.d(e,"delay",function(){return pt.a});var vt=n(320);n.d(e,"defer",function(){return vt.a});var _t=n(321);n.d(e,"throttle",function(){return _t.a});var yt=n(322);n.d(e,"debounce",function(){return yt.a});var bt=n(323);n.d(e,"wrap",function(){return bt.a});var gt=n(136);n.d(e,"negate",function(){return gt.a});var mt=n(324);n.d(e,"compose",function(){return mt.a});var Ot=n(325);n.d(e,"after",function(){return Ot.a});var wt=n(197);n.d(e,"before",function(){return wt.a});var xt=n(326);n.d(e,"once",function(){return xt.a});var jt=n(198);n.d(e,"findKey",function(){return jt.a});var At=n(137);n.d(e,"findIndex",function(){return At.a});var St=n(200);n.d(e,"findLastIndex",function(){return St.a});var Et=n(201);n.d(e,"sortedIndex",function(){return Et.a});var Ct=n(202);n.d(e,"indexOf",function(){return Ct.a});var Tt=n(327);n.d(e,"lastIndexOf",function(){return Tt.a});var Nt=n(204);n.d(e,"find",function(){return Nt.a}),n.d(e,"detect",function(){return Nt.a});var It=n(328);n.d(e,"findWhere",function(){return It.a});var kt=n(52);n.d(e,"each",function(){return kt.a}),n.d(e,"forEach",function(){return kt.a});var Ut=n(66);n.d(e,"map",function(){return Ut.a}),n.d(e,"collect",function(){return Ut.a});var Pt=n(329);n.d(e,"reduce",function(){return Pt.a}),n.d(e,"foldl",function(){return Pt.a}),n.d(e,"inject",function(){return Pt.a});var Rt=n(330);n.d(e,"reduceRight",function(){return Rt.a}),n.d(e,"foldr",function(){return Rt.a});var Dt=n(84);n.d(e,"filter",function(){return Dt.a}),n.d(e,"select",function(){return Dt.a});var Lt=n(331);n.d(e,"reject",function(){return Lt.a});var Mt=n(332);n.d(e,"every",function(){return Mt.a}),n.d(e,"all",function(){return Mt.a});var qt=n(333);n.d(e,"some",function(){return qt.a}),n.d(e,"any",function(){return qt.a});var Ft=n(85);n.d(e,"contains",function(){return Ft.a}),n.d(e,"includes",function(){return Ft.a}),n.d(e,"include",function(){return Ft.a});var Wt=n(334);n.d(e,"invoke",function(){return Wt.a});var Bt=n(138);n.d(e,"pluck",function(){return Bt.a});var Qt=n(335);n.d(e,"where",function(){return Qt.a});var Vt=n(206);n.d(e,"max",function(){return Vt.a});var Kt=n(336);n.d(e,"min",function(){return Kt.a});var zt=n(337);n.d(e,"shuffle",function(){return zt.a});var Jt=n(207);n.d(e,"sample",function(){return Jt.a});var Gt=n(338);n.d(e,"sortBy",function(){return Gt.a});var Ht=n(339);n.d(e,"groupBy",function(){return Ht.a});var $t=n(340);n.d(e,"indexBy",function(){return $t.a});var Xt=n(341);n.d(e,"countBy",function(){return Xt.a});var Yt=n(342);n.d(e,"partition",function(){return Yt.a});var Zt=n(343);n.d(e,"toArray",function(){return Zt.a});var te=n(344);n.d(e,"size",function(){return te.a});var ee=n(208);n.d(e,"pick",function(){return ee.a});var ne=n(346);n.d(e,"omit",function(){return ne.a});var re=n(347);n.d(e,"first",function(){return re.a}),n.d(e,"head",function(){return re.a}),n.d(e,"take",function(){return re.a});var ie=n(209);n.d(e,"initial",function(){return ie.a});var oe=n(348);n.d(e,"last",function(){return oe.a});var ae=n(210);n.d(e,"rest",function(){return ae.a}),n.d(e,"tail",function(){return ae.a}),n.d(e,"drop",function(){return ae.a});var se=n(349);n.d(e,"compact",function(){return se.a});var ue=n(350);n.d(e,"flatten",function(){return ue.a});var ce=n(351);n.d(e,"without",function(){return ce.a});var fe=n(212);n.d(e,"uniq",function(){return fe.a}),n.d(e,"unique",function(){return fe.a});var le=n(352);n.d(e,"union",function(){return le.a});var de=n(353);n.d(e,"intersection",function(){return de.a});var he=n(211);n.d(e,"difference",function(){return he.a});var pe=n(213);n.d(e,"unzip",function(){return pe.a}),n.d(e,"transpose",function(){return pe.a});var ve=n(354);n.d(e,"zip",function(){return ve.a});var _e=n(355);n.d(e,"object",function(){return _e.a});var ye=n(356);n.d(e,"range",function(){return ye.a});var be=n(357);n.d(e,"chunk",function(){return be.a});var ge=n(358);n.d(e,"mixin",function(){return ge.a});var me=n(359);n.d(e,"default",function(){return me.a})},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("String")},function(t,e,n){"use strict";function r(t){return null!=t&&Object(o.a)(t.getInt8)&&Object(a.a)(t.buffer)}var i=n(16),o=n(29),a=n(171),s=n(80),u=Object(i.a)("DataView");e.a=s.a?r:u},function(t,e,n){"use strict";var r=n(16),i=n(41),o=Object(r.a)("Arguments");!function(){o(arguments)||(o=function(t){return Object(i.a)(t,"callee")})}(),e.a=o},function(t,e,n){"use strict";var r=n(176);e.a=Object(r.a)("byteLength")},function(t,e,n){"use strict";function r(t){var e=Object(i.a)(t);return function(n){if(null==n)return!1;var r=Object(a.a)(n);if(Object(i.a)(r))return!1;for(var u=0;u<e;u++)if(!Object(o.a)(n[t[u]]))return!1;return t!==l||!Object(o.a)(n[s])}}e.a=r,n.d(e,"b",function(){return f}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return d});var i=n(30),o=n(29),a=n(81),s="forEach",u=["clear","delete"],c=["get","has","set"],f=u.concat(s,c),l=u.concat(c),d=["add"].concat(u,s,"has")},function(t,e,n){"use strict";function r(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var c=a[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}}e.a=r},function(t,e,n){"use strict";var r=n(130),i=n(14);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";function r(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}e.a=r},function(t,e,n){"use strict";function r(t){return t}e.a=r},function(t,e,n){"use strict";function r(t){return t=Object(o.a)(t),function(e){return Object(i.a)(e,t)}}e.a=r;var i=n(132),o=n(82)},function(t,e,n){"use strict";e.a=Date.now||function(){return(new Date).getTime()}},function(t,e,n){"use strict";function r(t){return function(){return!t.apply(this,arguments)}}e.a=r},function(t,e,n){"use strict";var r=n(199);e.a=Object(r.a)(1)},function(t,e,n){"use strict";function r(t,e){return Object(i.a)(t,Object(o.a)(e))}e.a=r;var i=n(66),o=n(134)},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){return 1},1)})}},function(t,e,n){t.exports=n(228)},function(t,e,n){function r(e){"@babel/helpers - typeof";return t.exports=r="function"==typeof i&&"symbol"==typeof o?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}var i=n(229),o=n(431);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(5);e.f=r},function(t,e,n){t.exports=n(475)},function(t,e,n){t.exports=n(235)},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(55);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(20),i=n(3),o=n(113);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(3),i=n(8),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==f||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(20),i=n(3);t.exports=r&&i(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},function(t,e,n){var r=n(3);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(4),i=n(13),o=n(35),a=n(115).indexOf,s=n(93),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,f=[];for(n in r)!i(s,n)&&i(r,n)&&u(f,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(f,n)||u(f,n));return f}},function(t,e,n){var r=n(20),i=n(149),o=n(34),a=n(21),s=n(35),u=n(120);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=u(e),c=i.length,f=0;c>f;)o.f(t,n=i[f++],r[n]);return t}},function(t,e,n){var r=n(18);t.exports=r("document","documentElement")},function(t,e,n){var r=n(5),i=n(46),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r=n(11),i=n(28),o=n(21),a=n(57),s=n(94),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw u(a(t)+" is not iterable")}},function(t,e,n){var r=n(11),i=n(21),o=n(110);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(32),a=n(158),s=n(8),u=n(265),c=n(90),f=n(92),l=n(61),d=n(39),h=n(48),p=n(5),v=n(46),_=n(159),y=a.PROPER,b=a.CONFIGURABLE,g=_.IteratorPrototype,m=_.BUGGY_SAFARI_ITERATORS,O=p("iterator"),w=function(){return this};t.exports=function(t,e,n,a,p,_,x){u(n,e,a);var j,A,S,E=function(t){if(t===p&&k)return k;if(!m&&t in N)return N[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",T=!1,N=t.prototype,I=N[O]||N["@@iterator"]||p&&N[p],k=!m&&I||E(p),U="Array"==e?N.entries||I:I;if(U&&(j=c(U.call(new t)))!==Object.prototype&&j.next&&(o||c(j)===g||(f?f(j,g):s(j[O])||h(j,O,w)),l(j,C,!0,!0),o&&(v[C]=w)),y&&"values"==p&&I&&"values"!==I.name&&(!o&&b?d(N,"name","values"):(T=!0,k=function(){return i(I,this)})),p)if(A={values:E("values"),keys:_?k:E("keys"),entries:E("entries")},x)for(S in A)!m&&!T&&S in N||h(N,S,A[S]);else r({target:e,proto:!0,forced:m||T},A);return o&&!x||N[O]===k||h(N,O,k,{name:p}),v[e]=k,A}},function(t,e,n){var r=n(20),i=n(13),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},function(t,e,n){"use strict";var r,i,o,a=n(3),s=n(8),u=n(59),c=n(90),f=n(48),l=n(5),d=n(32),h=l("iterator"),p=!1;[].keys&&(o=[].keys(),"next"in o?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),void 0==r||a(function(){var t={};return r[h].call(t)!==t})?r={}:d&&(r=u(r)),s(r[h])||f(r,h,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(21),i=n(161),o=n(5),a=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},function(t,e,n){var r=n(98),i=n(57),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a constructor")}},function(t,e,n){var r,i,o,a,s=n(9),u=n(71),c=n(58),f=n(8),l=n(13),d=n(3),h=n(153),p=n(99),v=n(113),_=n(271),y=n(163),b=n(97),g=s.setImmediate,m=s.clearImmediate,O=s.process,w=s.Dispatch,x=s.Function,j=s.MessageChannel,A=s.String,S=0,E={};try{r=s.location}catch(t){}var C=function(t){if(l(E,t)){var e=E[t];delete E[t],e()}},T=function(t){return function(){C(t)}},N=function(t){C(t.data)},I=function(t){s.postMessage(A(t),r.protocol+"//"+r.host)};g&&m||(g=function(t){_(arguments.length,1);var e=f(t)?t:x(t),n=p(arguments,1);return E[++S]=function(){u(e,void 0,n)},i(S),S},m=function(t){delete E[t]},b?i=function(t){O.nextTick(T(t))}:w&&w.now?i=function(t){w.now(T(t))}:j&&!y?(o=new j,a=o.port2,o.port1.onmessage=N,i=c(a.postMessage,a)):s.addEventListener&&f(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(I)?(i=I,s.addEventListener("message",N,!1)):i="onreadystatechange"in v("script")?function(t){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),C(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:g,clear:m}},function(t,e,n){var r=n(45);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){var r=n(62),i=n(165),o=n(78).CONSTRUCTOR;t.exports=o||!i(function(t){r.all(t).then(void 0,function(){})})},function(t,e,n){var r=n(5),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r=n(21),i=n(17),o=n(49);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";function r(t){return void 0===t}e.a=r},function(t,e,n){"use strict";function r(t){return!0===t||!1===t||"[object Boolean]"===i.t.call(t)}e.a=r;var i=n(6)},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("Number")},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("Symbol")},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("ArrayBuffer")},function(t,e,n){"use strict";function r(t){return Object(o.a)(t)&&Object(i.g)(t)}e.a=r;var i=n(6),o=n(169)},function(t,e,n){"use strict";function r(t){return i.l?Object(i.l)(t)&&!Object(o.a)(t):Object(s.a)(t)&&u.test(i.t.call(t))}var i=n(6),o=n(126),a=n(174),s=n(296),u=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;e.a=i.r?r:Object(a.a)(!1)},function(t,e,n){"use strict";function r(t){return function(){return t}}e.a=r},function(t,e,n){"use strict";function r(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=i.b}}e.a=r;var i=n(6)},function(t,e,n){"use strict";function r(t){return function(e){return null==e?void 0:e[t]}}e.a=r},function(t,e,n){"use strict";function r(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}function i(t,e){e=r(e);var n=o.n.length,i=t.constructor,u=Object(a.a)(i)&&i.prototype||o.c,c="constructor";for(Object(s.a)(t,c)&&!e.contains(c)&&e.push(c);n--;)(c=o.n[n])in t&&t[c]!==u[c]&&!e.contains(c)&&e.push(c)}e.a=i;var o=n(6),a=n(29),s=n(41)},function(t,e,n){"use strict";function r(t,e){var n=Object(i.a)(e),r=n.length;if(null==t)return!r;for(var o=Object(t),a=0;a<r;a++){var s=n[a];if(e[s]!==o[s]||!(s in o))return!1}return!0}e.a=r;var i=n(14)},function(t,e,n){"use strict";function r(t){for(var e={},n=Object(i.a)(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}e.a=r;var i=n(14)},function(t,e,n){"use strict";function r(t){var e=[];for(var n in t)Object(i.a)(t[n])&&e.push(n);return e.sort()}e.a=r;var i=n(29)},function(t,e,n){"use strict";var r=n(130),i=n(81);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";var r=n(130),i=n(81);e.a=Object(r.a)(i.a,!0)},function(t,e,n){"use strict";function r(){return function(){}}function i(t){if(!Object(o.a)(t))return{};if(a.j)return Object(a.j)(t);var e=r();e.prototype=t;var n=new e;return e.prototype=null,n}e.a=i;var o=n(50),a=n(6)},function(t,e,n){"use strict";function r(t){return Object(i.a)(t)?Object(o.a)(t)?t.slice():Object(a.a)({},t):t}e.a=r;var i=n(50),o=n(51),a=n(181)},function(t,e,n){"use strict";function r(t,e,n){var r=Object(o.a)(t,Object(i.a)(e));return Object(a.a)(r)?n:r}e.a=r;var i=n(82),o=n(132),a=n(167)},function(t,e,n){"use strict";function r(t){return Object(o.a)(t)?t:[t]}e.a=r;var i=n(23),o=n(51);i.a.toPath=r},function(t,e,n){"use strict";function r(t,e,n){return null==t?i.a:Object(o.a)(t)?Object(f.a)(t,e,n):Object(a.a)(t)&&!Object(s.a)(t)?Object(u.a)(t):Object(c.a)(t)}e.a=r;var i=n(133),o=n(29),a=n(50),s=n(51),u=n(100),c=n(134),f=n(83)},function(t,e,n){"use strict";function r(t,e){return Object(o.a)(t,e,1/0)}e.a=r;var i=n(23),o=n(187);i.a.iteratee=r},function(t,e,n){"use strict";function r(){}e.a=r},function(t,e,n){"use strict";function r(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}e.a=r},function(t,e,n){"use strict";function r(t){var e=function(e){return t[e]},n="(?:"+Object(i.a)(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}e.a=r;var i=n(14)},function(t,e,n){"use strict";e.a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},function(t,e,n){"use strict";var r=n(23);e.a=r.a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}},function(t,e,n){"use strict";function r(t,e,n,r,a){if(!(r instanceof e))return t.apply(n,a);var s=Object(i.a)(t.prototype),u=t.apply(s,a);return Object(o.a)(u)?u:s}e.a=r;var i=n(183),o=n(50)},function(t,e,n){"use strict";var r=n(22),i=n(29),o=n(194);e.a=Object(r.a)(function(t,e,n){if(!Object(i.a)(t))throw new TypeError("Bind must be called on a function");var a=Object(r.a)(function(r){return Object(o.a)(t,a,e,this,n.concat(r))});return a})},function(t,e,n){"use strict";var r=n(22);e.a=Object(r.a)(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)})},function(t,e,n){"use strict";function r(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}e.a=r},function(t,e,n){"use strict";function r(t,e,n){e=Object(i.a)(e,n);for(var r,a=Object(o.a)(t),s=0,u=a.length;s<u;s++)if(r=a[s],e(t[r],r,t))return r}e.a=r;var i=n(19),o=n(14)},function(t,e,n){"use strict";function r(t){return function(e,n,r){n=Object(i.a)(n,r);for(var a=Object(o.a)(e),s=t>0?0:a-1;s>=0&&s<a;s+=t)if(n(e[s],s,e))return s;return-1}}e.a=r;var i=n(19),o=n(30)},function(t,e,n){"use strict";var r=n(199);e.a=Object(r.a)(-1)},function(t,e,n){"use strict";function r(t,e,n,r){n=Object(i.a)(n,r,1);for(var a=n(e),s=0,u=Object(o.a)(t);s<u;){var c=Math.floor((s+u)/2);n(t[c])<a?s=c+1:u=c}return s}e.a=r;var i=n(19),o=n(30)},function(t,e,n){"use strict";var r=n(201),i=n(137),o=n(203);e.a=Object(o.a)(1,i.a,r.a)},function(t,e,n){"use strict";function r(t,e,n){return function(r,s,u){var c=0,f=Object(i.a)(r);if("number"==typeof u)t>0?c=u>=0?u:Math.max(u+f,c):f=u>=0?Math.min(u+1,f):u+f+1;else if(n&&u&&f)return u=n(r,s),r[u]===s?u:-1;if(s!==s)return u=e(o.q.call(r,c,f),a.a),u>=0?u+c:-1;for(u=t>0?c:f-1;u>=0&&u<f;u+=t)if(r[u]===s)return u;return-1}}e.a=r;var i=n(30),o=n(6),a=n(172)},function(t,e,n){"use strict";function r(t,e,n){var r=Object(i.a)(t)?o.a:a.a,s=r(t,e,n);if(void 0!==s&&-1!==s)return t[s]}e.a=r;var i=n(24),o=n(137),a=n(198)},function(t,e,n){"use strict";function r(t){var e=function(e,n,r,a){var s=!Object(i.a)(e)&&Object(o.a)(e),u=(s||e).length,c=t>0?0:u-1;for(a||(r=e[s?s[c]:c],c+=t);c>=0&&c<u;c+=t){var f=s?s[c]:c;r=n(r,e[f],f,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,Object(a.a)(n,i,4),r,o)}}e.a=r;var i=n(24),o=n(14),a=n(83)},function(t,e,n){"use strict";function r(t,e,n){var r,u,c=-1/0,f=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=Object(i.a)(t)?t:Object(o.a)(t);for(var l=0,d=t.length;l<d;l++)null!=(r=t[l])&&r>c&&(c=r)}else e=Object(a.a)(e,n),Object(s.a)(t,function(t,n,r){((u=e(t,n,r))>f||u===-1/0&&c===-1/0)&&(c=t,f=u)});return c}e.a=r;var i=n(24),o=n(64),a=n(19),s=n(52)},function(t,e,n){"use strict";function r(t,e,n){if(null==e||n)return Object(i.a)(t)||(t=Object(a.a)(t)),t[Object(u.a)(t.length-1)];var r=Object(i.a)(t)?Object(o.a)(t):Object(a.a)(t),c=Object(s.a)(r);e=Math.max(Math.min(e,c),0);for(var f=c-1,l=0;l<e;l++){var d=Object(u.a)(l,f),h=r[l];r[l]=r[d],r[d]=h}return r.slice(0,e)}e.a=r;var i=n(24),o=n(184),a=n(64),s=n(30),u=n(190)},function(t,e,n){"use strict";var r=n(22),i=n(29),o=n(83),a=n(81),s=n(345),u=n(65);e.a=Object(r.a)(function(t,e){var n={},r=e[0];if(null==t)return n;Object(i.a)(r)?(e.length>1&&(r=Object(o.a)(r,e[1])),e=Object(a.a)(t)):(r=s.a,e=Object(u.a)(e,!1,!1),t=Object(t));for(var c=0,f=e.length;c<f;c++){var l=e[c],d=t[l];r(d,l,t)&&(n[l]=d)}return n})},function(t,e,n){"use strict";function r(t,e,n){return i.q.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}e.a=r;var i=n(6)},function(t,e,n){"use strict";function r(t,e,n){return i.q.call(t,null==e||n?1:e)}e.a=r;var i=n(6)},function(t,e,n){"use strict";var r=n(22),i=n(65),o=n(84),a=n(85);e.a=Object(r.a)(function(t,e){return e=Object(i.a)(e,!0,!0),Object(o.a)(t,function(t){return!Object(a.a)(e,t)})})},function(t,e,n){"use strict";function r(t,e,n,r){Object(i.a)(e)||(r=n,n=e,e=!1),null!=n&&(n=Object(o.a)(n,r));for(var u=[],c=[],f=0,l=Object(a.a)(t);f<l;f++){var d=t[f],h=n?n(d,f,t):d;e&&!n?(f&&c===h||u.push(d),c=h):n?Object(s.a)(c,h)||(c.push(h),u.push(d)):Object(s.a)(u,d)||u.push(d)}return u}e.a=r;var i=n(168),o=n(19),a=n(30),s=n(85)},function(t,e,n){"use strict";function r(t){for(var e=t&&Object(i.a)(t,o.a).length||0,n=Array(e),r=0;r<e;r++)n[r]=Object(a.a)(t,r);return n}e.a=r;var i=n(206),o=n(30),a=n(138)},function(t,e,n){"use strict";function r(t,e){return t._chain?Object(i.a)(e).chain():e}e.a=r;var i=n(23)},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(86),a=n(17),s=n(33),u=n(36),c=n(363),f=n(103),l=n(216),d=n(104),h=n(5),p=n(56),v=h("isConcatSpreadable"),_=p>=51||!i(function(){var t=[];return t[v]=!1,t.concat()[0]!==t}),y=d("concat"),b=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!_||!y},{concat:function(t){var e,n,r,i,o,a=s(this),d=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],b(o))for(i=u(o),c(h+i),n=0;n<i;n++,h++)n in o&&f(d,h,o[n]);else c(h+1),f(d,h++,o);return d.length=h,d}})},function(t,e,n){var r=n(364);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){t.exports=n(369)},function(t,e,n){var r=n(0),i=n(18),o=n(71),a=n(11),s=n(4),u=n(3),c=n(86),f=n(8),l=n(17),d=n(89),h=n(99),p=n(55),v=i("JSON","stringify"),_=s(/./.exec),y=s("".charAt),b=s("".charCodeAt),g=s("".replace),m=s(1..toString),O=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,j=!p||u(function(){var t=i("Symbol")();return"[null]"!=v([t])||"{}"!=v({a:t})||"{}"!=v(Object(t))}),A=u(function(){return'"\\udf06\\ud834"'!==v("��")||'"\\udead"'!==v("�")}),S=function(t,e){var n=h(arguments),r=e;if((l(e)||void 0!==t)&&!d(t))return c(e)||(e=function(t,e){if(f(r)&&(e=a(r,this,t,e)),!d(e))return e}),n[1]=e,o(v,null,n)},E=function(t,e,n){var r=y(n,e-1),i=y(n,e+1);return _(w,t)&&!_(x,i)||_(x,t)&&!_(w,r)?"\\u"+m(b(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:j||A},{stringify:function(t,e,n){var r=h(arguments),i=o(j?S:v,null,r);return A&&"string"==typeof i?g(i,O,E):i}})},function(t,e,n){function r(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[r+s]=a[s];return e||o(a)}var i=n(381),o=n(382);t.exports=r},function(t,e,n){t.exports=n(221)},function(t,e,n){var r=n(385);t.exports=r},function(t,e,n){"use strict";t.exports="4.14.0"},function(t,e,n){"use strict";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},o.prototype.emit=function(t,e,n,r,i,o){var a=s?s+t:t;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,o),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var d,h=f.length;for(c=0;c<h;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];f[c].fn.apply(f[c].context,u)}}return!0},o.prototype.on=function(t,e,n){var r=new i(e,n||this),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,i){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,t.exports=o},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(70),a=o.getAdapter,s=["getItem","setItem","removeItem","clear"],u={get async(){return a("storage").async}};s.forEach(function(t){u[t+"Async"]=function(){var e=a("storage");return i.default.resolve(e[t].apply(e,arguments))},u[t]=function(){var e=a("storage");if(!e.async)return e[t].apply(e,arguments);var n=new Error("Synchronous API ["+t+"] is not available in this runtime.");throw n.code="SYNC_API_NOT_AVAILABLE",n}}),t.exports=u},function(t,e,n){"use strict";var r=n(1),i=r(n(25)),o=r(n(37)),a=n(224),s=n(67),u=e.removeAsync=a.removeItemAsync.bind(a),c=function(t,e){try{t=JSON.parse(t)}catch(t){return null}if(t){return t.expiredAt&&t.expiredAt<Date.now()?u(e).then(function(){return null}):t.value}return null};e.getAsync=function(t){var e;return t=(0,i.default)(e="AV/".concat(s.applicationId,"/")).call(e,t),a.getItemAsync(t).then(function(e){return c(e,t)})},e.setAsync=function(t,e,n){var r,u={value:e};return"number"==typeof n&&(u.expiredAt=Date.now()+n),a.setItemAsync((0,i.default)(r="AV/".concat(s.applicationId,"/")).call(r,t),(0,o.default)(u))}},function(t,e,n){var r=n(388);t.exports=r},function(t,e,n){var r=n(391);t.exports=r},function(t,e,n){var r=n(394);t.exports=r},function(t,e,n){t.exports=n(397)},function(t,e,n){var r=n(400);n(63),t.exports=r},function(t,e,n){var r=n(116),i=n(36),o=n(103),a=Array,s=Math.max;t.exports=function(t,e,n){for(var u=i(t),c=r(e,u),f=r(void 0===n?u:n,u),l=a(s(f-c,0)),d=0;c<f;c++,d++)o(l,d,t[c]);return l.length=d,l}},function(t,e,n){var r=n(11),i=n(18),o=n(5),a=n(48);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,function(t){return r(n,this)},{arity:1})}},function(t,e,n){var r=n(55);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(t,e,n){n(7)("iterator")},function(t,e,n){var r=n(435);n(63),t.exports=r},function(t,e,n){t.exports=n(237)},function(t,e,n){var r=n(454);t.exports=r},function(t,e,n){t.exports=n(458)},function(t,e,n){"use strict";var r=n(4),i=n(28),o=n(17),a=n(13),s=n(99),u=n(72),c=Function,f=r([].concat),l=r([].join),d={},h=function(t,e,n){if(!a(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=c("C,a","return new C("+l(r,",")+")")}return d[e](t,n)};t.exports=u?c.bind:function(t){var e=i(this),n=e.prototype,r=s(arguments,1),a=function(){var n=f(r,s(arguments));return this instanceof a?h(e,n.length,n):e.apply(t,n)};return o(n)&&(a.prototype=n),a}},function(t,e,n){t.exports=n(479)},function(t,e,n){t.exports=n(482)},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof a.default&&"symbol"==typeof s.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t})(t)}function i(t){return null!==t&&"object"===r(t)}var o=n(1),a=o(n(87)),s=o(n(144));t.exports=i},function(t,e,n){"use strict";var r=n(246),i=n(544);t.exports=i(r)},function(t,e,n){"use strict";t.exports=n(247)},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(2),a=n(67);a._=o,a.version=n(222),a.Promise=i.default,a.localStorage=n(224),a.Cache=n(225),a.Error=n(43),n(390),n(442)(a),n(443)(a),n(444)(a),n(445)(a),n(450)(a),n(451)(a),n(504)(a),n(530)(a),n(531)(a),n(533)(a),n(534)(a),n(535)(a),n(536)(a),n(537)(a),n(538)(a),n(539)(a),n(540)(a),n(541)(a),a.Conversation=n(542),n(543),t.exports=a},function(t,e,n){var r=n(249);n(63),t.exports=r},function(t,e,n){n(250),n(60),n(96),n(267),n(283),n(284),n(285),n(79);var r=n(15);t.exports=r.Promise},function(t,e,n){n(251)},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(90),a=n(92),s=n(256),u=n(59),c=n(39),f=n(44),l=n(260),d=n(261),h=n(76),p=n(262),v=n(5),_=n(263),y=v("toStringTag"),b=Error,g=[].push,m=function(t,e){var n,r=arguments.length>2?arguments[2]:void 0,s=i(O,this);a?n=a(new b,s?o(this):O):(n=s?this:u(O),c(n,y,"Error")),void 0!==e&&c(n,"message",p(e)),_&&c(n,"stack",l(n.stack,1)),d(n,r);var f=[];return h(t,g,{that:f}),c(n,"errors",f),n};a?a(m,b):s(m,b,{name:!0});var O=m.prototype=u(b.prototype,{constructor:f(1,m),message:f(1,""),name:f(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:m})},function(t,e,n){var r=n(11),i=n(17),o=n(89),a=n(110),s=n(253),u=n(5),c=TypeError,f=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,u=a(t,f);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},function(t,e,n){var r=n(11),i=n(8),o=n(17),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},function(t,e,n){var r=n(9),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(8),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},function(t,e,n){var r=n(13),i=n(257),o=n(73),a=n(34);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,f=0;f<s.length;f++){var l=s[f];r(t,l)||n&&r(n,l)||u(t,l,c(e,l))}}},function(t,e,n){var r=n(18),i=n(4),o=n(114),a=n(119),s=n(21),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?r:n)(e)}},function(t,e,n){var r=n(117),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(4),i=Error,o=r("".replace),a=function(t){return String(i("zxcasd").stack)}(),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,s,"");return t}},function(t,e,n){var r=n(17),i=n(39);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},function(t,e,n){var r=n(40);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},function(t,e,n){var r=n(3),i=n(44);t.exports=!r(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)})},function(t,e,n){var r=n(9),i=n(8),o=n(123),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},function(t,e,n){"use strict";var r=n(159).IteratorPrototype,i=n(59),o=n(44),a=n(61),s=n(46),u=function(){return this};t.exports=function(t,e,n,c){var f=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,f,!1,!0),s[f]=u,t}},function(t,e,n){"use strict";var r=n(121),i=n(47);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){n(268),n(278),n(279),n(280),n(281),n(282)},function(t,e,n){"use strict";var r,i,o,a=n(0),s=n(32),u=n(97),c=n(9),f=n(11),l=n(48),d=n(92),h=n(61),p=n(269),v=n(28),_=n(8),y=n(17),b=n(270),g=n(160),m=n(162).set,O=n(272),w=n(275),x=n(77),j=n(276),A=n(95),S=n(62),E=n(78),C=n(49),T=E.CONSTRUCTOR,N=E.REJECTION_EVENT,I=E.SUBCLASSING,k=A.getterFor("Promise"),U=A.set,P=S&&S.prototype,R=S,D=P,L=c.TypeError,M=c.document,q=c.process,F=C.f,W=F,B=!!(M&&M.createEvent&&c.dispatchEvent),Q=function(t){var e;return!(!y(t)||!_(e=t.then))&&e},V=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2===e.rejection&&H(e),e.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===t.promise?c(L("Promise-chain cycle")):(r=Q(n))?f(r,n,u,c):u(n)):c(o)}catch(t){l&&!i&&l.exit(),c(t)}},K=function(t,e){t.notified||(t.notified=!0,O(function(){for(var n,r=t.reactions;n=r.get();)V(n,t);t.notified=!1,e&&!t.rejection&&J(t)}))},z=function(t,e,n){var r,i;B?(r=M.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!N&&(i=c["on"+t])?i(r):"unhandledrejection"===t&&w("Unhandled promise rejection",n)},J=function(t){f(m,c,function(){var e,n=t.facade,r=t.value,i=G(t);if(i&&(e=x(function(){u?q.emit("unhandledRejection",r,n):z("unhandledrejection",n,r)}),t.rejection=u||G(t)?2:1,e.error))throw e.value})},G=function(t){return 1!==t.rejection&&!t.parent},H=function(t){f(m,c,function(){var e=t.facade;u?q.emit("rejectionHandled",e):z("rejectionhandled",e,t.value)})},$=function(t,e,n){return function(r){t(e,r,n)}},X=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},Y=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw L("Promise can't be resolved itself");var r=Q(e);r?O(function(){var n={done:!1};try{f(r,e,$(Y,n,t),$(X,n,t))}catch(e){X(n,e,t)}}):(t.value=e,t.state=1,K(t,!1))}catch(e){X({done:!1},e,t)}}};if(T&&(R=function(t){b(this,D),v(t),f(r,this);var e=k(this);try{t($(Y,e),$(X,e))}catch(t){X(e,t)}},D=R.prototype,r=function(t){U(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:void 0})},r.prototype=l(D,"then",function(t,e){var n=k(this),r=F(g(this,R));return n.parent=!0,r.ok=!_(t)||t,r.fail=_(e)&&e,r.domain=u?q.domain:void 0,0==n.state?n.reactions.add(r):O(function(){V(r,n)}),r.promise}),i=function(){var t=new r,e=k(t);this.promise=t,this.resolve=$(Y,e),this.reject=$(X,e)},C.f=F=function(t){return t===R||void 0===t?new i(t):W(t)},!s&&_(S)&&P!==Object.prototype)){o=P.then,I||l(P,"then",function(t,e){var n=this;return new R(function(t,e){f(o,n,t,e)}).then(t,e)},{unsafe:!0});try{delete P.constructor}catch(t){}d&&d(P,D)}a({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:R}),h(R,"Promise",!1,!0),p("Promise")},function(t,e,n){"use strict";var r=n(18),i=n(34),o=n(5),a=n(20),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(12),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},function(t,e){var n=TypeError;t.exports=function(t,e){if(t<e)throw n("Not enough arguments");return t}},function(t,e,n){var r,i,o,a,s,u,c,f,l=n(9),d=n(58),h=n(73).f,p=n(162).set,v=n(163),_=n(273),y=n(274),b=n(97),g=l.MutationObserver||l.WebKitMutationObserver,m=l.document,O=l.process,w=l.Promise,x=h(l,"queueMicrotask"),j=x&&x.value;j||(r=function(){var t,e;for(b&&(t=O.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},v||b||y||!g||!m?!_&&w&&w.resolve?(c=w.resolve(void 0),c.constructor=w,f=d(c.then,c),a=function(){f(r)}):b?a=function(){O.nextTick(r)}:(p=d(p,l),a=function(){p(r)}):(s=!0,u=m.createTextNode(""),new g(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=j||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(45),i=n(9);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(t,e,n){var r=n(45);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(9);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=n},function(t,e){t.exports="object"==typeof window&&"object"!=typeof Deno},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(28),a=n(49),s=n(77),u=n(76);r({target:"Promise",stat:!0,forced:n(164)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,f=s(function(){var n=o(e.resolve),a=[],s=0,f=1;u(t,function(t){var o=s++,u=!1;f++,i(n,e,t).then(function(t){u||(u=!0,a[o]=t,--f||r(a))},c)}),--f||r(a)});return f.error&&c(f.value),n.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(32),o=n(78).CONSTRUCTOR,a=n(62),s=n(18),u=n(8),c=n(48),f=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(a)){var l=s("Promise").prototype.catch;f.catch!==l&&c(f,"catch",l,{unsafe:!0})}},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(28),a=n(49),s=n(77),u=n(76);r({target:"Promise",stat:!0,forced:n(164)},{race:function(t){var e=this,n=a.f(e),r=n.reject,c=s(function(){var a=o(e.resolve);u(t,function(t){i(a,e,t).then(n.resolve,r)})});return c.error&&r(c.value),n.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(49);r({target:"Promise",stat:!0,forced:n(78).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(18),o=n(32),a=n(62),s=n(78).CONSTRUCTOR,u=n(166),c=i("Promise"),f=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return u(f&&this===c?a:this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(28),a=n(49),s=n(77),u=n(76);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,f=s(function(){var n=o(e.resolve),a=[],s=0,c=1;u(t,function(t){var o=s++,u=!1;c++,i(n,e,t).then(function(t){u||(u=!0,a[o]={status:"fulfilled",value:t},--c||r(a))},function(t){u||(u=!0,a[o]={status:"rejected",reason:t},--c||r(a))})}),--c||r(a)});return f.error&&c(f.value),n.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(11),o=n(28),a=n(18),s=n(49),u=n(77),c=n(76);r({target:"Promise",stat:!0},{any:function(t){var e=this,n=a("AggregateError"),r=s.f(e),f=r.resolve,l=r.reject,d=u(function(){var r=o(e.resolve),a=[],s=0,u=1,d=!1;c(t,function(t){var o=s++,c=!1;u++,i(r,e,t).then(function(t){c||d||(d=!0,f(t))},function(t){c||d||(c=!0,a[o]=t,--u||l(new n(a,"No one promise resolved")))})}),--u||l(new n(a,"No one promise resolved"))});return d.error&&l(d.value),r.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(32),o=n(62),a=n(3),s=n(18),u=n(8),c=n(160),f=n(166),l=n(48),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){d.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=c(this,s("Promise")),n=u(t);return this.then(n?function(n){return f(e,t()).then(function(){return n})}:t,n?function(n){return f(e,t()).then(function(){throw n})}:t)}}),!i&&u(o)){var h=s("Promise").prototype.finally;d.finally!==h&&l(d,"finally",h,{unsafe:!0})}},function(t,e,n){var r=n(4),i=n(117),o=n(40),a=n(74),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),f=function(t){return function(e,n){var r,f,l=o(a(e)),d=i(n),h=l.length;return d<0||d>=h?t?"":void 0:(r=u(l,d),r<55296||r>56319||d+1===h||(f=u(l,d+1))<56320||f>57343?t?s(l,d):r:t?c(l,d,d+2):f-56320+(r-55296<<10)+65536)}};t.exports={codeAt:f(!1),charAt:f(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(124),i=Object(r.mixin)(r);i._=i,e.a=i},function(t,e,n){"use strict";function r(t){return null===t}e.a=r},function(t,e,n){"use strict";function r(t){return!(!t||1!==t.nodeType)}e.a=r},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("Date")},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("RegExp")},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("Error")},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("Object")},function(t,e,n){"use strict";function r(t){return!Object(o.a)(t)&&Object(i.f)(t)&&!isNaN(parseFloat(t))}e.a=r;var i=n(6),o=n(170)},function(t,e,n){"use strict";var r=n(175),i=n(128);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";function r(t){if(null==t)return!0;var e=Object(i.a)(t);return"number"==typeof e&&(Object(o.a)(t)||Object(a.a)(t)||Object(s.a)(t))?0===e:0===Object(i.a)(Object(u.a)(t))}e.a=r;var i=n(30),o=n(51),a=n(125),s=n(127),u=n(14)},function(t,e,n){"use strict";function r(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&i(t,e,n,r)}function i(t,e,n,o){t instanceof a.a&&(t=t._wrapped),e instanceof a.a&&(e=e._wrapped);var y=s.t.call(t);if(y!==s.t.call(e))return!1;if(l.a&&"[object Object]"==y&&Object(d.a)(t)){if(!Object(d.a)(e))return!1;y=_}switch(y){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return s.d.valueOf.call(t)===s.d.valueOf.call(e);case"[object ArrayBuffer]":case _:return i(Object(v.a)(t),Object(v.a)(e),n,o)}var b="[object Array]"===y;if(!b&&Object(c.a)(t)){if(Object(u.a)(t)!==Object(u.a)(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;b=!0}if(!b){if("object"!=typeof t||"object"!=typeof e)return!1;var g=t.constructor,m=e.constructor;if(g!==m&&!(Object(f.a)(g)&&g instanceof g&&Object(f.a)(m)&&m instanceof m)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],o=o||[];for(var O=n.length;O--;)if(n[O]===t)return o[O]===e;if(n.push(t),o.push(e),b){if((O=t.length)!==e.length)return!1;for(;O--;)if(!r(t[O],e[O],n,o))return!1}else{var w,x=Object(h.a)(t);if(O=x.length,Object(h.a)(e).length!==O)return!1;for(;O--;)if(w=x[O],!Object(p.a)(e,w)||!r(t[w],e[w],n,o))return!1}return n.pop(),o.pop(),!0}function o(t,e){return r(t,e)}e.a=o;var a=n(23),s=n(6),u=n(128),c=n(173),f=n(29),l=n(80),d=n(126),h=n(14),p=n(41),v=n(299),_="[object DataView]"},function(t,e,n){"use strict";function r(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Object(i.a)(t))}e.a=r;var i=n(128)},function(t,e,n){"use strict";var r=n(16),i=n(80),o=n(129);e.a=i.b?Object(o.a)(o.b):Object(r.a)("Map")},function(t,e,n){"use strict";var r=n(16),i=n(80),o=n(129);e.a=i.b?Object(o.a)(o.d):Object(r.a)("WeakMap")},function(t,e,n){"use strict";var r=n(16),i=n(80),o=n(129);e.a=i.b?Object(o.a)(o.c):Object(r.a)("Set")},function(t,e,n){"use strict";var r=n(16);e.a=Object(r.a)("WeakSet")},function(t,e,n){"use strict";function r(t){for(var e=Object(i.a)(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r}e.a=r;var i=n(14)},function(t,e,n){"use strict";function r(t,e){var n=Object(i.a)(t);return e&&Object(o.a)(n,e),n}e.a=r;var i=n(183),o=n(131)},function(t,e,n){"use strict";function r(t,e){return e(t),t}e.a=r},function(t,e,n){"use strict";function r(t,e){e=Object(o.a)(e);for(var n=e.length,r=0;r<n;r++){var a=e[r];if(!Object(i.a)(t,a))return!1;t=t[a]}return!!n}e.a=r;var i=n(41),o=n(82)},function(t,e,n){"use strict";function r(t,e,n){e=Object(i.a)(e,n);for(var r=Object(o.a)(t),a=r.length,s={},u=0;u<a;u++){var c=r[u];s[c]=e(t[c],c,t)}return s}e.a=r;var i=n(19),o=n(14)},function(t,e,n){"use strict";function r(t){return null==t?i.a:function(e){return Object(o.a)(t,e)}}e.a=r;var i=n(189),o=n(185)},function(t,e,n){"use strict";function r(t,e,n){var r=Array(Math.max(0,t));e=Object(i.a)(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r}e.a=r;var i=n(83)},function(t,e,n){"use strict";var r=n(191),i=n(192);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";var r=n(191),i=n(313);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";var r=n(179),i=n(192);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";function r(t){return"\\"+u[t]}function i(t,e,n){!e&&n&&(e=n),e=Object(o.a)({},e,a.a.templateSettings);var i=RegExp([(e.escape||s).source,(e.interpolate||s).source,(e.evaluate||s).source].join("|")+"|$","g"),u=0,l="__p+='";t.replace(i,function(e,n,i,o,a){return l+=t.slice(u,a).replace(c,r),u=a+e.length,n?l+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?l+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(l+="';\n"+o+"\n__p+='"),e}),l+="';\n";var d=e.variable;if(d){if(!f.test(d))throw new Error(d)}else l="with(obj||{}){\n"+l+"}\n",d="obj";l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";var h;try{h=new Function(d,"_",l)}catch(t){throw t.source=l,t}var p=function(t){return h.call(this,t,a.a)};return p.source="function("+d+"){\n"+l+"}",p}e.a=i;var o=n(182),a=n(23),s=(n(193),/(.)^/),u={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},c=/\\|'|\r|\n|\u2028|\u2029/g,f=/^\s*(\w|\$)+\s*$/},function(t,e,n){"use strict";function r(t,e,n){e=Object(o.a)(e);var r=e.length;if(!r)return Object(i.a)(n)?n.call(t):n;for(var a=0;a<r;a++){var s=null==t?void 0:t[e[a]];void 0===s&&(s=n,a=r),t=Object(i.a)(s)?s.call(t):s}return t}e.a=r;var i=n(29),o=n(82)},function(t,e,n){"use strict";function r(t){var e=++i+"";return t?t+e:e}e.a=r;var i=0},function(t,e,n){"use strict";function r(t){var e=Object(i.a)(t);return e._chain=!0,e}e.a=r;var i=n(23)},function(t,e,n){"use strict";var r=n(22),i=n(65),o=n(195);e.a=Object(r.a)(function(t,e){e=Object(i.a)(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Object(o.a)(t[r],t)}return t})},function(t,e,n){"use strict";function r(t,e){var n=function(r){var o=n.cache,a=""+(e?e.apply(this,arguments):r);return Object(i.a)(o,a)||(o[a]=t.apply(this,arguments)),o[a]};return n.cache={},n}e.a=r;var i=n(41)},function(t,e,n){"use strict";var r=n(101),i=n(196),o=n(23);e.a=Object(r.a)(i.a,o.a,1)},function(t,e,n){"use strict";function r(t,e,n){var r,o,a,s,u=0;n||(n={});var c=function(){u=!1===n.leading?0:Object(i.a)(),r=null,s=t.apply(o,a),r||(o=a=null)},f=function(){var f=Object(i.a)();u||!1!==n.leading||(u=f);var l=e-(f-u);return o=this,a=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),u=f,s=t.apply(o,a),r||(o=a=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return f.cancel=function(){clearTimeout(r),u=0,r=o=a=null},f}e.a=r;var i=n(135)},function(t,e,n){"use strict";function r(t,e,n){var r,a,s,u,c,f=function(){var i=Object(o.a)()-a;e>i?r=setTimeout(f,e-i):(r=null,n||(u=t.apply(c,s)),r||(s=c=null))},l=Object(i.a)(function(i){return c=this,s=i,a=Object(o.a)(),r||(r=setTimeout(f,e),n&&(u=t.apply(c,s))),u});return l.cancel=function(){clearTimeout(r),r=s=c=null},l}e.a=r;var i=n(22),o=n(135)},function(t,e,n){"use strict";function r(t,e){return Object(i.a)(e,t)}e.a=r;var i=n(101)},function(t,e,n){"use strict";function r(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}e.a=r},function(t,e,n){"use strict";function r(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}e.a=r},function(t,e,n){"use strict";var r=n(101),i=n(197);e.a=Object(r.a)(i.a,2)},function(t,e,n){"use strict";var r=n(200),i=n(203);e.a=Object(i.a)(-1,r.a)},function(t,e,n){"use strict";function r(t,e){return Object(i.a)(t,Object(o.a)(e))}e.a=r;var i=n(204),o=n(100)},function(t,e,n){"use strict";var r=n(205);e.a=Object(r.a)(1)},function(t,e,n){"use strict";var r=n(205);e.a=Object(r.a)(-1)},function(t,e,n){"use strict";function r(t,e,n){return Object(i.a)(t,Object(o.a)(Object(a.a)(e)),n)}e.a=r;var i=n(84),o=n(136),a=n(19)},function(t,e,n){"use strict";function r(t,e,n){e=Object(i.a)(e,n);for(var r=!Object(o.a)(t)&&Object(a.a)(t),s=(r||t).length,u=0;u<s;u++){var c=r?r[u]:u;if(!e(t[c],c,t))return!1}return!0}e.a=r;var i=n(19),o=n(24),a=n(14)},function(t,e,n){"use strict";function r(t,e,n){e=Object(i.a)(e,n);for(var r=!Object(o.a)(t)&&Object(a.a)(t),s=(r||t).length,u=0;u<s;u++){var c=r?r[u]:u;if(e(t[c],c,t))return!0}return!1}e.a=r;var i=n(19),o=n(24),a=n(14)},function(t,e,n){"use strict";var r=n(22),i=n(29),o=n(66),a=n(132),s=n(82);e.a=Object(r.a)(function(t,e,n){var r,u;return Object(i.a)(e)?u=e:(e=Object(s.a)(e),r=e.slice(0,-1),e=e[e.length-1]),Object(o.a)(t,function(t){var i=u;if(!i){if(r&&r.length&&(t=Object(a.a)(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)})})},function(t,e,n){"use strict";function r(t,e){return Object(i.a)(t,Object(o.a)(e))}e.a=r;var i=n(84),o=n(100)},function(t,e,n){"use strict";function r(t,e,n){var r,u,c=1/0,f=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=Object(i.a)(t)?t:Object(o.a)(t);for(var l=0,d=t.length;l<d;l++)null!=(r=t[l])&&r<c&&(c=r)}else e=Object(a.a)(e,n),Object(s.a)(t,function(t,n,r){((u=e(t,n,r))<f||u===1/0&&c===1/0)&&(c=t,f=u)});return c}e.a=r;var i=n(24),o=n(64),a=n(19),s=n(52)},function(t,e,n){"use strict";function r(t){return Object(i.a)(t,1/0)}e.a=r;var i=n(207)},function(t,e,n){"use strict";function r(t,e,n){var r=0;return e=Object(i.a)(e,n),Object(o.a)(Object(a.a)(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")}e.a=r;var i=n(19),o=n(138),a=n(66)},function(t,e,n){"use strict";var r=n(102),i=n(41);e.a=Object(r.a)(function(t,e,n){Object(i.a)(t,n)?t[n].push(e):t[n]=[e]})},function(t,e,n){"use strict";var r=n(102);e.a=Object(r.a)(function(t,e,n){t[n]=e})},function(t,e,n){"use strict";var r=n(102),i=n(41);e.a=Object(r.a)(function(t,e,n){Object(i.a)(t,n)?t[n]++:t[n]=1})},function(t,e,n){"use strict";var r=n(102);e.a=Object(r.a)(function(t,e,n){t[n?0:1].push(e)},!0)},function(t,e,n){"use strict";function r(t){return t?Object(i.a)(t)?o.q.call(t):Object(a.a)(t)?t.match(l):Object(s.a)(t)?Object(u.a)(t,c.a):Object(f.a)(t):[]}e.a=r;var i=n(51),o=n(6),a=n(125),s=n(24),u=n(66),c=n(133),f=n(64),l=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g},function(t,e,n){"use strict";function r(t){return null==t?0:Object(i.a)(t)?t.length:Object(o.a)(t).length}e.a=r;var i=n(24),o=n(14)},function(t,e,n){"use strict";function r(t,e,n){return e in n}e.a=r},function(t,e,n){"use strict";var r=n(22),i=n(29),o=n(136),a=n(66),s=n(65),u=n(85),c=n(208);e.a=Object(r.a)(function(t,e){var n,r=e[0];return Object(i.a)(r)?(r=Object(o.a)(r),e.length>1&&(n=e[1])):(e=Object(a.a)(Object(s.a)(e,!1,!1),String),r=function(t,n){return!Object(u.a)(e,n)}),Object(c.a)(t,r,n)})},function(t,e,n){"use strict";function r(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Object(i.a)(t,t.length-e)}e.a=r;var i=n(209)},function(t,e,n){"use strict";function r(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Object(i.a)(t,Math.max(0,t.length-e))}e.a=r;var i=n(210)},function(t,e,n){"use strict";function r(t){return Object(i.a)(t,Boolean)}e.a=r;var i=n(84)},function(t,e,n){"use strict";function r(t,e){return Object(i.a)(t,e,!1)}e.a=r;var i=n(65)},function(t,e,n){"use strict";var r=n(22),i=n(211);e.a=Object(r.a)(function(t,e){return Object(i.a)(t,e)})},function(t,e,n){"use strict";var r=n(22),i=n(212),o=n(65);e.a=Object(r.a)(function(t){return Object(i.a)(Object(o.a)(t,!0,!0))})},function(t,e,n){"use strict";function r(t){for(var e=[],n=arguments.length,r=0,a=Object(i.a)(t);r<a;r++){var s=t[r];if(!Object(o.a)(e,s)){var u;for(u=1;u<n&&Object(o.a)(arguments[u],s);u++);u===n&&e.push(s)}}return e}e.a=r;var i=n(30),o=n(85)},function(t,e,n){"use strict";var r=n(22),i=n(213);e.a=Object(r.a)(i.a)},function(t,e,n){"use strict";function r(t,e){for(var n={},r=0,o=Object(i.a)(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}e.a=r;var i=n(30)},function(t,e,n){"use strict";function r(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}e.a=r},function(t,e,n){"use strict";function r(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(i.q.call(t,r,r+=e));return n}e.a=r;var i=n(6)},function(t,e,n){"use strict";function r(t){return Object(o.a)(Object(a.a)(t),function(e){var n=i.a[e]=t[e];i.a.prototype[e]=function(){var t=[this._wrapped];return s.o.apply(t,arguments),Object(u.a)(this,n.apply(i.a,t))}}),i.a}e.a=r;var i=n(23),o=n(52),a=n(180),s=n(6),u=n(214)},function(t,e,n){"use strict";var r=n(23),i=n(52),o=n(6),a=n(214);Object(i.a)(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o.a[t];r.a.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Object(a.a)(this,n)}}),Object(i.a)(["concat","join","slice"],function(t){var e=o.a[t];r.a.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Object(a.a)(this,t)}}),e.a=r.a},function(t,e,n){var r=n(361);t.exports=r},function(t,e,n){var r=n(12),i=n(362),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},function(t,e,n){n(215);var r=n(26);t.exports=r("Array").concat},function(t,e){var n=TypeError;t.exports=function(t){if(t>9007199254740991)throw n("Maximum allowed index exceeded");return t}},function(t,e,n){var r=n(86),i=n(98),o=n(17),a=n(5),s=a("species"),u=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,i(e)&&(e===u||r(e.prototype))?e=void 0:o(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?u:e}},function(t,e,n){var r=n(366);t.exports=r},function(t,e,n){var r=n(12),i=n(367),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},function(t,e,n){n(368);var r=n(26);t.exports=r("Array").map},function(t,e,n){"use strict";var r=n(0),i=n(105).map;r({target:"Array",proto:!0,forced:!n(104)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(370);t.exports=r},function(t,e,n){n(371);var r=n(15);t.exports=r.Object.keys},function(t,e,n){var r=n(0),i=n(33),o=n(120);r({target:"Object",stat:!0,forced:n(3)(function(){o(1)})},{keys:function(t){return o(i(t))}})},function(t,e,n){var r=n(373);t.exports=r},function(t,e,n){n(218);var r=n(15),i=n(71);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return i(r.JSON.stringify,null,arguments)}},function(t,e,n){var r=n(375);t.exports=r},function(t,e,n){var r=n(12),i=n(376),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},function(t,e,n){n(377);var r=n(26);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(115).indexOf,a=n(139),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:u||!c},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},function(t,e,n){n(63);var r=n(47),i=n(13),o=n(12),a=n(379),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===s||o(s,t)&&e===s.keys||i(u,r(t))?a:e}},function(t,e,n){var r=n(380);t.exports=r},function(t,e,n){n(60),n(96);var r=n(26);t.exports=r("Array").keys},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){function n(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=n},function(t,e,n){"use strict";function r(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){function n(){if(n.enabled){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=n,s=Number(new Date),u=s-(a||s);o.diff=u,o.prev=a,o.curr=s,a=s,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var a=e[c];t=i.call(o,a),e.splice(c,1),c--}return t}),r.formatArgs.call(o,e);(o.log||r.log).apply(o,e)}}var a;return n.namespace=t,n.enabled=r.enabled(t),n.useColors=r.useColors(),n.color=e(t),n.destroy=i,n.extend=o,"function"==typeof r.init&&r.init(n),r.instances.push(n),n}function i(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}function a(t){r.save(t),r.names=[],r.skips=[];var e,n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&(t=n[e].replace(/\*/g,".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}}function s(){r.enable("")}function u(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}return r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=a,r.enabled=u,r.humanize=n(384),Object.keys(t).forEach(function(e){r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}t.exports=r},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"weeks":case"week":case"w":return n*f;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){var e=Math.abs(t);return e>=c?Math.round(t/c)+"d":e>=u?Math.round(t/u)+"h":e>=s?Math.round(t/s)+"m":e>=a?Math.round(t/a)+"s":t+"ms"}function i(t){var e=Math.abs(t);return e>=c?o(t,e,c,"day"):e>=u?o(t,e,u,"hour"):e>=s?o(t,e,s,"minute"):e>=a?o(t,e,a,"second"):t+" ms"}function o(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}var a=1e3,s=60*a,u=60*s,c=24*u,f=7*c,l=365.25*c;t.exports=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return n(t);if("number"===o&&isFinite(t))return e.long?i(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){n(386);var r=n(15);t.exports=r.Object.getPrototypeOf},function(t,e,n){var r=n(0),i=n(3),o=n(33),a=n(90),s=n(150);r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){t.exports=n(226)},function(t,e,n){n(389);var r=n(15);t.exports=r.Object.setPrototypeOf},function(t,e,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(92)})},function(t,e,n){"use strict";function r(t){var e,n,r,i,s;if(_(t))return{};var u=(0,o.default)(t).call(t,0,8).toLowerCase(),c="lncldglobal.com";return{push:(0,a.default)(e="https://".concat(u,".push.")).call(e,c),stats:(0,a.default)(n="https://".concat(u,".stats.")).call(n,c),engine:(0,a.default)(r="https://".concat(u,".engine.")).call(r,c),api:(0,a.default)(i="https://".concat(u,".api.")).call(i,c),rtm:(0,a.default)(s="https://".concat(u,".rtm.")).call(s,c)}}var i=n(1),o=i(n(38)),a=i(n(25)),s=i(n(140)),u=n(67),c=n(396),f=n(31),l=f.isNullOrUndefined,d=n(2),h=d.extend,p=d.isObject,v=d.isEmpty,_=function(t){return"-MdYXbMMI"!==(0,o.default)(t).call(t,-9)},y=function(t){return{push:t,stats:t,engine:t,api:t,rtm:t}},b=!1,g=!1;u.init=function(t){if(!p(t))return u.init({appId:t,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2]});var e=t.appId,n=t.appKey,i=t.masterKey,o=t.hookKey,a=t.serverURL,s=t.serverURLs,f=void 0===s?a:s,d=t.disableCurrentUser,m=t.production,O=t.realtime;if(g&&console.warn("Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations."),!e)throw new TypeError("appId must be a string");if(!n)throw new TypeError("appKey must be a string");if(i&&console.warn("MasterKey is not supposed to be used at client side."),_(e)&&!f&&v(u._config.serverURLs))throw new TypeError("serverURL option is required for apps from CN region");e!==u._config.applicationId?(u._config.masterKey=i,u._config.hookKey=o):(i&&(u._config.masterKey=i),o&&(u._config.hookKey=o)),u._config.applicationId=e,u._config.applicationKey=n,l(m)||u.setProduction(m),void 0!==d&&(u._config.disableCurrentUser=d);var w=b||void 0!==f;if(w||(u._appRouter=new c(u)),u._setServerURLs(h({},r(e),u._config.serverURLs,"string"==typeof f?y(f):f),w),O)u._config.realtime=O;else if(u._sharedConfig.liveQueryRealtime){var x=u._config.serverURLs,j=x.api,A=x.rtm;u._config.realtime=new u._sharedConfig.liveQueryRealtime({appId:e,appKey:n,server:{api:j,RTMRouter:A}})}g=!0},u.setProduction=function(t){l(t)?u._config.production=null:u._config.production=t?1:0},u._setServerURLs=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof t?h(u._config.serverURLs,t):u._config.serverURLs=y(t),e&&(u._appRouter?u._appRouter.disable():b=!0)},u.setServerURL=function(t){return u._setServerURLs(t)},u.setServerURLs=u.setServerURL,u.keepErrorRawMessage=function(t){u._sharedConfig.keepErrorRawMessage=t},u.setRequestTimeout=function(t){u._config.requestTimeout=t},u.initialize=u.init,["applicationId","applicationKey","masterKey","hookKey"].forEach(function(t){return(0,s.default)(u,t,{get:function(){return u._config[t]},set:function(e){u._config[t]=e}})})},function(t,e,n){var r=n(12),i=n(392),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},function(t,e,n){n(393);var r=n(26);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(0),i=n(86),o=n(98),a=n(17),s=n(116),u=n(36),c=n(35),f=n(103),l=n(5),d=n(104),h=n(99),p=d("slice"),v=l("species"),_=Array,y=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,l,d=c(this),p=u(d),b=s(t,p),g=s(void 0===e?p:e,p);if(i(d)&&(n=d.constructor,o(n)&&(n===_||i(n.prototype))?n=void 0:a(n)&&null===(n=n[v])&&(n=void 0),n===_||void 0===n))return h(d,b,g);for(r=new(void 0===n?_:n)(y(g-b,0)),l=0;b<g;b++,l++)b in d&&f(r,l,d[b]);return r.length=l,r}})},function(t,e,n){n(395);var r=n(15),i=r.Object,o=t.exports=function(t,e,n){return i.defineProperty(t,e,n)};i.defineProperty.sham&&(o.sham=!0)},function(t,e,n){var r=n(0),i=n(20),o=n(34).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},function(t,e,n){"use strict";function r(t){var e=this;this.AV=t,this.lockedUntil=0,o.getAsync("serverURLs").then(function(t){if(!e.disabled){if(!t)return e.lock(0);var n=t.serverURLs,r=t.lockedUntil;e.AV._setServerURLs(n,!1),e.lockedUntil=r}}).catch(function(){return e.lock(0)})}var i=n(106),o=n(225);r.prototype.disable=function(){this.disabled=!0},r.prototype.lock=function(t){this.lockedUntil=Date.now()+t},r.prototype.refresh=function(){var t=this;if(!(this.disabled||Date.now()<this.lockedUntil)){this.lock(10);return i({method:"get",url:"https://app-router.com/2/route",query:{appId:this.AV.applicationId}}).then(function(e){if(!t.disabled){var n=e.ttl;if(!n)throw new Error("missing ttl");n*=1e3;var r={push:"https://"+e.push_server,stats:"https://"+e.stats_server,engine:"https://"+e.engine_server,api:"https://"+e.api_server};return t.AV._setServerURLs(r,!1),t.lock(n),o.setAsync("serverURLs",{serverURLs:r,lockedUntil:t.lockedUntil},n)}}).catch(function(e){console.warn("refresh server URLs failed: ".concat(e.message)),t.lock(600)})}},t.exports=r},function(t,e,n){t.exports=n(398)},function(t,e,n){var r=n(399);n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),t.exports=r},function(t,e,n){var r=n(230);t.exports=r},function(t,e,n){n(215),n(96),n(401),n(407),n(408),n(409),n(410),n(234),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422);var r=n(15);t.exports=r.Symbol},function(t,e,n){n(402),n(404),n(405),n(218),n(406)},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(11),a=n(4),s=n(32),u=n(20),c=n(55),f=n(3),l=n(13),d=n(12),h=n(21),p=n(35),v=n(88),_=n(40),y=n(44),b=n(59),g=n(120),m=n(114),O=n(403),w=n(119),x=n(73),j=n(34),A=n(152),S=n(145),E=n(48),C=n(75),T=n(91),N=n(93),I=n(112),k=n(5),U=n(142),P=n(7),R=n(232),D=n(61),L=n(95),M=n(105).forEach,q=T("hidden"),F=L.set,W=L.getterFor("Symbol"),B=Object.prototype,Q=i.Symbol,V=Q&&Q.prototype,K=i.TypeError,z=i.QObject,J=x.f,G=j.f,H=O.f,$=S.f,X=a([].push),Y=C("symbols"),Z=C("op-symbols"),tt=C("wks"),et=!z||!z.prototype||!z.prototype.findChild,nt=u&&f(function(){return 7!=b(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=J(B,e);r&&delete B[e],G(t,e,n),r&&t!==B&&G(B,e,r)}:G,rt=function(t,e){var n=Y[t]=b(V);return F(n,{type:"Symbol",tag:t,description:e}),u||(n.description=e),n},it=function(t,e,n){t===B&&it(Z,e,n),h(t);var r=v(e);return h(n),l(Y,r)?(n.enumerable?(l(t,q)&&t[q][r]&&(t[q][r]=!1),n=b(n,{enumerable:y(0,!1)})):(l(t,q)||G(t,q,y(1,{})),t[q][r]=!0),nt(t,r,n)):G(t,r,n)},ot=function(t,e){h(t);var n=p(e),r=g(n).concat(ft(n));return M(r,function(e){u&&!o(st,n,e)||it(t,e,n[e])}),t},at=function(t,e){return void 0===e?b(t):ot(b(t),e)},st=function(t){var e=v(t),n=o($,this,e);return!(this===B&&l(Y,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(Y,e)||l(this,q)&&this[q][e])||n)},ut=function(t,e){var n=p(t),r=v(e);if(n!==B||!l(Y,r)||l(Z,r)){var i=J(n,r);return!i||!l(Y,r)||l(n,q)&&n[q][r]||(i.enumerable=!0),i}},ct=function(t){var e=H(p(t)),n=[];return M(e,function(t){l(Y,t)||l(N,t)||X(n,t)}),n},ft=function(t){var e=t===B,n=H(e?Z:p(t)),r=[];return M(n,function(t){!l(Y,t)||e&&!l(B,t)||X(r,Y[t])}),r};c||(Q=function(){if(d(V,this))throw K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,e=I(t),n=function(t){this===B&&o(n,Z,t),l(this,q)&&l(this[q],e)&&(this[q][e]=!1),nt(this,e,y(1,t))};return u&&et&&nt(B,e,{configurable:!0,set:n}),rt(e,t)},V=Q.prototype,E(V,"toString",function(){return W(this).tag}),E(Q,"withoutSetter",function(t){return rt(I(t),t)}),S.f=st,j.f=it,A.f=ot,x.f=ut,m.f=O.f=ct,w.f=ft,U.f=function(t){return rt(k(t),t)},u&&(G(V,"description",{configurable:!0,get:function(){return W(this).description}}),s||E(B,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),M(g(tt),function(t){P(t)}),r({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:at,defineProperty:it,defineProperties:ot,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ct}),R(),D(Q,"Symbol"),N[q]=!0},function(t,e,n){var r=n(54),i=n(35),o=n(114).f,a=n(231),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(t){return a(s)}};t.exports.f=function(t){return s&&"Window"==r(t)?u(t):o(i(t))}},function(t,e,n){var r=n(0),i=n(18),o=n(13),a=n(40),s=n(75),u=n(233),c=s("string-to-symbol-registry"),f=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(o(c,e))return c[e];var n=i("Symbol")(e);return c[e]=n,f[n]=e,n}})},function(t,e,n){var r=n(0),i=n(13),o=n(89),a=n(57),s=n(75),u=n(233),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},function(t,e,n){var r=n(0),i=n(55),o=n(3),a=n(119),s=n(33);r({target:"Object",stat:!0,forced:!i||o(function(){a.f(1)})},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},function(t,e,n){n(7)("asyncIterator")},function(t,e){},function(t,e,n){n(7)("hasInstance")},function(t,e,n){n(7)("isConcatSpreadable")},function(t,e,n){n(7)("match")},function(t,e,n){n(7)("matchAll")},function(t,e,n){n(7)("replace")},function(t,e,n){n(7)("search")},function(t,e,n){n(7)("species")},function(t,e,n){n(7)("split")},function(t,e,n){var r=n(7),i=n(232);r("toPrimitive"),i()},function(t,e,n){var r=n(18),i=n(7),o=n(61);i("toStringTag"),o(r("Symbol"),"Symbol")},function(t,e,n){n(7)("unscopables")},function(t,e,n){var r=n(9);n(61)(r.JSON,"JSON",!0)},function(t,e){},function(t,e){},function(t,e,n){n(7)("asyncDispose")},function(t,e,n){n(7)("dispose")},function(t,e,n){n(7)("matcher")},function(t,e,n){n(7)("metadataKey")},function(t,e,n){n(7)("observable")},function(t,e,n){n(7)("metadata")},function(t,e,n){n(7)("patternMatch")},function(t,e,n){n(7)("replaceAll")},function(t,e,n){t.exports=n(432)},function(t,e,n){t.exports=n(433)},function(t,e,n){var r=n(434);t.exports=r},function(t,e,n){var r=n(235);t.exports=r},function(t,e,n){n(60),n(96),n(79),n(234);var r=n(142);t.exports=r.f("iterator")},function(t,e,n){t.exports=n(437)},function(t,e,n){var r=n(438);t.exports=r},function(t,e,n){var r=n(12),i=n(439),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||r(o,t)&&e===o.filter?i:e}},function(t,e,n){n(440);var r=n(26);t.exports=r("Array").filter},function(t,e,n){"use strict";var r=n(0),i=n(105).filter;r({target:"Array",proto:!0,forced:!n(104)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r;t.exports.timeout=function(t,e){var n,i=new r;return Promise.race([t,new Promise(function(t,r){n=setTimeout(function(){r(i)},e)})]).then(function(t){return clearTimeout(n),t},function(t){throw clearTimeout(n),t})};r=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"},function(t,e,n){"use strict";var r=n(1),i=r(n(38)),o=r(n(53)),a=r(n(25)),s=n(2);t.exports=function(t){var e=/\s+/,n=(0,i.default)(Array.prototype);t.Events={on:function(t,n,r){var i,o,a,s,u;if(!n)return this;for(t=t.split(e),i=this._callbacks||(this._callbacks={}),o=t.shift();o;)u=i[o],a=u?u.tail:{},a.next=s={},a.context=r,a.callback=n,i[o]={tail:s,next:u?u.next:a},o=t.shift();return this},off:function(t,n,r){var i,a,u,c,f,l;if(a=this._callbacks){if(!(t||n||r))return delete this._callbacks,this;for(t=t?t.split(e):(0,o.default)(s).call(s,a),i=t.shift();i;)if(u=a[i],delete a[i],u&&(n||r)){for(c=u.tail,u=u.next;u!==c;)f=u.callback,l=u.context,(n&&f!==n||r&&l!==r)&&this.on(i,f,l),u=u.next;i=t.shift()}return this}},trigger:function(t){var r,i,o,s,u,c,f;if(!(o=this._callbacks))return this;for(c=o.all,t=t.split(e),f=n.call(arguments,1),r=t.shift();r;){if(i=o[r])for(s=i.tail;(i=i.next)!==s;)i.callback.apply(i.context||this,f);if(i=c){var l;for(s=i.tail,u=(0,a.default)(l=[r]).call(l,f);(i=i.next)!==s;)i.callback.apply(i.context||this,u)}r=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(2);t.exports=function(t){t.GeoPoint=function(e,n){o.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):o.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):o.isNumber(e)&&o.isNumber(n)?(t.GeoPoint._validate(e,n),this.latitude=e,this.longitude=n):(this.latitude=0,this.longitude=0);var r=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return r._latitude}),this.__defineGetter__("longitude",function(){return r._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,r.longitude),r._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(r.latitude,e),r._longitude=e}))},t.GeoPoint._validate=function(t,e){if(t<-90)throw new Error("AV.GeoPoint latitude "+t+" < -90.0.");if(t>90)throw new Error("AV.GeoPoint latitude "+t+" > 90.0.");if(e<-180)throw new Error("AV.GeoPoint longitude "+e+" < -180.0.");if(e>180)throw new Error("AV.GeoPoint longitude "+e+" > 180.0.")},t.GeoPoint.current=function(){return new i.default(function(e,n){navigator.geolocation.getCurrentPosition(function(n){e(new t.GeoPoint({latitude:n.coords.latitude,longitude:n.coords.longitude}))},n)})},o.extend(t.GeoPoint.prototype,{toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,n=this.latitude*e,r=this.longitude*e,i=t.latitude*e,o=t.longitude*e,a=n-i,s=r-o,u=Math.sin(a/2),c=Math.sin(s/2),f=u*u+Math.cos(n)*Math.cos(i)*c*c;return f=Math.min(1,f),2*Math.asin(Math.sqrt(f))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}})}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){t.ACL=function(e){var n=this;if(n.permissionsById={},r.isObject(e))if(e instanceof t.User)n.setReadAccess(e,!0),n.setWriteAccess(e,!0);else{if(r.isFunction(e))throw new Error("AV.ACL() called with a function.  Did you forget ()?");t._objectEach(e,function(e,i){if(!r.isString(i))throw new Error("Tried to create an ACL with an invalid userId.");n.permissionsById[i]={},t._objectEach(e,function(t,e){if("read"!==e&&"write"!==e)throw new Error("Tried to create an ACL with an invalid permission type.");if(!r.isBoolean(t))throw new Error("Tried to create an ACL with an invalid permission value.");n.permissionsById[i][e]=t})})}},t.ACL.prototype.toJSON=function(){return r.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,n,i){if(n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName()),!r.isString(n))throw new Error("userId must be a string.");if(!r.isBoolean(i))throw new Error("allowed must be either true or false.");var o=this.permissionsById[n];if(!o){if(!i)return;o={},this.permissionsById[n]=o}i?this.permissionsById[n][e]=!0:(delete o[e],r.isEmpty(o)&&delete this.permissionsById[n])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var r=this.permissionsById[n];return!!r&&!!r[e]},t.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},t.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},t.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},t.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},t.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess("*",t)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},t.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess("*",t)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return this.getReadAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return this.getWriteAccess("role:"+e);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.setRoleReadAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return void this.setReadAccess("role:"+e,n);throw new Error("role must be a AV.Role or a String")},t.ACL.prototype.setRoleWriteAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return void this.setWriteAccess("role:"+e,n);throw new Error("role must be a AV.Role or a String")}}},function(t,e,n){"use strict";var r=n(1),i=r(n(25)),o=r(n(107)),a=r(n(68)),s=r(n(42)),u=n(2);t.exports=function(t){t.Op=function(){this._initialize.apply(this,arguments)},u.extend(t.Op.prototype,{_initialize:function(){}}),u.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.BitAnd=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(0);if(e instanceof t.Op.Set)return new t.Op.Set(e.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t&this.value()}}),t.Op._registerDecoder("BitAnd",function(e){return new t.Op.BitAnd(e.value)}),t.Op.BitOr=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t|this.value()}}),t.Op._registerDecoder("BitOr",function(e){return new t.Op.BitOr(e.value)}),t.Op.BitXor=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.value());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t^this.value()}}),t.Op._registerDecoder("BitXor",function(e){return new t.Op.BitXor(e.value)}),t.Op.Add=t.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add){var n;return new t.Op.Add((0,i.default)(n=e.objects()).call(n,this.objects()))}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(t){return t?(0,i.default)(t).call(t,this.objects()):u.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(t){this._objects=u.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var n=u.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var r=(0,o.default)(u).call(u,n,function(n){return n instanceof t.Object&&n.id===e.id});if(r){var i=(0,a.default)(u).call(u,n,r);n[i]=e}else n.push(e)}else u.contains(n,e)||n.push(e)}),n}return u.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(t){this._objects=u.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(u.union(e.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){if(e){var n=u.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(n=u.reject(n,function(n){return n instanceof t.Object&&n.id===e.id}))}),n}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,n){this._targetClassName=null;var r=this,i=function(e){if(e instanceof t.Object){if(!e.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(r._targetClassName||(r._targetClassName=e.className),r._targetClassName!==e.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+r._targetClassName+" and "+e.className+".");return e.id}return e};this.relationsToAdd=u.uniq((0,s.default)(u).call(u,e,i)),this.relationsToRemove=u.uniq((0,s.default)(u).call(u,n,i))},added:function(){var e=this;return(0,s.default)(u).call(u,this.relationsToAdd,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},removed:function(){var e=this;return(0,s.default)(u).call(u,this.relationsToRemove,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},toJSON:function(){var t=null,e=null,n=this,r=function(t){return{__type:"Pointer",className:n._targetClassName,objectId:t}},i=null;return this.relationsToAdd.length>0&&(i=(0,s.default)(u).call(u,this.relationsToAdd,r),t={__op:"AddRelation",objects:i}),this.relationsToRemove.length>0&&(i=(0,s.default)(u).call(u,this.relationsToRemove,r),e={__op:"RemoveRelation",objects:i}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.");var n=u.union(u.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),r=u.union(u.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),i=new t.Op.Relation(n,r);return i._targetClassName=this._targetClassName,i}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e,n,r){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Op is invalid after previous op.")}new t.Relation(n,r).targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(e.objects))})}},function(t,e,n){var r=n(447);t.exports=r},function(t,e,n){var r=n(12),i=n(448),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||r(o,t)&&e===o.find?i:e}},function(t,e,n){n(449);var r=n(26);t.exports=r("Array").find},function(t,e,n){"use strict";var r=n(0),i=n(105).find,o=n(122),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){t.Relation=function(t,e){if(!r.isString(e))throw new TypeError("key must be a string");this.parent=t,this.key=e,this.targetClassName=null},t.Relation.reverseQuery=function(e,n,r){var i=new t.Query(e);return i.equalTo(n,r._toPointer()),i},r.extend(t.Relation.prototype,{_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(e){r.isArray(e)||(e=[e]);var n=new t.Op.Relation(e,[]);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},remove:function(e){r.isArray(e)||(e=[e]);var n=new t.Op.Relation([],e);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),n=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),n=new t.Query(e),n._defaultParams.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}})}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(2),a=n(452),s=n(453),u=n(499),c=n(43),f=n(27),l=f.request,d=f._request,h=n(31),p=h.tap,v=h.transformFetchOptions,_=n(69)("leancloud:file"),y=n(503);t.exports=function(t){var e=function(t){return o.isString(t)?t.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]:""},n=function(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new Error("Tried to encode large digit "+t+" in base64.")},r=function(t){var e=[];return e.length=Math.ceil(t.length/3),o.times(e.length,function(r){var i=t[3*r],o=t[3*r+1]||0,a=t[3*r+2]||0,s=3*r+1<t.length,u=3*r+2<t.length;e[r]=[n(i>>2&63),n(i<<4&48|o>>4&15),s?n(o<<2&60|a>>6&3):"=",u?n(63&a):"="].join("")}),e.join("")};t.File=function(n,i,a){if(this.attributes={name:n,url:"",metaData:{},base64:""},o.isString(i))throw new TypeError("Creating an AV.File from a String is not yet supported.");o.isArray(i)&&(this.attributes.metaData.size=i.length,i={base64:r(i)}),this._extName="",this._data=i,this._uploadHeaders={},i&&i.blob&&"string"==typeof i.blob.uri&&(this._extName=e(i.blob.uri)),"undefined"!=typeof Blob&&i instanceof Blob&&(i.size&&(this.attributes.metaData.size=i.size),i.name&&(this._extName=e(i.name)));var s;if(i&&i.owner)s=i.owner;else if(!t._config.disableCurrentUser)try{s=t.User.current()}catch(t){if("SYNC_API_NOT_AVAILABLE"!==t.code)throw t}this.attributes.metaData.owner=s?s.id:"unknown",this.set("mime_type",a)},t.File.withURL=function(e,n,r,i){if(!e||!n)throw new Error("Please provide file name and url");var o=new t.File(e,null,i);if(r)for(var a in r)o.attributes.metaData[a]||(o.attributes.metaData[a]=r[a]);return o.attributes.url=n,o.attributes.metaData.__source="external",o.attributes.metaData.size=0,o},t.File.createWithoutData=function(e){if(!e)throw new TypeError("The objectId must be provided");var n=new t.File;return n.id=e,n},t.File.censor=function(e){if(!t._config.masterKey)throw new Error("Cannot censor a file without masterKey");return l({method:"POST",path:"/files/".concat(e,"/censor"),authOptions:{useMasterKey:!0}}).then(function(t){return t.censorResult})},o.extend(t.File.prototype,{className:"_File",_toFullJSON:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=o.clone(this.attributes);return t._objectEach(i,function(n,o){i[o]=t._encode(n,e,void 0,r)}),t._objectEach(this._operations,function(t,e){i[e]=t}),o.has(this,"id")&&(i.objectId=this.id),["createdAt","updatedAt"].forEach(function(t){if(o.has(n,t)){var e=n[t];i[t]=o.isDate(e)?e.toJSON():e}}),r&&(i.__type="File"),i},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},toJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(n,!1)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},getACL:function(){return this._acl},setACL:function(e){return e instanceof t.ACL?(this._acl=e,this):new c(c.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(t){switch(t){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[t];default:return this.attributes.metaData[t]}},set:function(){for(var t=this,e=function(e,n){switch(e){case"name":case"url":case"mime_type":case"base64":case"metaData":t.attributes[e]=n;break;default:t.attributes.metaData[e]=n}},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];switch(r.length){case 1:for(var o in r[0])e(o,r[0][o]);break;case 2:e(r[0],r[1])}return this},setUploadHeader:function(t,e){return this._uploadHeaders[t]=e,this},metaData:function(t,e){return t&&e?(this.attributes.metaData[t]=e,this):t&&!e?this.attributes.metaData[t]:this.attributes.metaData},thumbnailURL:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"png",o=this.attributes.url;if(!o)throw new Error("Invalid url.");if(!t||!e||t<=0||e<=0)throw new Error("Invalid width or height value.");if(n<=0||n>100)throw new Error("Invalid quality value.");return o+"?imageView/"+(r?2:1)+"/w/"+t+"/h/"+e+"/q/"+n+"/format/"+i},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(t){return this.id?d("files",null,this.id,"DELETE",null,t):i.default.reject(new Error("The file id does not eixst."))},_fileToken:function(t,n){var r=this.attributes.name,i=e(r);!i&&this._extName&&(r+=this._extName,i=this._extName);var o={name:r,keep_file_name:n.keepFileName,key:n.key,ACL:this._acl,mime_type:t,metaData:this.attributes.metaData};return d("fileTokens",null,null,"POST",o,n)},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.id)throw new Error("File is already saved.");if(!this._previousSave)if(this._data){var n=this.get("mime_type");this._previousSave=this._fileToken(n,e).then(function(r){return r.mime_type&&(n=r.mime_type,t.set("mime_type",n)),t._token=r.token,i.default.resolve().then(function(){var e=t._data;if(e&&e.base64)return y(e.base64,n);if(e&&e.blob)return!e.blob.type&&n&&(e.blob.type=n),e.blob.name||(e.blob.name=t.get("name")),e.blob;if("undefined"!=typeof Blob&&e instanceof Blob)return e;throw new TypeError("malformed file data")}).then(function(n){var i=o.extend({},e);switch(e.onprogress&&(i.onprogress=function(t){if("download"!==t.direction)return e.onprogress(t)}),r.provider){case"s3":return u(r,n,t,i);case"qcloud":return a(r,n,t,i);case"qiniu":default:return s(r,n,t,i)}}).then(p(function(){return t._callback(!0)}),function(e){throw t._callback(!1),e})})}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var r={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=d("files",null,null,"post",r,e).then(function(e){return t.id=e.objectId,t})}return this._previousSave},_callback:function(t){d("fileCallback",null,null,"post",{token:this._token,result:t}).catch(_),delete this._token,delete this._data},fetch:function(t,e){if(!this.id)throw new Error("Cannot fetch unsaved file");return d("files",null,this.id,"GET",v(t),e).then(this._finishFetch.bind(this))},_finishFetch:function(e){var n=t.Object.prototype.parse(e);return n.attributes={name:n.name,url:n.url,mime_type:n.mime_type,bucket:n.bucket},n.attributes.metaData=n.metaData||{},n.id=n.objectId,delete n.objectId,delete n.metaData,delete n.url,delete n.name,delete n.mime_type,delete n.bucket,o.extend(this,n),this},censor:function(){if(!this.id)throw new Error("Cannot censor an unsaved file");return t.File.censor(this.id)}})}},function(t,e,n){"use strict";var r=n(70),i=r.getAdapter,o=n(69)("cos");t.exports=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.upload_url+"?sign="+encodeURIComponent(t.token),s={field:"fileContent",data:e,name:n.attributes.name},u={headers:n._uploadHeaders,data:{op:"upload"},onprogress:r.onprogress};return o("url: %s, file: %o, options: %o",a,s,u),i("upload")(a,s,u).then(function(e){if(o(e.status,e.data),!1===e.ok){var r=new Error(e.status);throw r.response=e,r}return n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId,n},function(t){var e=t.response;throw e&&(o(e.status,e.data),t.statusCode=e.status,t.response=e.data),t})}},function(t,e,n){"use strict";function r(t){var e=i();return function(){var n,r=(0,g.default)(t);if(e){var i=(0,g.default)(this).constructor;n=v(r,arguments,i)}else n=r.apply(this,arguments);return(0,b.default)(this,n)}}function i(){if("undefined"==typeof Reflect||!v)return!1;if(v.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(v(Boolean,[],function(){})),!0}catch(t){return!1}}function o(t,e){var n=void 0!==h&&p(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){var n;if(t){if("string"==typeof t)return s(t,e);var r=l(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?d(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.token,o=t.upload_url||"https://upload.qiniup.com",a={field:"file",data:e,name:n.attributes.name},s={headers:n._uploadHeaders,data:{name:n.attributes.name,key:t.key,token:i},onprogress:r.onprogress};return C("url: %s, file: %o, options: %o",o,a,s),E("upload")(o,a,s).then(function(e){if(C(e.status,e.data),!1===e.ok){var r=e.status;e.data&&(r=e.data.error?e.data.error:(0,w.default)(e.data));var i=new Error(r);throw i.response=e,i}return n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId,n},function(t){var e=t.response;throw e&&(C(e.status,e.data),t.statusCode=e.status,t.response=e.data),t})}function c(t){var e,n=N(unescape(encodeURIComponent(t))),r="",i=o(n);try{for(i.s();!(e=i.n()).done;){var a=e.value;switch(a){case"+":r+="-";break;case"/":r+="_";break;default:r+=a}}}catch(t){i.e(t)}finally{i.f()}return r}function f(t){return"undefined"!=typeof Blob&&t instanceof Blob}var l=n(38),d=n(236),h=n(87),p=n(238),v=n(463),_=n(1),y=_(n(467)),b=_(n(489)),g=_(n(491)),m=_(n(496)),O=_(n(497)),w=_(n(37)),x=_(n(25)),j=_(n(10)),A=_(n(38)),S=n(70),E=S.getAdapter,C=n(69)("leancloud:qiniu"),T=n(106),N=n(498),I=16777216,k=function(){function t(e,n,r,i){var o,a,s=this;(0,m.default)(this,t),this.uploadInfo=e,this.data=n,this.file=r,this.size=void 0,this.offset=0,this.uploadedChunks=0;var u=c(e.key),f=e.upload_url||"https://upload.qiniup.com";this.baseURL=(0,x.default)(o=(0,x.default)(a="".concat(f,"/buckets/")).call(a,e.bucket,"/objects/")).call(o,u,"/uploads"),this.upToken="UpToken "+e.token,this.uploaded=0,i&&i.onprogress&&(this.onProgress=function(t){var e=t.loaded;(e+=s.uploadedChunks*I)<=s.uploaded||(s.size?i.onprogress({loaded:e,total:s.size,percent:e/s.size*100}):i.onprogress({loaded:e}),s.uploaded=e)})}return(0,O.default)(t,[{key:"getUploadId",value:function(){return T({method:"POST",url:this.baseURL,headers:{Authorization:this.upToken}}).then(function(t){return t.uploadId})}},{key:"getChunk",value:function(){throw new Error("Not implemented")}},{key:"uploadPart",value:function(t,e,n){var r,i;return T({method:"PUT",url:(0,x.default)(r=(0,x.default)(i="".concat(this.baseURL,"/")).call(i,t,"/")).call(r,e),headers:{Authorization:this.upToken},data:n,onprogress:this.onProgress}).then(function(t){var n=t.etag;return{partNumber:e,etag:n}})}},{key:"stopUpload",value:function(t){var e;return T({method:"DELETE",url:(0,x.default)(e="".concat(this.baseURL,"/")).call(e,t),headers:{Authorization:this.upToken}})}},{key:"upload",value:function(){var t=this,e=[];return this.getUploadId().then(function(n){return function r(){return j.default.resolve(t.getChunk()).then(function(i){if(i){var o=e.length+1;return t.uploadPart(n,o,i).then(function(n){return e.push(n),t.uploadedChunks++,r()})}}).catch(function(e){return t.stopUpload(n).then(function(){return j.default.reject(e)})})}().then(function(){var r;return T({method:"POST",url:(0,x.default)(r="".concat(t.baseURL,"/")).call(r,n),headers:{Authorization:t.upToken},data:{parts:e,fname:t.file.attributes.name,mimeType:t.file.attributes.mime_type}})})}).then(function(){return t.file.attributes.url=t.uploadInfo.url,t.file._bucket=t.uploadInfo.bucket,t.file.id=t.uploadInfo.objectId,t.file})}}]),t}(),U=function(t){function e(t,r,i,o){var a;return(0,m.default)(this,e),a=n.call(this,t,r,i,o),a.size=r.size,a}(0,y.default)(e,t);var n=r(e);return(0,O.default)(e,[{key:"getChunk",value:function(){var t;if(this.offset>=this.size)return null;var e=(0,A.default)(t=this.data).call(t,this.offset,this.offset+I);return this.offset+=e.size,e}}]),e}(k);t.exports=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return f(e)&&e.size>=67108864?new U(t,e,n,r).upload():u(t,e,n,r)}},function(t,e,n){n(79),n(455);var r=n(15);t.exports=r.Array.from},function(t,e,n){var r=n(0),i=n(456);r({target:"Array",stat:!0,forced:!n(165)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var r=n(58),i=n(11),o=n(33),a=n(457),s=n(154),u=n(98),c=n(36),f=n(103),l=n(155),d=n(94),h=Array;t.exports=function(t){var e=o(t),n=u(this),p=arguments.length,v=p>1?arguments[1]:void 0,_=void 0!==v;_&&(v=r(v,p>2?arguments[2]:void 0));var y,b,g,m,O,w,x=d(e),j=0;if(!x||this===h&&s(x))for(y=c(e),b=n?new this(y):h(y);y>j;j++)w=_?v(e[j],j):e[j],f(b,j,w);else for(m=l(e,x),O=m.next,b=n?new this:[];!(g=i(O,m)).done;j++)w=_?a(m,v,[g.value,j],!0):g.value,f(b,j,w);return b.length=j,b}},function(t,e,n){var r=n(21),i=n(156);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},function(t,e,n){t.exports=n(459)},function(t,e,n){var r=n(460);t.exports=r},function(t,e,n){var r=n(461);t.exports=r},function(t,e,n){var r=n(462);n(63),t.exports=r},function(t,e,n){n(60),n(79);var r=n(94);t.exports=r},function(t,e,n){t.exports=n(464)},function(t,e,n){var r=n(465);t.exports=r},function(t,e,n){n(466);var r=n(15);t.exports=r.Reflect.construct},function(t,e,n){var r=n(0),i=n(18),o=n(71),a=n(239),s=n(161),u=n(21),c=n(17),f=n(59),l=n(3),d=i("Reflect","construct"),h=Object.prototype,p=[].push,v=l(function(){function t(){}return!(d(function(){},[],t)instanceof t)}),_=!l(function(){d(function(){})}),y=v||_;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),u(e);var n=arguments.length<3?t:s(arguments[2]);if(_&&!v)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,l=f(c(i)?i:h),y=o(t,l,e);return c(y)?y:l}})},function(t,e,n){function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=i(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o(t,"prototype",{writable:!1}),e&&a(t,e)}var i=n(468),o=n(143),a=n(478);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(469)},function(t,e,n){t.exports=n(470)},function(t,e,n){var r=n(471);t.exports=r},function(t,e,n){var r=n(472);t.exports=r},function(t,e,n){var r=n(473);t.exports=r},function(t,e,n){n(474);var r=n(15),i=r.Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){n(0)({target:"Object",stat:!0,sham:!n(20)},{create:n(59)})},function(t,e,n){t.exports=n(476)},function(t,e,n){var r=n(477);t.exports=r},function(t,e,n){var r=n(228);t.exports=r},function(t,e,n){function r(e,n){var a;return t.exports=r=i?o(a=i).call(a):function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,n)}var i=n(240),o=n(241);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(480)},function(t,e,n){var r=n(481);t.exports=r},function(t,e,n){var r=n(226);t.exports=r},function(t,e,n){t.exports=n(483)},function(t,e,n){var r=n(484);t.exports=r},function(t,e,n){var r=n(485);t.exports=r},function(t,e,n){var r=n(486);t.exports=r},function(t,e,n){var r=n(12),i=n(487),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||r(o,t)&&e===o.bind?i:e}},function(t,e,n){n(488);var r=n(26);t.exports=r("Function").bind},function(t,e,n){var r=n(0),i=n(239);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},function(t,e,n){function r(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}var i=n(141).default,o=n(490);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){function r(e){var n;return t.exports=r=i?o(n=a).call(n):function(t){return t.__proto__||a(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}var i=n(240),o=n(241),a=n(492);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(493)},function(t,e,n){t.exports=n(494)},function(t,e,n){var r=n(495);t.exports=r},function(t,e,n){var r=n(221);t.exports=r},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),o(t,"prototype",{writable:!1}),t}var o=n(143);t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1),i=r(n(38)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(t){for(var e="",n=0;n<t.length;){var r=t.charCodeAt(n++),a=t.charCodeAt(n++),s=t.charCodeAt(n++);if(r>255||a>255||s>255)throw new TypeError("Failed to encode base64: The string to be encoded contains characters outside of the Latin1 range.");var u=r<<16|a<<8|s;e+=o.charAt(u>>18&63)+o.charAt(u>>12&63)+o.charAt(u>>6&63)+o.charAt(63&u)}var c=t.length%3;return c?(0,i.default)(e).call(e,0,c-3)+"===".substring(c):e}},function(t,e,n){"use strict";var r=n(2),i=n(106);t.exports=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i({url:t.upload_url,method:"PUT",data:e,headers:r.extend({"Content-Type":n.get("mime_type"),"Cache-Control":"public, max-age=31536000"},n._uploadHeaders),onprogress:o.onprogress}).then(function(){return n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId,n})}},function(t,e,n){!function(){var e=n(501),r=n(242).utf8,i=n(502),o=n(242).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),u=8*t.length,c=1732584193,f=-271733879,l=-1732584194,d=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;for(var p=a._ff,v=a._gg,_=a._hh,y=a._ii,h=0;h<s.length;h+=16){var b=c,g=f,m=l,O=d;c=p(c,f,l,d,s[h+0],7,-680876936),d=p(d,c,f,l,s[h+1],12,-389564586),l=p(l,d,c,f,s[h+2],17,606105819),f=p(f,l,d,c,s[h+3],22,-1044525330),c=p(c,f,l,d,s[h+4],7,-176418897),d=p(d,c,f,l,s[h+5],12,1200080426),l=p(l,d,c,f,s[h+6],17,-1473231341),f=p(f,l,d,c,s[h+7],22,-45705983),c=p(c,f,l,d,s[h+8],7,1770035416),d=p(d,c,f,l,s[h+9],12,-1958414417),l=p(l,d,c,f,s[h+10],17,-42063),f=p(f,l,d,c,s[h+11],22,-1990404162),c=p(c,f,l,d,s[h+12],7,1804603682),d=p(d,c,f,l,s[h+13],12,-40341101),l=p(l,d,c,f,s[h+14],17,-1502002290),f=p(f,l,d,c,s[h+15],22,1236535329),c=v(c,f,l,d,s[h+1],5,-165796510),d=v(d,c,f,l,s[h+6],9,-1069501632),l=v(l,d,c,f,s[h+11],14,643717713),f=v(f,l,d,c,s[h+0],20,-373897302),c=v(c,f,l,d,s[h+5],5,-701558691),d=v(d,c,f,l,s[h+10],9,38016083),l=v(l,d,c,f,s[h+15],14,-660478335),f=v(f,l,d,c,s[h+4],20,-405537848),c=v(c,f,l,d,s[h+9],5,568446438),d=v(d,c,f,l,s[h+14],9,-1019803690),l=v(l,d,c,f,s[h+3],14,-187363961),f=v(f,l,d,c,s[h+8],20,1163531501),c=v(c,f,l,d,s[h+13],5,-1444681467),d=v(d,c,f,l,s[h+2],9,-51403784),l=v(l,d,c,f,s[h+7],14,1735328473),f=v(f,l,d,c,s[h+12],20,-1926607734),c=_(c,f,l,d,s[h+5],4,-378558),d=_(d,c,f,l,s[h+8],11,-2022574463),l=_(l,d,c,f,s[h+11],16,1839030562),f=_(f,l,d,c,s[h+14],23,-35309556),c=_(c,f,l,d,s[h+1],4,-1530992060),d=_(d,c,f,l,s[h+4],11,1272893353),l=_(l,d,c,f,s[h+7],16,-155497632),f=_(f,l,d,c,s[h+10],23,-1094730640),c=_(c,f,l,d,s[h+13],4,681279174),d=_(d,c,f,l,s[h+0],11,-358537222),l=_(l,d,c,f,s[h+3],16,-722521979),f=_(f,l,d,c,s[h+6],23,76029189),c=_(c,f,l,d,s[h+9],4,-640364487),d=_(d,c,f,l,s[h+12],11,-421815835),l=_(l,d,c,f,s[h+15],16,530742520),f=_(f,l,d,c,s[h+2],23,-995338651),c=y(c,f,l,d,s[h+0],6,-198630844),d=y(d,c,f,l,s[h+7],10,1126891415),l=y(l,d,c,f,s[h+14],15,-1416354905),f=y(f,l,d,c,s[h+5],21,-57434055),c=y(c,f,l,d,s[h+12],6,1700485571),d=y(d,c,f,l,s[h+3],10,-1894986606),l=y(l,d,c,f,s[h+10],15,-1051523),f=y(f,l,d,c,s[h+1],21,-2054922799),c=y(c,f,l,d,s[h+8],6,1873313359),d=y(d,c,f,l,s[h+15],10,-30611744),l=y(l,d,c,f,s[h+6],15,-1560198380),f=y(f,l,d,c,s[h+13],21,1309151649),c=y(c,f,l,d,s[h+4],6,-145523070),d=y(d,c,f,l,s[h+11],10,-1120210379),l=y(l,d,c,f,s[h+2],15,718787259),f=y(f,l,d,c,s[h+9],21,-343485551),c=c+b>>>0,f=f+g>>>0,l=l+m>>>0,d=d+O>>>0}return e.endian([c,f,l,d])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(1),i=r(n(68)),o=function(t,e){var n,r;(0,i.default)(t).call(t,"base64")<0?r=atob(t):(0,i.default)(n=t.split(",")[0]).call(n,"base64")>=0?(e=e||t.split(",")[0].split(":")[1].split(";")[0],r=atob(t.split(",")[1])):r=unescape(t.split(",")[1]);for(var o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return new Blob([o],{type:e})};t.exports=o},function(t,e,n){"use strict";function r(t,e){return t&&t[e]?v.isFunction(t[e])?t[e]():t[e]:null}var i=n(1),o=i(n(505)),a=i(n(42)),s=i(n(68)),u=i(n(107)),c=i(n(10)),f=i(n(25)),l=i(n(53)),d=i(n(37)),h=i(n(140)),p=i(n(526)),v=n(2),_=n(43),y=n(27),b=y._request,g=n(31),m=g.isNullOrUndefined,O=g.ensureArray,w=g.transformFetchOptions,x=g.setValue,j=g.findValue,A=g.isPlainObject,S=g.continueWhile,E=function t(e){return v.isArray(e)?(0,a.default)(e).call(e,t):A(e)?v.mapObject(e,t):v.isObject(e)&&e._toPointer?e._toPointer():e},C=["objectId","createdAt","updatedAt"],T=function(t){if(-1!==(0,s.default)(C).call(C,t))throw new Error("key[".concat(t,"] is reserved"))},N=function(t){var e=(0,u.default)(v).call(v,t,function(t){return t instanceof Error});if(!e)return t;var n=new _(e.code,e.message);throw n.results=t,n};t.exports=function(t){t.Object=function(e,n){if(v.isString(e))return t.Object._create.apply(this,arguments);e=e||{},n&&n.parse&&(e=this.parse(e),e=this._mergeMagicFields(e));var i=r(this,"defaults");i&&(e=v.extend({},i,e)),n&&n.collection&&(this.collection=n.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=v.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=v.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return t.Object._deepSaveAsync(e,null,n)},t.Object.fetchAll=function(t,e){return c.default.resolve().then(function(){return b("batch",null,null,"POST",{requests:(0,a.default)(v).call(v,t,function(t){var e;if(!t.className)throw new Error("object must have className to fetch");if(!t.id)throw new Error("object must have id to fetch");if(t.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:(0,f.default)(e="/1.1/classes/".concat(t.className,"/")).call(e,t.id)}})},e)}).then(function(e){var n=(0,a.default)(v).call(v,t,function(t,n){if(e[n].success){var r=t.parse(e[n].success);return t._cleanupUnsetKeys(r),t._finishFetch(r),t}return null===e[n].success?new _(_.OBJECT_NOT_FOUND,"Object not found."):new _(e[n].error.code,e[n].error.error)});return N(n)})},v.extend(t.Object.prototype,t.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!v.isBoolean(t))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=t},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt},getUpdatedAt:function(){return this.updatedAt},toJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(n,!1)},toFullJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(t)},_toFullJSON:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=v.clone(this.attributes);if(v.isArray(e))var o=(0,f.default)(e).call(e,this);return t._objectEach(i,function(e,n){i[n]=t._encode(e,o,void 0,r)}),t._objectEach(this._operations,function(t,e){i[e]=t}),v.has(this,"id")&&(i.objectId=this.id),["createdAt","updatedAt"].forEach(function(t){if(v.has(n,t)){var e=n[t];i[t]=v.isDate(e)?e.toJSON():e}}),r&&(i.__type="Object",v.isArray(e)&&e.length&&(i.__type="Pointer"),i.className=this.className),i},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(n,r){n instanceof t.Object?n._refreshCache():v.isObject(n)&&e._resetCacheForKey(r)&&e.set(r,new t.Op.Set(n),{silent:!0})}),delete e._refreshingCache)},dirty:function(t){this._refreshCache();var e=v.last(this._opSetQueue);return t?!!e[t]:!this.id||(0,l.default)(v).call(v,e).length>0},dirtyKeys:function(){this._refreshCache();var t=v.last(this._opSetQueue);return(0,l.default)(v).call(v,t)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){switch(t){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[t];default:return this.attributes[t]}},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw new Error("Called relation() on non-relation field "+e);return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var n,r=this.attributes[t];return n=m(r)?"":v.escape(r.toString()),this._escapedAttributes[t]=n,n},has:function(t){return!m(this.attributes[t])},_mergeMagicFields:function(e){var n=this,r=["objectId","createdAt","updatedAt"];return t._arrayEach(r,function(r){e[r]&&("objectId"===r?n.id=e[r]:"createdAt"!==r&&"updatedAt"!==r||v.isDate(e[r])?n[r]=e[r]:n[r]=t._parseDate(e[r]),delete e[r])}),e},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=v.first(this._opSetQueue);this._opSetQueue=v.rest(this._opSetQueue);var n=v.first(this._opSetQueue);t._objectEach(e,function(t,r){var i=e[r],o=n[r];i&&o?n[r]=o._mergeWithPrevious(i):i&&(n[r]=i)}),this._saving=this._saving-1},_finishSave:function(e){var n,r={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(r[e.id]=e)});var i=v.first(this._opSetQueue);this._opSetQueue=v.rest(this._opSetQueue),this._applyOpSet(i,this._serverData),this._mergeMagicFields(e);var o=this;t._objectEach(e,function(e,n){o._serverData[n]=t._decode(e,n);var i=t._traverse(o._serverData[n],function(e){if(e instanceof t.Object&&r[e.id])return r[e.id]});i&&(o._serverData[n]=i)}),this._rebuildAllEstimatedData();var s=(0,a.default)(n=this._opSetQueue).call(n,v.clone);this._refreshCache(),this._opSetQueue=s,this._saving=this._saving-1},_finishFetch:function(e,n){this._opSetQueue=[{}],this._mergeMagicFields(e);var r=this;t._objectEach(e,function(e,n){r._serverData[n]=t._decode(e,n)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=n},_applyOpSet:function(e,n){var r=this;t._objectEach(e,function(e,i){var a=j(n,i),s=(0,o.default)(a,3),u=s[0],c=s[1],f=s[2];x(n,i,e._estimate(u,r,i)),c&&c[f]===t.Op._UNSET&&delete c[f]})},_resetCacheForKey:function(e){var n=this.attributes[e];if(v.isObject(n)&&!(n instanceof t.Object)&&!(n instanceof t.File)){var r=(0,d.default)(E(n));if(this._hashedJSON[e]!==r){var i=!!this._hashedJSON[e];return this._hashedJSON[e]=r,i}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(r){var i=r[e];if(i){var a=j(n.attributes,e),s=(0,o.default)(a,4),u=s[0],c=s[1],f=s[2],l=s[3];x(n.attributes,e,i._estimate(u,n,e)),c&&c[f]===t.Op._UNSET&&delete c[f],n._resetCacheForKey(l)}})},_rebuildAllEstimatedData:function(){var e=this,n=v.clone(this.attributes);this.attributes=v.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(n,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,r){v.has(n,r)||e.trigger("change:"+r,e,t,{})})},set:function(e,n,r){var i;if(v.isObject(e)||m(e)?(i=v.mapObject(e,function(e,n){return T(n),t._decode(e,n)}),r=n):(i={},T(e),i[e]=t._decode(n,e)),r=r||{},!i)return this;i instanceof t.Object&&(i=i.attributes),r.unset&&t._objectEach(i,function(e,n){i[n]=new t.Op.Unset});var o=v.clone(i),a=this;t._objectEach(o,function(e,n){e instanceof t.Op&&(o[n]=e._estimate(a.attributes[n],a,n),o[n]===t.Op._UNSET&&delete o[n])}),this._validate(i,r),r.changes={};var s=this._escapedAttributes;return t._arrayEach((0,l.default)(v).call(v,i),function(e){var n=i[e];n instanceof t.Relation&&(n.parent=a),n instanceof t.Op||(n=new t.Op.Set(n));var o=!0;n instanceof t.Op.Set&&v.isEqual(a.attributes[e],n.value)&&(o=!1),o&&(delete s[e],r.silent?a._silent[e]=!0:r.changes[e]=!0);var u=v.last(a._opSetQueue);u[e]=n._mergeWithPrevious(u[e]),a._rebuildEstimatedDataForKey(e),o?(a.changed[e]=a.attributes[e],r.silent||(a._pending[e]=!0)):(delete a.changed[e],delete a._pending[e])}),r.silent||this.change(r),this},unset:function(t,e){return e=e||{},e.unset=!0,this.set(t,null,e)},increment:function(e,n){return(v.isUndefined(n)||v.isNull(n))&&(n=1),this.set(e,new t.Op.Increment(n))},add:function(e,n){return this.set(e,new t.Op.Add(O(n)))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique(O(n)))},remove:function(e,n){return this.set(e,new t.Op.Remove(O(n)))},bitAnd:function(e,n){return this.set(e,new t.Op.BitAnd(n))},bitOr:function(e,n){return this.set(e,new t.Op.BitOr(n))},bitXor:function(e,n){return this.set(e,new t.Op.BitXor(n))},op:function(t){return v.last(this._opSetQueue)[t]},clear:function(t){t=t||{},t.unset=!0;var e=v.extend(this.attributes,this._operations);return this.set(e,t)},revert:function(t){var e=v.last(this._opSetQueue);return O(t||(0,l.default)(v).call(v,e)).forEach(function(t){delete e[t]}),this._rebuildAllEstimatedData(),this},_getSaveJSON:function(){var e=v.clone(v.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!this.id)throw new Error("Cannot fetch unsaved object");var n=this;return b("classes",this.className,this.id,"GET",w(t),e).then(function(e){var r=n.parse(e);return n._cleanupUnsetKeys(r,(0,l.default)(t)?O((0,l.default)(t)).join(",").split(","):void 0),n._finishFetch(r,!0),n})},_cleanupUnsetKeys:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,l.default)(v).call(v,this._serverData);v.forEach(n,function(n){void 0===t[n]&&delete e._serverData[n]})},save:function(e,n,r){var i,o,a;v.isObject(e)||m(e)?(i=e,a=n):(i={},i[e]=n,a=r),a=v.clone(a)||{},a.wait&&(o=v.clone(this.attributes));var s=v.clone(a)||{};s.wait&&(s.silent=!0),i&&this.set(i,s);var u=this,f=[],l=[];return t.Object._findUnsavedChildren(u,f,l),f.length+l.length>1?t.Object._deepSaveAsync(this,u,a):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||c.default.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch(function(t){}).then(function(){var t=u.id?"PUT":"POST",e=u._getSaveJSON(),n={};if((u._fetchWhenSave||a.fetchWhenSave)&&(n.new="true"),a._failOnNotExist&&(n.failOnNotExist="true"),a.query){var r;if("function"==typeof a.query._getParams&&(r=a.query._getParams())&&(n.where=r.where),!n.where){throw new Error("options.query is not an AV.Query")}}v.extend(e,u._flags);var c="classes",f=u.className;"_User"!==u.className||u.id||(c="users",f=null);var l=a._makeRequest||b,d=l(c,f,u.id,t,e,a,n);return d=d.then(function(t){var e=u.parse(t);return a.wait&&(e=v.extend(i||{},e)),u._finishSave(e),a.wait&&u.set(o,s),u},function(t){throw u._cancelSave(),t})}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,n=function(){e.trigger("destroy",e,e.collection,t)};return this.id?(t.wait||n(),b("classes",this.className,this.id,"DELETE",this._flags,t).then(function(){return t.wait&&n(),e})):n()},parse:function(e){var n=v.clone(e);return["createdAt","updatedAt"].forEach(function(e){n[e]&&(n[e]=t._parseDate(n[e]))}),n.createdAt&&!n.updatedAt&&(n.updatedAt=n.createdAt),n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var n=this._changing;this._changing=!0;var r=this;t._objectEach(this._silent,function(t){r._pending[t]=!0});var i=v.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(i,function(t,n){r.trigger("change:"+n,r,r.get(n),e)}),n)return this;for(var o=function(t,e){r._pending[e]||r._silent[e]||delete r.changed[e]};!v.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,o),r._previousAttributes=v.clone(this.attributes);return this._changing=!1,this},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return v.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(t){return!1}return!0},validate:function(e){if(v.has(e,"ACL")&&!(e.ACL instanceof t.ACL))throw new _(_.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(t,e){!e.silent&&this.validate&&(t=v.extend({},this.attributes,t),this.validate(t))},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(e){if(!v.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],e))throw new Error("Unsupported hookName: "+e);if(!t.hookKey)throw new Error("ignoreHook required hookKey");this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(e)}}),t.Object.createWithoutData=function(e,n,r){var i;if(v.isString(e))i=t.Object._getSubclass(e);else{if(!(e.prototype&&e.prototype instanceof t.Object))throw new Error("class must be a string or a subclass of AV.Object.");i=e}if(!n)throw new TypeError("The objectId must be provided");var o=new i;return o.id=n,o._hasData=r,o},t.Object.destroyAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||0===t.length)return c.default.resolve();var n=v.groupBy(t,function(t){return(0,d.default)({className:t.className,flags:t._flags})}),r={requests:(0,a.default)(v).call(v,n,function(t){var e,n=(0,a.default)(v).call(v,t,"id").join(",");return{method:"DELETE",path:(0,f.default)(e="/1.1/classes/".concat(t[0].className,"/")).call(e,n),body:t[0]._flags}})};return b("batch",null,null,"POST",r,e).then(function(t){var e=(0,u.default)(v).call(v,t,function(t){return!t.success});if(e)throw new _(e.error.code,e.error.error)})},t.Object._getSubclass=function(e){if(!v.isString(e))throw new Error("AV.Object._getSubclass requires a string argument.");var n=t.Object._classMap[e];return n||(n=t.Object.extend(e),t.Object._classMap[e]=n),n},t.Object._create=function(e,n,r){return new(t.Object._getSubclass(e))(n,r)},t.Object._classMap={},t.Object._extend=t._extend,t.Object.new=function(e,n){return new t.Object(e,n)},t.Object.extend=function(e,n,r){if(!v.isString(e)){if(e&&v.has(e,"className"))return t.Object.extend(e.className,e,n);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===e&&(e="_User");var i=null;if(v.has(t.Object._classMap,e)){var o=t.Object._classMap[e];if(!n&&!r)return o;i=o._extend(n,r)}else n=n||{},n._className=e,i=this._extend(n,r);return i.extend=function(n){var r;if(v.isString(n)||n&&v.has(n,"className"))return t.Object.extend.apply(i,arguments);var o=(0,f.default)(r=[e]).call(r,v.toArray(arguments));return t.Object.extend.apply(i,o)},(0,h.default)(i,"query",(0,p.default)(t.Object,"query")),i.new=function(t,e){return new i(t,e)},t.Object._classMap[e]=i,i},(0,h.default)(t.Object.prototype,"className",{get:function(){var t=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===t?"_User":t}}),t.Object.register=function(e,n){if(!(e.prototype instanceof t.Object))throw new Error("registered class is not a subclass of AV.Object");var r=n||e.name;if(!r.length)throw new Error("registered class must be named");n&&(e._LCClassName=n),t.Object._classMap[r]=e},(0,h.default)(t.Object,"query",{get:function(){return new t.Query(this.prototype.className)}}),t.Object._findUnsavedChildren=function(e,n,r){t._traverse(e,function(e){return e instanceof t.Object?void(e.dirty()&&n.push(e)):e instanceof t.File?void(e.id||r.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){var n=!0;return e instanceof t.Object||e instanceof t.File?n=!!e.id:v.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}):v.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}),n},t.Object._deepSaveAsync=function(e,n,r){var i=[],o=[];t.Object._findUnsavedChildren(e,i,o),o=v.uniq(o);var s=c.default.resolve();v.each(o,function(t){s=s.then(function(){return t.save()})});var u=v.uniq(i),f=v.uniq(u);return s.then(function(){return S(function(){return f.length>0},function(){var e=[],n=[];if(t._arrayEach(f,function(t){t._canBeSerialized()?e.push(t):n.push(t)}),f=n,0===e.length)return c.default.reject(new _(_.OTHER_CAUSE,"Tried to save a batch with a cycle."));var i=c.default.resolve((0,a.default)(v).call(v,e,function(t){return t._allPreviousSaves||c.default.resolve()})),o=i.then(function(){return b("batch",null,null,"POST",{requests:(0,a.default)(v).call(v,e,function(t){var e=t.id?"PUT":"POST",n=t._getSaveJSON();v.extend(n,t._flags);var i=t.className,o="/".concat("classes","/").concat(i);"_User"!==t.className||t.id||(o="/users");var o="/1.1".concat(o);return t.id&&(o=o+"/"+t.id),t._startSave(),{method:e,path:o,body:n,params:r&&r.fetchWhenSave?{fetchWhenSave:!0}:void 0}})},r).then(function(t){var n=(0,a.default)(v).call(v,e,function(e,n){return t[n].success?(e._finishSave(e.parse(t[n].success)),e):(e._cancelSave(),new _(t[n].error.code,t[n].error.error))});return N(n)})});return t._arrayEach(e,function(t){t._allPreviousSaves=o}),o})}).then(function(){return e})}}},function(t,e,n){function r(t,e){return i(t)||o(t,e)||a(t,e)||s()}var i=n(506),o=n(514),a=n(515),s=n(525);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){function r(t){if(i(t))return t}var i=n(507);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(508)},function(t,e,n){t.exports=n(509)},function(t,e,n){var r=n(510);t.exports=r},function(t,e,n){var r=n(511);t.exports=r},function(t,e,n){var r=n(512);t.exports=r},function(t,e,n){n(513);var r=n(15);t.exports=r.Array.isArray},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(86)})},function(t,e,n){function r(t,e){var n=null==t?null:void 0!==i&&o(t)||t["@@iterator"];if(null!=n){var r,a,s=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(s.push(r.value),!e||s.length!==e);u=!0);}catch(t){c=!0,a=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw a}}return s}}var i=n(229),o=n(238);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){function r(t,e){var n;if(t){if("string"==typeof t)return a(t,e);var r=i(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?o(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}var i=n(516),o=n(520),a=n(524);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(517)},function(t,e,n){t.exports=n(518)},function(t,e,n){var r=n(519);t.exports=r},function(t,e,n){var r=n(227);t.exports=r},function(t,e,n){t.exports=n(521)},function(t,e,n){t.exports=n(522)},function(t,e,n){var r=n(523);t.exports=r},function(t,e,n){var r=n(237);t.exports=r},function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(527)},function(t,e,n){var r=n(528);t.exports=r},function(t,e,n){n(529);var r=n(15),i=r.Object,o=t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)};i.getOwnPropertyDescriptor.sham&&(o.sham=!0)},function(t,e,n){var r=n(0),i=n(3),o=n(35),a=n(73).f,s=n(20),u=i(function(){a(1)});r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){"use strict";var r=n(2),i=n(43);t.exports=function(t){t.Role=t.Object.extend("_Role",{constructor:function(e,n){if(r.isString(e)?(t.Object.prototype.constructor.call(this,null,null),this.setName(e)):t.Object.prototype.constructor.call(this,e,n),n){if(!(n instanceof t.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(n)}},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,n){if("name"in e&&e.name!==this.getName()){var o=e.name;if(this.id&&this.id!==e.objectId)return new i(i.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!r.isString(o))return new i(i.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(o))return new i(i.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!t.Object.prototype.validate&&t.Object.prototype.validate.call(this,e,n)}})}},function(t,e,n){"use strict";var r=n(1),i=r(n(532)),o=r(n(10)),a=r(n(42)),s=r(n(107)),u=r(n(37)),c=n(2),f=n(219),l=n(43),d=n(27),h=d._request,p=d.request,v=n(70),_=v.getAdapter,y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"weixin";return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.unionIdPlatform,o=void 0===i?t:i,a=r.asMainAccount,s=void 0!==a&&a;if("string"!=typeof n)throw new l(l.OTHER_CAUSE,"unionId is not a string");if("string"!=typeof o)throw new l(l.OTHER_CAUSE,"unionIdPlatform is not a string");return c.extend({},e,{platform:o,unionid:n,main_account:Boolean(s)})}};t.exports=function(t){t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(e){return e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,n){e._synchronizeAuthData(n)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var n;c.isString(e)?(n=e,e=t.User._authProviders[n]):n=e.getAuthType();var r=this.get("authData");if(r&&e){e.restoreAuthentication(r[n])||this.dissociateAuthData(e)}}},_handleSaveResult:function(e){return e&&!t._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!e&&!this.isCurrent()||t._config.disableCurrentUser?o.default.resolve():o.default.resolve(t.User._saveCurrentUser(this))},_linkWith:function(e,n){var r,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a.failOnNotExist,u=void 0!==s&&s,f=a.useMasterKey,l=a.sessionToken,d=a.user;return c.isString(e)?(r=e,e=t.User._authProviders[e]):r=e.getAuthType(),n?this.save({authData:(0,i.default)({},r,n)},{useMasterKey:f,sessionToken:l,user:d,fetchWhenSave:!!this.get("authData"),_failOnNotExist:u}).then(function(t){return t._handleSaveResult(!0).then(function(){return t})}):e.authenticate().then(function(t){return o._linkWith(e,t)})},associateWithAuthData:function(t,e){return this._linkWith(e,t)},associateWithAuthDataAndUnionId:function(t,e,n,r){return this._linkWith(e,y()(t,n,r))},associateWithMiniApp:function(t,e){var n=this;if(void 0===t){return _("getAuthInfo")().then(function(t){return n._linkWith(t.provider,t.authData,e)})}return this._linkWith(t.provider,t.authData,e)},associateWithQQApp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.preferUnionId,r=void 0!==n&&n,i=e.unionIdPlatform,o=void 0===i?"qq":i,a=e.asMainAccount,s=void 0===a||a;return _("getAuthInfo")({preferUnionId:r,asMainAccount:s,platform:o}).then(function(e){return e.provider="lc_qqapp",t.associateWithMiniApp(e)})},associateWithWeapp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.preferUnionId,r=void 0!==n&&n,i=e.unionIdPlatform,o=void 0===i?"weixin":i,a=e.asMainAccount,s=void 0===a||a;return _("getAuthInfo")({preferUnionId:r,asMainAccount:s,platform:o}).then(function(e){return t.associateWithMiniApp(e)})},linkWithWeapp:function(t){return console.warn("DEPRECATED: User#linkWithWeapp 已废弃，请使用 User#associateWithWeapp 代替"),this.associateWithWeapp(t)},associateWithQQAppWithUnionId:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"qq":i,a=r.asMainAccount,s=void 0!==a&&a;return _("getAuthInfo")({platform:o}).then(function(r){return r=t.User.mergeUnionId(r,e,{asMainAccount:s}),r.provider="lc_qqapp",n.associateWithMiniApp(r)})},associateWithWeappWithUnionId:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"weixin":i,a=r.asMainAccount,s=void 0!==a&&a;return _("getAuthInfo")({platform:o}).then(function(r){return r=t.User.mergeUnionId(r,e,{asMainAccount:s}),n.associateWithMiniApp(r)})},dissociateAuthData:function(t){return this.unset("authData.".concat(t)),this.save().then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_unlinkFrom:function(t){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(t)},_isLinked:function(t){var e;return e=c.isString(t)?t:t.getAuthType(),!!(this.get("authData")||{})[e]},isAnonymous:function(){return this._isLinked("anonymous")},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var e=this;t._objectEach(this.get("authData"),function(t,n){e._logOutWith(n)})}},_logOutWith:function(e){this.isCurrent()&&(c.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(t,e){var n=t&&t.username||this.get("username");if(!n||""===n)throw new l(l.OTHER_CAUSE,"Cannot sign up user with an empty name.");var r=t&&t.password||this.get("password");if(!r||""===r)throw new l(l.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(t,e).then(function(t){return t.isAnonymous()&&(t.unset("authData.".concat("anonymous")),t._opSetQueue=[{}]),t._handleSaveResult(!0).then(function(){return t})})},signUpOrlogInWithMobilePhone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t&&t.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!n||""===n)throw new l(l.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var r=t&&t.smsCode||this.get("smsCode");if(!r||""===r)throw new l(l.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return e._makeRequest=function(t,e,n,r,i){return h("usersByMobilePhone",null,null,"POST",i)},this.save(t,e).then(function(t){return delete t.attributes.smsCode,delete t._serverData.smsCode,t._handleSaveResult(!0).then(function(){return t})})},loginWithAuthData:function(t,e,n){return this._linkWith(e,t,n)},loginWithAuthDataAndUnionId:function(t,e,n,r){return this.loginWithAuthData(y()(t,n,r),e,r)},loginWithWeapp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.preferUnionId,r=void 0!==n&&n,i=e.unionIdPlatform,o=void 0===i?"weixin":i,a=e.asMainAccount,s=void 0===a||a,u=e.failOnNotExist,c=void 0!==u&&u,f=e.useMasterKey,l=e.sessionToken,d=e.user;return _("getAuthInfo")({preferUnionId:r,asMainAccount:s,platform:o}).then(function(e){return t.loginWithMiniApp(e,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithWeappWithUnionId:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"weixin":i,a=r.asMainAccount,s=void 0!==a&&a,u=r.failOnNotExist,c=void 0!==u&&u,f=r.useMasterKey,l=r.sessionToken,d=r.user;return _("getAuthInfo")({platform:o}).then(function(r){return r=t.User.mergeUnionId(r,e,{asMainAccount:s}),n.loginWithMiniApp(r,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithQQApp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.preferUnionId,r=void 0!==n&&n,i=e.unionIdPlatform,o=void 0===i?"qq":i,a=e.asMainAccount,s=void 0===a||a,u=e.failOnNotExist,c=void 0!==u&&u,f=e.useMasterKey,l=e.sessionToken,d=e.user;return _("getAuthInfo")({preferUnionId:r,asMainAccount:s,platform:o}).then(function(e){return e.provider="lc_qqapp",t.loginWithMiniApp(e,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithQQAppWithUnionId:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"qq":i,a=r.asMainAccount,s=void 0!==a&&a,u=r.failOnNotExist,c=void 0!==u&&u,f=r.useMasterKey,l=r.sessionToken,d=r.user;return _("getAuthInfo")({platform:o}).then(function(r){return r=t.User.mergeUnionId(r,e,{asMainAccount:s}),r.provider="lc_qqapp",n.loginWithMiniApp(r,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithMiniApp:function(t,e){var n=this;if(void 0===t){return _("getAuthInfo")().then(function(t){return n.loginWithAuthData(t.authData,t.provider,e)})}return this.loginWithAuthData(t.authData,t.provider,e)},logIn:function(){var t=this;return h("login",null,null,"POST",this.toJSON()).then(function(e){var n=t.parse(e);return t._finishFetch(n),t._handleSaveResult(!0).then(function(){return n.smsCode||delete t.attributes.smsCode,t})})},save:function(e,n,r){var i,o;return c.isObject(e)||c.isNull(e)||c.isUndefined(e)?(i=e,o=n):(i={},i[e]=n,o=r),o=o||{},t.Object.prototype.save.call(this,i,o).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},follow:function(e,n){if(!this.id)throw new Error("Please signin.");var r,i;e.user?(r=e.user,i=e.attributes):r=e;var o=c.isString(r)?r:r.id;if(!o)throw new Error("Invalid target user.");var a="users/"+this.id+"/friendship/"+o;return h(a,null,null,"POST",t._encode(i),n)},unfollow:function(t,e){if(!this.id)throw new Error("Please signin.");var n;n=t.user?t.user:t;var r=c.isString(n)?n:n.id;if(!r)throw new Error("Invalid target user.");var i="users/"+this.id+"/friendship/"+r;return h(i,null,null,"DELETE",null,e)},getFollowersAndFollowees:function(e,n){if(!this.id)throw new Error("Please signin.");return p({method:"GET",path:"/users/".concat(this.id,"/followersAndFollowees"),query:{skip:e&&e.skip,limit:e&&e.limit,include:"follower,followee",keys:"follower,followee"},authOptions:n}).then(function(e){var n=e.followers,r=e.followees;return{followers:(0,a.default)(n).call(n,function(e){var n=e.follower;return t._decode(n)}),followees:(0,a.default)(r).call(r,function(e){var n=e.followee;return t._decode(n)})}})},followerQuery:function(){return t.User.followerQuery(this.id)},followeeQuery:function(){return t.User.followeeQuery(this.id)},fetch:function(e,n){return t.Object.prototype.fetch.call(this,e,n).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})},updatePassword:function(t,e,n){var r=this,i="users/"+this.id+"/updatePassword";return h(i,null,null,"PUT",{old_password:t,new_password:e},n).then(function(t){return r._finishFetch(r.parse(t)),r._handleSaveResult(!0).then(function(){return t})})},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(t,e){return this.set("mobilePhoneNumber",t,e)},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!t._config.disableCurrentUser&&t.User.current()&&t.User.current().id===this.id},isAuthenticated:function(){var e=this;return o.default.resolve().then(function(){return!!e._sessionToken&&t.User._fetchUserBySessionToken(e._sessionToken).then(function(){return!0},function(t){if(211===t.code)return!1;throw t})})},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(t){var e=this;return h("users/".concat(this.id,"/refreshSessionToken"),null,null,"PUT",null,t).then(function(t){return e._finishFetch(t),e._handleSaveResult(!0).then(function(){return e})})},getRoles:function(e){var n;return(0,s.default)(n=t.Relation.reverseQuery("_Role","users",this)).call(n,e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(e,n,r,i){return r=r||{},r.username=e,r.password=n,t.Object._create("_User").signUp(r,i)},logIn:function(e,n){var r=t.Object._create("_User");return r._finishFetch({username:e,password:n}),r.logIn()},become:function(t){return this._fetchUserBySessionToken(t).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})},_fetchUserBySessionToken:function(e){if(void 0===e)return o.default.reject(new Error("The sessionToken cannot be undefined"));var n=t.Object._create("_User");return p({method:"GET",path:"/users/me",authOptions:{sessionToken:e}}).then(function(t){var e=n.parse(t);return n._finishFetch(e),n})},logInWithMobilePhoneSmsCode:function(e,n){var r=t.Object._create("_User");return r._finishFetch({mobilePhoneNumber:e,smsCode:n}),r.logIn()},signUpOrlogInWithMobilePhone:function(e,n,r,i){return r=r||{},r.mobilePhoneNumber=e,r.smsCode=n,t.Object._create("_User").signUpOrlogInWithMobilePhone(r,i)},logInWithMobilePhone:function(e,n){var r=t.Object._create("_User");return r._finishFetch({mobilePhoneNumber:e,password:n}),r.logIn()},loginWithEmail:function(e,n){var r=t.Object._create("_User");return r._finishFetch({email:e,password:n}),r.logIn()},loginWithAuthData:function(e,n,r){return t.User._logInWith(n,e,r)},signUpOrlogInWithAuthData:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthData 已废弃，请使用 User#loginWithAuthData 代替"),this.loginWithAuthData.apply(this,arguments)},loginWithAuthDataAndUnionId:function(t,e,n,r){return this.loginWithAuthData(y()(t,n,r),e,r)},signUpOrlogInWithAuthDataAndUnionId:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId 已废弃，请使用 User#loginWithAuthDataAndUnionId 代替"),this.loginWithAuthDataAndUnionId.apply(this,arguments)},mergeUnionId:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.asMainAccount,i=void 0!==r&&r;t=JSON.parse((0,u.default)(t));var o=t,a=o.authData,s=o.platform;return a.platform=s,a.main_account=i,a.unionid=e,t},loginWithWeapp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.preferUnionId,r=void 0!==n&&n,i=e.unionIdPlatform,o=void 0===i?"weixin":i,a=e.asMainAccount,s=void 0===a||a,u=e.failOnNotExist,c=void 0!==u&&u,f=e.useMasterKey,l=e.sessionToken,d=e.user;return _("getAuthInfo")({preferUnionId:r,asMainAccount:s,platform:o}).then(function(e){return t.loginWithMiniApp(e,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithWeappWithUnionId:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"weixin":i,a=r.asMainAccount,s=void 0!==a&&a,u=r.failOnNotExist,c=void 0!==u&&u,f=r.useMasterKey,l=r.sessionToken,d=r.user;return _("getAuthInfo")({platform:o}).then(function(r){return r=t.User.mergeUnionId(r,e,{asMainAccount:s}),n.loginWithMiniApp(r,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithQQApp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.preferUnionId,r=void 0!==n&&n,i=e.unionIdPlatform,o=void 0===i?"qq":i,a=e.asMainAccount,s=void 0===a||a,u=e.failOnNotExist,c=void 0!==u&&u,f=e.useMasterKey,l=e.sessionToken,d=e.user;return _("getAuthInfo")({preferUnionId:r,asMainAccount:s,platform:o}).then(function(e){return e.provider="lc_qqapp",t.loginWithMiniApp(e,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithQQAppWithUnionId:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.unionIdPlatform,o=void 0===i?"qq":i,a=r.asMainAccount,s=void 0!==a&&a,u=r.failOnNotExist,c=void 0!==u&&u,f=r.useMasterKey,l=r.sessionToken,d=r.user;return _("getAuthInfo")({platform:o}).then(function(r){return r=t.User.mergeUnionId(r,e,{asMainAccount:s}),r.provider="lc_qqapp",n.loginWithMiniApp(r,{failOnNotExist:c,useMasterKey:f,sessionToken:l,user:d})})},loginWithMiniApp:function(t,e){var n=this;if(void 0===t){return _("getAuthInfo")().then(function(t){return n.loginWithAuthData(t.authData,t.provider,e)})}return this.loginWithAuthData(t.authData,t.provider,e)},_genId:function(){return f()},loginAnonymously:function(){return this.loginWithAuthData({id:t.User._genId()},"anonymous")},associateWithAuthData:function(t,e,n){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#associateWithAuthData 代替"),t._linkWith(e,n)},logOut:function(){return t._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),o.default.resolve(null)):(null!==t.User._currentUser&&(t.User._currentUser._logOutWithAll(),t.User._currentUser._isCurrentUser=!1),t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,t.localStorage.removeItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(){return t._refreshSubscriptionId()}))},followerQuery:function(e){if(!e||!c.isString(e))throw new Error("Invalid user object id.");var n=new t.FriendShipQuery("_Follower");return n._friendshipTag="follower",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},followeeQuery:function(e){if(!e||!c.isString(e))throw new Error("Invalid user object id.");var n=new t.FriendShipQuery("_Followee");return n._friendshipTag="followee",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},requestPasswordReset:function(t){return h("requestPasswordReset",null,null,"POST",{email:t})},requestEmailVerify:function(t){return h("requestEmailVerify",null,null,"POST",{email:t})},requestMobilePhoneVerify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),h("requestMobilePhoneVerify",null,null,"POST",n,e)},requestPasswordResetBySmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),h("requestPasswordResetBySmsCode",null,null,"POST",n,e)},requestChangePhoneNumber:function(t,e,n){var r={mobilePhoneNumber:t};return e&&(r.ttl=n.ttl),n&&n.validateToken&&(r.validate_token=n.validateToken),h("requestChangePhoneNumber",null,null,"POST",r,n)},changePhoneNumber:function(t,e){return h("changePhoneNumber",null,null,"POST",{mobilePhoneNumber:t,code:e})},resetPasswordBySmsCode:function(t,e){return h("resetPasswordBySmsCode",null,t,"PUT",{password:e})},verifyMobilePhone:function(t){return h("verifyMobilePhone",null,t,"POST",null)},requestLoginSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mobilePhoneNumber:t};return e.validateToken&&(n.validate_token=e.validateToken),h("requestLoginSmsCode",null,null,"POST",n,e)},currentAsync:function(){return t._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),o.default.resolve(null)):t.User._currentUser?o.default.resolve(t.User._currentUser):t.User._currentUserMatchesDisk?o.default.resolve(t.User._currentUser):t.localStorage.getItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUserMatchesDisk=!0,t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},current:function(){if(t._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(t.localStorage.async){var e=new Error("Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.");throw e.code="SYNC_API_NOT_AVAILABLE",e}if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var n=t.localStorage.getItem(t._getAVPath(t.User._CURRENT_USER_KEY));if(!n)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var r=JSON.parse(n);return t.User._currentUser.id=r._id,delete r._id,t.User._currentUser._sessionToken=r._sessionToken,delete r._sessionToken,t.User._currentUser._finishFetch(r),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_saveCurrentUser:function(e){var n;return n=t.User._currentUser!==e?t.User.logOut():o.default.resolve(),n.then(function(){e._isCurrentUser=!0,t.User._currentUser=e;var n=e._toFullJSON();return n._id=e.id,n._sessionToken=e._sessionToken,t.localStorage.setItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY),(0,u.default)(n)).then(function(){return t.User._currentUserMatchesDisk=!0,t._refreshSubscriptionId()})})},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,!t._config.disableCurrentUser&&t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n,r){return t.Object._create("_User")._linkWith(e,n,r)}})}},function(t,e,n){function r(t,e,n){return e in t?i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(143);t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1),i=r(n(42)),o=r(n(10)),a=r(n(53)),s=r(n(37)),u=r(n(107)),c=r(n(25)),f=n(2),l=n(69)("leancloud:query"),d=n(43),h=n(27),p=h._request,v=h.request,_=n(31),y=_.ensureArray,b=_.transformFetchOptions,g=_.continueWhile,m=function(t,e){if(void 0===t)throw new Error(e)};t.exports=function(t){t.Query=function(e){f.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._defaultParams={}},t.Query.or=function(){var e=f.toArray(arguments),n=null;t._arrayEach(e,function(t){if(f.isNull(n)&&(n=t.className),n!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(n);return r._orQuery(e),r},t.Query.and=function(){var e=f.toArray(arguments),n=null;t._arrayEach(e,function(t){if(f.isNull(n)&&(n=t.className),n!==t.className)throw new Error("All queries must be for the same class")});var r=new t.Query(n);return r._andQuery(e),r},t.Query.doCloudQuery=function(e,n,r){var o={cql:e};return f.isArray(n)?o.pvalues=n:r=n,p("cloudQuery",null,null,"GET",o,r).then(function(e){var n=new t.Query(e.className);return{results:(0,i.default)(f).call(f,e.results,function(t){var r=n._newObject(e);return r._finishFetch&&r._finishFetch(n._processResult(t),!0),r}),count:e.count,className:e.className}})},t.Query.fromJSON=function(e){var n=e.className,r=e.where,i=e.include,o=e.select,a=e.includeACL,s=e.limit,u=e.skip,c=e.order;if("string"!=typeof n)throw new TypeError("Invalid Query JSON, className must be a String.");var l=new t.Query(n);return f.extend(l,{_where:r,_include:i,_select:o,_includeACL:a,_limit:s,_skip:u,_order:c}),l},t.Query._extend=t._extend,f.extend(t.Query.prototype,{_processResult:function(t){return t},get:function(t,e){if(!f.isString(t))throw new Error("objectId must be a string");if(""===t)return o.default.reject(new d(d.OBJECT_NOT_FOUND,"Object not found."));var n=this._newObject();n.id=t;var r=this._getParams(),i={};return(0,a.default)(r)&&(i.keys=(0,a.default)(r)),r.include&&(i.include=r.include),r.includeACL&&(i.includeACL=r.includeACL),p("classes",this.className,t,"GET",b(i),e).then(function(t){if(f.isEmpty(t))throw new d(d.OBJECT_NOT_FOUND,"Object not found.");return n._finishFetch(n.parse(t),!0),n})},toJSON:function(){return{className:this.className,where:this._where,include:this._include,select:this._select,includeACL:this._includeACL,limit:this._limit,skip:this._skip,order:this._order}},_getParams:function(){var t=f.extend({},this._defaultParams,{where:this._where});return this._include.length>0&&(t.include=this._include.join(",")),this._select.length>0&&(t.keys=this._select.join(",")),void 0!==this._includeACL&&(t.returnACL=this._includeACL),this._limit>=0&&(t.limit=this._limit),this._skip>0&&(t.skip=this._skip),void 0!==this._order&&(t.order=this._order),t},_newObject:function(e){return e&&e.className?new t.Object(e.className):new this.objectClass},_createRequest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getParams(),e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/".concat(this.className);if(encodeURIComponent((0,s.default)(t)).length>2e3){var r={requests:[{method:"GET",path:"/1.1".concat(n),params:t}]};return v({path:"/batch",method:"POST",data:r,authOptions:e}).then(function(t){var e=t[0];if(e.success)return e.success;throw new d(e.error.code,e.error.error||"Unknown batch error")})}return v({method:"GET",path:n,query:t,authOptions:e})},_parseResponse:function(t){var e=this;return(0,i.default)(f).call(f,t.results,function(n){var r=e._newObject(t);return r._finishFetch&&r._finishFetch(e._processResult(n),!0),r})},find:function(t){return this._createRequest(void 0,t).then(this._parseResponse.bind(this))},findAndCount:function(t){var e=this,n=this._getParams();return n.count=1,this._createRequest(n,t).then(function(t){return[e._parseResponse(t),t.count]})},scan:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.orderedBy,r=e.batchSize,i=arguments.length>1?arguments[1]:void 0,a=this._getParams();l("scan %O",a),a.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete a.order),a.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete a.skip),a.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete a.limit),n&&(a.scan_key=n),r&&(a.limit=r);var s,u=[];return{next:function(){return u.length?o.default.resolve({done:!1,value:u.shift()}):null===s?o.default.resolve({done:!0}):p("scan/classes",t.className,null,"GET",s?f.extend({},a,{cursor:s}):a,i).then(function(e){if(s=e.cursor,e.results.length){t._parseResponse(e).forEach(function(t){return u.push(t)})}return null===s&&0===u.length?{done:!0}:{done:!1,value:u.shift()}})}}},destroyAll:function(e){var n=this;return(0,u.default)(n).call(n,e).then(function(n){return t.Object.destroyAll(n,e)})},count:function(t){var e=this._getParams();return e.limit=0,e.count=1,this._createRequest(e,t).then(function(t){return t.count})},first:function(t){var e=this,n=this._getParams();return n.limit=1,this._createRequest(n,t).then(function(t){return(0,i.default)(f).call(f,t.results,function(t){var n=e._newObject();return n._finishFetch&&n._finishFetch(e._processResult(t),!0),n})[0]})},skip:function(t){return m(t,"undefined is not a valid skip value"),this._skip=t,this},limit:function(t){return m(t,"undefined is not a valid limit value"),this._limit=t,this},equalTo:function(e,n){return m(e,"undefined is not a valid key"),m(n,"undefined is not a valid value"),this._where[e]=t._encode(n),this},_addCondition:function(e,n,r){return m(e,"undefined is not a valid condition key"),m(n,"undefined is not a valid condition"),m(r,"undefined is not a valid condition value"),this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(r),this},sizeEqualTo:function(t,e){return this._addCondition(t,"$size",e),this},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,n){return this._addCondition(t,"$regex",e),n||(n=""),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&n.length&&this._addCondition(t,"$options",n),this},matchesQuery:function(t,e){var n=e._getParams();return n.className=e.className,this._addCondition(t,"$inQuery",n),this},doesNotMatchQuery:function(t,e){var n=e._getParams();return n.className=e.className,this._addCondition(t,"$notInQuery",n),this},matchesKeyInQuery:function(t,e,n){var r=n._getParams();return r.className=n.className,this._addCondition(t,"$select",{key:e,query:r}),this},doesNotMatchKeyInQuery:function(t,e,n){var r=n._getParams();return r.className=n.className,this._addCondition(t,"$dontSelect",{key:e,query:r}),this},_orQuery:function(t){var e=(0,i.default)(f).call(f,t,function(t){return t._getParams().where});return this._where.$or=e,this},_andQuery:function(t){var e=(0,i.default)(f).call(f,t,function(t){return t._getParams().where});return this._where.$and=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return m(t,"undefined is not a valid key"),this._order=t,this},addAscending:function(t){return m(t,"undefined is not a valid key"),this._order?this._order+=","+t:this._order=t,this},descending:function(t){return m(t,"undefined is not a valid key"),this._order="-"+t,this},addDescending:function(t){return m(t,"undefined is not a valid key"),this._order?this._order+=",-"+t:this._order="-"+t,this},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(t,e,n){return this.near(t,e),this._addCondition(t,"$maxDistance",n),this},withinMiles:function(t,e,n){return this.withinRadians(t,e,n/3958.8)},withinKilometers:function(t,e,n){return this.withinRadians(t,e,n/6371)},withinGeoBox:function(e,n,r){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),r instanceof t.GeoPoint||(r=new t.GeoPoint(r)),this._addCondition(e,"$within",{$box:[n,r]}),this},include:function(t){var e=this;return m(t,"undefined is not a valid key"),f.forEach(arguments,function(t){var n;e._include=(0,c.default)(n=e._include).call(n,y(t))}),this},includeACL:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=t,this},select:function(t){var e=this;return m(t,"undefined is not a valid key"),f.forEach(arguments,function(t){var n;e._select=(0,c.default)(n=e._select).call(n,y(t))}),this},each:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var r=new Error("Cannot iterate on a query with sort, skip, or limit.");return o.default.reject(r)}var i=new t.Query(this.objectClass);i._limit=n.batchSize||100,i._where=f.clone(this._where),i._include=f.clone(this._include),i.ascending("objectId");var a=!1;return g(function(){return!a},function(){return(0,u.default)(i).call(i,n).then(function(t){var n=o.default.resolve();return f.each(t,function(t){n=n.then(function(){return e(t)})}),n.then(function(){t.length>=i._limit?i.greaterThan("objectId",t[t.length-1].id):a=!0})})})},subscribe:function(e){return t.LiveQuery.init(this,e)}}),t.FriendShipQuery=t.Query._extend({_newObject:function(){return new(t.Object._getSubclass("_User"))},_processResult:function(t){if(t&&t[this._friendshipTag]){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}return null}})}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=r(n(53)),a=n(2),s=n(223),u=n(31),c=u.inherits,f=n(27),l=f.request,d=function(t,e){return l({method:"POST",path:"/LiveQuery/subscribe",data:{query:t,id:e}})};t.exports=function(t){var e=function(){if(!t._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query")};t.LiveQuery=c(s,{constructor:function(t,e,n,r){var i=this;s.apply(this),this.id=t,this._client=e,this._client.register(this),this._queryJSON=n,this._subscriptionId=r,this._onMessage=this._dispatch.bind(this),this._onReconnect=function(){d(i._queryJSON,i._subscriptionId).catch(function(t){return console.error("LiveQuery resubscribe error: ".concat(t.message))})},e.on("message",this._onMessage),e.on("reconnect",this._onReconnect)},_dispatch:function(e){var n=this;e.forEach(function(e){var r=e.op,i=e.object,o=e.query_id,s=e.updatedKeys;if(o===n.id){var u=t.parseJSON(a.extend({__type:"_File"===i.className?"File":"Object"},i));s?n.emit(r,u,s):n.emit(r,u)}})},unsubscribe:function(){var t=this._client;return t.off("message",this._onMessage),t.off("reconnect",this._onReconnect),t.deregister(this),l({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:t.id,query_id:this.id}})}},{init:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.subscriptionId,s=void 0===a?t._getSubscriptionId():a;if(e(),!(n instanceof t.Query))throw new TypeError("LiveQuery must be inited with a Query");return i.default.resolve(s).then(function(e){return t._config.realtime.createLiveQueryClient(e).then(function(r){var i=n._getParams(),a=i.where,s=(0,o.default)(i),u=i.returnACL,c={where:a,keys:s,returnACL:u,className:n.className},f=d(c,e).then(function(n){var i=n.query_id;return new t.LiveQuery(i,r,c,e)}).finally(function(){r.deregister(f)});return r.register(f),f})})},pause:function(){return e(),t._config.realtime.pause()},resume:function(){return e(),t._config.realtime.resume()}})}},function(t,e,n){"use strict";var r=n(2),i=n(31),o=i.tap;t.exports=function(t){t.Captcha=function(t,e){this._options=t,this._authOptions=e,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},t.Captcha.prototype.refresh=function(){var e=this;return t.Cloud._requestCaptcha(this._options,this._authOptions).then(function(t){var n=t.captchaToken,i=t.url;return r.extend(e,{captchaToken:n,url:i}),i})},t.Captcha.prototype.verify=function(e){var n=this;return t.Cloud.verifyCaptcha(e,this.captchaToken).then(o(function(t){return n.validateToken=t}))},t.Captcha.prototype.bind=function(t,e){var n=this,r=t.textInput,i=t.image,o=t.verifyButton,a=e.success,s=e.error;if("string"==typeof r&&!(r=document.getElementById(r)))throw new Error("textInput with id ".concat(r," not found"));if("string"==typeof i&&!(i=document.getElementById(i)))throw new Error("image with id ".concat(i," not found"));if("string"==typeof o&&!(o=document.getElementById(o)))throw new Error("verifyButton with id ".concat(o," not found"));this.__refresh=function(){return n.refresh().then(function(t){i.src=t,r&&(r.value="",r.focus())}).catch(function(t){return console.warn("refresh captcha fail: ".concat(t.message))})},i&&(this.__image=i,i.src=this.url,i.addEventListener("click",this.__refresh)),this.__verify=function(){var t=r.value;n.verify(t).catch(function(t){throw n.__refresh(),t}).then(a,s).catch(function(t){return console.warn("verify captcha fail: ".concat(t.message))})},r&&o&&(this.__verifyButton=o,o.addEventListener("click",this.__verify))},t.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},t.Captcha.request=function(e,n){var r=new t.Captcha(e,n);return r.refresh().then(function(){return r})}}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(2),a=n(27),s=a._request,u=a.request;t.exports=function(t){t.Cloud=t.Cloud||{},o.extend(t.Cloud,{run:function(e,n,r){return u({service:"engine",method:"POST",path:"/functions/".concat(e),data:t._encode(n,null,!0),authOptions:r}).then(function(e){return t._decode(e).result})},rpc:function(e,n,r){return o.isArray(n)?i.default.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):u({service:"engine",method:"POST",path:"/call/".concat(e),data:t._encodeObjectOrArray(n),authOptions:r}).then(function(e){return t._decode(e).result})},getServerDate:function(){return s("date",null,null,"GET").then(function(e){return t._decode(e)})},requestSmsCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o.isString(t)&&(t={mobilePhoneNumber:t}),!t.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return e.validateToken&&(t=o.extend({},t,{validate_token:e.validateToken})),s("requestSmsCode",null,null,"POST",t,e)},verifySmsCode:function(t,e){if(!t)throw new Error("Missing sms code.");var n={};return o.isString(e)&&(n.mobilePhoneNumber=e),s("verifySmsCode",t,null,"POST",n)},_requestCaptcha:function(t,e){return s("requestCaptcha",null,null,"GET",t,e).then(function(t){var e=t.captcha_url;return{captchaToken:t.captcha_token,url:e}})},requestCaptcha:t.Captcha.request,verifyCaptcha:function(t,e){return s("verifyCaptcha",null,null,"POST",{captcha_code:t,captcha_token:e}).then(function(t){return t.validate_token})}})}},function(t,e,n){"use strict";var r=n(27).request;t.exports=function(t){t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(t,e){if(t.where&&(t.where=t.where._getParams().where),t.where&&t.cql)throw new Error("Both where and cql can't be set");if(t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_interval)throw new Error("Both expiration_time and expiration_interval can't be set");return r({service:"push",method:"POST",path:"/push",data:t,authOptions:e})}}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=r(n(141)),a=n(2),s=n(27)._request,u=n(31),c=u.getSessionToken;t.exports=function(t){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(e)?t.User._fetchUserBySessionToken(c(e)):t.User.currentAsync()},n=function(n){return e(n).then(function(e){return t.Object.createWithoutData("_User",e.id)._toPointer()})};t.Status=function(t,e){return this.data={},this.inboxType="default",this.query=null,t&&"object"===(0,o.default)(t)?this.data=t:(t&&(this.data.image=t),e&&(this.data.message=e)),this},a.extend(t.Status.prototype,{get:function(t){return this.data[t]},set:function(t,e){return this.data[t]=e,this},destroy:function(t){return this.id?s("statuses",null,this.id,"DELETE",t):i.default.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?t.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var e=a.clone(this.data);return t._encode(e)},send:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c(r)&&!t.User.current())throw new Error("Please signin an user.");return this.query?n(r).then(function(t){var n=e.query._getParams();n.className=e.query.className;var i={};return i.query=n,e.data=e.data||{},e.data.source=e.data.source||t,i.data=e._getDataJSON(),i.inboxType=e.inboxType||"default",s("statuses",null,null,"POST",i,r)}).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e}):t.Status.sendStatusToFollowers(this,r)},_finishFetch:function(e){this.id=e.objectId,this.createdAt=t._parseDate(e.createdAt),this.updatedAt=t._parseDate(e.updatedAt),this.messageId=e.messageId,delete e.messageId,delete e.objectId,delete e.createdAt,delete e.updatedAt,this.data=t._decode(e)}}),t.Status.sendStatusToFollowers=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(r)&&!t.User.current())throw new Error("Please signin an user.");return n(r).then(function(n){var i={};i.className="_Follower",i.keys="follower",i.where={user:n};var o={};return o.query=i,e.data=e.data||{},e.data.source=e.data.source||n,o.data=e._getDataJSON(),o.inboxType=e.inboxType||"default",s("statuses",null,null,"POST",o,r).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})})},t.Status.sendPrivateStatus=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!c(i)&&!t.User.current())throw new Error("Please signin an user.");if(!r)throw new Error("Invalid target user.");var o=a.isString(r)?r:r.id;if(!o)throw new Error("Invalid target user.");return n(i).then(function(n){var r={};r.className="_User",r.where={objectId:o};var a={};return a.query=r,e.data=e.data||{},e.data.source=e.data.source||n,a.data=e._getDataJSON(),a.inboxType="private",e.inboxType="private",s("statuses",null,null,"POST",a,i).then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})})},t.Status.countUnreadStatuses=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.isString(r)||(o=r),!c(o)&&null==n&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return i.default.resolve(n||e(o)).then(function(e){var n={};return n.inboxType=t._encode(r),n.owner=t._encode(e),s("subscribe/statuses/count",null,null,"GET",n,o)})},t.Status.resetUnreadCount=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.isString(r)||(o=r),!c(o)&&null==n&&!t.User.current())throw new Error("Please signin an user or pass the owner objectId.");return i.default.resolve(n||e(o)).then(function(e){var n={};return n.inboxType=t._encode(r),n.owner=t._encode(e),s("subscribe/statuses/resetUnreadCount",null,null,"POST",n,o)})},t.Status.statusQuery=function(e){var n=new t.Query("_Status");return e&&n.equalTo("source",e),n},t.InboxQuery=t.Query._extend({_objectClass:t.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new t.Status},_createRequest:function(e,n){return t.InboxQuery.__super__._createRequest.call(this,e,n,"/subscribe/statuses")},sinceId:function(t){return this._sinceId=t,this},maxId:function(t){return this._maxId=t,this},owner:function(t){return this._owner=t,this},inboxType:function(t){return this._inboxType=t,this},_getParams:function(){var e=t.InboxQuery.__super__._getParams.call(this);return e.owner=t._encode(this._owner),e.inboxType=t._encode(this._inboxType),e.sinceId=t._encode(this._sinceId),e.maxId=t._encode(this._maxId),e}}),t.Status.inboxQuery=function(e,n){var r=new t.InboxQuery(t.Status);return e&&(r._owner=e),n&&(r._inboxType=n),r}}},function(t,e,n){"use strict";var r=n(1),i=r(n(37)),o=r(n(42)),a=n(2),s=n(27)._request;t.exports=function(t){t.SearchSortBuilder=function(){this._sortFields=[]},a.extend(t.SearchSortBuilder.prototype,{_addField:function(t,e,n,r){var i={};return i[t]={order:e||"asc",mode:n||"avg",missing:"_"+(r||"last")},this._sortFields.push(i),this},ascending:function(t,e,n){return this._addField(t,"asc",e,n)},descending:function(t,e,n){return this._addField(t,"desc",e,n)},whereNear:function(t,e,n){n=n||{};var r={},i={lat:e.latitude,lon:e.longitude},o={order:n.order||"asc",mode:n.mode||"avg",unit:n.unit||"km"};return o[t]=i,r._geo_distance=o,this._sortFields.push(r),this},build:function(){return(0,i.default)(t._encode(this._sortFields))}}),t.SearchQuery=t.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_clazz:null,constructor:function(e){e?this._clazz=e:e="__INVALID_CLASS",t.Query.call(this,e)},_createRequest:function(t,e){return s("search/select",null,null,"GET",t||this._getParams(),e)},sid:function(t){return this._sid=t,this},queryString:function(t){return this._queryString=t,this},highlights:function(t){var e;return e=t&&a.isString(t)?a.toArray(arguments):t,this._highlights=e,this},sortBy:function(t){return this._sortBuilder=t,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(t){return delete t.className,delete t._app_url,delete t._deeplink,t},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(t){var e=this;return this._createRequest(void 0,t).then(function(t){return t.sid?(e._oldSid=e._sid,e._sid=t.sid):(e._sid=null,e._hitEnd=!0),e._hits=t.hits||0,(0,o.default)(a).call(a,t.results,function(n){n.className&&(t.className=n.className);var r=e._newObject(t);return r.appURL=n._app_url,r._finishFetch(e._processResult(n),!0),r})})},_getParams:function(){var e=t.SearchQuery.__super__._getParams.call(this);if(delete e.where,this._clazz&&(e.clazz=this.className),this._sid&&(e.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(e.q=this._queryString,this._highlights&&(e.highlights=this._highlights.join(",")),this._sortBuilder&&e.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(e.sort=this._sortBuilder.build()),e}})}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(2),a=n(43),s=n(27),u=s.request;t.exports=function(t){t.Insight=t.Insight||{},o.extend(t.Insight,{startJob:function(e,n){if(!e||!e.sql)throw new Error("Please provide the sql to run the job.");var r={jobConfig:e,appId:t.applicationId};return u({path:"/bigquery/jobs",method:"POST",data:t._encode(r,null,!0),authOptions:n,signKey:!1}).then(function(e){return t._decode(e).id})},on:function(t,e){}}),t.Insight.JobQuery=function(t,e){if(!t)throw new Error("Please provide the job id.");this.id=t,this.className=e,this._skip=0,this._limit=100},o.extend(t.Insight.JobQuery.prototype,{skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},find:function(t){var e={skip:this._skip,limit:this._limit};return u({path:"/bigquery/jobs/".concat(this.id),method:"GET",query:e,authOptions:t,signKey:!1}).then(function(t){return t.error?i.default.reject(new a(t.code,t.error)):i.default.resolve(t)})}})}},function(t,e,n){"use strict";var r=n(1),i=r(n(10)),o=n(2),a=n(27),s=a.request,u=n(31),c=u.getSessionToken;t.exports=function(t){var e=function(e){if(e.user){if(!e.user._sessionToken)throw new Error("authOptions.user is not signed in.");return i.default.resolve(e.user)}return e.sessionToken?t.User._fetchUserBySessionToken(e.sessionToken):t.User.currentAsync()},n=function(e){var n=c(e);return n?i.default.resolve(n):t.User.currentAsync().then(function(t){if(t)return t.getSessionToken()})};t.Friendship={request:function(n){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.friend?(r=n.friend,i=n.attributes):r=n;var u=o.isString(r)?t.Object.createWithoutData("_User",r):r;return e(a).then(function(t){if(!t)throw new Error("Please signin an user.");return s({method:"POST",path:"/users/friendshipRequests",data:{user:t._toPointer(),friend:u._toPointer(),friendship:i},authOptions:a})})},acceptRequest:function(e){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.request?(r=e.request,i=e.attributes):r=e;var u=o.isString(r)?r:r.id;return n(a).then(function(e){if(!e)throw new Error("Please signin an user.");return s({method:"PUT",path:"/users/friendshipRequests/"+u+"/accept",data:{friendship:t._encode(i)},authOptions:a})})},declineRequest:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.isString(t)?t:t.id;return n(e).then(function(t){if(!t)throw new Error("Please signin an user.");return s({method:"PUT",path:"/users/friendshipRequests/"+r+"/decline",authOptions:e})})}}}},function(t,e,n){"use strict";var r=n(1),i=r(n(37)),o=n(2),a=n(27),s=a._request,u=n(67),c=function(t){return"string"==typeof t?t:"function"==typeof t.getPayload?(0,i.default)(t.getPayload()):(0,i.default)(t)};t.exports=u.Object.extend("_Conversation",{constructor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.Object.prototype.constructor.call(this,null,null),this.set("name",t),void 0!==e.isSystem&&this.set("sys",!!e.isSystem),void 0!==e.isTransient&&this.set("tr",!!e.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(t){return this.add("m",t)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:t,conv_id:this.id,transient:!1,message:c(e)};return void 0!==n.toClients&&(i.to_peers=n.toClients),void 0!==n.transient&&(i.transient=!!n.transient),void 0!==n.pushData&&(i.push_data=n.pushData),s("rtm","messages",null,"POST",i,r)},broadcast:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:t,conv_id:this.id,message:c(e)};if(void 0!==n.pushData&&(i.push=n.pushData),void 0!==n.validTill){var a=n.validTill;o.isDate(a)&&(a=a.getTime()),n.valid_till=a}return s("rtm","broadcast",null,"POST",i,r)}})},function(t,e,n){"use strict";function r(t){var e=t.name,n=t.value,r=t.version;this.name=e,this.value=n,this.version=r}var i=n(1),o=i(n(10)),a=i(n(42)),s=i(n(25)),u=n(2),c=n(27),f=c.request,l=n(31),d=l.ensureArray,h=l.parseDate,p=n(67);p.LeaderboardVersionChangeInterval={NEVER:"never",DAY:"day",WEEK:"week",MONTH:"month"},p.LeaderboardOrder={ASCENDING:"ascending",DESCENDING:"descending"},p.LeaderboardUpdateStrategy={BETTER:"better",LAST:"last",SUM:"sum"};var v=function(t){var e=p._decode(t);return new r({name:e.statisticName,value:e.statisticValue,version:e.version})};p.Leaderboard=function(t){this.statisticName=t,this.order=void 0,this.updateStrategy=void 0,this.versionChangeInterval=void 0,this.version=void 0,this.nextResetAt=void 0,this.createdAt=void 0};var _=p.Leaderboard;p.Leaderboard.createWithoutData=function(t){return new _(t)},p.Leaderboard.createLeaderboard=function(t,e){var n=t.statisticName,r=t.order,i=t.versionChangeInterval,o=t.updateStrategy;return f({method:"POST",path:"/leaderboard/leaderboards",data:{statisticName:n,order:r,versionChangeInterval:i,updateStrategy:o},authOptions:e}).then(function(t){return new _(n)._finishFetch(t)})},p.Leaderboard.getLeaderboard=function(t,e){return _.createWithoutData(t).fetch(e)},p.Leaderboard.getStatistics=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.statisticNames,r=arguments.length>2?arguments[2]:void 0;return o.default.resolve().then(function(){if(!t||!t.id)throw new Error("user must be an AV.User");return f({method:"GET",path:"/leaderboard/users/".concat(t.id,"/statistics"),query:{statistics:n?d(n).join(","):void 0},authOptions:r}).then(function(t){var e=t.results;return(0,a.default)(e).call(e,v)})})},p.Leaderboard.updateStatistics=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.resolve().then(function(){if(!t||!t.id)throw new Error("user must be an AV.User");var r=(0,a.default)(u).call(u,e,function(t,e){return{statisticName:e,statisticValue:t}}),i=n.overwrite;return f({method:"POST",path:"/leaderboard/users/".concat(t.id,"/statistics"),query:{overwrite:i?1:void 0},data:r,authOptions:n}).then(function(t){var e=t.results;return(0,a.default)(e).call(e,v)})})},p.Leaderboard.deleteStatistics=function(t,e,n){return o.default.resolve().then(function(){if(!t||!t.id)throw new Error("user must be an AV.User");return f({method:"DELETE",path:"/leaderboard/users/".concat(t.id,"/statistics"),query:{statistics:d(e).join(",")},authOptions:n}).then(function(){})})},u.extend(_.prototype,{_finishFetch:function(t){var e=this;return u.forEach(t,function(t,n){"updatedAt"!==n&&"objectId"!==n&&("expiredAt"===n&&(n="nextResetAt"),"createdAt"===n&&(t=h(t)),t&&"Date"===t.__type&&(t=h(t.iso)),e[n]=t)}),this},fetch:function(t){var e=this;return f({method:"GET",path:"/leaderboard/leaderboards/".concat(this.statisticName),authOptions:t}).then(function(t){return e._finishFetch(t)})},count:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.version,n=arguments.length>1?arguments[1]:void 0;return f({method:"GET",path:"/leaderboard/leaderboards/".concat(this.statisticName,"/ranks"),query:{count:1,limit:0,version:e},authOptions:n}).then(function(t){return t.count})},_getResults:function(t,e,n){var r,i=t.skip,o=t.limit,c=t.selectUserKeys,l=t.includeUserKeys,h=t.includeStatistics,_=t.version;return f({method:"GET",path:(0,s.default)(r="/leaderboard/leaderboards/".concat(this.statisticName,"/ranks")).call(r,n?"/".concat(n):""),query:{skip:i,limit:o,selectUserKeys:u.union(d(c),d(l)).join(",")||void 0,includeUser:l?d(l).join(","):void 0,includeStatistics:h?d(h).join(","):void 0,version:_},authOptions:e}).then(function(t){var e=t.results;return(0,a.default)(e).call(e,function(t){var e=p._decode(t),n=e.user,r=e.statisticValue,i=e.rank,o=e.statistics,s=void 0===o?[]:o;return{user:n,value:r,rank:i,includedStatistics:(0,a.default)(s).call(s,v)}})})},getResults:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.skip,n=t.limit,r=t.selectUserKeys,i=t.includeUserKeys,o=t.includeStatistics,a=t.version,s=arguments.length>1?arguments[1]:void 0;return this._getResults({skip:e,limit:n,selectUserKeys:r,includeUserKeys:i,includeStatistics:o,version:a},s)},getResultsAroundUser:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(t&&"string"!=typeof t.id)return this.getResultsAroundUser(void 0,t,e);var r=e.limit,i=e.selectUserKeys,o=e.includeUserKeys,a=e.includeStatistics,s=e.version;return this._getResults({limit:r,selectUserKeys:i,includeUserKeys:o,includeStatistics:a,version:s},n,t?t.id:"self")},_update:function(t,e){var n=this;return f({method:"PUT",path:"/leaderboard/leaderboards/".concat(this.statisticName),data:t,authOptions:e}).then(function(t){return n._finishFetch(t)})},updateVersionChangeInterval:function(t,e){return this._update({versionChangeInterval:t},e)},updateUpdateStrategy:function(t,e){return this._update({updateStrategy:t},e)},reset:function(t){var e=this;return f({method:"PUT",path:"/leaderboard/leaderboards/".concat(this.statisticName,"/incrementVersion"),authOptions:t}).then(function(t){return e._finishFetch(t)})},destroy:function(t){return p.request({method:"DELETE",path:"/leaderboard/leaderboards/".concat(this.statisticName),authOptions:t}).then(function(){})},getArchives:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skip,r=e.limit,i=arguments.length>1?arguments[1]:void 0;return f({method:"GET",path:"/leaderboard/leaderboards/".concat(this.statisticName,"/archives"),query:{skip:n,limit:r},authOptions:i}).then(function(e){var n=e.results;return(0,a.default)(n).call(n,function(e){var n=e.version,r=e.status,i=e.url,o=e.activatedAt,a=e.deactivatedAt;return{statisticName:t.statisticName,version:n,status:r,url:i,activatedAt:h(o.iso),deactivatedAt:h(a.iso)}})})}})},function(t,e,n){"use strict";var r=n(545);t.exports=function(t){return t.setAdapters(r),t}},function(t,e,n){"use strict";var r=n(140);r(e,"__esModule",{value:!0}),e.platformInfo=e.WebSocket=void 0,r(e,"request",{enumerable:!0,get:function(){return i.request}}),e.storage=void 0,r(e,"upload",{enumerable:!0,get:function(){return i.upload}});var i=n(546),o=window.localStorage;e.storage=o;var a=window.WebSocket;e.WebSocket=a;var s={name:"Browser"};e.platformInfo=s},function(t,e,n){"use strict";function r(t){return{ok:t.ok,status:t.status,headers:t.header,data:t.body}}var i=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):i(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0}),e.upload=e.request=void 0;var a=n(547),s=n(548),u=function(t,e){return void 0===e&&(e={}),i(void 0,void 0,void 0,function(){var n,i,u,c,f,l,d,h,p,v,_;return o(this,function(o){switch(o.label){case 0:if(n=e.method,i=void 0===n?"GET":n,u=e.data,c=e.headers,f=e.onprogress,l=e.signal,null===l||void 0===l?void 0:l.aborted)throw new a.AbortError("Request aborted");d=s(i,t).ok(function(){return!0}),c&&d.set(c),f&&d.on("progress",f),h=!1,p=function(){h=!0,d.abort()},null===l||void 0===l||l.addEventListener("abort",p),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,d.send(u)];case 2:return v=o.sent(),[2,r(v)];case 3:if(_=o.sent(),h)throw new a.AbortError("Request aborted");throw _;case 4:return null===l||void 0===l||l.removeEventListener("abort",p),[7];case 5:return[2]}})})};e.request=u;var c=function(t,e,n){return void 0===n&&(n={}),i(void 0,void 0,void 0,function(){var i,u,c,f,l,d,h,p,v,_,y;return o(this,function(o){switch(o.label){case 0:if(i=n.method,u=void 0===i?"POST":i,c=n.data,f=n.headers,l=n.onprogress,d=n.signal,null===d||void 0===d?void 0:d.aborted)throw new a.AbortError("Request aborted");h=s(u,t).ok(function(){return!0}).attach(e.field,e.data,e.name),c&&h.field(c),f&&h.set(f),l&&h.on("progress",l),p=!1,v=function(){p=!0,h.abort()},null===d||void 0===d||d.addEventListener("abort",v),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,h];case 2:return _=o.sent(),[2,r(_)];case 3:if(y=o.sent(),p)throw new a.AbortError("Request aborted");throw y;case 4:return null===d||void 0===d||d.removeEventListener("abort",v),[7];case 5:return[2]}})})};e.upload=c},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"AbortError",function(){return o});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="AbortError",e}return r(e,t),e}(Error)},function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof v.default&&"symbol"==typeof _.default?function(t){return typeof t}:function(t){return t&&"function"==typeof v.default&&t.constructor===v.default&&t!==v.default.prototype?"symbol":typeof t})(t)}function i(){}function o(t){if(!j(t))return t;var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a(e,n,t[n]);return e.join("&")}function a(t,e,n){if(void 0!==n){if(null===n)return void t.push(encodeURI(e));if(Array.isArray(n))n.forEach(function(n){a(t,e,n)});else if(j(n))for(var r in n){var i;Object.prototype.hasOwnProperty.call(n,r)&&a(t,(0,b.default)(i="".concat(e,"[")).call(i,r,"]"),n[r])}else t.push(encodeURI(e)+"="+encodeURIComponent(n))}}function s(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;o<a;++o)e=i[o],n=(0,g.default)(e).call(e,"="),-1===n?r[decodeURIComponent(e)]="":r[decodeURIComponent((0,m.default)(e).call(e,0,n))]=decodeURIComponent((0,m.default)(e).call(e,n+1));return r}function u(t){for(var e,n,r,i,o=t.split(/\r?\n/),a={},s=0,u=o.length;s<u;++s)n=o[s],-1!==(e=(0,g.default)(n).call(n,":"))&&(r=(0,m.default)(n).call(n,0,e).toLowerCase(),i=C((0,m.default)(n).call(n,e+1)),a[r]=i);return a}function c(t){return/[/+]json($|[^-\w])/.test(t)}function f(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=u(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function l(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new f(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",e);var r;try{n._isResponseOK(e)||(r=new Error(e.statusText||e.text||"Unsuccessful HTTP response"))}catch(t){r=t}r?(r.original=t,r.response=e,r.status=e.status,n.callback(r,e)):n.callback(null,e)})}function d(t,e,n){var r=E("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}var h,p=n(1),v=p(n(87)),_=p(n(144)),y=p(n(549)),b=p(n(25)),g=p(n(68)),m=p(n(38));"undefined"!=typeof window?h=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),h=void 0):h=self;var O=n(556),w=n(557),x=n(558),j=n(244),A=n(579),S=n(587);t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1===arguments.length?new e.Request("GET",t):new e.Request(t,n)},e=t.exports;var E=e;e.Request=l,E.getXHR=function(){if(h.XMLHttpRequest&&(!h.location||"file:"!==h.location.protocol||!h.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var C=(0,y.default)("")?function(t){return(0,y.default)(t).call(t)}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};E.serializeObject=o,E.parseString=s,E.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},E.serialize={"application/x-www-form-urlencoded":o,"application/json":w},E.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},A(f.prototype),f.prototype._parseBody=function(t){var e=E.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&c(this.type)&&(e=E.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},f.prototype.toError=function(){var t,e,n=this.req,r=n.method,i=n.url,o=(0,b.default)(t=(0,b.default)(e="cannot ".concat(r," ")).call(e,i," (")).call(t,this.status,")"),a=new Error(o);return a.status=this.status,a.method=r,a.url=i,a},E.Response=f,O(l.prototype),x(l.prototype),l.prototype.type=function(t){return this.set("Content-Type",E.types[t]||t),this},l.prototype.accept=function(t){return this.set("Accept",E.types[t]||t),this},l.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"===r(e)&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var i=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,n,i)},l.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},l.prototype.attach=function(t,e,n){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},l.prototype._getFormData=function(){return this._formData||(this._formData=new h.FormData),this._formData},l.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},l.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},l.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},l.prototype.ca=l.prototype.agent,l.prototype.buffer=l.prototype.ca,l.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},l.prototype.pipe=l.prototype.write,l.prototype._isHost=function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},l.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||i,this._finalizeQueryString(),this._end()},l.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},l.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=E.getXHR();var e=this.xhr,n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(t._uploadTimeoutTimer)),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.addEventListener("progress",r.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",r.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||E.serialize[i?i.split(";")[0]:""];!o&&c(i)&&(o=E.serialize["application/json"]),o&&(n=o(n))}for(var a in this.header)null!==this.header[a]&&Object.prototype.hasOwnProperty.call(this.header,a)&&e.setRequestHeader(a,this.header[a]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===n?null:n)},E.agent=function(){return new S},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){S.prototype[t.toLowerCase()]=function(e,n){var r=new E.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}}),S.prototype.del=S.prototype.delete,E.get=function(t,e,n){var r=E("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},E.head=function(t,e,n){var r=E("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},E.options=function(t,e,n){var r=E("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},E.del=d,E.delete=d,E.patch=function(t,e,n){var r=E("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},E.post=function(t,e,n){var r=E("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},E.put=function(t,e,n){var r=E("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},function(t,e,n){t.exports=n(550)},function(t,e,n){var r=n(551);t.exports=r},function(t,e,n){var r=n(12),i=n(552),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},function(t,e,n){n(553);var r=n(26);t.exports=r("String").trim},function(t,e,n){"use strict";var r=n(0),i=n(554).trim;r({target:"String",proto:!0,forced:n(555)("trim")},{trim:function(){return i(this)}})},function(t,e,n){var r=n(4),i=n(74),o=n(40),a=n(243),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),l=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,f,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},function(t,e,n){var r=n(158).PROPER,i=n(3),o=n(243),a="​᠎";t.exports=function(t){return i(function(){return!!o[t]()||a[t]()!==a||r&&o[t].name!==t})}},function(t,e,n){function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function n(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function r(t,e,r,i){void 0===i&&(i=n()),o(t,"",0,[],void 0,0,i);var a;try{a=0===h.length?JSON.stringify(t,e,r):JSON.stringify(t,c(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var s=d.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return a}function i(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);void 0!==i.get?i.configurable?(Object.defineProperty(r,n,{value:t}),d.push([r,n,e,i])):h.push([e,n,t]):(r[n]=t,d.push([r,n,e]))}function o(t,e,n,r,a,s,u){s+=1;var c;if("object"==typeof t&&null!==t){for(c=0;c<r.length;c++)if(r[c]===t)return void i(l,t,e,a);if(void 0!==u.depthLimit&&s>u.depthLimit)return void i(f,t,e,a);if(void 0!==u.edgesLimit&&n+1>u.edgesLimit)return void i(f,t,e,a);if(r.push(t),Array.isArray(t))for(c=0;c<t.length;c++)o(t[c],c,c,r,t,s,u);else{var d=Object.keys(t);for(c=0;c<d.length;c++){var h=d[c];o(t[h],h,c,r,t,s,u)}}r.pop()}}function a(t,e){return t<e?-1:t>e?1:0}function s(t,e,r,i){void 0===i&&(i=n());var o,a=u(t,"",0,[],void 0,0,i)||t;try{o=0===h.length?JSON.stringify(a,e,r):JSON.stringify(a,c(e),r)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var s=d.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function u(t,e,n,r,o,s,c){s+=1;var h;if("object"==typeof t&&null!==t){for(h=0;h<r.length;h++)if(r[h]===t)return void i(l,t,e,o);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==c.depthLimit&&s>c.depthLimit)return void i(f,t,e,o);if(void 0!==c.edgesLimit&&n+1>c.edgesLimit)return void i(f,t,e,o);if(r.push(t),Array.isArray(t))for(h=0;h<t.length;h++)u(t[h],h,h,r,t,s,c);else{var p={},v=Object.keys(t).sort(a);for(h=0;h<v.length;h++){var _=v[h];u(t[_],_,h,r,t,s,c),p[_]=t[_]}if(void 0===o)return p;d.push([o,e,t]),o[e]=p}r.pop()}}function c(t){return t=void 0!==t?t:function(t,e){return e},function(e,n){if(h.length>0)for(var r=0;r<h.length;r++){var i=h[r];if(i[1]===e&&i[0]===n){n=i[2],h.splice(r,1);break}}return t.call(this,e,n)}}t.exports=r,r.default=r,r.stable=s,r.stableStringify=s;var f="[...]",l="[Circular]",d=[],h=[]},function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof s.default&&"symbol"==typeof u.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t})(t)}function i(t){if(t)return o(t)}function o(t){for(var e in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,e)&&(t[e]=i.prototype[e]);return t}var a=n(1),s=a(n(87)),u=a(n(144)),c=a(n(559)),f=a(n(10)),l=a(n(25)),d=a(n(68)),h=a(n(38)),p=a(n(569)),v=n(244);t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},i.prototype.parse=function(t){return this._parser=t,this},i.prototype.responseType=function(t){return this._responseType=t,this},i.prototype.serialize=function(t){return this._serializer=t,this},i.prototype.timeout=function(t){if(!t||"object"!==r(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},i.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var _=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&(0,c.default)(_).call(_,t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},i.prototype.then=function(t,e){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new f.default(function(t,e){r.on("abort",function(){if(!(n._maxRetries&&n._maxRetries>n._retries)){if(n.timedout&&n.timedoutError)return void e(n.timedoutError);var t=new Error("Aborted");t.code="ABORTED",t.status=n.status,t.method=n.method,t.url=n.url,e(t)}}),r.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},i.prototype.catch=function(t){return this.then(void 0,t)},i.prototype.use=function(t){return t(this),this},i.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},i.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},i.prototype.get=function(t){return this._header[t.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(t,e){if(v(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(v(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(t,e[r]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(t,e,n,r){var i;switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r((0,l.default)(i="".concat(t,":")).call(i,e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},i.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},i.prototype.redirects=function(t){return this._maxRedirects=t,this},i.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(t){var e=v(t),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&v(this._data))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this._data[r]=t[r]);else if("string"==typeof t)if(n||this.type("form"),"application/x-www-form-urlencoded"===(n=this._header["content-type"])){var i;this._data=this._data?(0,l.default)(i="".concat(this._data,"&")).call(i,t):t}else this._data=(this._data||"")+t;else this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},i.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t){var e;this.url+=((0,c.default)(e=this.url).call(e,"?")?"&":"?")+t}if(this._query.length=0,this._sort){var n,r=(0,d.default)(n=this.url).call(n,"?");if(r>=0){var i,o,a=(0,h.default)(i=this.url).call(i,r+1).split("&");"function"==typeof this._sort?(0,p.default)(a).call(a,this._sort):(0,p.default)(a).call(a),this.url=(0,h.default)(o=this.url).call(o,0,r)+"?"+a.join("&")}}},i.prototype._appendQueryString=function(){console.warn("Unsupported")},i.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error("".concat(t+e,"ms exceeded"));r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},i.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,n){t.exports=n(560)},function(t,e,n){var r=n(561);t.exports=r},function(t,e,n){var r=n(12),i=n(562),o=n(564),a=Array.prototype,s=String.prototype;t.exports=function(t){var e=t.includes;return t===a||r(a,t)&&e===a.includes?i:"string"==typeof t||t===s||r(s,t)&&e===s.includes?o:e}},function(t,e,n){n(563);var r=n(26);t.exports=r("Array").includes},function(t,e,n){"use strict";var r=n(0),i=n(115).includes,o=n(3),a=n(122);r({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(t,e,n){n(565);var r=n(26);t.exports=r("String").includes},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(566),a=n(74),s=n(40),u=n(568),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(567),i=TypeError;t.exports=function(t){if(r(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(17),i=n(54),o=n(5),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(5),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){t.exports=n(570)},function(t,e,n){var r=n(571);t.exports=r},function(t,e,n){var r=n(12),i=n(572),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||r(o,t)&&e===o.sort?i:e}},function(t,e,n){n(573);var r=n(26);t.exports=r("Array").sort},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(28),a=n(33),s=n(36),u=n(574),c=n(40),f=n(3),l=n(575),d=n(139),h=n(576),p=n(577),v=n(56),_=n(578),y=[],b=i(y.sort),g=i(y.push),m=f(function(){y.sort(void 0)}),O=f(function(){y.sort(null)}),w=d("sort"),x=!f(function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(_)return _<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:e+r,v:n})}for(y.sort(function(t,e){return e.v-t.v}),r=0;r<y.length;r++)e=y[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}),j=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}};r({target:"Array",proto:!0,forced:m||!O||!w||!x},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(x)return void 0===t?b(e):b(e,t);var n,r,i=[],c=s(e);for(r=0;r<c;r++)r in e&&g(i,e[r]);for(l(i,j(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<c;)u(e,r++);return e}})},function(t,e,n){"use strict";var r=n(57),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw i("Cannot delete property "+r(e)+" of "+r(t))}},function(t,e,n){var r=n(231),i=Math.floor,o=function(t,e){var n=t.length,u=i(n/2);return n<8?a(t,e):s(t,o(r(t,0,u),e),o(r(t,u),e),e)},a=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},s=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=o},function(t,e,n){var r=n(45),i=r.match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},function(t,e,n){var r=n(45);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(45),i=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},function(t,e,n){"use strict";function r(t){if(t)return i(t)}function i(t){for(var e in r.prototype)Object.prototype.hasOwnProperty.call(r.prototype,e)&&(t[e]=r.prototype[e]);return t}var o=n(580);t.exports=r,r.prototype.get=function(t){return this.header[t.toLowerCase()]},r.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=o.type(e);var n=o.params(e);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(this[r]=n[r]);this.links={};try{t.link&&(this.links=o.parseLinks(t.link))}catch(t){}},r.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},function(t,e,n){"use strict";var r=n(1),i=r(n(581)),o=r(n(38));e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){var e;return(0,i.default)(e=t.split(/ *; */)).call(e,function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})},e.parseLinks=function(t){var e;return(0,i.default)(e=t.split(/ *, */)).call(e,function(t,e){var n,r,i=e.split(/ *; */),a=(0,o.default)(n=i[0]).call(n,1,-1);return t[(0,o.default)(r=i[1].split(/ *= */)[1]).call(r,1,-1)]=a,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e,n){t.exports=n(582)},function(t,e,n){var r=n(583);t.exports=r},function(t,e,n){var r=n(12),i=n(584),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||r(o,t)&&e===o.reduce?i:e}},function(t,e,n){n(585);var r=n(26);t.exports=r("Array").reduce},function(t,e,n){"use strict";var r=n(0),i=n(586).left,o=n(139),a=n(56),s=n(97),u=o("reduce"),c=!s&&a>79&&a<83;r({target:"Array",proto:!0,forced:!u||c},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(28),i=n(33),o=n(109),a=n(36),s=TypeError,u=function(t){return function(e,n,u,c){r(n);var f=i(e),l=o(f),d=a(f),h=t?d-1:0,p=t?-1:1;if(u<2)for(;;){if(h in l){c=l[h],h+=p;break}if(h+=p,t?h<0:d<=h)throw s("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=p)h in l&&(c=n(c,l[h],h,f));return c}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){"use strict";function r(t){return s(t)||a(t)||o(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){var n;if(t){if("string"==typeof t)return u(t,e);var r=(0,l.default)(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?(0,d.default)(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function a(t){if(void 0!==h.default&&(0,p.default)(Object(t)))return(0,d.default)(t)}function s(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(){this._defaults=[]}var f=n(1),l=f(n(38)),d=f(n(236)),h=f(n(87)),p=f(n(588));["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(t){c.prototype[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._defaults.push({fn:t,args:n}),this}}),c.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,r(e.args))})},t.exports=c},function(t,e,n){t.exports=n(589)},function(t,e,n){t.exports=n(590)},function(t,e,n){var r=n(591);t.exports=r},function(t,e,n){var r=n(592);t.exports=r},function(t,e,n){var r=n(593);n(63),t.exports=r},function(t,e,n){n(60),n(79);var r=n(594);t.exports=r},function(t,e,n){var r=n(47),i=n(13),o=n(5),a=n(46),s=o("iterator"),u=Object;t.exports=function(t){var e=u(t);return void 0!==e[s]||"@@iterator"in e||i(a,r(e))}}])});
                                  
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA5MjViYjZmOTY3OTRkYjdhZDA2NiIsIndlYnBhY2s6Ly8vYXYtbWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2luZGV4LWFsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fc2V0dXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2lzLWNhbGxhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9wcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9wYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX3RhZ1Rlc3Rlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NiLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3Jlc3RBcmd1bWVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmRlcnNjb3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL2NvbmNhdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbnRyeS12aXJ0dWFsLmpzIiwid2VicGFjazovLy8uL3NyYy9yZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2EtY2FsbGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2dldExlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtcHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9sZW5ndGgtb2YtYXJyYXktbGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9zbGljZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdG8tc3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Vycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2l0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jbGFzc29mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZWFjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NsYXNzb2YtcmF3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy92YWx1ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZmxhdHRlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvaW5zdGFuY2UvaW5kZXgtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Z1bmN0aW9uLWFwcGx5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pdGVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3BlcmZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvcHJvbWlzZS1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19zdHJpbmdUYWdCdWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9hbGxLZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX3RvUGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19vcHRpbWl6ZUNiLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pcy1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9oaWRkZW4ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS1pcy1ub2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2lzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXNsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbWF0Y2hlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3BhcnRpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvYWpheC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9maW5kLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZ2V0LW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zaGFyZWQtc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdWlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNEYXRhVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzQXJndW1lbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2dldEJ5dGVMZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fbWV0aG9kRmluZ2VycHJpbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fY3JlYXRlQXNzaWduZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9leHRlbmRPd24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZGVlcEdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9ub3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9uZWdhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9maW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9wbHVjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2lzLWZvcmNlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy92OC1wcm90b3R5cGUtZGVmaW5lLWJ1Zy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jb3JyZWN0LXByb3RvdHlwZS1nZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtYXJyYXktaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2dldC1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pdGVyYXRvci1jbG9zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZnVuY3Rpb24tbmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pdGVyYXRvcnMtY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2EtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbmdpbmUtaXMtaW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3Byb21pc2Utc3RhdGljcy1pbmNvcnJlY3QtaXRlcmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NoZWNrLWNvcnJlY3RuZXNzLW9mLWl0ZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9wcm9taXNlLXJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc1VuZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzQm9vbGVhbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzTnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNTeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0FycmF5QnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNOYU4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc1R5cGVkQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19jcmVhdGVTaXplUHJvcGVydHlDaGVjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19zaGFsbG93UHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fY29sbGVjdE5vbkVudW1Qcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzTWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbnZlcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9leHRlbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19iYXNlQ3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY2xvbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9nZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90b1BhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fYmFzZUl0ZXJhdGVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXRlcmF0ZWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9ub29wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmFuZG9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZUVzY2FwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZXNjYXBlTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdGVtcGxhdGVTZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19leGVjdXRlQm91bmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9iZWZvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9maW5kS2V5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZmluZExhc3RJbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3NvcnRlZEluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW5kZXhPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19jcmVhdGVJbmRleEZpbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fY3JlYXRlUmVkdWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbWF4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvc2FtcGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGljay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2luaXRpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9yZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZGlmZmVyZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3VuaXEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bnppcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19jaGFpblJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL29iamVjdC9rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9jYWxzdG9yYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9zbGljZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hcnJheS1zbGljZS1zaW1wbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc3ltYm9sLWRlZmluZS10by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbC1yZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9hcnJheS9mcm9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2FycmF5L2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2luc3RhbmNlL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NoYXJlbmMvY2hhcmVuYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy93aGl0ZXNwYWNlcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW50cnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudHJ5L2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL3Byb21pc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9wcm9taXNlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hZ2dyZWdhdGUtZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFnZ3JlZ2F0ZS1lcnJvci5jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb3JkaW5hcnktdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYS1wb3NzaWJsZS1wcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL293bi1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL21hdGgtdHJ1bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NsZWFyLWVycm9yLXN0YWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2luc3RhbGwtZXJyb3ItY2F1c2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbm9ybWFsaXplLXN0cmluZy1hcmd1bWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lcnJvci1zdGFjay1pbnN0YWxsYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY3JlYXRlLWl0ZXJhdG9yLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc2V0LXNwZWNpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYW4taW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdmFsaWRhdGUtYXJndW1lbnRzLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9taWNyb3Rhc2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLWlzLWlvcy1wZWJibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLWlzLXdlYm9zLXdlYmtpdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9ob3N0LXJlcG9ydC1lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvcXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLWlzLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuYWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLmNhdGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLnJhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UucmVqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLnJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuYWxsLXNldHRsZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuYW55LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLmZpbmFsbHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc3RyaW5nLW11bHRpYnl0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9kb20taXRlcmFibGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW5kZXgtZGVmYXVsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzTnVsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzRGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzUmVnRXhwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19oYXNPYmplY3RUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0Zpbml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19pc0J1ZmZlckxpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0VtcHR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL190b0J1ZmZlclZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc01hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzV2Vha01hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNXZWFrU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGFpcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90YXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9tYXBPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9wcm9wZXJ0eU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdGltZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmVzY2FwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL191bmVzY2FwZU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3RlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmVzdWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdW5pcXVlSWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9jaGFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2JpbmRBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9tZW1vaXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZGVmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2RlYm91bmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvd3JhcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2NvbXBvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9hZnRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL29uY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9sYXN0SW5kZXhPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZpbmRXaGVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3JlZHVjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3JlZHVjZVJpZ2h0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmVqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZXZlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9zb21lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW52b2tlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvd2hlcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9zaHVmZmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvc29ydEJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZ3JvdXBCeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2luZGV4QnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9jb3VudEJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGFydGl0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3NpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fa2V5SW5PYmouanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9vbWl0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZmlyc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9sYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY29tcGFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZsYXR0ZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy93aXRob3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdW5pb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbnRlcnNlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy96aXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9yYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2NodW5rLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmRlcnNjb3JlLWFycmF5LW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9jb25jYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZG9lcy1ub3QtZXhjZWVkLXNhZmUtaW50ZWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2luc3RhbmNlL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvb2JqZWN0L2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9vYmplY3Qva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvanNvbi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9pbmRleC1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2luc3RhbmNlL2luZGV4LW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9pbmRleC1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2Uva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9hcnJheS92aXJ0dWFsL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS92aXJ0dWFsL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luaXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9zbGljZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvc2xpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLXJvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2Z1bGwvc3ltYm9sL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5mb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5rZXktZm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5oYXMtaW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5pcy1jb25jYXQtc3ByZWFkYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLm1hdGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wubWF0Y2gtYWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wucmVwbGFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnNlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnNwZWNpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5zcGxpdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnRvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC51bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuanNvbi50by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLmFzeW5jLWRpc3Bvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzbmV4dC5zeW1ib2wuZGlzcG9zZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5tYXRjaGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLm1ldGFkYXRhLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLm1ldGFkYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLnBhdHRlcm4tbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzbmV4dC5zeW1ib2wucmVwbGFjZS1hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mZWF0dXJlcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2FjdHVhbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvaW5zdGFuY2UvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2luc3RhbmNlL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb21pc2UtdGltZW91dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dlb3BvaW50LmpzIiwid2VicGFjazovLy8uL3NyYy9hY2wuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2ZpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9maW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9maW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9yZWxhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXBsb2FkZXIvY29zLmpzIiwid2VicGFjazovLy8uL3NyYy91cGxvYWRlci9xaW5pdS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYXJyYXktZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jYWxsLXdpdGgtc2FmZS1pdGVyYXRpb24tY2xvc2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2dldC1pdGVyYXRvci1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL2dldC1pdGVyYXRvci1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9yZWZsZWN0L2NvbnN0cnVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9yZWZsZWN0L2NvbnN0cnVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL3JlZmxlY3QvY29uc3RydWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2luaGVyaXRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL3NldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvaW5zdGFuY2UvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2Z1bGwvaW5zdGFuY2UvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2FjdHVhbC9pbnN0YW5jZS9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvZnVuY3Rpb24vdmlydHVhbC9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5mdW5jdGlvbi5iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2dldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mZWF0dXJlcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2Z1bGwvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9idG9hLmpzIiwid2VicGFjazovLy8uL3NyYy91cGxvYWRlci9zMy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWQ1L21kNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3J5cHQvY3J5cHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcGFyc2UtYmFzZTY0LWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9hcnJheVdpdGhIb2xlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2FycmF5L2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvYXJyYXkvaXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL2FycmF5L2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL2FycmF5L2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2FycmF5L2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvaXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LmlzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvaXRlcmFibGVUb0FycmF5TGltaXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2luc3RhbmNlL3NsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvaW5zdGFuY2Uvc2xpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL2luc3RhbmNlL3NsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL2luc3RhbmNlL3NsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2FycmF5L2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL2FycmF5L2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2FycmF5TGlrZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm9sZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL3NyYy9xdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGl2ZS1xdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FwdGNoYS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2xvdWRmdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHVzaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luc2lnaHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyaWVuZHNoaXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnZlcnNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGVhZGVyYm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudHJ5L3VzZS1hZGFwdGVycy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbGVhbmNsb3VkL2FkYXB0ZXJzLXN1cGVyYWdlbnQvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbGVhbmNsb3VkL2FkYXB0ZXItdXRpbHMvbGliL2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvY2xpZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL3RyaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvdHJpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2luc3RhbmNlL3RyaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9zdHJpbmcvdmlydHVhbC90cmltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zdHJpbmctdHJpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zdHJpbmctdHJpbS1mb3JjZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYXN0LXNhZmUtc3RyaW5naWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uLi9zcmMvcmVxdWVzdC1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL2luY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2luY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS92aXJ0dWFsL2luY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL3N0cmluZy92aXJ0dWFsL2luY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbm90LWEtcmVnZXhwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2lzLXJlZ2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jb3JyZWN0LWlzLXJlZ2V4cC1sb2dpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9zb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL3NvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9zb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9zb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RlbGV0ZS1wcm9wZXJ0eS1vci10aHJvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hcnJheS1zb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS1mZi12ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS1pcy1pZS1vci1lZGdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS13ZWJraXQtdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3Jlc3BvbnNlLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvcmVkdWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvcmVkdWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hcnJheS1yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9hZ2VudC1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mZWF0dXJlcy9pcy1pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2Z1bGwvaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pcy1pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pcy1pdGVyYWJsZS5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdsb2JhbCIsImFwcGx5IiwidW5jdXJyeVRoaXMiLCJpc0NhbGxhYmxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZiIsImlzRm9yY2VkIiwicGF0aCIsImJpbmQiLCJjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkiLCJoYXNPd24iLCJ3cmFwQ29uc3RydWN0b3IiLCJOYXRpdmVDb25zdHJ1Y3RvciIsIldyYXBwZXIiLCJhIiwiYiIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm9wdGlvbnMiLCJzb3VyY2UiLCJGT1JDRUQiLCJVU0VfTkFUSVZFIiwiVklSVFVBTF9QUk9UT1RZUEUiLCJrZXkiLCJzb3VyY2VQcm9wZXJ0eSIsInRhcmdldFByb3BlcnR5IiwibmF0aXZlUHJvcGVydHkiLCJyZXN1bHRQcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJUQVJHRVQiLCJ0YXJnZXQiLCJHTE9CQUwiLCJTVEFUSUMiLCJzdGF0IiwiUFJPVE8iLCJwcm90byIsIm5hdGl2ZVNvdXJjZSIsInRhcmdldFByb3RvdHlwZSIsImZvcmNlZCIsImRvbnRDYWxsR2V0U2V0IiwidmFsdWUiLCJ3cmFwIiwic2hhbSIsInJlYWwiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImV4ZWMiLCJlcnJvciIsIk5BVElWRV9CSU5EIiwiRnVuY3Rpb25Qcm90b3R5cGUiLCJGdW5jdGlvbiIsImZuIiwic2hhcmVkIiwidWlkIiwiTkFUSVZFX1NZTUJPTCIsIlVTRV9TWU1CT0xfQVNfVUlEIiwiV2VsbEtub3duU3ltYm9sc1N0b3JlIiwiU3ltYm9sIiwic3ltYm9sRm9yIiwiY3JlYXRlV2VsbEtub3duU3ltYm9sIiwid2l0aG91dFNldHRlciIsImRlc2NyaXB0aW9uIiwiVkVSU0lPTiIsIkFycmF5UHJvdG8iLCJBcnJheSIsIk9ialByb3RvIiwiU3ltYm9sUHJvdG8iLCJwdXNoIiwic2xpY2UiLCJ0b1N0cmluZyIsInN1cHBvcnRzQXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsInN1cHBvcnRzRGF0YVZpZXciLCJEYXRhVmlldyIsIm5hdGl2ZUlzQXJyYXkiLCJpc0FycmF5IiwibmF0aXZlS2V5cyIsImtleXMiLCJuYXRpdmVDcmVhdGUiLCJjcmVhdGUiLCJuYXRpdmVJc1ZpZXciLCJpc1ZpZXciLCJfaXNOYU4iLCJpc05hTiIsIl9pc0Zpbml0ZSIsImlzRmluaXRlIiwiaGFzRW51bUJ1ZyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibm9uRW51bWVyYWJsZVByb3BzIiwiTUFYX0FSUkFZX0lOREVYIiwiTWF0aCIsInBvdyIsIndyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUiLCJOQU1FIiwiYXJndW1lbnQiLCJpdCIsImNoZWNrIiwiZ2xvYmFsVGhpcyIsIndpbmRvdyIsImlzUHJvdG90eXBlT2YiLCJ0b09iamVjdCIsInRhZ1Rlc3RlciIsInRhZyIsImFGdW5jdGlvbiIsInZhcmlhYmxlIiwidW5kZWZpbmVkIiwibmFtZXNwYWNlIiwibWV0aG9kIiwiY2IiLCJjb250ZXh0IiwiYXJnQ291bnQiLCJpdGVyYXRlZSIsImZhaWxzIiwiaXNPYmplY3QiLCIkU3RyaW5nIiwiU3RyaW5nIiwiJFR5cGVFcnJvciIsIlR5cGVFcnJvciIsInJlc3RBcmd1bWVudHMiLCJmdW5jIiwic3RhcnRJbmRleCIsIm1heCIsInJlc3QiLCJpbmRleCIsImFyZ3MiLCJfIiwiX3dyYXBwZWQiLCJ2YWx1ZU9mIiwidG9KU09OIiwiQ09OU1RSVUNUT1IiLCJfY29uY2F0IiwiX3Byb21pc2UiLCJyZXF1aXJlIiwibWQ1IiwiZXh0ZW5kIiwiQVYiLCJBVkVycm9yIiwiZ2V0U2Vzc2lvblRva2VuIiwiYWpheCIsInNpZ24iLCJpc01hc3RlcktleSIsIm5vdyIsIkRhdGUiLCJnZXRUaW1lIiwic2lnbmF0dXJlIiwic2V0QXBwS2V5IiwiaGVhZGVycyIsInNpZ25LZXkiLCJhcHBsaWNhdGlvbktleSIsInNldEhlYWRlcnMiLCJhdXRoT3B0aW9ucyIsImFwcGxpY2F0aW9uSWQiLCJ1c2VNYXN0ZXJLZXkiLCJfY29uZmlnIiwibWFzdGVyS2V5IiwiY29uc29sZSIsIndhcm4iLCJob29rS2V5IiwicHJvZHVjdGlvbiIsIl9zaGFyZWRDb25maWciLCJ1c2VyQWdlbnQiLCJyZXNvbHZlIiwidGhlbiIsInNlc3Npb25Ub2tlbiIsImRpc2FibGVDdXJyZW50VXNlciIsIlVzZXIiLCJjdXJyZW50QXN5bmMiLCJjdXJyZW50VXNlciIsIl9zZXNzaW9uVG9rZW4iLCJjcmVhdGVBcGlVcmwiLCJzZXJ2aWNlIiwidmVyc2lvbiIsImFwaVVSTCIsInNlcnZlclVSTHMiLCJFcnJvciIsImNoYXJBdCIsInJlcXVlc3QiLCJxdWVyeSIsImRhdGEiLCJfYXBwUm91dGVyIiwicmVmcmVzaCIsInRpbWVvdXQiLCJyZXF1ZXN0VGltZW91dCIsInVybCIsImNhdGNoIiwiZXJyb3JKU09OIiwiY29kZSIsIm1lc3NhZ2UiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZSIsIkpTT04iLCJwYXJzZSIsImUiLCJyYXdNZXNzYWdlIiwia2VlcEVycm9yUmF3TWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnIiLCJfcmVxdWVzdCIsInJvdXRlIiwiY2xhc3NOYW1lIiwib2JqZWN0SWQiLCJfZmV0Y2hXaGVuU2F2ZSIsIl93aGVyZSIsInRvTG93ZXJDYXNlIiwidHJ5VG9TdHJpbmciLCJpc0Z1bmN0aW9uIiwibm9kZWxpc3QiLCJkb2N1bWVudCIsImNoaWxkTm9kZXMiLCJJbnQ4QXJyYXkiLCJfa2V5cyIsIl9nZXRQcm90b3R5cGVPZiIsImlzTnVsbE9yVW5kZWZpbmVkIiwieCIsImlzTnVsbCIsImlzVW5kZWZpbmVkIiwiZW5zdXJlQXJyYXkiLCJ0cmFuc2Zvcm1GZXRjaE9wdGlvbnMiLCJpbmNsdWRlIiwiaW5jbHVkZUFDTCIsImZldGNoT3B0aW9ucyIsImpvaW4iLCJyZXR1cm5BQ0wiLCJ1c2VyIiwidGFwIiwiaW50ZXJjZXB0b3IiLCJFbXB0eUNvbnN0cnVjdG9yIiwiaW5oZXJpdHMiLCJwYXJlbnQiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJjaGlsZCIsImNvbnN0cnVjdG9yIiwiX19zdXBlcl9fIiwicGFyc2VEYXRlIiwiaXNvODYwMSIsInNldFZhbHVlIiwic2VncyIsInNwbGl0IiwibGFzdFNlZyIsInBvcCIsImN1cnJlbnRUYXJnZXQiLCJmb3JFYWNoIiwic2VnIiwiZmluZFZhbHVlIiwiZmlyc3RTZWciLCJpc1BsYWluT2JqZWN0IiwiY29udGludWVXaGlsZSIsInByZWRpY2F0ZSIsImFzeW5jRnVuY3Rpb24iLCJyZXF1aXJlT2JqZWN0Q29lcmNpYmxlIiwiJE9iamVjdCIsIkRFU0NSSVBUT1JTIiwiSUU4X0RPTV9ERUZJTkUiLCJWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyIsImFuT2JqZWN0IiwidG9Qcm9wZXJ0eUtleSIsIiRkZWZpbmVQcm9wZXJ0eSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJPIiwiUCIsIkF0dHJpYnV0ZXMiLCJjdXJyZW50Iiwid3JpdGFibGUiLCJJbmRleGVkT2JqZWN0IiwidG9MZW5ndGgiLCJkZWZpbmVQcm9wZXJ0eU1vZHVsZSIsImNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciIsImNsYXNzb2YiLCJoYXMiLCJfc2V0UHJvdG90eXBlT2YiLCJPVEhFUl9DQVVTRSIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsIkNPTk5FQ1RJT05fRkFJTEVEIiwiT0JKRUNUX05PVF9GT1VORCIsIklOVkFMSURfUVVFUlkiLCJJTlZBTElEX0NMQVNTX05BTUUiLCJNSVNTSU5HX09CSkVDVF9JRCIsIklOVkFMSURfS0VZX05BTUUiLCJJTlZBTElEX1BPSU5URVIiLCJJTlZBTElEX0pTT04iLCJDT01NQU5EX1VOQVZBSUxBQkxFIiwiTk9UX0lOSVRJQUxJWkVEIiwiSU5DT1JSRUNUX1RZUEUiLCJJTlZBTElEX0NIQU5ORUxfTkFNRSIsIlBVU0hfTUlTQ09ORklHVVJFRCIsIk9CSkVDVF9UT09fTEFSR0UiLCJPUEVSQVRJT05fRk9SQklEREVOIiwiQ0FDSEVfTUlTUyIsIklOVkFMSURfTkVTVEVEX0tFWSIsIklOVkFMSURfRklMRV9OQU1FIiwiSU5WQUxJRF9BQ0wiLCJUSU1FT1VUIiwiSU5WQUxJRF9FTUFJTF9BRERSRVNTIiwiTUlTU0lOR19DT05URU5UX1RZUEUiLCJNSVNTSU5HX0NPTlRFTlRfTEVOR1RIIiwiSU5WQUxJRF9DT05URU5UX0xFTkdUSCIsIkZJTEVfVE9PX0xBUkdFIiwiRklMRV9TQVZFX0VSUk9SIiwiRklMRV9ERUxFVEVfRVJST1IiLCJEVVBMSUNBVEVfVkFMVUUiLCJJTlZBTElEX1JPTEVfTkFNRSIsIkVYQ0VFREVEX1FVT1RBIiwiU0NSSVBUX0ZBSUxFRCIsIlZBTElEQVRJT05fRVJST1IiLCJJTlZBTElEX0lNQUdFX0RBVEEiLCJVTlNBVkVEX0ZJTEVfRVJST1IiLCJJTlZBTElEX1BVU0hfVElNRV9FUlJPUiIsIlVTRVJOQU1FX01JU1NJTkciLCJQQVNTV09SRF9NSVNTSU5HIiwiVVNFUk5BTUVfVEFLRU4iLCJFTUFJTF9UQUtFTiIsIkVNQUlMX01JU1NJTkciLCJFTUFJTF9OT1RfRk9VTkQiLCJTRVNTSU9OX01JU1NJTkciLCJNVVNUX0NSRUFURV9VU0VSX1RIUk9VR0hfU0lHTlVQIiwiQUNDT1VOVF9BTFJFQURZX0xJTktFRCIsIkxJTktFRF9JRF9NSVNTSU5HIiwiSU5WQUxJRF9MSU5LRURfU0VTU0lPTiIsIlVOU1VQUE9SVEVEX1NFUlZJQ0UiLCJYX0RPTUFJTl9SRVFVRVNUIiwiYml0bWFwIiwiZ2V0QnVpbHRJbiIsIlRPX1NUUklOR19UQUdfU1VQUE9SVCIsImNsYXNzb2ZSYXciLCJ3ZWxsS25vd25TeW1ib2wiLCJUT19TVFJJTkdfVEFHIiwiQ09SUkVDVF9BUkdVTUVOVFMiLCJ0cnlHZXQiLCJyZXN1bHQiLCJjYWxsZWUiLCJhQ2FsbGFibGUiLCJQcm9taXNlQ2FwYWJpbGl0eSIsIkMiLCJyZWplY3QiLCJwcm9taXNlIiwiJCRyZXNvbHZlIiwiJCRyZWplY3QiLCJ0eXBlIiwiZWFjaCIsInN0cmluZ1NsaWNlIiwiVjhfVkVSU0lPTiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbCIsIm1hdGNoIiwicHJvY2VzcyIsIkRlbm8iLCJ2ZXJzaW9ucyIsInY4IiwidGhhdCIsImFjdGl2ZVhEb2N1bWVudCIsImRlZmluZVByb3BlcnRpZXNNb2R1bGUiLCJlbnVtQnVnS2V5cyIsImhpZGRlbktleXMiLCJodG1sIiwiZG9jdW1lbnRDcmVhdGVFbGVtZW50Iiwic2hhcmVkS2V5IiwiSUVfUFJPVE8iLCJzY3JpcHRUYWciLCJjb250ZW50IiwiTFQiLCJOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYIiwid3JpdGUiLCJjbG9zZSIsInRlbXAiLCJwYXJlbnRXaW5kb3ciLCJOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwic3JjIiwiY29udGVudFdpbmRvdyIsIm9wZW4iLCJGIiwiTnVsbFByb3RvT2JqZWN0IiwiQWN0aXZlWE9iamVjdCIsImRvbWFpbiIsIlByb3BlcnRpZXMiLCJ0b0luZGV4ZWRPYmplY3QiLCJhZGRUb1Vuc2NvcGFibGVzIiwiSXRlcmF0b3JzIiwiSW50ZXJuYWxTdGF0ZU1vZHVsZSIsImRlZmluZUl0ZXJhdG9yIiwiSVNfUFVSRSIsInNldEludGVybmFsU3RhdGUiLCJzZXQiLCJnZXRJbnRlcm5hbFN0YXRlIiwiZ2V0dGVyRm9yIiwiaXRlcmF0ZWQiLCJraW5kIiwic3RhdGUiLCJkb25lIiwidmFsdWVzIiwiQXJndW1lbnRzIiwiVEFHIiwiU0VUX01FVEhPRCIsIlByb21pc2UiLCJET01JdGVyYWJsZXMiLCJDT0xMRUNUSU9OX05BTUUiLCJDb2xsZWN0aW9uIiwiQ29sbGVjdGlvblByb3RvdHlwZSIsImZsYXR0ZW4iLCJpbnB1dCIsImRlcHRoIiwic3RyaWN0Iiwib3V0cHV0IiwiY29uY2F0IiwiSW5maW5pdHkiLCJpZHgiLCJqIiwibGVuIiwibWFwIiwicmVzdWx0cyIsImN1cnJlbnRLZXkiLCJfbWFwIiwiX3N0cmluZ2lmeSIsIl9pbmRleE9mIiwiX2tleXMyIiwidXVpZCIsImRlYnVnIiwic2V0QWRhcHRlcnMiLCJhZGFwdGVyTWFuYWdlciIsInJlYWx0aW1lIiwiaW5pdGlhbFVzZXJBZ2VudCIsImxpdmVRdWVyeVJlYWx0aW1lIiwib24iLCJwbGF0Zm9ybUluZm8iLCJ1YSIsImNvbW1lbnRzIiwiZXh0cmEiLCJfZ2V0QVZQYXRoIiwiaXNTdHJpbmciLCJzdWJzdHJpbmciLCJfaW5zdGFsbGF0aW9uSWQiLCJfZ2V0SW5zdGFsbGF0aW9uSWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtQXN5bmMiLCJzZXRJdGVtQXN5bmMiLCJfc3Vic2NyaXB0aW9uSWQiLCJfcmVmcmVzaFN1YnNjcmlwdGlvbklkIiwic3Vic2NyaXB0aW9uSWQiLCJfZ2V0U3Vic2NyaXB0aW9uSWQiLCJfcGFyc2VEYXRlIiwiX2V4dGVuZCIsImNsYXNzUHJvcHMiLCJfZW5jb2RlIiwic2Vlbk9iamVjdHMiLCJkaXNhbGxvd09iamVjdHMiLCJmdWxsIiwiX2hhc0RhdGEiLCJfdG9GdWxsSlNPTiIsIl90b1BvaW50ZXIiLCJBQ0wiLCJpc0RhdGUiLCJfX3R5cGUiLCJpc28iLCJHZW9Qb2ludCIsImlzUmVnRXhwIiwiUmVsYXRpb24iLCJPcCIsIkZpbGUiLCJpZCIsIm1hcE9iamVjdCIsInYiLCJrIiwiX2RlY29kZSIsIl9fb3AiLCJwb2ludGVyIiwiX2NyZWF0ZSIsImNsb25lIiwiX2ZpbmlzaEZldGNoIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJyZWxhdGlvbiIsInRhcmdldENsYXNzTmFtZSIsImZpbGUiLCJwYXJzZUpTT04iLCJ0ZXh0Iiwic3RyaW5naWZ5IiwiX2VuY29kZU9iamVjdE9yQXJyYXkiLCJlbmNvZGVBVk9iamVjdCIsIl9hcnJheUVhY2giLCJfdHJhdmVyc2UiLCJzZWVuIiwiYXR0cmlidXRlcyIsIm5ld0NoaWxkIiwiX2VhY2giLCJfb2JqZWN0RWFjaCIsImNhbGxiYWNrIiwiZW5hYmxlIiwibmFtZXNwYWNlcyIsImRpc2FibGUiLCJfdHlwZW9mIiwiaXRlcmF0b3IiLCJ1c2VDb2xvcnMiLCJfX253anMiLCJuYXZpZ2F0b3IiLCJkb2N1bWVudEVsZW1lbnQiLCJXZWJraXRBcHBlYXJhbmNlIiwiZmlyZWJ1ZyIsImV4Y2VwdGlvbiIsInRhYmxlIiwicGFyc2VJbnQiLCJSZWdFeHAiLCIkMSIsImZvcm1hdEFyZ3MiLCJodW1hbml6ZSIsImRpZmYiLCJjb2xvciIsInNwbGljZSIsImxhc3RDIiwicmVwbGFjZSIsImxvZyIsIl9jb25zb2xlIiwic2F2ZSIsInN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImxvYWQiLCJyIiwiZ2V0SXRlbSIsImVudiIsIkRFQlVHIiwiY29sb3JzIiwiZm9ybWF0dGVycyIsIkV2ZW50RW1pdHRlciIsIkFkYXB0ZXJNYW5hZ2VyIiwiX2FkYXB0ZXJzIiwiZ2V0QWRhcHRlciIsImFkYXB0ZXIiLCJuZXdBZGFwdGVycyIsImVtaXQiLCJSZWZsZWN0IiwidGVzdCIsInByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlIiwic3RvcmUiLCJtb2RlIiwiY29weXJpZ2h0IiwibGljZW5zZSIsImlzQXJyYXlJdGVyYXRvck1ldGhvZCIsImxlbmd0aE9mQXJyYXlMaWtlIiwiZ2V0SXRlcmF0b3IiLCJnZXRJdGVyYXRvck1ldGhvZCIsIml0ZXJhdG9yQ2xvc2UiLCJSZXN1bHQiLCJzdG9wcGVkIiwiUmVzdWx0UHJvdG90eXBlIiwiaXRlcmFibGUiLCJ1bmJvdW5kRnVuY3Rpb24iLCJpdGVyRm4iLCJuZXh0Iiwic3RlcCIsIkFTX0VOVFJJRVMiLCJJU19JVEVSQVRPUiIsIklOVEVSUlVQVEVEIiwic3RvcCIsImNvbmRpdGlvbiIsImNhbGxGbiIsIk5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciIsImluc3BlY3RTb3VyY2UiLCJJU19CUk9XU0VSIiwiTmF0aXZlUHJvbWlzZVByb3RvdHlwZSIsIlNQRUNJRVMiLCJTVUJDTEFTU0lORyIsIk5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCIsIlByb21pc2VSZWplY3Rpb25FdmVudCIsIkZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIiwiUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UiLCJHTE9CQUxfQ09SRV9KU19QUk9NSVNFIiwiRmFrZVByb21pc2UiLCJSRUpFQ1RJT05fRVZFTlQiLCJzdHJpbmciLCJwb2ludCIsImhhc1N0cmluZ1RhZ0J1ZyIsImlzSUUxMSIsIk1hcCIsImFsbEtleXMiLCJ0b1BhdGgiLCJvcHRpbWl6ZUNiIiwiY29sbGVjdGlvbiIsImFjY3VtdWxhdG9yIiwiZmlsdGVyIiwibGlzdCIsImNvbnRhaW5zIiwiaXRlbSIsImZyb21JbmRleCIsImd1YXJkIiwidG9QcmltaXRpdmUiLCJpc1N5bWJvbCIsIiRTeW1ib2wiLCJDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIiLCJPYmplY3RQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsImFQb3NzaWJsZVByb3RvdHlwZSIsInNldFByb3RvdHlwZU9mIiwic2V0dGVyIiwiQ09SUkVDVF9TRVRURVIiLCJfX3Byb3RvX18iLCJnZXRNZXRob2QiLCJJVEVSQVRPUiIsIk5BVElWRV9XRUFLX01BUCIsIldlYWtNYXAiLCJlbmZvcmNlIiwiVFlQRSIsIndtZ2V0Iiwid21oYXMiLCJ3bXNldCIsIm1ldGFkYXRhIiwiZmFjYWRlIiwiU1RBVEUiLCJub29wIiwiZW1wdHkiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvclJlZ0V4cCIsIklOQ09SUkVDVF9UT19TVFJJTkciLCJpc0NvbnN0cnVjdG9yTW9kZXJuIiwiaXNDb25zdHJ1Y3RvckxlZ2FjeSIsImNhbGxlZCIsIm1hdGNoZXIiLCJhdHRycyIsInBhcnRpYWwiLCJib3VuZEFyZ3MiLCJwbGFjZWhvbGRlciIsImJvdW5kIiwicG9zaXRpb24iLCJncm91cCIsImJlaGF2aW9yIiwicGFydGl0aW9uIiwicHJvcGVydHlLZXkiLCJNRVRIT0RfTkFNRSIsImFycmF5IiwiZm9vIiwiQm9vbGVhbiIsImFycmF5U3BlY2llc0NyZWF0ZSIsImNyZWF0ZU1ldGhvZCIsIklTX01BUCIsIklTX0ZJTFRFUiIsIklTX1NPTUUiLCJJU19FVkVSWSIsIklTX0ZJTkRfSU5ERVgiLCJJU19GSUxURVJfUkVKRUNUIiwiTk9fSE9MRVMiLCIkdGhpcyIsImNhbGxiYWNrZm4iLCJzcGVjaWZpY0NyZWF0ZSIsImJvdW5kRnVuY3Rpb24iLCJzb21lIiwiZXZlcnkiLCJmaW5kIiwiZmluZEluZGV4IiwiZmlsdGVyUmVqZWN0IiwiX3R5cGVvZjIiLCJfZmlsdGVyIiwiZGVidWdSZXF1ZXN0IiwiZGVidWdSZXF1ZXN0RXJyb3IiLCJyZXF1ZXN0c0NvdW50IiwidGltZSIsIm9ucHJvZ3Jlc3MiLCJxdWVyeVN0cmluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsInFzIiwiY291bnQiLCJzdGF0dXMiLCJoZWFkZXIiLCJvayIsImVuYWJsZWQiLCJnIiwiZXZhbCIsIlYiLCJkZWZpbmVHbG9iYWxQcm9wZXJ0eSIsInBvc3RmaXgiLCJyYW5kb20iLCJFWElTVFMiLCJjcmVhdGVFbGVtZW50IiwiaW50ZXJuYWxPYmplY3RLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRvQWJzb2x1dGVJbmRleCIsIklTX0lOQ0xVREVTIiwiZWwiLCJpbmNsdWRlcyIsImluZGV4T2YiLCJ0b0ludGVnZXJPckluZmluaXR5IiwibWluIiwiaW50ZWdlciIsInRydW5jIiwibnVtYmVyIiwiZnVuY3Rpb25Ub1N0cmluZyIsImllMTBJc0RhdGFWaWV3IiwiZ2V0SW50OCIsImJ1ZmZlciIsImlzRGF0YVZpZXciLCJpc0FyZ3VtZW50cyIsImllMTFmaW5nZXJwcmludCIsIm1ldGhvZHMiLCJ3ZWFrTWFwTWV0aG9kcyIsImZvckVhY2hOYW1lIiwiY29tbW9uSW5pdCIsIm1hcFRhaWwiLCJtYXBNZXRob2RzIiwic2V0TWV0aG9kcyIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJkZWZhdWx0cyIsImRlZXBHZXQiLCJpZGVudGl0eSIsIm5lZ2F0ZSIsInBsdWNrIiwiX1N5bWJvbCIsIl9TeW1ib2wkaXRlcmF0b3IiLCIkcHJvcGVydHlJc0VudW1lcmFibGUiLCJOQVNIT1JOX0JVRyIsIjEiLCJyZXBsYWNlbWVudCIsImZlYXR1cmUiLCJkZXRlY3Rpb24iLCJub3JtYWxpemUiLCJQT0xZRklMTCIsIk5BVElWRSIsIm5hbWVzIiwib2JqZWN0S2V5cyIsImRlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsIkFycmF5UHJvdG90eXBlIiwidXNpbmdJdGVyYXRvciIsIml0ZXJhdG9yTWV0aG9kIiwiaW5uZXJSZXN1bHQiLCJpbm5lckVycm9yIiwiJCIsIkZ1bmN0aW9uTmFtZSIsImNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IiLCJzZXRUb1N0cmluZ1RhZyIsImRlZmluZUJ1aWx0SW4iLCJJdGVyYXRvcnNDb3JlIiwiUFJPUEVSX0ZVTkNUSU9OX05BTUUiLCJQUk9QRVIiLCJDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSIsIkNPTkZJR1VSQUJMRSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiQlVHR1lfU0FGQVJJX0lURVJBVE9SUyIsInJldHVyblRoaXMiLCJJdGVyYWJsZSIsIkl0ZXJhdG9yQ29uc3RydWN0b3IiLCJERUZBVUxUIiwiSVNfU0VUIiwiQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlIiwiS0VZIiwiZ2V0SXRlcmF0aW9uTWV0aG9kIiwiS0lORCIsImRlZmF1bHRJdGVyYXRvciIsIkl0ZXJhYmxlUHJvdG90eXBlIiwiSU5DT1JSRUNUX1ZBTFVFU19OQU1FIiwibmF0aXZlSXRlcmF0b3IiLCJhbnlOYXRpdmVJdGVyYXRvciIsImVudHJpZXMiLCJnZXREZXNjcmlwdG9yIiwiUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlIiwiYXJyYXlJdGVyYXRvciIsImFDb25zdHJ1Y3RvciIsImRlZmF1bHRDb25zdHJ1Y3RvciIsIlMiLCJpc0NvbnN0cnVjdG9yIiwibG9jYXRpb24iLCJkZWZlciIsImNoYW5uZWwiLCJwb3J0IiwiYXJyYXlTbGljZSIsInZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoIiwiSVNfSU9TIiwiSVNfTk9ERSIsInNldEltbWVkaWF0ZSIsImNsZWFyIiwiY2xlYXJJbW1lZGlhdGUiLCJEaXNwYXRjaCIsIk1lc3NhZ2VDaGFubmVsIiwiY291bnRlciIsInF1ZXVlIiwicnVuIiwicnVubmVyIiwibGlzdGVuZXIiLCJldmVudCIsInBvc3QiLCJwb3N0TWVzc2FnZSIsInByb3RvY29sIiwiaG9zdCIsImhhbmRsZXIiLCJuZXh0VGljayIsInBvcnQyIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiaW1wb3J0U2NyaXB0cyIsInJlbW92ZUNoaWxkIiwic2V0VGltZW91dCIsImNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbiIsImFsbCIsIlNBRkVfQ0xPU0lORyIsIml0ZXJhdG9yV2l0aFJldHVybiIsImZyb20iLCJTS0lQX0NMT1NJTkciLCJJVEVSQVRJT05fU1VQUE9SVCIsIm5ld1Byb21pc2VDYXBhYmlsaXR5IiwicHJvbWlzZUNhcGFiaWxpdHkiLCJpc0Jvb2xlYW4iLCJpc1R5cGVkQXJyYXkiLCJ0eXBlZEFycmF5UGF0dGVybiIsImNvbnN0YW50IiwiY3JlYXRlU2l6ZVByb3BlcnR5Q2hlY2siLCJnZXRTaXplUHJvcGVydHkiLCJzaXplUHJvcGVydHkiLCJzaGFsbG93UHJvcGVydHkiLCJlbXVsYXRlZFNldCIsImhhc2giLCJjb2xsZWN0Tm9uRW51bVByb3BzIiwibm9uRW51bUlkeCIsInByb3AiLCJpc01hdGNoIiwiaW52ZXJ0IiwiZnVuY3Rpb25zIiwic29ydCIsImN0b3IiLCJiYXNlQ3JlYXRlIiwiQ3RvciIsImRlZmF1bHRWYWx1ZSIsImJhc2VJdGVyYXRlZSIsImZsb29yIiwiY3JlYXRlRXNjYXBlciIsImVzY2FwZXIiLCJ0ZXN0UmVnZXhwIiwicmVwbGFjZVJlZ2V4cCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwiZXNjYXBlIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0IiwiY2FsbEFyZ3MiLCJ3YWl0IiwiYmVmb3JlIiwidGltZXMiLCJtZW1vIiwiZmluZEtleSIsImNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyIiwiZGlyIiwic29ydGVkSW5kZXgiLCJsb3ciLCJoaWdoIiwibWlkIiwiY3JlYXRlSW5kZXhGaW5kZXIiLCJwcmVkaWNhdGVGaW5kIiwia2V5RmluZGVyIiwiY3JlYXRlUmVkdWNlIiwicmVkdWNlciIsImluaXRpYWwiLCJjb21wdXRlZCIsImxhc3RDb21wdXRlZCIsInNhbXBsZSIsImxhc3QiLCJyYW5kIiwidW5pcSIsImlzU29ydGVkIiwidW56aXAiLCJjaGFpblJlc3VsdCIsImluc3RhbmNlIiwiX2NoYWluIiwiY2hhaW4iLCJkb2VzTm90RXhjZWVkU2FmZUludGVnZXIiLCJjcmVhdGVQcm9wZXJ0eSIsImFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQiLCJJU19DT05DQVRfU1BSRUFEQUJMRSIsIklTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQiLCJTUEVDSUVTX1NVUFBPUlQiLCJpc0NvbmNhdFNwcmVhZGFibGUiLCJzcHJlYWRhYmxlIiwiYXJpdHkiLCJhcmciLCJFIiwiQSIsImFycmF5U3BlY2llc0NvbnN0cnVjdG9yIiwib3JpZ2luYWxBcnJheSIsIiRzdHJpbmdpZnkiLCJjaGFyQ29kZUF0IiwibnVtYmVyVG9TdHJpbmciLCJ0ZXN0ZXIiLCJoaSIsIldST05HX1NZTUJPTFNfQ09OVkVSU0lPTiIsIklMTF9GT1JNRURfVU5JQ09ERSIsInN0cmluZ2lmeVdpdGhTeW1ib2xzRml4IiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJmaXhJbGxGb3JtZWQiLCJvZmZzZXQiLCJwcmV2Iiwic3BhY2UiLCJ2NCIsImJ1ZiIsInJuZHMiLCJybmciLCJpaSIsImJ5dGVzVG9VdWlkIiwiRXZlbnRzIiwiRUUiLCJvbmNlIiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsInByZWZpeCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJsaXN0ZW5lcnMiLCJleGlzdHMiLCJldnQiLCJhdmFpbGFibGUiLCJlZSIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsImFkZExpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwicHJlZml4ZWQiLCJzeW5jQXBpTmFtZXMiLCJhc3luYyIsImFwaU5hbWUiLCJyZW1vdmVBc3luYyIsInJlbW92ZUl0ZW1Bc3luYyIsImdldENhY2hlRGF0YSIsImNhY2hlRGF0YSIsImV4cGlyZWRBdCIsImdldEFzeW5jIiwiY2FjaGUiLCJzZXRBc3luYyIsInR0bCIsIiRBcnJheSIsInN0YXJ0IiwiZW5kIiwiZmluIiwiU3ltYm9sUHJvdG90eXBlIiwiVE9fUFJJTUlUSVZFIiwiaGludCIsImtleUZvciIsIiRGdW5jdGlvbiIsImZhY3RvcmllcyIsImFyZ3NMZW5ndGgiLCJQcm90b3R5cGUiLCJwYXJ0QXJncyIsImNoYXJlbmMiLCJ1dGY4Iiwic3RyaW5nVG9CeXRlcyIsInN0ciIsImJpbiIsInVuZXNjYXBlIiwiYnl0ZXNUb1N0cmluZyIsImJ5dGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZnJvbUNoYXJDb2RlIiwiX3N5bWJvbCIsImRlZmF1bHQiLCJfaXRlcmF0b3IiLCJ1c2VBZGF0cGVycyIsIkNhY2hlIiwiQ29udmVyc2F0aW9uIiwiY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyIsImNsZWFyRXJyb3JTdGFjayIsImluc3RhbGxFcnJvckNhdXNlIiwiaXRlcmF0ZSIsIm5vcm1hbGl6ZVN0cmluZ0FyZ3VtZW50IiwiRVJST1JfU1RBQ0tfSU5TVEFMTEFCTEUiLCIkRXJyb3IiLCIkQWdncmVnYXRlRXJyb3IiLCJlcnJvcnMiLCJpc0luc3RhbmNlIiwiQWdncmVnYXRlRXJyb3JQcm90b3R5cGUiLCJzdGFjayIsImVycm9yc0FycmF5IiwiQWdncmVnYXRlRXJyb3IiLCJvcmRpbmFyeVRvUHJpbWl0aXZlIiwicHJlZiIsImV4b3RpY1RvUHJpbSIsInZhbCIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUiLCJleGNlcHRpb25zIiwiZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSIsImdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSIsImNlaWwiLCJURVNUIiwiVjhfT1JfQ0hBS1JBX1NUQUNLX0VOVFJZIiwiSVNfVjhfT1JfQ0hBS1JBX1NUQUNLIiwiZHJvcEVudHJpZXMiLCJwcmVwYXJlU3RhY2tUcmFjZSIsImNhdXNlIiwiJGRlZmF1bHQiLCJFTlVNRVJBQkxFX05FWFQiLCJJbnRlcm5hbCIsIk93blByb21pc2VDYXBhYmlsaXR5IiwibmF0aXZlVGhlbiIsInNldFNwZWNpZXMiLCJhbkluc3RhbmNlIiwic3BlY2llc0NvbnN0cnVjdG9yIiwidGFzayIsIm1pY3JvdGFzayIsImhvc3RSZXBvcnRFcnJvcnMiLCJwZXJmb3JtIiwiUXVldWUiLCJQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24iLCJuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSIsIk5BVElWRV9QUk9NSVNFX1NVQkNMQVNTSU5HIiwiZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUiLCJQcm9taXNlQ29uc3RydWN0b3IiLCJQcm9taXNlUHJvdG90eXBlIiwibmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5IiwiRElTUEFUQ0hfRVZFTlQiLCJjcmVhdGVFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJpc1RoZW5hYmxlIiwiY2FsbFJlYWN0aW9uIiwicmVhY3Rpb24iLCJleGl0ZWQiLCJmYWlsIiwicmVqZWN0aW9uIiwib25IYW5kbGVVbmhhbmRsZWQiLCJlbnRlciIsImV4aXQiLCJub3RpZnkiLCJpc1JlamVjdCIsIm5vdGlmaWVkIiwicmVhY3Rpb25zIiwib25VbmhhbmRsZWQiLCJyZWFzb24iLCJpbml0RXZlbnQiLCJJU19VTkhBTkRMRUQiLCJpc1VuaGFuZGxlZCIsInVud3JhcCIsImludGVybmFsUmVqZWN0IiwiaW50ZXJuYWxSZXNvbHZlIiwid3JhcHBlciIsImV4ZWN1dG9yIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiYWRkIiwiUHJvbWlzZVdyYXBwZXIiLCJ1bnNhZmUiLCJDT05TVFJVQ1RPUl9OQU1FIiwiQ29uc3RydWN0b3IiLCJwYXNzZWQiLCJyZXF1aXJlZCIsImZsdXNoIiwiaGVhZCIsInRvZ2dsZSIsIm5vZGUiLCJtYWNyb3Rhc2siLCJJU19JT1NfUEVCQkxFIiwiSVNfV0VCT1NfV0VCS0lUIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IiLCJxdWV1ZU1pY3JvdGFzayIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJQZWJibGUiLCJ0YWlsIiwiZW50cnkiLCJjYXBhYmlsaXR5IiwiJHByb21pc2VSZXNvbHZlIiwicmVtYWluaW5nIiwiYWxyZWFkeUNhbGxlZCIsInJhY2UiLCJwcm9taXNlUmVzb2x2ZSIsIlByb21pc2VDb25zdHJ1Y3RvcldyYXBwZXIiLCJDSEVDS19XUkFQUEVSIiwiYWxsU2V0dGxlZCIsImFueSIsImFscmVhZHlSZXNvbHZlZCIsImFscmVhZHlSZWplY3RlZCIsIm9uRmluYWxseSIsIkNPTlZFUlRfVE9fU1RSSU5HIiwicG9zIiwiZmlyc3QiLCJzZWNvbmQiLCJzaXplIiwiY29kZUF0IiwiQ1NTUnVsZUxpc3QiLCJDU1NTdHlsZURlY2xhcmF0aW9uIiwiQ1NTVmFsdWVMaXN0IiwiQ2xpZW50UmVjdExpc3QiLCJET01SZWN0TGlzdCIsIkRPTVN0cmluZ0xpc3QiLCJET01Ub2tlbkxpc3QiLCJEYXRhVHJhbnNmZXJJdGVtTGlzdCIsIkZpbGVMaXN0IiwiSFRNTEFsbENvbGxlY3Rpb24iLCJIVE1MQ29sbGVjdGlvbiIsIkhUTUxGb3JtRWxlbWVudCIsIkhUTUxTZWxlY3RFbGVtZW50IiwiTWVkaWFMaXN0IiwiTWltZVR5cGVBcnJheSIsIk5hbWVkTm9kZU1hcCIsIk5vZGVMaXN0IiwiUGFpbnRSZXF1ZXN0TGlzdCIsIlBsdWdpbiIsIlBsdWdpbkFycmF5IiwiU1ZHTGVuZ3RoTGlzdCIsIlNWR051bWJlckxpc3QiLCJTVkdQYXRoU2VnTGlzdCIsIlNWR1BvaW50TGlzdCIsIlNWR1N0cmluZ0xpc3QiLCJTVkdUcmFuc2Zvcm1MaXN0IiwiU291cmNlQnVmZmVyTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiVGV4dFRyYWNrQ3VlTGlzdCIsIlRleHRUcmFja0xpc3QiLCJUb3VjaExpc3QiLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInBhcnNlRmxvYXQiLCJpc0VtcHR5IiwiZXEiLCJhU3RhY2siLCJiU3RhY2siLCJkZWVwRXEiLCJ0YWdEYXRhVmlldyIsImFyZUFycmF5cyIsImJ5dGVPZmZzZXQiLCJhQ3RvciIsImJDdG9yIiwiaXNFcXVhbCIsInRvQnVmZmVyVmlldyIsImJ1ZmZlclNvdXJjZSIsIlVpbnQ4QXJyYXkiLCJwYWlycyIsInByb3BlcnR5T2YiLCJhY2N1bSIsImVzY2FwZUNoYXIiLCJlc2NhcGVzIiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsIm9sZFNldHRpbmdzIiwibm9NYXRjaCIsImVzY2FwZVJlZ0V4cCIsImJhcmVJZGVudGlmaWVyIiwicmVuZGVyIiwiZmFsbGJhY2siLCJ1bmlxdWVJZCIsImlkQ291bnRlciIsIm1lbW9pemUiLCJoYXNoZXIiLCJhZGRyZXNzIiwidGhyb3R0bGUiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsInRocm90dGxlZCIsIl9ub3ciLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsImNhbmNlbCIsImRlYm91bmNlIiwiaW1tZWRpYXRlIiwiZGVib3VuY2VkIiwiX2FyZ3MiLCJjb21wb3NlIiwiYWZ0ZXIiLCJmaW5kV2hlcmUiLCJjb250ZXh0UGF0aCIsIndoZXJlIiwic2h1ZmZsZSIsInNvcnRCeSIsImNyaXRlcmlhIiwibGVmdCIsInJpZ2h0IiwicGFzcyIsInRvQXJyYXkiLCJyZVN0clN5bWJvbCIsImtleUluT2JqIiwiY29tcGFjdCIsIm90aGVyQXJyYXlzIiwiYXJyYXlzIiwiaW50ZXJzZWN0aW9uIiwicmFuZ2UiLCJjaHVuayIsIm1peGluIiwib3duIiwiZW50cnlWaXJ0dWFsIiwiJG1hcCIsIiRJbmRleE9mIiwiYXJyYXlNZXRob2RJc1N0cmljdCIsInVuJEluZGV4T2YiLCJORUdBVElWRV9aRVJPIiwiU1RSSUNUX01FVEhPRCIsInNlYXJjaEVsZW1lbnQiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiYnRoIiwiYnl0ZVRvSGV4Iiwic3Vic3RyIiwic2V0dXAiLCJzZWxlY3RDb2xvciIsImNyZWF0ZURlYnVnIiwiYWJzIiwiX2xlbiIsIl9rZXkiLCJjdXJyIiwiTnVtYmVyIiwibXMiLCJwcmV2VGltZSIsImNvZXJjZSIsInVuc2hpZnQiLCJmb3JtYXQiLCJmb3JtYXR0ZXIiLCJkZXN0cm95IiwiaW5pdCIsImluc3RhbmNlcyIsImRlbGltaXRlciIsInNraXBzIiwieSIsInciLCJoIiwiZm10U2hvcnQiLCJtc0FicyIsInJvdW5kIiwiZm10TG9uZyIsInBsdXJhbCIsImlzUGx1cmFsIiwibG9uZyIsIm5hdGl2ZUdldFByb3RvdHlwZU9mIiwiZ2V0RGVmYXVsdFNlcnZlclVSTHMiLCJhcHBJZCIsImlzQ05BcHAiLCJzdGF0cyIsImVuZ2luZSIsImFwaSIsInJ0bSIsIl9zbGljZSIsIl9kZWZpbmVQcm9wZXJ0eSIsIkFwcFJvdXRlciIsImZpbGxTZXJ2ZXJVUkxzIiwiX2Rpc2FibGVBcHBSb3V0ZXIiLCJfaW5pdGlhbGl6ZWQiLCJhcHBLZXkiLCJzZXJ2ZXJVUkwiLCJzZXRQcm9kdWN0aW9uIiwiZGlzYWJsZUFwcFJvdXRlciIsIl9zZXRTZXJ2ZXJVUkxzIiwic2VydmVyIiwiUlRNUm91dGVyIiwidXJscyIsInNldFNlcnZlclVSTCIsInNldFNlcnZlclVSTHMiLCJzZXRSZXF1ZXN0VGltZW91dCIsImluaXRpYWxpemUiLCJ1biRTbGljZSIsIkhBU19TUEVDSUVTX1NVUFBPUlQiLCJkZXNjIiwibG9ja2VkVW50aWwiLCJkaXNhYmxlZCIsImxvY2siLCJzZXJ2ZXJzIiwicHVzaF9zZXJ2ZXIiLCJzdGF0c19zZXJ2ZXIiLCJlbmdpbmVfc2VydmVyIiwiYXBpX3NlcnZlciIsIiR0b1N0cmluZyIsIm5hdGl2ZU9iamVjdENyZWF0ZSIsImdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbCIsImRlZmluZVdlbGxLbm93blN5bWJvbCIsImRlZmluZVN5bWJvbFRvUHJpbWl0aXZlIiwiJGZvckVhY2giLCJISURERU4iLCJRT2JqZWN0IiwibmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibmF0aXZlRGVmaW5lUHJvcGVydHkiLCJuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzIiwibmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUiLCJBbGxTeW1ib2xzIiwiT2JqZWN0UHJvdG90eXBlU3ltYm9scyIsIlVTRV9TRVRURVIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjcmlwdG9yIiwiT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciIsIiRkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCIkY3JlYXRlIiwiJGdldE93blByb3BlcnR5TmFtZXMiLCJJU19PQkpFQ1RfUFJPVE9UWVBFIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwid2luZG93TmFtZXMiLCJnZXRXaW5kb3dOYW1lcyIsIk5BVElWRV9TWU1CT0xfUkVHSVNUUlkiLCJTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5IiwiU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSIsInN5bSIsIldyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUiLCIkZmlsdGVyIiwiVGltZW91dEVycm9yIiwidGltZW91dE1pbGxpcyIsImV2ZW50U3BsaXR0ZXIiLCJjYWxscyIsIl9jYWxsYmFja3MiLCJzaGlmdCIsImN0eCIsInRyaWdnZXIiLCJ1bmJpbmQiLCJhcmcxIiwiYXJnMiIsIl92YWxpZGF0ZSIsImlzTnVtYmVyIiwiX19kZWZpbmVHZXR0ZXJfXyIsIl9fZGVmaW5lU2V0dGVyX18iLCJfbGF0aXR1ZGUiLCJfbG9uZ2l0dWRlIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJjb29yZHMiLCJyYWRpYW5zVG8iLCJkMnIiLCJQSSIsImxhdDFyYWQiLCJsb25nMXJhZCIsImxhdDJyYWQiLCJsb25nMnJhZCIsImRlbHRhTGF0IiwiZGVsdGFMb25nIiwic2luRGVsdGFMYXREaXYyIiwic2luIiwic2luRGVsdGFMb25nRGl2MiIsImNvcyIsImFzaW4iLCJzcXJ0Iiwia2lsb21ldGVyc1RvIiwibWlsZXNUbyIsInBlcm1pc3Npb25zQnlJZCIsInNldFJlYWRBY2Nlc3MiLCJzZXRXcml0ZUFjY2VzcyIsImFjY2Vzc0xpc3QiLCJ1c2VySWQiLCJhbGxvd2VkIiwicGVybWlzc2lvbiIsIl9zZXRBY2Nlc3MiLCJhY2Nlc3NUeXBlIiwiUm9sZSIsImdldE5hbWUiLCJwZXJtaXNzaW9ucyIsIl9nZXRBY2Nlc3MiLCJnZXRSZWFkQWNjZXNzIiwiZ2V0V3JpdGVBY2Nlc3MiLCJzZXRQdWJsaWNSZWFkQWNjZXNzIiwiZ2V0UHVibGljUmVhZEFjY2VzcyIsInNldFB1YmxpY1dyaXRlQWNjZXNzIiwiZ2V0UHVibGljV3JpdGVBY2Nlc3MiLCJnZXRSb2xlUmVhZEFjY2VzcyIsInJvbGUiLCJnZXRSb2xlV3JpdGVBY2Nlc3MiLCJzZXRSb2xlUmVhZEFjY2VzcyIsInNldFJvbGVXcml0ZUFjY2VzcyIsIl9maW5kIiwiX2luaXRpYWxpemUiLCJfb3BEZWNvZGVyTWFwIiwiX3JlZ2lzdGVyRGVjb2RlciIsIm9wTmFtZSIsImRlY29kZXIiLCJqc29uIiwib3AiLCJvcHMiLCJuZXh0T3AiLCJfbWVyZ2VXaXRoUHJldmlvdXMiLCJTZXQiLCJfdmFsdWUiLCJfZXN0aW1hdGUiLCJvbGRWYWx1ZSIsIl9VTlNFVCIsIlVuc2V0IiwiSW5jcmVtZW50IiwiYW1vdW50IiwiX2Ftb3VudCIsIkJpdEFuZCIsIkJpdE9yIiwiQml0WG9yIiwiQWRkIiwib2JqZWN0cyIsIl9vYmplY3RzIiwiQWRkVW5pcXVlIiwibmV3VmFsdWUiLCJtYXRjaGluZ09iaiIsImFuT2JqIiwiUmVtb3ZlIiwidW5pb24iLCJkaWZmZXJlbmNlIiwib3RoZXIiLCJhZGRzIiwicmVtb3ZlcyIsIl90YXJnZXRDbGFzc05hbWUiLCJwb2ludGVyVG9JZCIsInJlbGF0aW9uc1RvQWRkIiwicmVsYXRpb25zVG9SZW1vdmUiLCJhZGRlZCIsInJlbW92ZWQiLCJpZFRvUG9pbnRlciIsInBvaW50ZXJzIiwibmV3QWRkIiwibmV3UmVtb3ZlIiwibmV3UmVsYXRpb24iLCIkZmluZCIsIlNLSVBTX0hPTEVTIiwicmV2ZXJzZVF1ZXJ5IiwicGFyZW50Q2xhc3MiLCJyZWxhdGlvbktleSIsIlF1ZXJ5IiwiZXF1YWxUbyIsIl9lbnN1cmVQYXJlbnRBbmRLZXkiLCJjaGFuZ2UiLCJyZW1vdmUiLCJ0YXJnZXRDbGFzcyIsIl9nZXRTdWJjbGFzcyIsIl9kZWZhdWx0UGFyYW1zIiwicmVkaXJlY3RDbGFzc05hbWVGb3JLZXkiLCJfYWRkQ29uZGl0aW9uIiwicWluaXUiLCJzMyIsIkFWUmVxdWVzdCIsInBhcnNlQmFzZTY0IiwiZXh0bmFtZSIsImI2NERpZ2l0IiwiZW5jb2RlQmFzZTY0IiwiY2h1bmtzIiwiYjEiLCJiMiIsImIzIiwiaGFzMiIsImhhczMiLCJtaW1lVHlwZSIsIm1ldGFEYXRhIiwiYmFzZTY0IiwiX2V4dE5hbWUiLCJfZGF0YSIsIl91cGxvYWRIZWFkZXJzIiwiYmxvYiIsInVyaSIsIkJsb2IiLCJvd25lciIsIndpdGhVUkwiLCJfX3NvdXJjZSIsImNyZWF0ZVdpdGhvdXREYXRhIiwiY2Vuc29yIiwicmVzIiwiY2Vuc29yUmVzdWx0IiwiX29wZXJhdGlvbnMiLCJ0b0Z1bGxKU09OIiwiaG9sZGVyIiwiZ2V0QUNMIiwiX2FjbCIsInNldEFDTCIsImFjbCIsImF0dHJOYW1lIiwic2V0VXBsb2FkSGVhZGVyIiwiYXR0ciIsInRodW1ibmFpbFVSTCIsIndpZHRoIiwiaGVpZ2h0IiwicXVhbGl0eSIsInNjYWxlVG9GaXQiLCJmbXQiLCJvd25lcklkIiwiX2ZpbGVUb2tlbiIsImV4dE5hbWUiLCJrZWVwX2ZpbGVfbmFtZSIsImtlZXBGaWxlTmFtZSIsIm1pbWVfdHlwZSIsIl9wcmV2aW91c1NhdmUiLCJ1cGxvYWRJbmZvIiwiX3Rva2VuIiwidG9rZW4iLCJfb3B0aW9ucyIsImRpcmVjdGlvbiIsInByb3ZpZGVyIiwiX2NhbGxiYWNrIiwic3VjY2VzcyIsImZldGNoIiwiYnVja2V0Iiwic2F2ZU9wdGlvbnMiLCJ1cGxvYWRfdXJsIiwiZmlsZUZvcm1EYXRhIiwiZmllbGQiLCJfYnVja2V0IiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiTmV3VGFyZ2V0IiwiX1JlZmxlY3QkY29uc3RydWN0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiUHJveHkiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsImFsbG93QXJyYXlMaWtlIiwiX2dldEl0ZXJhdG9yTWV0aG9kIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX2UiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiX2UyIiwicmV0dXJuIiwibWluTGVuIiwiX2NvbnRleHQ4IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfc2xpY2VJbnN0YW5jZVByb3BlcnR5MiIsIl9BcnJheSRmcm9tIiwiYXJyIiwiYXJyMiIsInVwbG9hZCIsInVwdG9rZW4iLCJ1cmxTYWZlQmFzZTY0IiwiYnRvYSIsImNoIiwiaXNCbG9iIiwiX2luaGVyaXRzMiIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiQ0hVTktfU0laRSIsIlNoYXJkVXBsb2FkZXIiLCJ1cGxvYWRlZENodW5rcyIsInVwbG9hZFVSTCIsImJhc2VVUkwiLCJ1cFRva2VuIiwidXBsb2FkZWQiLCJvblByb2dyZXNzIiwibG9hZGVkIiwidG90YWwiLCJwZXJjZW50IiwiQXV0aG9yaXphdGlvbiIsInVwbG9hZElkIiwicGFydE51bWJlciIsImV0YWciLCJwYXJ0cyIsImdldFVwbG9hZElkIiwidXBsb2FkUGFydCIsImdldENodW5rIiwicGFydCIsInN0b3BVcGxvYWQiLCJmbmFtZSIsIkJsb2JVcGxvYWRlciIsIl9TaGFyZFVwbG9hZGVyIiwiX3N1cGVyIiwiY2FsbFdpdGhTYWZlSXRlcmF0aW9uQ2xvc2luZyIsImFycmF5TGlrZSIsIklTX0NPTlNUUlVDVE9SIiwiYXJndW1lbnRzTGVuZ3RoIiwibWFwZm4iLCJtYXBwaW5nIiwiRU5UUklFUyIsIm5hdGl2ZUNvbnN0cnVjdCIsIk5FV19UQVJHRVRfQlVHIiwiQVJHU19CVUciLCJUYXJnZXQiLCJuZXdUYXJnZXQiLCIkYXJncyIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl9PYmplY3QkY3JlYXRlIiwiX09iamVjdCRkZWZpbmVQcm9wZXJ0eSIsIkQiLCJfY29udGV4dCIsIl9PYmplY3Qkc2V0UHJvdG90eXBlT2YiLCJfYmluZEluc3RhbmNlUHJvcGVydHkiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImFzc2VydFRoaXNJbml0aWFsaXplZCIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJSZWZlcmVuY2VFcnJvciIsIl9PYmplY3QkZ2V0UHJvdG90eXBlT2YiLCJfY2xhc3NDYWxsQ2hlY2siLCJfZGVmaW5lUHJvcGVydGllcyIsIl9jcmVhdGVDbGFzcyIsImI2NCIsImNyeXB0IiwiaXNCdWZmZXIiLCJlbmNvZGluZyIsImJ5dGVzVG9Xb3JkcyIsIkZGIiwiX2ZmIiwiR0ciLCJfZ2ciLCJISCIsIl9oaCIsIklJIiwiX2lpIiwiYWEiLCJiYiIsImNjIiwiZGQiLCJlbmRpYW4iLCJ0IiwiX2Jsb2Nrc2l6ZSIsIl9kaWdlc3RzaXplIiwiZGlnZXN0Ynl0ZXMiLCJ3b3Jkc1RvQnl0ZXMiLCJhc0J5dGVzIiwiYXNTdHJpbmciLCJieXRlc1RvSGV4IiwiYmFzZTY0bWFwIiwicm90bCIsInJvdHIiLCJyYW5kb21CeXRlcyIsIndvcmRzIiwiaGV4IiwiaGV4VG9CeXRlcyIsImJ5dGVzVG9CYXNlNjQiLCJ0cmlwbGV0IiwiYmFzZTY0VG9CeXRlcyIsImltb2Q0IiwiaXNTbG93QnVmZmVyIiwicmVhZEZsb2F0TEUiLCJfaXNCdWZmZXIiLCJkYXRhVVJJdG9CbG9iIiwiZGF0YVVSSSIsImJ5dGVTdHJpbmciLCJhdG9iIiwiaWEiLCJnZXRWYWx1ZSIsIl9zbGljZWRUb0FycmF5MiIsIl9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJyZWN1cnNpdmVUb1BvaW50ZXIiLCJSRVNFUlZFRF9LRVlTIiwiY2hlY2tSZXNlcnZlZEtleSIsImhhbmRsZUJhdGNoUmVzdWx0cyIsImZpcnN0RXJyb3IiLCJfbWVyZ2VNYWdpY0ZpZWxkcyIsIl9zZXJ2ZXJEYXRhIiwiX29wU2V0UXVldWUiLCJfZmxhZ3MiLCJfaGFzaGVkSlNPTiIsIl9lc2NhcGVkQXR0cmlidXRlcyIsImNpZCIsImNoYW5nZWQiLCJfc2lsZW50IiwiX3BlbmRpbmciLCJzaWxlbnQiLCJfcHJldmlvdXNBdHRyaWJ1dGVzIiwic2F2ZUFsbCIsIl9kZWVwU2F2ZUFzeW5jIiwiZmV0Y2hBbGwiLCJyZXF1ZXN0cyIsImRpcnR5IiwiZmV0Y2hlZEF0dHJzIiwiX2NsZWFudXBVbnNldEtleXMiLCJmZXRjaFdoZW5TYXZlIiwiZ2V0T2JqZWN0SWQiLCJnZXRDcmVhdGVkQXQiLCJjcmVhdGVkQXQiLCJnZXRVcGRhdGVkQXQiLCJ1cGRhdGVkQXQiLCJuZXdTZWVuT2JqZWN0cyIsIl9yZWZyZXNoQ2FjaGUiLCJfcmVmcmVzaGluZ0NhY2hlIiwiX3Jlc2V0Q2FjaGVGb3JLZXkiLCJjdXJyZW50Q2hhbmdlcyIsImRpcnR5S2V5cyIsImVzY2FwZWQiLCJtb2RlbCIsInNwZWNpYWxGaWVsZHMiLCJfc3RhcnRTYXZlIiwiX2NhbmNlbFNhdmUiLCJmYWlsZWRDaGFuZ2VzIiwibmV4dENoYW5nZXMiLCJvcDEiLCJvcDIiLCJfc2F2aW5nIiwiX2ZpbmlzaFNhdmUiLCJzZXJ2ZXJEYXRhIiwiZmV0Y2hlZE9iamVjdHMiLCJzYXZlZENoYW5nZXMiLCJfYXBwbHlPcFNldCIsImZldGNoZWQiLCJfcmVidWlsZEFsbEVzdGltYXRlZERhdGEiLCJvcFNldFF1ZXVlIiwiaGFzRGF0YSIsIm9wU2V0IiwiYWN0dWFsVGFyZ2V0IiwiYWN0dWFsS2V5Iiwid2FzU2V0IiwiX3JlYnVpbGRFc3RpbWF0ZWREYXRhRm9yS2V5IiwiZmlyc3RLZXkiLCJwcmV2aW91c0F0dHJpYnV0ZXMiLCJ1bnNldCIsInVudXNlZF92YWx1ZSIsImRhdGFUb1ZhbGlkYXRlIiwiY2hhbmdlcyIsImlzUmVhbENoYW5nZSIsImluY3JlbWVudCIsImFkZFVuaXF1ZSIsImJpdEFuZCIsImJpdE9yIiwiYml0WG9yIiwia2V5c1RvQ2xlYXIiLCJyZXZlcnQiLCJsYXN0T3AiLCJfZ2V0U2F2ZUpTT04iLCJfY2FuQmVTZXJpYWxpemVkIiwiX2NhbkJlU2VyaWFsaXplZEFzVmFsdWUiLCJmZXRjaGVkS2V5cyIsImFyZzMiLCJzZXRPcHRpb25zIiwidW5zYXZlZENoaWxkcmVuIiwidW5zYXZlZEZpbGVzIiwiX2ZpbmRVbnNhdmVkQ2hpbGRyZW4iLCJfYWxsUHJldmlvdXNTYXZlcyIsIl9mYWlsT25Ob3RFeGlzdCIsImZhaWxPbk5vdEV4aXN0IiwicXVlcnlQYXJhbXMiLCJfZ2V0UGFyYW1zIiwibWFrZVJlcXVlc3QiLCJfbWFrZVJlcXVlc3QiLCJyZXF1ZXN0UHJvbWlzZSIsInJlc3AiLCJzZXJ2ZXJBdHRycyIsInRyaWdnZXJEZXN0cm95IiwiaXNOZXciLCJjaGFuZ2luZyIsIl9jaGFuZ2luZyIsImRlbGV0ZUNoYW5nZWQiLCJpc1ZhbGlkIiwidmFsaWRhdGUiLCJkaXNhYmxlQmVmb3JlSG9vayIsImlnbm9yZUhvb2siLCJkaXNhYmxlQWZ0ZXJIb29rIiwiaG9va05hbWUiLCJfX2lnbm9yZV9ob29rcyIsImtsYXNzIiwiX2tsYXNzIiwiZGVzdHJveUFsbCIsIm9iamVjdHNCeUNsYXNzTmFtZUFuZEZsYWdzIiwiZ3JvdXBCeSIsImZsYWdzIiwiYm9keSIsImlkcyIsIk9iamVjdENsYXNzIiwiX2NsYXNzTWFwIiwiTmV3Q2xhc3NPYmplY3QiLCJPbGRDbGFzc09iamVjdCIsIl9jbGFzc05hbWUiLCJhcmcwIiwibmV3QXJndW1lbnRzIiwiX0xDQ2xhc3NOYW1lIiwicmVnaXN0ZXIiLCJjaGlsZHJlbiIsImZpbGVzIiwiY2FuQmVTZXJpYWxpemVkQXNWYWx1ZSIsImJhdGNoIiwibmV3UmVtYWluaW5nIiwicmVhZHlUb1N0YXJ0IiwiYmF0aFNhdmVQcm9taXNlIiwicGFyYW1zIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnJheVdpdGhIb2xlcyIsIml0ZXJhYmxlVG9BcnJheUxpbWl0IiwidW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVJlc3QiLCJfYXJyYXlXaXRoSG9sZXMiLCJfQXJyYXkkaXNBcnJheSIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9pIiwiX3MiLCJfYXJyIiwiX24iLCJfZCIsImFycmF5TGlrZVRvQXJyYXkiLCJfc2xpY2VJbnN0YW5jZVByb3BlcnR5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIkZBSUxTX09OX1BSSU1JVElWRVMiLCJzZXROYW1lIiwiZ2V0VXNlcnMiLCJnZXRSb2xlcyIsIm5ld05hbWUiLCJfZGVmaW5lUHJvcGVydHkyIiwibWVyZ2VVbmlvbkRhdGFJbnRvQXV0aERhdGEiLCJkZWZhdWx0VW5pb25JZFBsYXRmb3JtIiwiYXV0aERhdGEiLCJ1bmlvbklkIiwidW5pb25JZFBsYXRmb3JtIiwiYXNNYWluQWNjb3VudCIsInBsYXRmb3JtIiwidW5pb25pZCIsIm1haW5fYWNjb3VudCIsIl9pc0N1cnJlbnRVc2VyIiwiX2NsZWFudXBBdXRoRGF0YSIsImlzQ3VycmVudCIsIl9zeW5jaHJvbml6ZUFsbEF1dGhEYXRhIiwiX3N5bmNocm9uaXplQXV0aERhdGEiLCJhdXRoVHlwZSIsIl9hdXRoUHJvdmlkZXJzIiwiZ2V0QXV0aFR5cGUiLCJyZXN0b3JlQXV0aGVudGljYXRpb24iLCJkaXNzb2NpYXRlQXV0aERhdGEiLCJfaGFuZGxlU2F2ZVJlc3VsdCIsIm1ha2VDdXJyZW50IiwicGFzc3dvcmQiLCJfc2F2ZUN1cnJlbnRVc2VyIiwiX2xpbmtXaXRoIiwiYXV0aGVudGljYXRlIiwiYXNzb2NpYXRlV2l0aEF1dGhEYXRhIiwiYXNzb2NpYXRlV2l0aEF1dGhEYXRhQW5kVW5pb25JZCIsInVuaW9uT3B0aW9ucyIsImFzc29jaWF0ZVdpdGhNaW5pQXBwIiwiYXV0aEluZm8iLCJvcHRpb24iLCJhc3NvY2lhdGVXaXRoUVFBcHAiLCJwcmVmZXJVbmlvbklkIiwiYXNzb2NpYXRlV2l0aFdlYXBwIiwibGlua1dpdGhXZWFwcCIsImFzc29jaWF0ZVdpdGhRUUFwcFdpdGhVbmlvbklkIiwibWVyZ2VVbmlvbklkIiwiYXNzb2NpYXRlV2l0aFdlYXBwV2l0aFVuaW9uSWQiLCJfdW5saW5rRnJvbSIsIl9pc0xpbmtlZCIsImlzQW5vbnltb3VzIiwibG9nT3V0IiwiX2xvZ091dFdpdGhBbGwiLCJfbG9nT3V0V2l0aCIsImRlYXV0aGVudGljYXRlIiwic2lnblVwIiwidXNlcm5hbWUiLCJzaWduVXBPcmxvZ0luV2l0aE1vYmlsZVBob25lIiwibW9iaWxlUGhvbmVOdW1iZXIiLCJzbXNDb2RlIiwibG9naW5XaXRoQXV0aERhdGEiLCJsb2dpbldpdGhBdXRoRGF0YUFuZFVuaW9uSWQiLCJ1bmlvbkxvZ2luT3B0aW9ucyIsImxvZ2luV2l0aFdlYXBwIiwibG9naW5XaXRoTWluaUFwcCIsImxvZ2luV2l0aFdlYXBwV2l0aFVuaW9uSWQiLCJsb2dpbldpdGhRUUFwcCIsImxvZ2luV2l0aFFRQXBwV2l0aFVuaW9uSWQiLCJsb2dJbiIsImZvbGxvdyIsInVzZXJPYmplY3RJZCIsInVuZm9sbG93IiwiZ2V0Rm9sbG93ZXJzQW5kRm9sbG93ZWVzIiwic2tpcCIsImxpbWl0IiwiZm9sbG93ZXJzIiwiZm9sbG93ZWVzIiwiZm9sbG93ZXIiLCJmb2xsb3dlZSIsImZvbGxvd2VyUXVlcnkiLCJmb2xsb3dlZVF1ZXJ5IiwidXBkYXRlUGFzc3dvcmQiLCJvbGRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwib2xkX3Bhc3N3b3JkIiwibmV3X3Bhc3N3b3JkIiwiZ2V0VXNlcm5hbWUiLCJnZXRNb2JpbGVQaG9uZU51bWJlciIsInNldE1vYmlsZVBob25lTnVtYmVyIiwicGhvbmUiLCJzZXRVc2VybmFtZSIsInNldFBhc3N3b3JkIiwiZ2V0RW1haWwiLCJzZXRFbWFpbCIsImVtYWlsIiwiYXV0aGVudGljYXRlZCIsImlzQXV0aGVudGljYXRlZCIsIl9mZXRjaFVzZXJCeVNlc3Npb25Ub2tlbiIsInJlZnJlc2hTZXNzaW9uVG9rZW4iLCJfY3VycmVudFVzZXIiLCJfY3VycmVudFVzZXJNYXRjaGVzRGlzayIsIl9DVVJSRU5UX1VTRVJfS0VZIiwiYmVjb21lIiwibG9nSW5XaXRoTW9iaWxlUGhvbmVTbXNDb2RlIiwibW9iaWxlUGhvbmUiLCJsb2dJbldpdGhNb2JpbGVQaG9uZSIsImxvZ2luV2l0aEVtYWlsIiwiX2xvZ0luV2l0aCIsInNpZ25VcE9ybG9nSW5XaXRoQXV0aERhdGEiLCJzaWduVXBPcmxvZ0luV2l0aEF1dGhEYXRhQW5kVW5pb25JZCIsIl9nZW5JZCIsImxvZ2luQW5vbnltb3VzbHkiLCJ1c2VyT2JqIiwiRnJpZW5kU2hpcFF1ZXJ5IiwiX2ZyaWVuZHNoaXBUYWciLCJyZXF1ZXN0UGFzc3dvcmRSZXNldCIsInJlcXVlc3RFbWFpbFZlcmlmeSIsInJlcXVlc3RNb2JpbGVQaG9uZVZlcmlmeSIsInZhbGlkYXRlVG9rZW4iLCJ2YWxpZGF0ZV90b2tlbiIsInJlcXVlc3RQYXNzd29yZFJlc2V0QnlTbXNDb2RlIiwicmVxdWVzdENoYW5nZVBob25lTnVtYmVyIiwiY2hhbmdlUGhvbmVOdW1iZXIiLCJyZXNldFBhc3N3b3JkQnlTbXNDb2RlIiwidmVyaWZ5TW9iaWxlUGhvbmUiLCJyZXF1ZXN0TG9naW5TbXNDb2RlIiwidXNlckRhdGEiLCJfaWQiLCJfcmVnaXN0ZXJBdXRoZW50aWNhdGlvblByb3ZpZGVyIiwicmVxdWlyZXMiLCJvYmplY3RDbGFzcyIsIl9pbmNsdWRlIiwiX3NlbGVjdCIsIl9saW1pdCIsIl9za2lwIiwib3IiLCJxdWVyaWVzIiwicSIsIl9vclF1ZXJ5IiwiYW5kIiwiX2FuZFF1ZXJ5IiwiZG9DbG91ZFF1ZXJ5IiwiY3FsIiwicHZhbHVlcyIsIl9uZXdPYmplY3QiLCJfcHJvY2Vzc1Jlc3VsdCIsImZyb21KU09OIiwic2VsZWN0Iiwib3JkZXIiLCJfaW5jbHVkZUFDTCIsIl9vcmRlciIsInF1ZXJ5SlNPTiIsIl9jcmVhdGVSZXF1ZXN0IiwiX3BhcnNlUmVzcG9uc2UiLCJmaW5kQW5kQ291bnQiLCJzY2FuIiwib3JkZXJlZEJ5IiwiYmF0Y2hTaXplIiwic2Nhbl9rZXkiLCJjdXJzb3IiLCJyZW1haW5SZXN1bHRzIiwic2l6ZUVxdWFsVG8iLCJub3RFcXVhbFRvIiwibGVzc1RoYW4iLCJncmVhdGVyVGhhbiIsImxlc3NUaGFuT3JFcXVhbFRvIiwiZ3JlYXRlclRoYW5PckVxdWFsVG8iLCJjb250YWluZWRJbiIsIm5vdENvbnRhaW5lZEluIiwiY29udGFpbnNBbGwiLCJkb2VzTm90RXhpc3QiLCJtYXRjaGVzIiwicmVnZXgiLCJtb2RpZmllcnMiLCJpZ25vcmVDYXNlIiwibXVsdGlsaW5lIiwibWF0Y2hlc1F1ZXJ5IiwiZG9lc05vdE1hdGNoUXVlcnkiLCJtYXRjaGVzS2V5SW5RdWVyeSIsInF1ZXJ5S2V5IiwiZG9lc05vdE1hdGNoS2V5SW5RdWVyeSIsIiRvciIsIiRhbmQiLCJfcXVvdGUiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJhc2NlbmRpbmciLCJhZGRBc2NlbmRpbmciLCJkZXNjZW5kaW5nIiwiYWRkRGVzY2VuZGluZyIsIm5lYXIiLCJ3aXRoaW5SYWRpYW5zIiwiZGlzdGFuY2UiLCJ3aXRoaW5NaWxlcyIsIndpdGhpbktpbG9tZXRlcnMiLCJ3aXRoaW5HZW9Cb3giLCJzb3V0aHdlc3QiLCJub3J0aGVhc3QiLCIkYm94IiwiZmluaXNoZWQiLCJjYWxsYmFja3NEb25lIiwic3Vic2NyaWJlIiwiTGl2ZVF1ZXJ5IiwicmVxdWlyZVJlYWx0aW1lIiwiY2xpZW50IiwiX2NsaWVudCIsIl9xdWVyeUpTT04iLCJfb25NZXNzYWdlIiwiX2Rpc3BhdGNoIiwiX29uUmVjb25uZWN0IiwicXVlcnlJZCIsInF1ZXJ5X2lkIiwidXBkYXRlZEtleXMiLCJ1bnN1YnNjcmliZSIsImRlcmVnaXN0ZXIiLCJ1c2VyRGVmaW5lZFN1YnNjcmlwdGlvbklkIiwiY3JlYXRlTGl2ZVF1ZXJ5Q2xpZW50IiwibGl2ZVF1ZXJ5Q2xpZW50IiwiZmluYWxseSIsInBhdXNlIiwicmVzdW1lIiwiQ2FwdGNoYSIsIl9hdXRoT3B0aW9ucyIsImNhcHRjaGFUb2tlbiIsIkNsb3VkIiwiX3JlcXVlc3RDYXB0Y2hhIiwidmVyaWZ5IiwidmVyaWZ5Q2FwdGNoYSIsInRleHRJbnB1dCIsImltYWdlIiwidmVyaWZ5QnV0dG9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJfX3JlZnJlc2giLCJmb2N1cyIsIl9faW1hZ2UiLCJfX3ZlcmlmeSIsIl9fdmVyaWZ5QnV0dG9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhcHRjaGEiLCJycGMiLCJnZXRTZXJ2ZXJEYXRlIiwicmVxdWVzdFNtc0NvZGUiLCJ2ZXJpZnlTbXNDb2RlIiwiY2FwdGNoYV91cmwiLCJjYXB0Y2hhX3Rva2VuIiwicmVxdWVzdENhcHRjaGEiLCJjYXB0Y2hhX2NvZGUiLCJJbnN0YWxsYXRpb24iLCJQdXNoIiwic2VuZCIsInB1c2hfdGltZSIsImV4cGlyYXRpb25fdGltZSIsImV4cGlyYXRpb25faW50ZXJ2YWwiLCJnZXRVc2VyIiwiZ2V0VXNlclBvaW50ZXIiLCJjdXJyVXNlciIsIlN0YXR1cyIsImltYWdlVXJsIiwiaW5ib3hUeXBlIiwiX2dldERhdGFKU09OIiwic2VuZFN0YXR1c1RvRm9sbG93ZXJzIiwibWVzc2FnZUlkIiwic2VuZFByaXZhdGVTdGF0dXMiLCJjb3VudFVucmVhZFN0YXR1c2VzIiwicmVzZXRVbnJlYWRDb3VudCIsInN0YXR1c1F1ZXJ5IiwiSW5ib3hRdWVyeSIsIl9vYmplY3RDbGFzcyIsIl9zaW5jZUlkIiwiX21heElkIiwiX2luYm94VHlwZSIsIl9vd25lciIsInNpbmNlSWQiLCJtYXhJZCIsImluYm94UXVlcnkiLCJTZWFyY2hTb3J0QnVpbGRlciIsIl9zb3J0RmllbGRzIiwiX2FkZEZpZWxkIiwibWlzc2luZyIsIndoZXJlTmVhciIsImdlbyIsImxhdCIsImxvbiIsInVuaXQiLCJidWlsZCIsIlNlYXJjaFF1ZXJ5IiwiX3NpZCIsIl9oaXRzIiwiX3F1ZXJ5U3RyaW5nIiwiX2hpZ2hsaWdodHMiLCJfc29ydEJ1aWxkZXIiLCJfY2xhenoiLCJzaWQiLCJoaWdobGlnaHRzIiwiYnVpbGRlciIsImhpdHMiLCJoYXNNb3JlIiwiX2hpdEVuZCIsInJlc2V0IiwiX29sZFNpZCIsImFwcFVSTCIsImNsYXp6IiwiSW5zaWdodCIsInN0YXJ0Sm9iIiwiam9iQ29uZmlnIiwic3FsIiwiSm9iUXVlcnkiLCJMQ1JlcXVlc3QiLCJnZXRVc2VyV2l0aFNlc3Npb25Ub2tlbiIsImdldFNlc3Npb25Ub2tlbkFzeW5jIiwiRnJpZW5kc2hpcCIsImZyaWVuZCIsImZyaWVuZE9iaiIsImZyaWVuZHNoaXAiLCJhY2NlcHRSZXF1ZXN0IiwicmVxdWVzdElkIiwiZGVjbGluZVJlcXVlc3QiLCJzZXJpYWxpemVNZXNzYWdlIiwiZ2V0UGF5bG9hZCIsImlzU3lzdGVtIiwiaXNUcmFuc2llbnQiLCJnZXRDcmVhdG9yIiwiZ2V0TGFzdE1lc3NhZ2VBdCIsImdldE1lbWJlcnMiLCJhZGRNZW1iZXIiLCJtZW1iZXIiLCJnZXRNdXRlZE1lbWJlcnMiLCJmcm9tQ2xpZW50IiwiZnJvbV9wZWVyIiwiY29udl9pZCIsInRyYW5zaWVudCIsInRvQ2xpZW50cyIsInRvX3BlZXJzIiwicHVzaERhdGEiLCJwdXNoX2RhdGEiLCJicm9hZGNhc3QiLCJ2YWxpZFRpbGwiLCJ0cyIsInZhbGlkX3RpbGwiLCJTdGF0aXN0aWMiLCJMZWFkZXJib2FyZFZlcnNpb25DaGFuZ2VJbnRlcnZhbCIsIk5FVkVSIiwiREFZIiwiV0VFSyIsIk1PTlRIIiwiTGVhZGVyYm9hcmRPcmRlciIsIkFTQ0VORElORyIsIkRFU0NFTkRJTkciLCJMZWFkZXJib2FyZFVwZGF0ZVN0cmF0ZWd5IiwiQkVUVEVSIiwiTEFTVCIsIlNVTSIsInBhcnNlU3RhdGlzdGljRGF0YSIsInN0YXRpc3RpY0RhdGEiLCJzdGF0aXN0aWNOYW1lIiwic3RhdGlzdGljVmFsdWUiLCJMZWFkZXJib2FyZCIsInVwZGF0ZVN0cmF0ZWd5IiwidmVyc2lvbkNoYW5nZUludGVydmFsIiwibmV4dFJlc2V0QXQiLCJjcmVhdGVMZWFkZXJib2FyZCIsImdldExlYWRlcmJvYXJkIiwiZ2V0U3RhdGlzdGljcyIsInN0YXRpc3RpY05hbWVzIiwic3RhdGlzdGljcyIsInVwZGF0ZVN0YXRpc3RpY3MiLCJvdmVyd3JpdGUiLCJkZWxldGVTdGF0aXN0aWNzIiwiX2dldFJlc3VsdHMiLCJzZWxlY3RVc2VyS2V5cyIsImluY2x1ZGVVc2VyS2V5cyIsImluY2x1ZGVTdGF0aXN0aWNzIiwiaW5jbHVkZVVzZXIiLCJyYW5raW5ncyIsInJhbmtpbmdEYXRhIiwicmFuayIsImluY2x1ZGVkU3RhdGlzdGljcyIsImdldFJlc3VsdHMiLCJnZXRSZXN1bHRzQXJvdW5kVXNlciIsIl91cGRhdGUiLCJ1cGRhdGVWZXJzaW9uQ2hhbmdlSW50ZXJ2YWwiLCJ1cGRhdGVVcGRhdGVTdHJhdGVneSIsImdldEFyY2hpdmVzIiwiYWN0aXZhdGVkQXQiLCJkZWFjdGl2YXRlZEF0IiwiYWRhcHRlcnMiLCJXZWJTb2NrZXQiLCJfYWRhcHRlcnNTdXBlcmFnZW50IiwiY29udmVydFJlc3BvbnNlIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJhZG9wdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiX19nZW5lcmF0b3IiLCJ2ZXJiIiwibGFiZWwiLCJ0cnlzIiwic2VudCIsImFkYXB0ZXJfdXRpbHNfMSIsInN1cGVyYWdlbnQiLCJfYSIsInNpZ25hbCIsInJlcSIsImFib3J0ZWQiLCJvbkFib3J0IiwiZXJyb3JfMSIsIl9iIiwiQWJvcnRFcnJvciIsImFib3J0IiwiZXJyb3JfMiIsImF0dGFjaCIsIl9fZXh0ZW5kcyIsIl9fIiwiZXh0ZW5kU3RhdGljcyIsIl90aGlzIiwic2VyaWFsaXplIiwicHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIiLCJlbmNvZGVVUkkiLCJzdWJrZXkiLCJwYXJzZVN0cmluZyIsInBhaXIiLCJwYXJzZUhlYWRlciIsImxpbmUiLCJsaW5lcyIsImZpZWxkcyIsInRyaW0iLCJpc0pTT04iLCJtaW1lIiwiUmVzcG9uc2UiLCJ4aHIiLCJyZXNwb25zZVR5cGUiLCJzdGF0dXNUZXh0IiwiX3NldFN0YXR1c1Byb3BlcnRpZXMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJnZXRSZXNwb25zZUhlYWRlciIsIl9zZXRIZWFkZXJQcm9wZXJ0aWVzIiwiX3Jlc3BvbnNlVHlwZSIsIl9wYXJzZUJvZHkiLCJSZXF1ZXN0IiwiX3F1ZXJ5IiwiX2hlYWRlciIsImVycl8iLCJvcmlnaW5hbCIsInJhd1Jlc3BvbnNlIiwibmV3X2VyciIsIl9pc1Jlc3BvbnNlT0siLCJkZWwiLCJfdHJpbSIsIkVtaXR0ZXIiLCJzYWZlU3RyaW5naWZ5IiwiUmVxdWVzdEJhc2UiLCJSZXNwb25zZUJhc2UiLCJBZ2VudCIsImdldFhIUiIsIlhNTEh0dHBSZXF1ZXN0Iiwic2VyaWFsaXplT2JqZWN0IiwidHlwZXMiLCJ4bWwiLCJ1cmxlbmNvZGVkIiwiZm9ybSIsIl9wYXJzZXIiLCJ0b0Vycm9yIiwibXNnIiwiYWNjZXB0IiwiYXV0aCIsImVuY29kZXIiLCJfYXV0aCIsIl9nZXRGb3JtRGF0YSIsImFwcGVuZCIsIl9mb3JtRGF0YSIsIkZvcm1EYXRhIiwiX3Nob3VsZFJldHJ5IiwiX3JldHJ5IiwiX21heFJldHJpZXMiLCJyZXRyaWVzIiwiX3JldHJpZXMiLCJjcm9zc0RvbWFpbkVycm9yIiwiY3Jvc3NEb21haW4iLCJhZ2VudCIsImNhIiwicGlwZSIsIl9pc0hvc3QiLCJfZW5kQ2FsbGVkIiwiX2ZpbmFsaXplUXVlcnlTdHJpbmciLCJfZW5kIiwiX3NldFVwbG9hZFRpbWVvdXQiLCJfdXBsb2FkVGltZW91dCIsIl91cGxvYWRUaW1lb3V0VGltZXIiLCJfdGltZW91dEVycm9yIiwiX2Fib3J0ZWQiLCJfc2V0VGltZW91dHMiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3Jlc3BvbnNlVGltZW91dFRpbWVyIiwidGltZWRvdXQiLCJoYW5kbGVQcm9ncmVzcyIsImhhc0xpc3RlbmVycyIsIl93aXRoQ3JlZGVudGlhbHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJjb250ZW50VHlwZSIsIl9zZXJpYWxpemVyIiwic2V0UmVxdWVzdEhlYWRlciIsIl9zZXREZWZhdWx0cyIsImRlbGV0ZSIsInBhdGNoIiwicHV0IiwiU3RyaW5nUHJvdG90eXBlIiwiJHRyaW0iLCJ3aGl0ZXNwYWNlcyIsIndoaXRlc3BhY2UiLCJsdHJpbSIsInJ0cmltIiwibm9uIiwiY2FsbGJhY2tzIiwiZGVmYXVsdE9wdGlvbnMiLCJkZXB0aExpbWl0IiwiTUFYX1NBRkVfSU5URUdFUiIsImVkZ2VzTGltaXQiLCJzcGFjZXIiLCJkZWNpcmMiLCJyZXBsYWNlclN0YWNrIiwicmVwbGFjZUdldHRlclZhbHVlcyIsInNldFJlcGxhY2UiLCJwcm9wZXJ0eURlc2NyaXB0b3IiLCJlZGdlSW5kZXgiLCJDSVJDVUxBUl9SRVBMQUNFX05PREUiLCJMSU1JVF9SRVBMQUNFX05PREUiLCJjb21wYXJlRnVuY3Rpb24iLCJkZXRlcm1pbmlzdGljU3RyaW5naWZ5IiwidG1wIiwiZGV0ZXJtaW5pc3RpY0RlY2lyYyIsInN0YWJsZSIsInN0YWJsZVN0cmluZ2lmeSIsIl9pbmNsdWRlcyIsIl9zb3J0IiwiX3RpbWVyIiwiX3RpbWVvdXQiLCJfcmVzcG9uc2VUaW1lb3V0IiwiZGVhZGxpbmUiLCJyZXRyeSIsIl9yZXRyeUNhbGxiYWNrIiwiRVJST1JfQ09ERVMiLCJvdmVycmlkZSIsInRpbWVkb3V0RXJyb3IiLCJfZnVsbGZpbGxlZFByb21pc2UiLCJ1c2UiLCJfb2tDYWxsYmFjayIsImdldEhlYWRlciIsImJhc2U2NEVuY29kZXIiLCJyZWRpcmVjdHMiLCJfbWF4UmVkaXJlY3RzIiwibWF4UmVzcG9uc2VTaXplIiwiX21heFJlc3BvbnNlU2l6ZSIsImlzT2JqIiwic29ydFF1ZXJ5IiwicXVlcnlBcnIiLCJfYXBwZW5kUXVlcnlTdHJpbmciLCJlcnJubyIsImFycmF5TWV0aG9kIiwic3RyaW5nTWV0aG9kIiwiJGluY2x1ZGVzIiwibm90QVJlZ0V4cCIsImNvcnJlY3RJc1JlZ0V4cExvZ2ljIiwic3RyaW5nSW5kZXhPZiIsInNlYXJjaFN0cmluZyIsIk1BVENIIiwicmVnZXhwIiwiZXJyb3IxIiwiZXJyb3IyIiwiZGVsZXRlUHJvcGVydHlPclRocm93IiwiaW50ZXJuYWxTb3J0IiwiSUVfT1JfRURHRSIsIlY4IiwiV0VCS0lUIiwidW4kU29ydCIsIkZBSUxTX09OX1VOREVGSU5FRCIsIkZBSUxTX09OX05VTEwiLCJTVEFCTEVfU09SVCIsImNociIsImdldFNvcnRDb21wYXJlIiwiY29tcGFyZWZuIiwiaXRlbXNMZW5ndGgiLCJpdGVtcyIsImFycmF5TGVuZ3RoIiwibWVyZ2VTb3J0IiwibWlkZGxlIiwiaW5zZXJ0aW9uU29ydCIsIm1lcmdlIiwiZWxlbWVudCIsImxsZW5ndGgiLCJybGVuZ3RoIiwibGluZGV4IiwicmluZGV4IiwiZmlyZWZveCIsIlVBIiwid2Via2l0IiwidXRpbHMiLCJjdCIsImxpbmtzIiwibGluayIsInBhcnNlTGlua3MiLCJzdGF0dXNUeXBlIiwiaW5mbyIsInJlZGlyZWN0IiwiY2xpZW50RXJyb3IiLCJzZXJ2ZXJFcnJvciIsImNyZWF0ZWQiLCJhY2NlcHRlZCIsIm5vQ29udGVudCIsImJhZFJlcXVlc3QiLCJ1bmF1dGhvcml6ZWQiLCJub3RBY2NlcHRhYmxlIiwiZm9yYmlkZGVuIiwibm90Rm91bmQiLCJ1bnByb2Nlc3NhYmxlRW50aXR5IiwiX3JlZHVjZSIsImNsZWFuSGVhZGVyIiwiY2hhbmdlc09yaWdpbiIsImF1dGhvcml6YXRpb24iLCJjb29raWUiLCJyZWR1Y2UiLCIkcmVkdWNlIiwiQ0hST01FX1ZFUlNJT04iLCJDSFJPTUVfQlVHIiwiSVNfUklHSFQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiX2Zyb20iLCJpdGVyIiwiX2lzSXRlcmFi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QUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRyxHQUFLLEdBQUksWUFDakNLLEVBQUkya0QsRUFBRzNrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUUsSUFBSyxHQUFLLFdBQ2pDc0MsRUFBSTBpRCxFQUFHMWlELEVBQUdqQyxFQUFHQyxFQUFHK0IsRUFBR2pDLEVBQUVKLEVBQUcsR0FBSSxJQUFLLFdBQ2pDcUMsRUFBSTJpRCxFQUFHM2lELEVBQUdDLEVBQUdqQyxFQUFHQyxFQUFHRixFQUFFSixFQUFHLEdBQUssR0FBSSxXQUNqQ00sRUFBSTBrRCxFQUFHMWtELEVBQUcrQixFQUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRSxJQUFNLEVBQUksVUFDakNLLEVBQUkya0QsRUFBRzNrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUUsSUFBSyxJQUFLLFdBQ2pDc0MsRUFBSTBpRCxFQUFHMWlELEVBQUdqQyxFQUFHQyxFQUFHK0IsRUFBR2pDLEVBQUVKLEVBQUcsR0FBSSxJQUFLLFdBQ2pDcUMsRUFBSTJpRCxFQUFHM2lELEVBQUdDLEVBQUdqQyxFQUFHQyxFQUFHRixFQUFFSixFQUFHLEdBQUssRUFBSSxXQUNqQ00sRUFBSTBrRCxFQUFHMWtELEVBQUcrQixFQUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRSxJQUFNLEdBQUksWUFDakNLLEVBQUkya0QsRUFBRzNrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUcsR0FBSSxJQUFLLFdBQ2pDc0MsRUFBSTBpRCxFQUFHMWlELEVBQUdqQyxFQUFHQyxFQUFHK0IsRUFBR2pDLEVBQUVKLEVBQUcsR0FBSSxHQUFLLFlBQ2pDcUMsRUFBSTJpRCxFQUFHM2lELEVBQUdDLEVBQUdqQyxFQUFHQyxFQUFHRixFQUFFSixFQUFFLElBQU0sR0FBSSxZQUNqQ00sRUFBSTBrRCxFQUFHMWtELEVBQUcrQixFQUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRyxHQUFLLEdBQUksVUFDakNLLEVBQUkya0QsRUFBRzNrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUcsR0FBSSxHQUFLLFlBQ2pDc0MsRUFBSTBpRCxFQUFHMWlELEVBQUdqQyxFQUFHQyxFQUFHK0IsRUFBR2pDLEVBQUVKLEVBQUUsSUFBSyxJQUFLLFlBRWpDcUMsRUFBSTZpRCxFQUFHN2lELEVBQUdDLEVBQUdqQyxFQUFHQyxFQUFHRixFQUFFSixFQUFHLEdBQUssR0FBSSxRQUNqQ00sRUFBSTRrRCxFQUFHNWtELEVBQUcrQixFQUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRyxHQUFJLElBQUssWUFDakNLLEVBQUk2a0QsRUFBRzdrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUUsSUFBSyxHQUFLLFlBQ2pDc0MsRUFBSTRpRCxFQUFHNWlELEVBQUdqQyxFQUFHQyxFQUFHK0IsRUFBR2pDLEVBQUVKLEVBQUUsSUFBSyxJQUFLLFVBQ2pDcUMsRUFBSTZpRCxFQUFHN2lELEVBQUdDLEVBQUdqQyxFQUFHQyxFQUFHRixFQUFFSixFQUFHLEdBQUssR0FBSSxZQUNqQ00sRUFBSTRrRCxFQUFHNWtELEVBQUcrQixFQUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRyxHQUFJLEdBQUssWUFDakNLLEVBQUk2a0QsRUFBRzdrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUcsR0FBSSxJQUFLLFdBQ2pDc0MsRUFBSTRpRCxFQUFHNWlELEVBQUdqQyxFQUFHQyxFQUFHK0IsRUFBR2pDLEVBQUVKLEVBQUUsSUFBSyxJQUFLLFlBQ2pDcUMsRUFBSTZpRCxFQUFHN2lELEVBQUdDLEVBQUdqQyxFQUFHQyxFQUFHRixFQUFFSixFQUFFLElBQU0sRUFBSSxXQUNqQ00sRUFBSTRrRCxFQUFHNWtELEVBQUcrQixFQUFHQyxFQUFHakMsRUFBR0QsRUFBRUosRUFBRyxHQUFJLElBQUssV0FDakNLLEVBQUk2a0QsRUFBRzdrRCxFQUFHQyxFQUFHK0IsRUFBR0MsRUFBR2xDLEVBQUVKLEVBQUcsR0FBSSxJQUFL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RUFBV3BSLEVBQWdCLFlBQzNCMUUsRUFBVXpRLE1BRWRsQixHQUFPRCxRQUFVLFNBQVVnSSxHQUN6QixHQUFJb0ssR0FBSVIsRUFBUTVKLEVBQ2hCLFlBQXVCVSxLQUFoQjBKLEVBQUVzVixJQUNKLGNBQWdCdFYsSUFDaEIxUCxFQUFPcVgsRUFBV2xILEVBQVFUIiwiZmlsZSI6ImF2LW1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkFWXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkFWXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyNDUpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDkyNWJiNmY5Njc5NGRiN2FkMDY2IiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiQVZcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiQVZcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI0NSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBhcHBseSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKS5mO1xudmFyIGlzRm9yY2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbnZhciB3cmFwQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoTmF0aXZlQ29uc3RydWN0b3IpIHtcbiAgdmFyIFdyYXBwZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgV3JhcHBlcikge1xuICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpO1xuICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcihhLCBiKTtcbiAgICAgIH0gcmV0dXJuIG5ldyBOYXRpdmVDb25zdHJ1Y3RvcihhLCBiLCBjKTtcbiAgICB9IHJldHVybiBhcHBseShOYXRpdmVDb25zdHJ1Y3RvciwgdGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgV3JhcHBlci5wcm90b3R5cGUgPSBOYXRpdmVDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIHJldHVybiBXcmFwcGVyO1xufTtcblxuLypcbiAgb3B0aW9ucy50YXJnZXQgICAgICAgICAtIG5hbWUgb2YgdGhlIHRhcmdldCBvYmplY3RcbiAgb3B0aW9ucy5nbG9iYWwgICAgICAgICAtIHRhcmdldCBpcyB0aGUgZ2xvYmFsIG9iamVjdFxuICBvcHRpb25zLnN0YXQgICAgICAgICAgIC0gZXhwb3J0IGFzIHN0YXRpYyBtZXRob2RzIG9mIHRhcmdldFxuICBvcHRpb25zLnByb3RvICAgICAgICAgIC0gZXhwb3J0IGFzIHByb3RvdHlwZSBtZXRob2RzIG9mIHRhcmdldFxuICBvcHRpb25zLnJlYWwgICAgICAgICAgIC0gcmVhbCBwcm90b3R5cGUgbWV0aG9kIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy5mb3JjZWQgICAgICAgICAtIGV4cG9ydCBldmVuIGlmIHRoZSBuYXRpdmUgZmVhdHVyZSBpcyBhdmFpbGFibGVcbiAgb3B0aW9ucy5iaW5kICAgICAgICAgICAtIGJpbmQgbWV0aG9kcyB0byB0aGUgdGFyZ2V0LCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMud3JhcCAgICAgICAgICAgLSB3cmFwIGNvbnN0cnVjdG9ycyB0byBwcmV2ZW50aW5nIGdsb2JhbCBwb2xsdXRpb24sIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy51bnNhZmUgICAgICAgICAtIHVzZSB0aGUgc2ltcGxlIGFzc2lnbm1lbnQgb2YgcHJvcGVydHkgaW5zdGVhZCBvZiBkZWxldGUgKyBkZWZpbmVQcm9wZXJ0eVxuICBvcHRpb25zLnNoYW0gICAgICAgICAgIC0gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICBvcHRpb25zLmVudW1lcmFibGUgICAgIC0gZXhwb3J0IGFzIGVudW1lcmFibGUgcHJvcGVydHlcbiAgb3B0aW9ucy5kb250Q2FsbEdldFNldCAtIHByZXZlbnQgY2FsbGluZyBhIGdldHRlciBvbiB0YXJnZXRcbiAgb3B0aW9ucy5uYW1lICAgICAgICAgICAtIHRoZSAubmFtZSBvZiB0aGUgZnVuY3Rpb24gaWYgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGtleVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuICB2YXIgVEFSR0VUID0gb3B0aW9ucy50YXJnZXQ7XG4gIHZhciBHTE9CQUwgPSBvcHRpb25zLmdsb2JhbDtcbiAgdmFyIFNUQVRJQyA9IG9wdGlvbnMuc3RhdDtcbiAgdmFyIFBST1RPID0gb3B0aW9ucy5wcm90bztcblxuICB2YXIgbmF0aXZlU291cmNlID0gR0xPQkFMID8gZ2xvYmFsIDogU1RBVElDID8gZ2xvYmFsW1RBUkdFVF0gOiAoZ2xvYmFsW1RBUkdFVF0gfHwge30pLnByb3RvdHlwZTtcblxuICB2YXIgdGFyZ2V0ID0gR0xPQkFMID8gcGF0aCA6IHBhdGhbVEFSR0VUXSB8fCBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkocGF0aCwgVEFSR0VULCB7fSlbVEFSR0VUXTtcbiAgdmFyIHRhcmdldFByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGU7XG5cbiAgdmFyIEZPUkNFRCwgVVNFX05BVElWRSwgVklSVFVBTF9QUk9UT1RZUEU7XG4gIHZhciBrZXksIHNvdXJjZVByb3BlcnR5LCB0YXJnZXRQcm9wZXJ0eSwgbmF0aXZlUHJvcGVydHksIHJlc3VsdFByb3BlcnR5LCBkZXNjcmlwdG9yO1xuXG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIEZPUkNFRCA9IGlzRm9yY2VkKEdMT0JBTCA/IGtleSA6IFRBUkdFVCArIChTVEFUSUMgPyAnLicgOiAnIycpICsga2V5LCBvcHRpb25zLmZvcmNlZCk7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgVVNFX05BVElWRSA9ICFGT1JDRUQgJiYgbmF0aXZlU291cmNlICYmIGhhc093bihuYXRpdmVTb3VyY2UsIGtleSk7XG5cbiAgICB0YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFtrZXldO1xuXG4gICAgaWYgKFVTRV9OQVRJVkUpIGlmIChvcHRpb25zLmRvbnRDYWxsR2V0U2V0KSB7XG4gICAgICBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5hdGl2ZVNvdXJjZSwga2V5KTtcbiAgICAgIG5hdGl2ZVByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0gZWxzZSBuYXRpdmVQcm9wZXJ0eSA9IG5hdGl2ZVNvdXJjZVtrZXldO1xuXG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBpbXBsZW1lbnRhdGlvblxuICAgIHNvdXJjZVByb3BlcnR5ID0gKFVTRV9OQVRJVkUgJiYgbmF0aXZlUHJvcGVydHkpID8gbmF0aXZlUHJvcGVydHkgOiBzb3VyY2Vba2V5XTtcblxuICAgIGlmIChVU0VfTkFUSVZFICYmIHR5cGVvZiB0YXJnZXRQcm9wZXJ0eSA9PSB0eXBlb2Ygc291cmNlUHJvcGVydHkpIGNvbnRpbnVlO1xuXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBpZiAob3B0aW9ucy5iaW5kICYmIFVTRV9OQVRJVkUpIHJlc3VsdFByb3BlcnR5ID0gYmluZChzb3VyY2VQcm9wZXJ0eSwgZ2xvYmFsKTtcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdzIGluIHRoaXMgdmVyc2lvblxuICAgIGVsc2UgaWYgKG9wdGlvbnMud3JhcCAmJiBVU0VfTkFUSVZFKSByZXN1bHRQcm9wZXJ0eSA9IHdyYXBDb25zdHJ1Y3Rvcihzb3VyY2VQcm9wZXJ0eSk7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgZWxzZSBpZiAoUFJPVE8gJiYgaXNDYWxsYWJsZShzb3VyY2VQcm9wZXJ0eSkpIHJlc3VsdFByb3BlcnR5ID0gdW5jdXJyeVRoaXMoc291cmNlUHJvcGVydHkpO1xuICAgIC8vIGRlZmF1bHQgY2FzZVxuICAgIGVsc2UgcmVzdWx0UHJvcGVydHkgPSBzb3VyY2VQcm9wZXJ0eTtcblxuICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICBpZiAob3B0aW9ucy5zaGFtIHx8IChzb3VyY2VQcm9wZXJ0eSAmJiBzb3VyY2VQcm9wZXJ0eS5zaGFtKSB8fCAodGFyZ2V0UHJvcGVydHkgJiYgdGFyZ2V0UHJvcGVydHkuc2hhbSkpIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShyZXN1bHRQcm9wZXJ0eSwgJ3NoYW0nLCB0cnVlKTtcbiAgICB9XG5cbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGFyZ2V0LCBrZXksIHJlc3VsdFByb3BlcnR5KTtcblxuICAgIGlmIChQUk9UTykge1xuICAgICAgVklSVFVBTF9QUk9UT1RZUEUgPSBUQVJHRVQgKyAnUHJvdG90eXBlJztcbiAgICAgIGlmICghaGFzT3duKHBhdGgsIFZJUlRVQUxfUFJPVE9UWVBFKSkge1xuICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkocGF0aCwgVklSVFVBTF9QUk9UT1RZUEUsIHt9KTtcbiAgICAgIH1cbiAgICAgIC8vIGV4cG9ydCB2aXJ0dWFsIHByb3RvdHlwZSBtZXRob2RzXG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkocGF0aFtWSVJUVUFMX1BST1RPVFlQRV0sIGtleSwgc291cmNlUHJvcGVydHkpO1xuICAgICAgLy8gZXhwb3J0IHJlYWwgcHJvdG90eXBlIG1ldGhvZHNcbiAgICAgIGlmIChvcHRpb25zLnJlYWwgJiYgdGFyZ2V0UHJvdG90eXBlICYmICF0YXJnZXRQcm90b3R5cGVba2V5XSkge1xuICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGFyZ2V0UHJvdG90eXBlLCBrZXksIHNvdXJjZVByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faW5kZXhfZGVmYXVsdF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyODgpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faW5kZXhfZGVmYXVsdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJWRVJTSU9OXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiVkVSU0lPTlwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc3RBcmd1bWVudHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJyZXN0QXJndW1lbnRzXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNPYmplY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc09iamVjdFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzTnVsbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzTnVsbFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzVW5kZWZpbmVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNVbmRlZmluZWRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0Jvb2xlYW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc0Jvb2xlYW5cIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0VsZW1lbnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc0VsZW1lbnRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1N0cmluZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzU3RyaW5nXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNOdW1iZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc051bWJlclwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRGF0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzRGF0ZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzUmVnRXhwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNSZWdFeHBcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0Vycm9yXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNFcnJvclwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzU3ltYm9sXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNTeW1ib2xcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0FycmF5QnVmZmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNBcnJheUJ1ZmZlclwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRGF0YVZpZXdcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc0RhdGFWaWV3XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNBcnJheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzQXJyYXlcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0Z1bmN0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNGdW5jdGlvblwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzQXJndW1lbnRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNBcmd1bWVudHNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0Zpbml0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzRmluaXRlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNOYU5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc05hTlwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzVHlwZWRBcnJheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzVHlwZWRBcnJheVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRW1wdHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc0VtcHR5XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNNYXRjaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzTWF0Y2hcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0VxdWFsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNFcXVhbFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzTWFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNNYXBcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1dlYWtNYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpc1dlYWtNYXBcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1NldFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImlzU2V0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNXZWFrU2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaXNXZWFrU2V0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwia2V5c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImtleXNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhbGxLZXlzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiYWxsS2V5c1wiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInZhbHVlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInZhbHVlc1wiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBhaXJzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicGFpcnNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnZlcnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpbnZlcnRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmdW5jdGlvbnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJmdW5jdGlvbnNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJtZXRob2RzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibWV0aG9kc1wiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImV4dGVuZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImV4dGVuZFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImV4dGVuZE93blwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImV4dGVuZE93blwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFzc2lnblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImFzc2lnblwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZGVmYXVsdHNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjcmVhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJjcmVhdGVcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjbG9uZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImNsb25lXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidGFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1widGFwXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZ2V0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaGFzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaGFzXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWFwT2JqZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibWFwT2JqZWN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaWRlbnRpdHlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpZGVudGl0eVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbnN0YW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiY29uc3RhbnRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJub29wXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibm9vcFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRvUGF0aFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInRvUGF0aFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInByb3BlcnR5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicHJvcGVydHlcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwcm9wZXJ0eU9mXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicHJvcGVydHlPZlwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1hdGNoZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJtYXRjaGVyXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWF0Y2hlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcIm1hdGNoZXNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0aW1lc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInRpbWVzXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmFuZG9tXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicmFuZG9tXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibm93XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibm93XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXNjYXBlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZXNjYXBlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidW5lc2NhcGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ1bmVzY2FwZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRlbXBsYXRlU2V0dGluZ3NcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ0ZW1wbGF0ZVNldHRpbmdzXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidGVtcGxhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ0ZW1wbGF0ZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc3VsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInJlc3VsdFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVuaXF1ZUlkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1widW5pcXVlSWRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjaGFpblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImNoYWluXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXRlcmF0ZWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpdGVyYXRlZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBhcnRpYWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJwYXJ0aWFsXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYmluZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImJpbmRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJiaW5kQWxsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiYmluZEFsbFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1lbW9pemVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJtZW1vaXplXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVsYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJkZWxheVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZGVmZXJcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0aHJvdHRsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInRocm90dGxlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVib3VuY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJkZWJvdW5jZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIndyYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ3cmFwXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibmVnYXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibmVnYXRlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29tcG9zZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImNvbXBvc2VcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZnRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImFmdGVyXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYmVmb3JlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiYmVmb3JlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwib25jZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcIm9uY2VcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaW5kS2V5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZmluZEtleVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpbmRJbmRleFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImZpbmRJbmRleFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpbmRMYXN0SW5kZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJmaW5kTGFzdEluZGV4XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic29ydGVkSW5kZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJzb3J0ZWRJbmRleFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluZGV4T2ZcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpbmRleE9mXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibGFzdEluZGV4T2ZcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJsYXN0SW5kZXhPZlwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpbmRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJmaW5kXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGV0ZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZGV0ZWN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmluZFdoZXJlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZmluZFdoZXJlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZWFjaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImVhY2hcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmb3JFYWNoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZm9yRWFjaFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcIm1hcFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbGxlY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJjb2xsZWN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVkdWNlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicmVkdWNlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZm9sZGxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJmb2xkbFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImluamVjdFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlZHVjZVJpZ2h0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicmVkdWNlUmlnaHRcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmb2xkclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImZvbGRyXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmlsdGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZmlsdGVyXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2VsZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wic2VsZWN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVqZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicmVqZWN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXZlcnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJldmVyeVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFsbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImFsbFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNvbWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJzb21lXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYW55XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiYW55XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29udGFpbnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJjb250YWluc1wiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluY2x1ZGVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaW5jbHVkZXNcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbmNsdWRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaW5jbHVkZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImludm9rZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImludm9rZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBsdWNrXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicGx1Y2tcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ3aGVyZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcIndoZXJlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWF4XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibWF4XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWluXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibWluXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2h1ZmZsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInNodWZmbGVcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzYW1wbGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJzYW1wbGVcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzb3J0QnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJzb3J0QnlcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJncm91cEJ5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZ3JvdXBCeVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluZGV4QnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJpbmRleEJ5XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY291bnRCeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImNvdW50QnlcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwYXJ0aXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJwYXJ0aXRpb25cIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0b0FycmF5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1widG9BcnJheVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNpemVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJzaXplXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGlja1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInBpY2tcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJvbWl0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wib21pdFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpcnN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZmlyc3RcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJoZWFkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiaGVhZFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRha2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ0YWtlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW5pdGlhbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImluaXRpYWxcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsYXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wibGFzdFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJyZXN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidGFpbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInRhaWxcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkcm9wXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wiZHJvcFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbXBhY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJjb21wYWN0XCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZmxhdHRlblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImZsYXR0ZW5cIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ3aXRob3V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wid2l0aG91dFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVuaXFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ1bmlxXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidW5pcXVlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1widW5pcXVlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidW5pb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ1bmlvblwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImludGVyc2VjdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImludGVyc2VjdGlvblwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRpZmZlcmVuY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJkaWZmZXJlbmNlXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidW56aXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJ1bnppcFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRyYW5zcG9zZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInRyYW5zcG9zZVwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInppcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcInppcFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9iamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcIm9iamVjdFwiXTsgfSk7XG4vKiBoYXJtb255IG5hbWVzcGFjZSByZWV4cG9ydCAoYnkgcHJvdmlkZWQpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJhbmdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pbmRleF9qc19fW1wicmFuZ2VcIl07IH0pO1xuLyogaGFybW9ueSBuYW1lc3BhY2UgcmVleHBvcnQgKGJ5IHByb3ZpZGVkKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjaHVua1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5kZXhfanNfX1tcImNodW5rXCJdOyB9KTtcbi8qIGhhcm1vbnkgbmFtZXNwYWNlIHJlZXhwb3J0IChieSBwcm92aWRlZCkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWl4aW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2luZGV4X2pzX19bXCJtaXhpblwiXTsgfSk7XG4vLyBFU00gRXhwb3J0c1xuLy8gPT09PT09PT09PT1cbi8vIFRoaXMgbW9kdWxlIGlzIHRoZSBwYWNrYWdlIGVudHJ5IHBvaW50IGZvciBFUyBtb2R1bGUgdXNlcnMuIEluIG90aGVyIHdvcmRzLFxuLy8gaXQgaXMgdGhlIG1vZHVsZSB0aGV5IGFyZSBpbnRlcmZhY2luZyB3aXRoIHdoZW4gdGhleSBpbXBvcnQgZnJvbSB0aGUgd2hvbGVcbi8vIHBhY2thZ2UgaW5zdGVhZCBvZiBmcm9tIGEgc3VibW9kdWxlLCBsaWtlIHRoaXM6XG4vL1xuLy8gYGBganNcbi8vIGltcG9ydCB7IG1hcCB9IGZyb20gJ3VuZGVyc2NvcmUnO1xuLy8gYGBgXG4vL1xuLy8gVGhlIGRpZmZlcmVuY2Ugd2l0aCBgLi9pbmRleC1kZWZhdWx0YCwgd2hpY2ggaXMgdGhlIHBhY2thZ2UgZW50cnkgcG9pbnQgZm9yXG4vLyBDb21tb25KUywgQU1EIGFuZCBVTUQgdXNlcnMsIGlzIHB1cmVseSB0ZWNobmljYWwuIEluIEVTIG1vZHVsZXMsIG5hbWVkIGFuZFxuLy8gZGVmYXVsdCBleHBvcnRzIGFyZSBjb25zaWRlcmVkIHRvIGJlIHNpYmxpbmdzLCBzbyB3aGVuIHlvdSBoYXZlIGEgZGVmYXVsdFxuLy8gZXhwb3J0LCBpdHMgcHJvcGVydGllcyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgYXZhaWxhYmxlIGFzIG5hbWVkIGV4cG9ydHMuIEZvclxuLy8gdGhpcyByZWFzb24sIHdlIHJlLWV4cG9ydCB0aGUgbmFtZWQgZXhwb3J0cyBpbiBhZGRpdGlvbiB0byBwcm92aWRpbmcgdGhlIHNhbWVcbi8vIGRlZmF1bHQgZXhwb3J0IGFzIGluIGAuL2luZGV4LWRlZmF1bHRgLlxuXG5cblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIE5BVElWRV9CSU5EID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBiaW5kID0gRnVuY3Rpb25Qcm90b3R5cGUuYmluZDtcbnZhciBjYWxsID0gRnVuY3Rpb25Qcm90b3R5cGUuY2FsbDtcbnZhciB1bmN1cnJ5VGhpcyA9IE5BVElWRV9CSU5EICYmIGJpbmQuYmluZChjYWxsLCBjYWxsKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZm4gJiYgdW5jdXJyeVRoaXMoZm4pO1xufSA6IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZm4gJiYgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsLmFwcGx5KGZuLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ2KTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBzeW1ib2xGb3IgPSBTeW1ib2wgJiYgU3ltYm9sWydmb3InXTtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXNPd24oV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSB8fCAhKE5BVElWRV9TWU1CT0wgfHwgdHlwZW9mIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9PSAnc3RyaW5nJykpIHtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSAnU3ltYm9sLicgKyBuYW1lO1xuICAgIGlmIChOQVRJVkVfU1lNQk9MICYmIGhhc093bihTeW1ib2wsIG5hbWUpKSB7XG4gICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBTeW1ib2xbbmFtZV07XG4gICAgfSBlbHNlIGlmIChVU0VfU1lNQk9MX0FTX1VJRCAmJiBzeW1ib2xGb3IpIHtcbiAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IHN5bWJvbEZvcihkZXNjcmlwdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IGNyZWF0ZVdlbGxLbm93blN5bWJvbChkZXNjcmlwdGlvbik7XG4gICAgfVxuICB9IHJldHVybiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV07XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZFUlNJT047IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiByb290OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gQXJyYXlQcm90bzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE9ialByb3RvOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gU3ltYm9sUHJvdG87IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwdXNoOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJxXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2xpY2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB0b1N0cmluZzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGhhc093blByb3BlcnR5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc3VwcG9ydHNBcnJheUJ1ZmZlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHN1cHBvcnRzRGF0YVZpZXc7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImtcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBuYXRpdmVJc0FycmF5OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJtXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmF0aXZlS2V5czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwialwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG5hdGl2ZUNyZWF0ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIG5hdGl2ZUlzVmlldzsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pc05hTjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pc0Zpbml0ZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGhhc0VudW1CdWc7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBub25FbnVtZXJhYmxlUHJvcHM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNQVhfQVJSQVlfSU5ERVg7IH0pO1xuLy8gQ3VycmVudCB2ZXJzaW9uLlxudmFyIFZFUlNJT04gPSAnMS4xMi4xJztcblxuLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgKGBzZWxmYCkgaW4gdGhlIGJyb3dzZXIsIGBnbG9iYWxgXG4vLyBvbiB0aGUgc2VydmVyLCBvciBgdGhpc2AgaW4gc29tZSB2aXJ0dWFsIG1hY2hpbmVzLiBXZSB1c2UgYHNlbGZgXG4vLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxudmFyIHJvb3QgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGYgJiYgc2VsZiB8fFxuICAgICAgICAgIHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsICYmIGdsb2JhbCB8fFxuICAgICAgICAgIEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkgfHxcbiAgICAgICAgICB7fTtcblxuLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbnZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLCBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG52YXIgU3ltYm9sUHJvdG8gPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbC5wcm90b3R5cGUgOiBudWxsO1xuXG4vLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbnZhciBwdXNoID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlID0gQXJyYXlQcm90by5zbGljZSxcbiAgICB0b1N0cmluZyA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8vIE1vZGVybiBmZWF0dXJlIGRldGVjdGlvbi5cbnZhciBzdXBwb3J0c0FycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyxcbiAgICBzdXBwb3J0c0RhdGFWaWV3ID0gdHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJztcblxuLy8gQWxsICoqRUNNQVNjcmlwdCA1KyoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG52YXIgbmF0aXZlSXNBcnJheSA9IEFycmF5LmlzQXJyYXksXG4gICAgbmF0aXZlS2V5cyA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgbmF0aXZlSXNWaWV3ID0gc3VwcG9ydHNBcnJheUJ1ZmZlciAmJiBBcnJheUJ1ZmZlci5pc1ZpZXc7XG5cbi8vIENyZWF0ZSByZWZlcmVuY2VzIHRvIHRoZXNlIGJ1aWx0aW4gZnVuY3Rpb25zIGJlY2F1c2Ugd2Ugb3ZlcnJpZGUgdGhlbS5cbnZhciBfaXNOYU4gPSBpc05hTixcbiAgICBfaXNGaW5pdGUgPSBpc0Zpbml0ZTtcblxuLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbnZhciBoYXNFbnVtQnVnID0gIXt0b1N0cmluZzogbnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyk7XG52YXIgbm9uRW51bWVyYWJsZVByb3BzID0gWyd2YWx1ZU9mJywgJ2lzUHJvdG90eXBlT2YnLCAndG9TdHJpbmcnLFxuICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuLy8gVGhlIGxhcmdlc3QgaW50ZWdlciB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCBleGFjdGx5LlxudmFyIE1BWF9BUlJBWV9JTkRFWCA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCkpKVxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcbnZhciBoYXNPd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDIpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCkuZjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTkFNRSkge1xuICB2YXIgU3ltYm9sID0gcGF0aC5TeW1ib2wgfHwgKHBhdGguU3ltYm9sID0ge30pO1xuICBpZiAoIWhhc093bihTeW1ib2wsIE5BTUUpKSBkZWZpbmVQcm9wZXJ0eShTeW1ib2wsIE5BTUUsIHtcbiAgICB2YWx1ZTogd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mKE5BTUUpXG4gIH0pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gYElzQ2FsbGFibGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2NhbGxhYmxlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7dmFyIGNoZWNrID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAmJiBpdC5NYXRoID09IE1hdGggJiYgaXQ7XG59O1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxubW9kdWxlLmV4cG9ydHMgPVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1nbG9iYWwtdGhpcyAtLSBzYWZlXG4gIGNoZWNrKHR5cGVvZiBnbG9iYWxUaGlzID09ICdvYmplY3QnICYmIGdsb2JhbFRoaXMpIHx8XG4gIGNoZWNrKHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93KSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZikgfHxcbiAgY2hlY2sodHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuYyAtLSBmYWxsYmFja1xuICAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSkoKSB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpKSlcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ4KTtcblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgTkFUSVZFX0JJTkQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblxudmFyIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/IGNhbGwuYmluZChjYWxsKSA6IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGNhbGwuYXBwbHkoY2FsbCwgYXJndW1lbnRzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVuY3VycnlUaGlzKHt9LmlzUHJvdG90eXBlT2YpO1xuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSB1bmN1cnJ5VGhpcyh7fS5oYXNPd25Qcm9wZXJ0eSk7XG5cbi8vIGBIYXNPd25Qcm9wZXJ0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWhhc293bnByb3BlcnR5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtaGFzb3duIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0Lmhhc093biB8fCBmdW5jdGlvbiBoYXNPd24oaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkodG9PYmplY3QoaXQpLCBrZXkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBrZXlzO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNPYmplY3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19oYXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fY29sbGVjdE5vbkVudW1Qcm9wc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xuXG5cblxuXG5cbi8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbi8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2AuXG5mdW5jdGlvbiBrZXlzKG9iaikge1xuICBpZiAoIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzT2JqZWN0X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikpIHJldHVybiBbXTtcbiAgaWYgKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2V0dXBfanNfX1tcIm1cIiAvKiBuYXRpdmVLZXlzICovXSkgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJtXCIgLyogbmF0aXZlS2V5cyAqL10pKG9iaik7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19oYXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgLy8gQWhlbSwgSUUgPCA5LlxuICBpZiAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fW1wiaFwiIC8qIGhhc0VudW1CdWcgKi9dKSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19jb2xsZWN0Tm9uRW51bVByb3BzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwga2V5cyk7XG4gIHJldHVybiBrZXlzO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB0YWdUZXN0ZXI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXG4vLyBJbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBgdG9TdHJpbmdgLWJhc2VkIHR5cGUgdGVzdGVyLlxuZnVuY3Rpb24gdGFnVGVzdGVyKG5hbWUpIHtcbiAgdmFyIHRhZyA9ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcInRcIiAvKiB0b1N0cmluZyAqL10uY2FsbChvYmopID09PSB0YWc7XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IGlzQ2FsbGFibGUoaXQpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJpYWJsZSkge1xuICByZXR1cm4gaXNDYWxsYWJsZSh2YXJpYWJsZSkgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihwYXRoW25hbWVzcGFjZV0pIHx8IGFGdW5jdGlvbihnbG9iYWxbbmFtZXNwYWNlXSlcbiAgICA6IHBhdGhbbmFtZXNwYWNlXSAmJiBwYXRoW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWxbbmFtZXNwYWNlXSAmJiBnbG9iYWxbbmFtZXNwYWNlXVttZXRob2RdO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjYjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fYmFzZUl0ZXJhdGVlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pdGVyYXRlZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXG5cblxuXG4vLyBUaGUgZnVuY3Rpb24gd2UgY2FsbCBpbnRlcm5hbGx5IHRvIGdlbmVyYXRlIGEgY2FsbGJhY2suIEl0IGludm9rZXNcbi8vIGBfLml0ZXJhdGVlYCBpZiBvdmVycmlkZGVuLCBvdGhlcndpc2UgYGJhc2VJdGVyYXRlZWAuXG5mdW5jdGlvbiBjYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgaWYgKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLml0ZXJhdGVlICE9PSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2l0ZXJhdGVlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5pdGVyYXRlZSh2YWx1ZSwgY29udGV4dCk7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19iYXNlSXRlcmF0ZWVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbi8vIERldGVjdCBJRTgncyBpbmNvbXBsZXRlIGRlZmluZVByb3BlcnR5IGltcGxlbWVudGF0aW9uXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAxLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KVsxXSAhPSA3O1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxudmFyICRTdHJpbmcgPSBTdHJpbmc7XG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogVHlwZShhcmd1bWVudCkgaXMgT2JqZWN0YFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGlzT2JqZWN0KGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyAkVHlwZUVycm9yKCRTdHJpbmcoYXJndW1lbnQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHJlc3RBcmd1bWVudHM7XG4vLyBTb21lIGZ1bmN0aW9ucyB0YWtlIGEgdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cywgb3IgYSBmZXcgZXhwZWN0ZWRcbi8vIGFyZ3VtZW50cyBhdCB0aGUgYmVnaW5uaW5nIGFuZCB0aGVuIGEgdmFyaWFibGUgbnVtYmVyIG9mIHZhbHVlcyB0byBvcGVyYXRlXG4vLyBvbi4gVGhpcyBoZWxwZXIgYWNjdW11bGF0ZXMgYWxsIHJlbWFpbmluZyBhcmd1bWVudHMgcGFzdCB0aGUgZnVuY3Rpb27igJlzXG4vLyBhcmd1bWVudCBsZW5ndGggKG9yIGFuIGV4cGxpY2l0IGBzdGFydEluZGV4YCksIGludG8gYW4gYXJyYXkgdGhhdCBiZWNvbWVzXG4vLyB0aGUgbGFzdCBhcmd1bWVudC4gU2ltaWxhciB0byBFUzbigJlzIFwicmVzdCBwYXJhbWV0ZXJcIi5cbmZ1bmN0aW9uIHJlc3RBcmd1bWVudHMoZnVuYywgc3RhcnRJbmRleCkge1xuICBzdGFydEluZGV4ID0gc3RhcnRJbmRleCA9PSBudWxsID8gZnVuYy5sZW5ndGggLSAxIDogK3N0YXJ0SW5kZXg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApLFxuICAgICAgICByZXN0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgaW5kZXggPSAwO1xuICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmVzdFtpbmRleF0gPSBhcmd1bWVudHNbaW5kZXggKyBzdGFydEluZGV4XTtcbiAgICB9XG4gICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpcywgcmVzdCk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpcywgYXJndW1lbnRzWzBdLCByZXN0KTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgcmVzdCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gQXJyYXkoc3RhcnRJbmRleCArIDEpO1xuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICB9XG4gICAgYXJnc1tzdGFydEluZGV4XSA9IHJlc3Q7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gXztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cbi8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0IGNhblxuLy8gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIGZ1bmN0aW9ucyBhZGRlZFxuLy8gdGhyb3VnaCBgXy5taXhpbmAuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cbmZ1bmN0aW9uIF8ob2JqKSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICB0aGlzLl93cmFwcGVkID0gb2JqO1xufVxuXG5fLlZFUlNJT04gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJlXCIgLyogVkVSU0lPTiAqL107XG5cbi8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG59O1xuXG4vLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveGllcyBmb3Igc29tZSBtZXRob2RzIHVzZWQgaW4gZW5naW5lIG9wZXJhdGlvbnNcbi8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG5fLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbl8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBTdHJpbmcodGhpcy5fd3JhcHBlZCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVTaXplUHJvcGVydHlDaGVja19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0TGVuZ3RoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblxuXG5cbi8vIEludGVybmFsIGhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdC5cbi8vIFJlbGF0ZWQ6IGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuLy8gQXZvaWRzIGEgdmVyeSBuYXN0eSBpT1MgOCBKSVQgYnVnIG9uIEFSTS02NC4gIzIwOTRcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlU2l6ZVByb3BlcnR5Q2hlY2tfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MCk7XG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09OU1RSVUNUT1IpIHtcbiAgcmV0dXJuIHBhdGhbQ09OU1RSVUNUT1IgKyAnUHJvdG90eXBlJ107XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2NvbmNhdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNSkpO1xuXG52YXIgX3Byb21pc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgbWQ1ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MDApO1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLFxuICAgIGV4dGVuZCA9IF9yZXF1aXJlLmV4dGVuZDtcblxudmFyIEFWID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbnZhciBBVkVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxcbiAgICBnZXRTZXNzaW9uVG9rZW4gPSBfcmVxdWlyZTIuZ2V0U2Vzc2lvblRva2VuO1xuXG52YXIgYWpheCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTsgLy8g6K6h566XIFgtTEMtU2lnbiDnmoTnrb7lkI3mlrnms5VcblxuXG52YXIgc2lnbiA9IGZ1bmN0aW9uIHNpZ24oa2V5LCBpc01hc3RlcktleSkge1xuICB2YXIgX2NvbnRleHQyO1xuXG4gIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgdmFyIHNpZ25hdHVyZSA9IG1kNShub3cgKyBrZXkpO1xuXG4gIGlmIChpc01hc3RlcktleSkge1xuICAgIHZhciBfY29udGV4dDtcblxuICAgIHJldHVybiAoMCwgX2NvbmNhdC5kZWZhdWx0KShfY29udGV4dCA9IFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgXCIsXCIpKS5jYWxsKF9jb250ZXh0LCBub3csIFwiLG1hc3RlclwiKTtcbiAgfVxuXG4gIHJldHVybiAoMCwgX2NvbmNhdC5kZWZhdWx0KShfY29udGV4dDIgPSBcIlwiLmNvbmNhdChzaWduYXR1cmUsIFwiLFwiKSkuY2FsbChfY29udGV4dDIsIG5vdyk7XG59O1xuXG52YXIgc2V0QXBwS2V5ID0gZnVuY3Rpb24gc2V0QXBwS2V5KGhlYWRlcnMsIHNpZ25LZXkpIHtcbiAgaWYgKHNpZ25LZXkpIHtcbiAgICBoZWFkZXJzWydYLUxDLVNpZ24nXSA9IHNpZ24oQVYuYXBwbGljYXRpb25LZXkpO1xuICB9IGVsc2Uge1xuICAgIGhlYWRlcnNbJ1gtTEMtS2V5J10gPSBBVi5hcHBsaWNhdGlvbktleTtcbiAgfVxufTtcblxudmFyIHNldEhlYWRlcnMgPSBmdW5jdGlvbiBzZXRIZWFkZXJzKCkge1xuICB2YXIgYXV0aE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgc2lnbktleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICB2YXIgaGVhZGVycyA9IHtcbiAgICAnWC1MQy1JZCc6IEFWLmFwcGxpY2F0aW9uSWQsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnXG4gIH07XG4gIHZhciB1c2VNYXN0ZXJLZXkgPSBmYWxzZTtcblxuICBpZiAodHlwZW9mIGF1dGhPcHRpb25zLnVzZU1hc3RlcktleSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdXNlTWFzdGVyS2V5ID0gYXV0aE9wdGlvbnMudXNlTWFzdGVyS2V5O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBBVi5fY29uZmlnLnVzZU1hc3RlcktleSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdXNlTWFzdGVyS2V5ID0gQVYuX2NvbmZpZy51c2VNYXN0ZXJLZXk7XG4gIH1cblxuICBpZiAodXNlTWFzdGVyS2V5KSB7XG4gICAgaWYgKEFWLm1hc3RlcktleSkge1xuICAgICAgaWYgKHNpZ25LZXkpIHtcbiAgICAgICAgaGVhZGVyc1snWC1MQy1TaWduJ10gPSBzaWduKEFWLm1hc3RlcktleSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkZXJzWydYLUxDLUtleSddID0gXCJcIi5jb25jYXQoQVYubWFzdGVyS2V5LCBcIixtYXN0ZXJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignbWFzdGVyS2V5IGlzIG5vdCBzZXQsIGZhbGwgYmFjayB0byB1c2UgYXBwS2V5Jyk7XG4gICAgICBzZXRBcHBLZXkoaGVhZGVycywgc2lnbktleSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNldEFwcEtleShoZWFkZXJzLCBzaWduS2V5KTtcbiAgfVxuXG4gIGlmIChBVi5ob29rS2V5KSB7XG4gICAgaGVhZGVyc1snWC1MQy1Ib29rLUtleSddID0gQVYuaG9va0tleTtcbiAgfVxuXG4gIGlmIChBVi5fY29uZmlnLnByb2R1Y3Rpb24gIT09IG51bGwpIHtcbiAgICBoZWFkZXJzWydYLUxDLVByb2QnXSA9IFN0cmluZyhBVi5fY29uZmlnLnByb2R1Y3Rpb24pO1xuICB9XG5cbiAgaGVhZGVyc1sgZmFsc2UgPyAnVXNlci1BZ2VudCcgOiAnWC1MQy1VQSddID0gQVYuX3NoYXJlZENvbmZpZy51c2VyQWdlbnQ7XG4gIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBQYXNzIHRoZSBzZXNzaW9uIHRva2VuXG4gICAgdmFyIHNlc3Npb25Ub2tlbiA9IGdldFNlc3Npb25Ub2tlbihhdXRoT3B0aW9ucyk7XG5cbiAgICBpZiAoc2Vzc2lvblRva2VuKSB7XG4gICAgICBoZWFkZXJzWydYLUxDLVNlc3Npb24nXSA9IHNlc3Npb25Ub2tlbjtcbiAgICB9IGVsc2UgaWYgKCFBVi5fY29uZmlnLmRpc2FibGVDdXJyZW50VXNlcikge1xuICAgICAgcmV0dXJuIEFWLlVzZXIuY3VycmVudEFzeW5jKCkudGhlbihmdW5jdGlvbiAoY3VycmVudFVzZXIpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLl9zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICBoZWFkZXJzWydYLUxDLVNlc3Npb24nXSA9IGN1cnJlbnRVc2VyLl9zZXNzaW9uVG9rZW47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9KTtcbn07XG5cbnZhciBjcmVhdGVBcGlVcmwgPSBmdW5jdGlvbiBjcmVhdGVBcGlVcmwoX3JlZikge1xuICB2YXIgX3JlZiRzZXJ2aWNlID0gX3JlZi5zZXJ2aWNlLFxuICAgICAgc2VydmljZSA9IF9yZWYkc2VydmljZSA9PT0gdm9pZCAwID8gJ2FwaScgOiBfcmVmJHNlcnZpY2UsXG4gICAgICBfcmVmJHZlcnNpb24gPSBfcmVmLnZlcnNpb24sXG4gICAgICB2ZXJzaW9uID0gX3JlZiR2ZXJzaW9uID09PSB2b2lkIDAgPyAnMS4xJyA6IF9yZWYkdmVyc2lvbixcbiAgICAgIHBhdGggPSBfcmVmLnBhdGg7XG4gIHZhciBhcGlVUkwgPSBBVi5fY29uZmlnLnNlcnZlclVSTHNbc2VydmljZV07XG4gIGlmICghYXBpVVJMKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRlZmluZWQgc2VydmVyIFVSTCBmb3IgXCIuY29uY2F0KHNlcnZpY2UpKTtcblxuICBpZiAoYXBpVVJMLmNoYXJBdChhcGlVUkwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgIGFwaVVSTCArPSAnLyc7XG4gIH1cblxuICBhcGlVUkwgKz0gdmVyc2lvbjtcblxuICBpZiAocGF0aCkge1xuICAgIGFwaVVSTCArPSBwYXRoO1xuICB9XG5cbiAgcmV0dXJuIGFwaVVSTDtcbn07XG4vKipcbiAqIExvdyBsZXZlbCBSRVNUIEFQSSBjbGllbnQuIENhbGwgUkVTVCBlbmRwb2ludHMgd2l0aCBhdXRob3JpemF0aW9uIGhlYWRlcnMuXG4gKiBAZnVuY3Rpb24gQVYucmVxdWVzdFxuICogQHNpbmNlIDMuMC4wXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMubWV0aG9kIEhUVFAgbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5wYXRoIGVuZHBvaW50IHBhdGgsIGUuZy4gYC9jbGFzc2VzL1Rlc3QvNTU3NTk1NzdlNGIwMjlhZTYwMTVhYzIwYFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnF1ZXJ5XSBxdWVyeSBzdHJpbmcgZGljdFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmRhdGFdIEhUVFAgYm9keVxuICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnMuYXV0aE9wdGlvbnNdXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2VydmljZSA9ICdhcGknXVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnZlcnNpb24gPSAnMS4xJ11cbiAqL1xuXG5cbnZhciByZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChfcmVmMikge1xuICB2YXIgc2VydmljZSA9IF9yZWYyLnNlcnZpY2UsXG4gICAgICB2ZXJzaW9uID0gX3JlZjIudmVyc2lvbixcbiAgICAgIG1ldGhvZCA9IF9yZWYyLm1ldGhvZCxcbiAgICAgIHBhdGggPSBfcmVmMi5wYXRoLFxuICAgICAgcXVlcnkgPSBfcmVmMi5xdWVyeSxcbiAgICAgIGRhdGEgPSBfcmVmMi5kYXRhLFxuICAgICAgYXV0aE9wdGlvbnMgPSBfcmVmMi5hdXRoT3B0aW9ucyxcbiAgICAgIF9yZWYyJHNpZ25LZXkgPSBfcmVmMi5zaWduS2V5LFxuICAgICAgc2lnbktleSA9IF9yZWYyJHNpZ25LZXkgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmMiRzaWduS2V5O1xuXG4gIGlmICghKEFWLmFwcGxpY2F0aW9uSWQgJiYgKEFWLmFwcGxpY2F0aW9uS2V5IHx8IEFWLm1hc3RlcktleSkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW5pdGlhbGl6ZWQnKTtcbiAgfVxuXG4gIGlmIChBVi5fYXBwUm91dGVyKSB7XG4gICAgQVYuX2FwcFJvdXRlci5yZWZyZXNoKCk7XG4gIH1cblxuICB2YXIgdGltZW91dCA9IEFWLl9jb25maWcucmVxdWVzdFRpbWVvdXQ7XG4gIHZhciB1cmwgPSBjcmVhdGVBcGlVcmwoe1xuICAgIHNlcnZpY2U6IHNlcnZpY2UsXG4gICAgcGF0aDogcGF0aCxcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uXG4gIH0pO1xuICByZXR1cm4gc2V0SGVhZGVycyhhdXRoT3B0aW9ucywgc2lnbktleSkudGhlbihmdW5jdGlvbiAoaGVhZGVycykge1xuICAgIHJldHVybiBhamF4KHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBxdWVyeTogcXVlcnksXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHRpbWVvdXQ6IHRpbWVvdXRcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHZhciBlcnJvckpTT04gPSB7XG4gICAgICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgLTEsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnJlc3BvbnNlVGV4dFxuICAgICAgfTtcblxuICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmNvZGUpIHtcbiAgICAgICAgZXJyb3JKU09OID0gZXJyb3IucmVzcG9uc2U7XG4gICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlVGV4dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGVycm9ySlNPTiA9IEpTT04ucGFyc2UoZXJyb3IucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkgey8vIElmIHdlIGZhaWwgdG8gcGFyc2UgdGhlIGVycm9yIHRleHQsIHRoYXQncyBva2F5LlxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVycm9ySlNPTi5yYXdNZXNzYWdlID0gZXJyb3JKU09OLnJhd01lc3NhZ2UgfHwgZXJyb3JKU09OLmVycm9yO1xuXG4gICAgICBpZiAoIUFWLl9zaGFyZWRDb25maWcua2VlcEVycm9yUmF3TWVzc2FnZSkge1xuICAgICAgICB2YXIgX2NvbnRleHQzLCBfY29udGV4dDQ7XG5cbiAgICAgICAgZXJyb3JKU09OLmVycm9yICs9ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0MyA9ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0NCA9IFwiIFtcIi5jb25jYXQoZXJyb3Iuc3RhdHVzQ29kZSB8fCAnTi9BJywgXCIgXCIpKS5jYWxsKF9jb250ZXh0NCwgbWV0aG9kLCBcIiBcIikpLmNhbGwoX2NvbnRleHQzLCB1cmwsIFwiXVwiKTtcbiAgICAgIH0gLy8gVHJhbnNmb3JtIHRoZSBlcnJvciBpbnRvIGFuIGluc3RhbmNlIG9mIEFWRXJyb3IgYnkgdHJ5aW5nIHRvIHBhcnNlXG4gICAgICAvLyB0aGUgZXJyb3Igc3RyaW5nIGFzIEpTT04uXG5cblxuICAgICAgdmFyIGVyciA9IG5ldyBBVkVycm9yKGVycm9ySlNPTi5jb2RlLCBlcnJvckpTT04uZXJyb3IpO1xuICAgICAgZGVsZXRlIGVycm9ySlNPTi5lcnJvcjtcbiAgICAgIHRocm93IF8uZXh0ZW5kKGVyciwgZXJyb3JKU09OKTtcbiAgICB9KTtcbiAgfSk7XG59OyAvLyBsYWdlY3kgcmVxdWVzdFxuXG5cbnZhciBfcmVxdWVzdCA9IGZ1bmN0aW9uIF9yZXF1ZXN0KHJvdXRlLCBjbGFzc05hbWUsIG9iamVjdElkLCBtZXRob2QsIGRhdGEsIGF1dGhPcHRpb25zLCBxdWVyeSkge1xuICB2YXIgcGF0aCA9ICcnO1xuICBpZiAocm91dGUpIHBhdGggKz0gXCIvXCIuY29uY2F0KHJvdXRlKTtcbiAgaWYgKGNsYXNzTmFtZSkgcGF0aCArPSBcIi9cIi5jb25jYXQoY2xhc3NOYW1lKTtcbiAgaWYgKG9iamVjdElkKSBwYXRoICs9IFwiL1wiLmNvbmNhdChvYmplY3RJZCk7IC8vIGZvciBtaWdlcmF0aW9uXG5cbiAgaWYgKGRhdGEgJiYgZGF0YS5fZmV0Y2hXaGVuU2F2ZSkgdGhyb3cgbmV3IEVycm9yKCdfZmV0Y2hXaGVuU2F2ZSBzaG91bGQgYmUgaW4gdGhlIHF1ZXJ5Jyk7XG4gIGlmIChkYXRhICYmIGRhdGEuX3doZXJlKSB0aHJvdyBuZXcgRXJyb3IoJ193aGVyZSBzaG91bGQgYmUgaW4gdGhlIHF1ZXJ5Jyk7XG5cbiAgaWYgKG1ldGhvZCAmJiBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ2dldCcpIHtcbiAgICBxdWVyeSA9IGV4dGVuZCh7fSwgcXVlcnksIGRhdGEpO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgIG1ldGhvZDogbWV0aG9kLFxuICAgIHBhdGg6IHBhdGgsXG4gICAgcXVlcnk6IHF1ZXJ5LFxuICAgIGRhdGE6IGRhdGEsXG4gICAgYXV0aE9wdGlvbnM6IGF1dGhPcHRpb25zXG4gIH0pO1xufTtcblxuQVYucmVxdWVzdCA9IHJlcXVlc3Q7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgX3JlcXVlc3Q6IF9yZXF1ZXN0LFxuICByZXF1ZXN0OiByZXF1ZXN0XG59O1xuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciB0cnlUb1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogSXNDYWxsYWJsZShhcmd1bWVudCkgaXMgdHJ1ZWBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXG5cbnZhciBpc0Z1bmN0aW9uID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdGdW5jdGlvbicpO1xuXG4vLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgYHR5cGVvZmAgYnVncyBpbiBvbGRcbi8vIHY4LCBJRSAxMSAoIzE2MjEpLCBTYWZhcmkgOCAoIzE5MjkpLCBhbmQgUGhhbnRvbUpTICgjMjIzNikuXG52YXIgbm9kZWxpc3QgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJwXCIgLyogcm9vdCAqL10uZG9jdW1lbnQgJiYgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fW1wicFwiIC8qIHJvb3QgKi9dLmRvY3VtZW50LmNoaWxkTm9kZXM7XG5pZiAodHlwZW9mIC8uLyAhPSAnZnVuY3Rpb24nICYmIHR5cGVvZiBJbnQ4QXJyYXkgIT0gJ29iamVjdCcgJiYgdHlwZW9mIG5vZGVsaXN0ICE9ICdmdW5jdGlvbicpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgZmFsc2U7XG4gIH07XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoaXNGdW5jdGlvbik7XG5cblxuLyoqKi8gfSksXG4vKiAzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NoYWxsb3dQcm9wZXJ0eV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXG5cbi8vIEludGVybmFsIGhlbHBlciB0byBvYnRhaW4gdGhlIGBsZW5ndGhgIHByb3BlcnR5IG9mIGFuIG9iamVjdC5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2hhbGxvd1Byb3BlcnR5X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdsZW5ndGgnKSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MykpO1xuXG52YXIgX2dldFByb3RvdHlwZU9mID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIyMCkpO1xuXG52YXIgX3Byb21pc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpOyAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgbnVsbCBvciB1bmRlZmluZWQuXG5cblxudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoeCkge1xuICByZXR1cm4gXy5pc051bGwoeCkgfHwgXy5pc1VuZGVmaW5lZCh4KTtcbn07XG5cbnZhciBlbnN1cmVBcnJheSA9IGZ1bmN0aW9uIGVuc3VyZUFycmF5KHRhcmdldCkge1xuICBpZiAoXy5pc0FycmF5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBbdGFyZ2V0XTtcbn07XG5cbnZhciB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMoKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgIGtleXMgPSAoMCwgX2tleXMuZGVmYXVsdCkoX3JlZiksXG4gICAgICBpbmNsdWRlID0gX3JlZi5pbmNsdWRlLFxuICAgICAgaW5jbHVkZUFDTCA9IF9yZWYuaW5jbHVkZUFDTDtcblxuICB2YXIgZmV0Y2hPcHRpb25zID0ge307XG5cbiAgaWYgKGtleXMpIHtcbiAgICBmZXRjaE9wdGlvbnMua2V5cyA9IGVuc3VyZUFycmF5KGtleXMpLmpvaW4oJywnKTtcbiAgfVxuXG4gIGlmIChpbmNsdWRlKSB7XG4gICAgZmV0Y2hPcHRpb25zLmluY2x1ZGUgPSBlbnN1cmVBcnJheShpbmNsdWRlKS5qb2luKCcsJyk7XG4gIH1cblxuICBpZiAoaW5jbHVkZUFDTCkge1xuICAgIGZldGNoT3B0aW9ucy5yZXR1cm5BQ0wgPSBpbmNsdWRlQUNMO1xuICB9XG5cbiAgcmV0dXJuIGZldGNoT3B0aW9ucztcbn07XG5cbnZhciBnZXRTZXNzaW9uVG9rZW4gPSBmdW5jdGlvbiBnZXRTZXNzaW9uVG9rZW4oYXV0aE9wdGlvbnMpIHtcbiAgaWYgKGF1dGhPcHRpb25zLnNlc3Npb25Ub2tlbikge1xuICAgIHJldHVybiBhdXRoT3B0aW9ucy5zZXNzaW9uVG9rZW47XG4gIH1cblxuICBpZiAoYXV0aE9wdGlvbnMudXNlciAmJiB0eXBlb2YgYXV0aE9wdGlvbnMudXNlci5nZXRTZXNzaW9uVG9rZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYXV0aE9wdGlvbnMudXNlci5nZXRTZXNzaW9uVG9rZW4oKTtcbiAgfVxufTtcblxudmFyIHRhcCA9IGZ1bmN0aW9uIHRhcChpbnRlcmNlcHRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKSwgdmFsdWU7XG4gIH07XG59OyAvLyBTaGFyZWQgZW1wdHkgY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gYWlkIGluIHByb3RvdHlwZS1jaGFpbiBjcmVhdGlvbi5cblxuXG52YXIgRW1wdHlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIEVtcHR5Q29uc3RydWN0b3IoKSB7fTsgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvcnJlY3RseSBzZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiwgZm9yIHN1YmNsYXNzZXMuXG4vLyBTaW1pbGFyIHRvIGBnb29nLmluaGVyaXRzYCwgYnV0IHVzZXMgYSBoYXNoIG9mIHByb3RvdHlwZSBwcm9wZXJ0aWVzIGFuZFxuLy8gY2xhc3MgcHJvcGVydGllcyB0byBiZSBleHRlbmRlZC5cblxuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhwYXJlbnQsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIHZhciBjaGlsZDsgLy8gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgbmV3IHN1YmNsYXNzIGlzIGVpdGhlciBkZWZpbmVkIGJ5IHlvdVxuICAvLyAodGhlIFwiY29uc3RydWN0b3JcIiBwcm9wZXJ0eSBpbiB5b3VyIGBleHRlbmRgIGRlZmluaXRpb24pLCBvciBkZWZhdWx0ZWRcbiAgLy8gYnkgdXMgdG8gc2ltcGx5IGNhbGwgdGhlIHBhcmVudCdzIGNvbnN0cnVjdG9yLlxuXG4gIGlmIChwcm90b1Byb3BzICYmIHByb3RvUHJvcHMuaGFzT3duUHJvcGVydHkoJ2NvbnN0cnVjdG9yJykpIHtcbiAgICBjaGlsZCA9IHByb3RvUHJvcHMuY29uc3RydWN0b3I7XG4gIH0gZWxzZSB7XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBjaGlsZCA9IGZ1bmN0aW9uIGNoaWxkKCkge1xuICAgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSAvLyBJbmhlcml0IGNsYXNzIChzdGF0aWMpIHByb3BlcnRpZXMgZnJvbSBwYXJlbnQuXG5cblxuICBfLmV4dGVuZChjaGlsZCwgcGFyZW50KTsgLy8gU2V0IHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gaW5oZXJpdCBmcm9tIGBwYXJlbnRgLCB3aXRob3V0IGNhbGxpbmdcbiAgLy8gYHBhcmVudGAncyBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cblxuXG4gIEVtcHR5Q29uc3RydWN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTtcbiAgY2hpbGQucHJvdG90eXBlID0gbmV3IEVtcHR5Q29uc3RydWN0b3IoKTsgLy8gQWRkIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChpbnN0YW5jZSBwcm9wZXJ0aWVzKSB0byB0aGUgc3ViY2xhc3MsXG4gIC8vIGlmIHN1cHBsaWVkLlxuXG4gIGlmIChwcm90b1Byb3BzKSB7XG4gICAgXy5leHRlbmQoY2hpbGQucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgfSAvLyBBZGQgc3RhdGljIHByb3BlcnRpZXMgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLCBpZiBzdXBwbGllZC5cblxuXG4gIGlmIChzdGF0aWNQcm9wcykge1xuICAgIF8uZXh0ZW5kKGNoaWxkLCBzdGF0aWNQcm9wcyk7XG4gIH0gLy8gQ29ycmVjdGx5IHNldCBjaGlsZCdzIGBwcm90b3R5cGUuY29uc3RydWN0b3JgLlxuXG5cbiAgY2hpbGQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY2hpbGQ7IC8vIFNldCBhIGNvbnZlbmllbmNlIHByb3BlcnR5IGluIGNhc2UgdGhlIHBhcmVudCdzIHByb3RvdHlwZSBpc1xuICAvLyBuZWVkZWQgbGF0ZXIuXG5cbiAgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTtcbiAgcmV0dXJuIGNoaWxkO1xufTtcblxudmFyIHBhcnNlRGF0ZSA9IGZ1bmN0aW9uIHBhcnNlRGF0ZShpc284NjAxKSB7XG4gIHJldHVybiBuZXcgRGF0ZShpc284NjAxKTtcbn07XG5cbnZhciBzZXRWYWx1ZSA9IGZ1bmN0aW9uIHNldFZhbHVlKHRhcmdldCwga2V5LCB2YWx1ZSkge1xuICAvLyAnLicgaXMgbm90IGFsbG93ZWQgaW4gQ2xhc3Mga2V5cywgZXNjYXBpbmcgaXMgbm90IGluIGNvbmNlcm4gbm93LlxuICB2YXIgc2VncyA9IGtleS5zcGxpdCgnLicpO1xuICB2YXIgbGFzdFNlZyA9IHNlZ3MucG9wKCk7XG4gIHZhciBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuICBzZWdzLmZvckVhY2goZnVuY3Rpb24gKHNlZykge1xuICAgIGlmIChjdXJyZW50VGFyZ2V0W3NlZ10gPT09IHVuZGVmaW5lZCkgY3VycmVudFRhcmdldFtzZWddID0ge307XG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRbc2VnXTtcbiAgfSk7XG4gIGN1cnJlbnRUYXJnZXRbbGFzdFNlZ10gPSB2YWx1ZTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBmaW5kVmFsdWUgPSBmdW5jdGlvbiBmaW5kVmFsdWUodGFyZ2V0LCBrZXkpIHtcbiAgdmFyIHNlZ3MgPSBrZXkuc3BsaXQoJy4nKTtcbiAgdmFyIGZpcnN0U2VnID0gc2Vnc1swXTtcbiAgdmFyIGxhc3RTZWcgPSBzZWdzLnBvcCgpO1xuICB2YXIgY3VycmVudFRhcmdldCA9IHRhcmdldDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldFtzZWdzW2ldXTtcblxuICAgIGlmIChjdXJyZW50VGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIGxhc3RTZWddO1xuICAgIH1cbiAgfVxuXG4gIHZhciB2YWx1ZSA9IGN1cnJlbnRUYXJnZXRbbGFzdFNlZ107XG4gIHJldHVybiBbdmFsdWUsIGN1cnJlbnRUYXJnZXQsIGxhc3RTZWcsIGZpcnN0U2VnXTtcbn07XG5cbnZhciBpc1BsYWluT2JqZWN0ID0gZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuIF8uaXNPYmplY3Qob2JqKSAmJiAoMCwgX2dldFByb3RvdHlwZU9mLmRlZmF1bHQpKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGU7XG59O1xuXG52YXIgY29udGludWVXaGlsZSA9IGZ1bmN0aW9uIGNvbnRpbnVlV2hpbGUocHJlZGljYXRlLCBhc3luY0Z1bmN0aW9uKSB7XG4gIGlmIChwcmVkaWNhdGUoKSkge1xuICAgIHJldHVybiBhc3luY0Z1bmN0aW9uKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY29udGludWVXaGlsZShwcmVkaWNhdGUsIGFzeW5jRnVuY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBpc051bGxPclVuZGVmaW5lZCxcbiAgZW5zdXJlQXJyYXk6IGVuc3VyZUFycmF5LFxuICB0cmFuc2Zvcm1GZXRjaE9wdGlvbnM6IHRyYW5zZm9ybUZldGNoT3B0aW9ucyxcbiAgZ2V0U2Vzc2lvblRva2VuOiBnZXRTZXNzaW9uVG9rZW4sXG4gIHRhcDogdGFwLFxuICBpbmhlcml0czogaW5oZXJpdHMsXG4gIHBhcnNlRGF0ZTogcGFyc2VEYXRlLFxuICBzZXRWYWx1ZTogc2V0VmFsdWUsXG4gIGZpbmRWYWx1ZTogZmluZFZhbHVlLFxuICBpc1BsYWluT2JqZWN0OiBpc1BsYWluT2JqZWN0LFxuICBjb250aW51ZVdoaWxlOiBjb250aW51ZVdoaWxlXG59O1xuXG4vKioqLyB9KSxcbi8qIDMyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqLyB9KSxcbi8qIDMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4vLyBgVG9PYmplY3RgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b29iamVjdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuICRPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xudmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG52YXIgdG9Qcm9wZXJ0eUtleSA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG52YXIgJGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgRU5VTUVSQUJMRSA9ICdlbnVtZXJhYmxlJztcbnZhciBDT05GSUdVUkFCTEUgPSAnY29uZmlndXJhYmxlJztcbnZhciBXUklUQUJMRSA9ICd3cml0YWJsZSc7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmICh0eXBlb2YgTyA9PT0gJ2Z1bmN0aW9uJyAmJiBQID09PSAncHJvdG90eXBlJyAmJiAndmFsdWUnIGluIEF0dHJpYnV0ZXMgJiYgV1JJVEFCTEUgaW4gQXR0cmlidXRlcyAmJiAhQXR0cmlidXRlc1tXUklUQUJMRV0pIHtcbiAgICB2YXIgY3VycmVudCA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCk7XG4gICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudFtXUklUQUJMRV0pIHtcbiAgICAgIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICAgICAgQXR0cmlidXRlcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBDT05GSUdVUkFCTEUgaW4gQXR0cmlidXRlcyA/IEF0dHJpYnV0ZXNbQ09ORklHVVJBQkxFXSA6IGN1cnJlbnRbQ09ORklHVVJBQkxFXSxcbiAgICAgICAgZW51bWVyYWJsZTogRU5VTUVSQUJMRSBpbiBBdHRyaWJ1dGVzID8gQXR0cmlidXRlc1tFTlVNRVJBQkxFXSA6IGN1cnJlbnRbRU5VTUVSQUJMRV0sXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH0gcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbn0gOiAkZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gJGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93ICRUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIEluZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSW5kZXhlZE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGl0KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTkpO1xuXG4vLyBgTGVuZ3RoT2ZBcnJheUxpa2VgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1sZW5ndGhvZmFycmF5bGlrZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0b0xlbmd0aChvYmoubGVuZ3RoKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblxuLyoqKi8gfSksXG4vKiAzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjI3KTtcblxuLyoqKi8gfSksXG4vKiAzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERFU0NSSVBUT1JTID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHlNb2R1bGUuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoY2xhc3NvZihhcmd1bWVudCkgPT09ICdTeW1ib2wnKSB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nJyk7XG4gIHJldHVybiAkU3RyaW5nKGFyZ3VtZW50KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gaGFzO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdG8gY2hlY2sgd2hldGhlciBga2V5YCBpcyBhbiBvd24gcHJvcGVydHkgbmFtZSBvZiBgb2JqYC5cbmZ1bmN0aW9uIGhhcyhvYmosIGtleSkge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fW1wiaVwiIC8qIGhhc093blByb3BlcnR5ICovXS5jYWxsKG9iaiwga2V5KTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjUpO1xuXG4vKioqLyB9KSxcbi8qIDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzODcpKTtcblxudmFyIF9nZXRQcm90b3R5cGVPZiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMjApKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyoqXG4gKiBAY2xhc3MgQVYuRXJyb3JcbiAqL1xuXG5cbmZ1bmN0aW9uIEFWRXJyb3IoY29kZSwgbWVzc2FnZSkge1xuICBpZiAodGhpcyBpbnN0YW5jZW9mIEFWRXJyb3IgPyB0aGlzLmNvbnN0cnVjdG9yIDogdm9pZCAwKSB7XG4gICAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICgwLCBfc2V0UHJvdG90eXBlT2YuZGVmYXVsdCkoZXJyb3IsICgwLCBfZ2V0UHJvdG90eXBlT2YuZGVmYXVsdCkodGhpcykpO1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIHJldHVybiBuZXcgQVZFcnJvcihjb2RlLCBtZXNzYWdlKTtcbn1cblxuQVZFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3Rvcjoge1xuICAgIHZhbHVlOiBFcnJvcixcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfVxufSk7XG4oMCwgX3NldFByb3RvdHlwZU9mLmRlZmF1bHQpKEFWRXJyb3IsIEVycm9yKTtcblxuXy5leHRlbmQoQVZFcnJvcixcbi8qKiBAbGVuZHMgQVYuRXJyb3IgKi9cbntcbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBzb21lIGVycm9yIG90aGVyIHRoYW4gdGhvc2UgZW51bWVyYXRlZCBoZXJlLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIE9USEVSX0NBVVNFOiAtMSxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgc29tZXRoaW5nIGhhcyBnb25lIHdyb25nIHdpdGggdGhlIHNlcnZlci5cbiAgICogSWYgeW91IGdldCB0aGlzIGVycm9yIGNvZGUsIGl0IGlzIEFWJ3MgZmF1bHQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SOiAxLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIEFWIHNlcnZlcnMgZmFpbGVkLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIENPTk5FQ1RJT05fRkFJTEVEOiAxMDAsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGUgc3BlY2lmaWVkIG9iamVjdCBkb2Vzbid0IGV4aXN0LlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIE9CSkVDVF9OT1RfRk9VTkQ6IDEwMSxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHlvdSB0cmllZCB0byBxdWVyeSB3aXRoIGEgZGF0YXR5cGUgdGhhdCBkb2Vzbid0XG4gICAqIHN1cHBvcnQgaXQsIGxpa2UgZXhhY3QgbWF0Y2hpbmcgYW4gYXJyYXkgb3Igb2JqZWN0LlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOVkFMSURfUVVFUlk6IDEwMixcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIGEgbWlzc2luZyBvciBpbnZhbGlkIGNsYXNzbmFtZS4gQ2xhc3NuYW1lcyBhcmVcbiAgICogY2FzZS1zZW5zaXRpdmUuIFRoZXkgbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyLCBhbmQgYS16QS1aMC05XyBhcmUgdGhlXG4gICAqIG9ubHkgdmFsaWQgY2hhcmFjdGVycy5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBJTlZBTElEX0NMQVNTX05BTUU6IDEwMyxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIGFuIHVuc3BlY2lmaWVkIG9iamVjdCBpZC5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBNSVNTSU5HX09CSkVDVF9JRDogMTA0LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gaW52YWxpZCBrZXkgbmFtZS4gS2V5cyBhcmUgY2FzZS1zZW5zaXRpdmUuIFRoZXlcbiAgICogbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyLCBhbmQgYS16QS1aMC05XyBhcmUgdGhlIG9ubHkgdmFsaWQgY2hhcmFjdGVycy5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBJTlZBTElEX0tFWV9OQU1FOiAxMDUsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhIG1hbGZvcm1lZCBwb2ludGVyLiBZb3Ugc2hvdWxkIG5vdCBzZWUgdGhpcyB1bmxlc3NcbiAgICogeW91IGhhdmUgYmVlbiBtdWNraW5nIGFib3V0IGNoYW5naW5nIGludGVybmFsIEFWIGNvZGUuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgSU5WQUxJRF9QT0lOVEVSOiAxMDYsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGJhZGx5IGZvcm1lZCBKU09OIHdhcyByZWNlaXZlZCB1cHN0cmVhbS4gVGhpc1xuICAgKiBlaXRoZXIgaW5kaWNhdGVzIHlvdSBoYXZlIGRvbmUgc29tZXRoaW5nIHVudXN1YWwgd2l0aCBtb2RpZnlpbmcgaG93XG4gICAqIHRoaW5ncyBlbmNvZGUgdG8gSlNPTiwgb3IgdGhlIG5ldHdvcmsgaXMgZmFpbGluZyBiYWRseS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBJTlZBTElEX0pTT046IDEwNyxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgdGhlIGZlYXR1cmUgeW91IHRyaWVkIHRvIGFjY2VzcyBpcyBvbmx5XG4gICAqIGF2YWlsYWJsZSBpbnRlcm5hbGx5IGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIENPTU1BTkRfVU5BVkFJTEFCTEU6IDEwOCxcblxuICAvKipcbiAgICogWW91IG11c3QgY2FsbCBBVi5pbml0aWFsaXplIGJlZm9yZSB1c2luZyB0aGUgQVYgbGlicmFyeS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBOT1RfSU5JVElBTElaRUQ6IDEwOSxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBmaWVsZCB3YXMgc2V0IHRvIGFuIGluY29uc2lzdGVudCB0eXBlLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOQ09SUkVDVF9UWVBFOiAxMTEsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhbiBpbnZhbGlkIGNoYW5uZWwgbmFtZS4gQSBjaGFubmVsIG5hbWUgaXMgZWl0aGVyXG4gICAqIGFuIGVtcHR5IHN0cmluZyAodGhlIGJyb2FkY2FzdCBjaGFubmVsKSBvciBjb250YWlucyBvbmx5IGEtekEtWjAtOV9cbiAgICogY2hhcmFjdGVycy5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBJTlZBTElEX0NIQU5ORUxfTkFNRTogMTEyLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBwdXNoIGlzIG1pc2NvbmZpZ3VyZWQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgUFVTSF9NSVNDT05GSUdVUkVEOiAxMTUsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSBvYmplY3QgaXMgdG9vIGxhcmdlLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIE9CSkVDVF9UT09fTEFSR0U6IDExNixcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgdGhlIG9wZXJhdGlvbiBpc24ndCBhbGxvd2VkIGZvciBjbGllbnRzLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIE9QRVJBVElPTl9GT1JCSURERU46IDExOSxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoZSByZXN1bHQgd2FzIG5vdCBmb3VuZCBpbiB0aGUgY2FjaGUuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgQ0FDSEVfTUlTUzogMTIwLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhbiBpbnZhbGlkIGtleSB3YXMgdXNlZCBpbiBhIG5lc3RlZFxuICAgKiBKU09OT2JqZWN0LlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOVkFMSURfTkVTVEVEX0tFWTogMTIxLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhbiBpbnZhbGlkIGZpbGVuYW1lIHdhcyB1c2VkIGZvciBBVkZpbGUuXG4gICAqIEEgdmFsaWQgZmlsZSBuYW1lIGNvbnRhaW5zIG9ubHkgYS16QS1aMC05Xy4gY2hhcmFjdGVycyBhbmQgaXMgYmV0d2VlbiAxXG4gICAqIGFuZCAxMjggY2hhcmFjdGVycy5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBJTlZBTElEX0ZJTEVfTkFNRTogMTIyLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gaW52YWxpZCBBQ0wgd2FzIHByb3ZpZGVkLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOVkFMSURfQUNMOiAxMjMsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSByZXF1ZXN0IHRpbWVkIG91dCBvbiB0aGUgc2VydmVyLiBUeXBpY2FsbHlcbiAgICogdGhpcyBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVxdWVzdCBpcyB0b28gZXhwZW5zaXZlIHRvIHJ1bi5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBUSU1FT1VUOiAxMjQsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSBlbWFpbCBhZGRyZXNzIHdhcyBpbnZhbGlkLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOVkFMSURfRU1BSUxfQUREUkVTUzogMTI1LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYSBtaXNzaW5nIGNvbnRlbnQgdHlwZS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBNSVNTSU5HX0NPTlRFTlRfVFlQRTogMTI2LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYSBtaXNzaW5nIGNvbnRlbnQgbGVuZ3RoLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIE1JU1NJTkdfQ09OVEVOVF9MRU5HVEg6IDEyNyxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIGFuIGludmFsaWQgY29udGVudCBsZW5ndGguXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgSU5WQUxJRF9DT05URU5UX0xFTkdUSDogMTI4LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYSBmaWxlIHRoYXQgd2FzIHRvbyBsYXJnZS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBGSUxFX1RPT19MQVJHRTogMTI5LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gZXJyb3Igc2F2aW5nIGEgZmlsZS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBGSUxFX1NBVkVfRVJST1I6IDEzMCxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIGFuIGVycm9yIGRlbGV0aW5nIGEgZmlsZS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBGSUxFX0RFTEVURV9FUlJPUjogMTUzLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhIHVuaXF1ZSBmaWVsZCB3YXMgZ2l2ZW4gYSB2YWx1ZSB0aGF0IGlzXG4gICAqIGFscmVhZHkgdGFrZW4uXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgRFVQTElDQVRFX1ZBTFVFOiAxMzcsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGEgcm9sZSdzIG5hbWUgaXMgaW52YWxpZC5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBJTlZBTElEX1JPTEVfTkFNRTogMTM5LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhbiBhcHBsaWNhdGlvbiBxdW90YSB3YXMgZXhjZWVkZWQuICBVcGdyYWRlIHRvXG4gICAqIHJlc29sdmUuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgRVhDRUVERURfUVVPVEE6IDE0MCxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBDbG91ZCBDb2RlIHNjcmlwdCBmYWlsZWQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgU0NSSVBUX0ZBSUxFRDogMTQxLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhIENsb3VkIENvZGUgdmFsaWRhdGlvbiBmYWlsZWQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgVkFMSURBVElPTl9FUlJPUjogMTQyLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBpbnZhbGlkIGltYWdlIGRhdGEgd2FzIHByb3ZpZGVkLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOVkFMSURfSU1BR0VfREFUQTogMTUwLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gdW5zYXZlZCBmaWxlLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIFVOU0FWRURfRklMRV9FUlJPUjogMTUxLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gaW52YWxpZCBwdXNoIHRpbWUuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgSU5WQUxJRF9QVVNIX1RJTUVfRVJST1I6IDE1MixcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgdGhlIHVzZXJuYW1lIGlzIG1pc3Npbmcgb3IgZW1wdHkuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgVVNFUk5BTUVfTUlTU0lORzogMjAwLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgcGFzc3dvcmQgaXMgbWlzc2luZyBvciBlbXB0eS5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBQQVNTV09SRF9NSVNTSU5HOiAyMDEsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSB1c2VybmFtZSBoYXMgYWxyZWFkeSBiZWVuIHRha2VuLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIFVTRVJOQU1FX1RBS0VOOiAyMDIsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSBlbWFpbCBoYXMgYWxyZWFkeSBiZWVuIHRha2VuLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEVNQUlMX1RBS0VOOiAyMDMsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSBlbWFpbCBpcyBtaXNzaW5nLCBidXQgbXVzdCBiZSBzcGVjaWZpZWQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgRU1BSUxfTUlTU0lORzogMjA0LFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhIHVzZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGVtYWlsIHdhcyBub3QgZm91bmQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgRU1BSUxfTk9UX0ZPVU5EOiAyMDUsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGEgdXNlciBvYmplY3Qgd2l0aG91dCBhIHZhbGlkIHNlc3Npb24gY291bGRcbiAgICogbm90IGJlIGFsdGVyZWQuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgU0VTU0lPTl9NSVNTSU5HOiAyMDYsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGEgdXNlciBjYW4gb25seSBiZSBjcmVhdGVkIHRocm91Z2ggc2lnbnVwLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIE1VU1RfQ1JFQVRFX1VTRVJfVEhST1VHSF9TSUdOVVA6IDIwNyxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYW4gYW4gYWNjb3VudCBiZWluZyBsaW5rZWQgaXMgYWxyZWFkeSBsaW5rZWRcbiAgICogdG8gYW5vdGhlciB1c2VyLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIEFDQ09VTlRfQUxSRUFEWV9MSU5LRUQ6IDIwOCxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSB1c2VyIGNhbm5vdCBiZSBsaW5rZWQgdG8gYW4gYWNjb3VudCBiZWNhdXNlXG4gICAqIHRoYXQgYWNjb3VudCdzIGlkIGNvdWxkIG5vdCBiZSBmb3VuZC5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBMSU5LRURfSURfTUlTU0lORzogMjUwLFxuXG4gIC8qKlxuICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhIHVzZXIgd2l0aCBhIGxpbmtlZCAoZS5nLiBGYWNlYm9vaykgYWNjb3VudFxuICAgKiBoYXMgYW4gaW52YWxpZCBzZXNzaW9uLlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIElOVkFMSURfTElOS0VEX1NFU1NJT046IDI1MSxcblxuICAvKipcbiAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBzZXJ2aWNlIGJlaW5nIGxpbmtlZCAoZS5nLiBGYWNlYm9vayBvclxuICAgKiBUd2l0dGVyKSBpcyB1bnN1cHBvcnRlZC5cbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBVTlNVUFBPUlRFRF9TRVJWSUNFOiAyNTIsXG5cbiAgLyoqXG4gICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhIHJlYWwgZXJyb3IgY29kZSBpcyB1bmF2YWlsYWJsZSBiZWNhdXNlXG4gICAqIHdlIGhhZCB0byB1c2UgYW4gWERvbWFpblJlcXVlc3Qgb2JqZWN0IHRvIGFsbG93IENPUlMgcmVxdWVzdHMgaW5cbiAgICogSW50ZXJuZXQgRXhwbG9yZXIsIHdoaWNoIHN0cmlwcyB0aGUgYm9keSBmcm9tIEhUVFAgcmVzcG9uc2VzIHRoYXQgaGF2ZVxuICAgKiBhIG5vbi0yWFggc3RhdHVzIGNvZGUuXG4gICAqIEBjb25zdGFudFxuICAgKi9cbiAgWF9ET01BSU5fUkVRVUVTVDogNjAyXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBVkVycm9yO1xuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEJ1aWx0SW4oJ25hdmlnYXRvcicsICd1c2VyQWdlbnQnKSB8fCAnJztcblxuXG4vKioqLyB9KSxcbi8qIDQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKi8gfSksXG4vKiA0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGNsYXNzb2ZSYXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIENPUlJFQ1RfQVJHVU1FTlRTID0gY2xhc3NvZlJhdyhmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxufTtcblxuLy8gZ2V0dGluZyB0YWcgZnJvbSBFUzYrIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYFxubW9kdWxlLmV4cG9ydHMgPSBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPyBjbGFzc29mUmF3IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCB0YWcsIHJlc3VsdDtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKHRhZyA9IHRyeUdldChPID0gJE9iamVjdChpdCksIFRPX1NUUklOR19UQUcpKSA9PSAnc3RyaW5nJyA/IHRhZ1xuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQ09SUkVDVF9BUkdVTUVOVFMgPyBjbGFzc29mUmF3KE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKHJlc3VsdCA9IGNsYXNzb2ZSYXcoTykpID09ICdPYmplY3QnICYmIGlzQ2FsbGFibGUoTy5jYWxsZWUpID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbnVtZXJhYmxlKSB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICBlbHNlIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYUNhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gIHZhciByZXNvbHZlLCByZWplY3Q7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uICgkJHJlc29sdmUsICQkcmVqZWN0KSB7XG4gICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ID0gJCRyZWplY3Q7XG4gIH0pO1xuICB0aGlzLnJlc29sdmUgPSBhQ2FsbGFibGUocmVzb2x2ZSk7XG4gIHRoaXMucmVqZWN0ID0gYUNhbGxhYmxlKHJlamVjdCk7XG59O1xuXG4vLyBgTmV3UHJvbWlzZUNhcGFiaWxpdHlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1uZXdwcm9taXNlY2FwYWJpbGl0eVxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIChDKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGlzT2JqZWN0O1xuLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSBhbiBvYmplY3Q/XG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cblxuLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbi8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBgQXJyYXkuaXNBcnJheWAuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcImtcIiAvKiBuYXRpdmVJc0FycmF5ICovXSB8fCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX190YWdUZXN0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJ0FycmF5JykpO1xuXG5cbi8qKiovIH0pLFxuLyogNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGVhY2g7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vcHRpbWl6ZUNiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzQXJyYXlMaWtlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cblxuXG4vLyBUaGUgY29ybmVyc3RvbmUgZm9yIGNvbGxlY3Rpb24gZnVuY3Rpb25zLCBhbiBgZWFjaGBcbi8vIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuLy8gc3BhcnNlIGFycmF5LWxpa2VzIGFzIGlmIHRoZXkgd2VyZSBkZW5zZS5cbmZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICBpdGVyYXRlZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX29wdGltaXplQ2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgaSwgbGVuZ3RoO1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNBcnJheUxpa2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSkge1xuICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgX2tleXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19rZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaik7XG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gX2tleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZXJhdGVlKG9ialtfa2V5c1tpXV0sIF9rZXlzW2ldLCBvYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OCk7XG5cbi8qKiovIH0pLFxuLyogNTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoe30udG9TdHJpbmcpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gc3RyaW5nU2xpY2UodG9TdHJpbmcoaXQpLCA4LCAtMSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZXNsaW50LWRpc2FibGUgZXMteC9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciBWOF9WRVJTSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5tb2R1bGUuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gIC8vIENocm9tZSAzOCBTeW1ib2wgaGFzIGluY29ycmVjdCB0b1N0cmluZyBjb252ZXJzaW9uXG4gIC8vIGBnZXQtb3duLXByb3BlcnR5LXN5bWJvbHNgIHBvbHlmaWxsIHN5bWJvbHMgY29udmVydGVkIHRvIG9iamVjdCBhcmUgbm90IFN5bWJvbCBpbnN0YW5jZXNcbiAgcmV0dXJuICFTdHJpbmcoc3ltYm9sKSB8fCAhKE9iamVjdChzeW1ib2wpIGluc3RhbmNlb2YgU3ltYm9sKSB8fFxuICAgIC8vIENocm9tZSAzOC00MCBzeW1ib2xzIGFyZSBub3QgaW5oZXJpdGVkIGZyb20gRE9NIGNvbGxlY3Rpb25zIHByb3RvdHlwZXMgdG8gaW5zdGFuY2VzXG4gICAgIVN5bWJvbC5zaGFtICYmIFY4X1ZFUlNJT04gJiYgVjhfVkVSU0lPTiA8IDQxO1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiA1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBEZW5vID0gZ2xvYmFsLkRlbm87XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnMgfHwgRGVubyAmJiBEZW5vLnZlcnNpb247XG52YXIgdjggPSB2ZXJzaW9ucyAmJiB2ZXJzaW9ucy52ODtcbnZhciBtYXRjaCwgdmVyc2lvbjtcblxuaWYgKHY4KSB7XG4gIG1hdGNoID0gdjguc3BsaXQoJy4nKTtcbiAgLy8gaW4gb2xkIENocm9tZSwgdmVyc2lvbnMgb2YgVjggaXNuJ3QgVjggPSBDaHJvbWUgLyAxMFxuICAvLyBidXQgdGhlaXIgY29ycmVjdCB2ZXJzaW9ucyBhcmUgbm90IGludGVyZXN0aW5nIGZvciB1c1xuICB2ZXJzaW9uID0gbWF0Y2hbMF0gPiAwICYmIG1hdGNoWzBdIDwgNCA/IDEgOiArKG1hdGNoWzBdICsgbWF0Y2hbMV0pO1xufVxuXG4vLyBCcm93c2VyRlMgTm9kZUpTIGBwcm9jZXNzYCBwb2x5ZmlsbCBpbmNvcnJlY3RseSBzZXQgYC52OGAgdG8gYDAuMGBcbi8vIHNvIGNoZWNrIGB1c2VyQWdlbnRgIGV2ZW4gaWYgYC52OGAgZXhpc3RzLCBidXQgMFxuaWYgKCF2ZXJzaW9uICYmIHVzZXJBZ2VudCkge1xuICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pO1xuICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgIGlmIChtYXRjaCkgdmVyc2lvbiA9ICttYXRjaFsxXTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHZlcnNpb247XG5cblxuLyoqKi8gfSksXG4vKiA1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gJFN0cmluZyhhcmd1bWVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBhQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciBOQVRJVkVfQklORCA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXG52YXIgYmluZCA9IHVuY3VycnlUaGlzKHVuY3VycnlUaGlzLmJpbmQpO1xuXG4vLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0KSB7XG4gIGFDYWxsYWJsZShmbik7XG4gIHJldHVybiB0aGF0ID09PSB1bmRlZmluZWQgPyBmbiA6IE5BVElWRV9CSU5EID8gYmluZChmbiwgdGhhdCkgOiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIGdsb2JhbCBBY3RpdmVYT2JqZWN0IC0tIG9sZCBJRSwgV1NIICovXG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpO1xudmFyIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xudmFyIGhpZGRlbktleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTtcbnZhciBodG1sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblxudmFyIEdUID0gJz4nO1xudmFyIExUID0gJzwnO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIFNDUklQVCA9ICdzY3JpcHQnO1xudmFyIElFX1BST1RPID0gc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xuXG52YXIgRW1wdHlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblxudmFyIHNjcmlwdFRhZyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gIHJldHVybiBMVCArIFNDUklQVCArIEdUICsgY29udGVudCArIExUICsgJy8nICsgU0NSSVBUICsgR1Q7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgQWN0aXZlWCBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVggPSBmdW5jdGlvbiAoYWN0aXZlWERvY3VtZW50KSB7XG4gIGFjdGl2ZVhEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJycpKTtcbiAgYWN0aXZlWERvY3VtZW50LmNsb3NlKCk7XG4gIHZhciB0ZW1wID0gYWN0aXZlWERvY3VtZW50LnBhcmVudFdpbmRvdy5PYmplY3Q7XG4gIGFjdGl2ZVhEb2N1bWVudCA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrXG4gIHJldHVybiB0ZW1wO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUlGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gIHZhciBKUyA9ICdqYXZhJyArIFNDUklQVCArICc6JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgaHRtbC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNDc1XG4gIGlmcmFtZS5zcmMgPSBTdHJpbmcoSlMpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnZG9jdW1lbnQuRj1PYmplY3QnKSk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIHJldHVybiBpZnJhbWVEb2N1bWVudC5GO1xufTtcblxuLy8gQ2hlY2sgZm9yIGRvY3VtZW50LmRvbWFpbiBhbmQgYWN0aXZlIHggc3VwcG9ydFxuLy8gTm8gbmVlZCB0byB1c2UgYWN0aXZlIHggYXBwcm9hY2ggd2hlbiBkb2N1bWVudC5kb21haW4gaXMgbm90IHNldFxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9pc3N1ZXMvMTUwXG4vLyB2YXJpYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL2tpdGNhbWJyaWRnZS9lczUtc2hpbS9jb21taXQvNGY3MzhhYzA2NjM0NlxuLy8gYXZvaWQgSUUgR0MgYnVnXG52YXIgYWN0aXZlWERvY3VtZW50O1xudmFyIE51bGxQcm90b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlICovIH1cbiAgTnVsbFByb3RvT2JqZWN0ID0gdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnXG4gICAgPyBkb2N1bWVudC5kb21haW4gJiYgYWN0aXZlWERvY3VtZW50XG4gICAgICA/IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KSAvLyBvbGQgSUVcbiAgICAgIDogTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lKClcbiAgICA6IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KTsgLy8gV1NIXG4gIHZhciBsZW5ndGggPSBlbnVtQnVnS2V5cy5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkgZGVsZXRlIE51bGxQcm90b09iamVjdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2xlbmd0aF1dO1xuICByZXR1cm4gTnVsbFByb3RvT2JqZWN0KCk7XG59O1xuXG5oaWRkZW5LZXlzW0lFX1BST1RPXSA9IHRydWU7XG5cbi8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWNyZWF0ZSAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHlDb25zdHJ1Y3RvcigpO1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gTnVsbFByb3RvT2JqZWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlLmYocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA2MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCkuZjtcbnZhciBkZWZpbmVJdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU3KTtcbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIEFSUkFZX0lURVJBVE9SID0gJ0FycmF5IEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKEFSUkFZX0lURVJBVE9SKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5lbnRyaWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmVudHJpZXNcbi8vIGBBcnJheS5wcm90b3R5cGUua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5rZXlzXG4vLyBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS52YWx1ZXNcbi8vIGBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEBpdGVyYXRvclxuLy8gYENyZWF0ZUFycmF5SXRlcmF0b3JgIGludGVybmFsIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVhcnJheWl0ZXJhdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZUl0ZXJhdG9yKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogQVJSQVlfSVRFUkFUT1IsXG4gICAgdGFyZ2V0OiB0b0luZGV4ZWRPYmplY3QoaXRlcmF0ZWQpLCAvLyB0YXJnZXRcbiAgICBpbmRleDogMCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgICBraW5kOiBraW5kICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtpbmRcbiAgfSk7XG4vLyBgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICB2YXIgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0O1xuICB2YXIga2luZCA9IHN0YXRlLmtpbmQ7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4Kys7XG4gIGlmICghdGFyZ2V0IHx8IGluZGV4ID49IHRhcmdldC5sZW5ndGgpIHtcbiAgICBzdGF0ZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIHsgdmFsdWU6IGluZGV4LCBkb25lOiBmYWxzZSB9O1xuICBpZiAoa2luZCA9PSAndmFsdWVzJykgcmV0dXJuIHsgdmFsdWU6IHRhcmdldFtpbmRleF0sIGRvbmU6IGZhbHNlIH07XG4gIHJldHVybiB7IHZhbHVlOiBbaW5kZXgsIHRhcmdldFtpbmRleF1dLCBkb25lOiBmYWxzZSB9O1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyVcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRldW5tYXBwZWRhcmd1bWVudHNvYmplY3Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlbWFwcGVkYXJndW1lbnRzb2JqZWN0XG52YXIgdmFsdWVzID0gSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cbi8vIFY4IH4gQ2hyb21lIDQ1LSBidWdcbmlmICghSVNfUFVSRSAmJiBERVNDUklQVE9SUyAmJiB2YWx1ZXMubmFtZSAhPT0gJ3ZhbHVlcycpIHRyeSB7XG4gIGRlZmluZVByb3BlcnR5KHZhbHVlcywgJ25hbWUnLCB7IHZhbHVlOiAndmFsdWVzJyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxuXG4vKioqLyB9KSxcbi8qIDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5mO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xudmFyIGhhc093biA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjYpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgVEFHLCBTVEFUSUMsIFNFVF9NRVRIT0QpIHtcbiAgaWYgKGl0KSB7XG4gICAgdmFyIHRhcmdldCA9IFNUQVRJQyA/IGl0IDogaXQucHJvdG90eXBlO1xuICAgIGlmICghaGFzT3duKHRhcmdldCwgVE9fU1RSSU5HX1RBRykpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwgVE9fU1RSSU5HX1RBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBUQUcgfSk7XG4gICAgfVxuICAgIGlmIChTRVRfTUVUSE9EICYmICFUT19TVFJJTkdfVEFHX1NVUFBPUlQpIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh0YXJnZXQsICd0b1N0cmluZycsIHRvU3RyaW5nKTtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiA2MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuUHJvbWlzZTtcblxuXG4vKioqLyB9KSxcbi8qIDYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNjApO1xudmFyIERPTUl0ZXJhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjg3KTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcblxuZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcykge1xuICB2YXIgQ29sbGVjdGlvbiA9IGdsb2JhbFtDT0xMRUNUSU9OX05BTUVdO1xuICB2YXIgQ29sbGVjdGlvblByb3RvdHlwZSA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlICYmIGNsYXNzb2YoQ29sbGVjdGlvblByb3RvdHlwZSkgIT09IFRPX1NUUklOR19UQUcpIHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgQ09MTEVDVElPTl9OQU1FKTtcbiAgfVxuICBJdGVyYXRvcnNbQ09MTEVDVElPTl9OQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB2YWx1ZXM7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19rZXlzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuXG4vLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG5mdW5jdGlvbiB2YWx1ZXMob2JqKSB7XG4gIHZhciBfa2V5cyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2tleXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZXNbaV0gPSBvYmpbX2tleXNbaV1dO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cblxuLyoqKi8gfSksXG4vKiA2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZmxhdHRlbjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0FycmF5TGlrZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pc0FycmF5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2lzQXJndW1lbnRzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cblxuXG5cblxuLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuZnVuY3Rpb24gZmxhdHRlbihpbnB1dCwgZGVwdGgsIHN0cmljdCwgb3V0cHV0KSB7XG4gIG91dHB1dCA9IG91dHB1dCB8fCBbXTtcbiAgaWYgKCFkZXB0aCAmJiBkZXB0aCAhPT0gMCkge1xuICAgIGRlcHRoID0gSW5maW5pdHk7XG4gIH0gZWxzZSBpZiAoZGVwdGggPD0gMCkge1xuICAgIHJldHVybiBvdXRwdXQuY29uY2F0KGlucHV0KTtcbiAgfVxuICB2YXIgaWR4ID0gb3V0cHV0Lmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgIGlmIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0FycmF5TGlrZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkgJiYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzQXJyYXlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpIHx8IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2lzQXJndW1lbnRzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSkpIHtcbiAgICAgIC8vIEZsYXR0ZW4gY3VycmVudCBsZXZlbCBvZiBhcnJheSBvciBhcmd1bWVudHMgb2JqZWN0LlxuICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICBmbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHN0cmljdCwgb3V0cHV0KTtcbiAgICAgICAgaWR4ID0gb3V0cHV0Lmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBqID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaiA8IGxlbikgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghc3RyaWN0KSB7XG4gICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuLyoqKi8gfSksXG4vKiA2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gbWFwO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNBcnJheUxpa2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fa2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cblxuXG5cbi8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50LlxuZnVuY3Rpb24gbWFwKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgaXRlcmF0ZWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9ICFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0FycmF5TGlrZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2tleXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSxcbiAgICAgIGxlbmd0aCA9IChfa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSk7XG5cbnZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMTcpKTtcblxudmFyIF9zdHJpbmdpZnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzcpKTtcblxudmFyIF9pbmRleE9mID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSk7XG5cbnZhciBfa2V5czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTMpKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdXVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjE5KTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLFxuICAgIGluaGVyaXRzID0gX3JlcXVpcmUuaW5oZXJpdHMsXG4gICAgcGFyc2VEYXRlID0gX3JlcXVpcmUucGFyc2VEYXRlO1xuXG52YXIgdmVyc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjIyKTtcblxudmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzApLFxuICAgIHNldEFkYXB0ZXJzID0gX3JlcXVpcmUyLnNldEFkYXB0ZXJzLFxuICAgIGFkYXB0ZXJNYW5hZ2VyID0gX3JlcXVpcmUyLmFkYXB0ZXJNYW5hZ2VyO1xuXG52YXIgQVYgPSBnbG9iYWwuQVYgfHwge307IC8vIEFsbCBpbnRlcm5hbCBjb25maWd1cmF0aW9uIGl0ZW1zXG5cbkFWLl9jb25maWcgPSB7XG4gIHNlcnZlclVSTHM6IHt9LFxuICB1c2VNYXN0ZXJLZXk6IGZhbHNlLFxuICBwcm9kdWN0aW9uOiBudWxsLFxuICByZWFsdGltZTogbnVsbCxcbiAgcmVxdWVzdFRpbWVvdXQ6IG51bGxcbn07XG52YXIgaW5pdGlhbFVzZXJBZ2VudCA9IFwiTGVhbkNsb3VkLUpTLVNESy9cIi5jb25jYXQodmVyc2lvbik7IC8vIGNvbmZpZ3Mgc2hhcmVkIGJ5IGFsbCBBViBpbnN0YW5jZXNcblxuQVYuX3NoYXJlZENvbmZpZyA9IHtcbiAgdXNlckFnZW50OiBpbml0aWFsVXNlckFnZW50LFxuICBsaXZlUXVlcnlSZWFsdGltZTogbnVsbFxufTtcbmFkYXB0ZXJNYW5hZ2VyLm9uKCdwbGF0Zm9ybUluZm8nLCBmdW5jdGlvbiAocGxhdGZvcm1JbmZvKSB7XG4gIHZhciB1YSA9IGluaXRpYWxVc2VyQWdlbnQ7XG5cbiAgaWYgKHBsYXRmb3JtSW5mbykge1xuICAgIGlmIChwbGF0Zm9ybUluZm8udXNlckFnZW50KSB7XG4gICAgICB1YSA9IHBsYXRmb3JtSW5mby51c2VyQWdlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb21tZW50cyA9IHBsYXRmb3JtSW5mby5uYW1lO1xuXG4gICAgICBpZiAocGxhdGZvcm1JbmZvLnZlcnNpb24pIHtcbiAgICAgICAgY29tbWVudHMgKz0gXCIvXCIuY29uY2F0KHBsYXRmb3JtSW5mby52ZXJzaW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBsYXRmb3JtSW5mby5leHRyYSkge1xuICAgICAgICBjb21tZW50cyArPSBcIjsgXCIuY29uY2F0KHBsYXRmb3JtSW5mby5leHRyYSk7XG4gICAgICB9XG5cbiAgICAgIHVhICs9IFwiIChcIi5jb25jYXQoY29tbWVudHMsIFwiKVwiKTtcbiAgICB9XG4gIH1cblxuICBBVi5fc2hhcmVkQ29uZmlnLnVzZXJBZ2VudCA9IHVhO1xufSk7XG4vKipcbiAqIENvbnRhaW5zIGFsbCBBViBBUEkgY2xhc3NlcyBhbmQgZnVuY3Rpb25zLlxuICogQG5hbWVzcGFjZSBBVlxuICovXG5cbi8qKlxuICogUmV0dXJucyBwcmVmaXggZm9yIGxvY2FsU3RvcmFnZSBrZXlzIHVzZWQgYnkgdGhpcyBpbnN0YW5jZSBvZiBBVi5cbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFRoZSByZWxhdGl2ZSBzdWZmaXggdG8gYXBwZW5kIHRvIGl0LlxuICogICAgIG51bGwgb3IgdW5kZWZpbmVkIGlzIHRyZWF0ZWQgYXMgdGhlIGVtcHR5IHN0cmluZy5cbiAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGZ1bGwga2V5IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5cbkFWLl9nZXRBVlBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xuICBpZiAoIUFWLmFwcGxpY2F0aW9uSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBuZWVkIHRvIGNhbGwgQVYuaW5pdGlhbGl6ZSBiZWZvcmUgdXNpbmcgQVYuJyk7XG4gIH1cblxuICBpZiAoIXBhdGgpIHtcbiAgICBwYXRoID0gJyc7XG4gIH1cblxuICBpZiAoIV8uaXNTdHJpbmcocGF0aCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byBnZXQgYSBsb2NhbFN0b3JhZ2UgcGF0aCB0aGF0IHdhc24ndCBhIFN0cmluZy5cIik7XG4gIH1cblxuICBpZiAocGF0aFswXSA9PT0gJy8nKSB7XG4gICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgcmV0dXJuICdBVi8nICsgQVYuYXBwbGljYXRpb25JZCArICcvJyArIHBhdGg7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB1bmlxdWUgc3RyaW5nIGZvciB0aGlzIGFwcCBvbiB0aGlzIG1hY2hpbmUuXG4gKiBHZXRzIHJlc2V0IHdoZW4gbG9jYWxTdG9yYWdlIGlzIGNsZWFyZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQVYuX2luc3RhbGxhdGlvbklkID0gbnVsbDtcblxuQVYuX2dldEluc3RhbGxhdGlvbklkID0gZnVuY3Rpb24gKCkge1xuICAvLyBTZWUgaWYgaXQncyBjYWNoZWQgaW4gUkFNLlxuICBpZiAoQVYuX2luc3RhbGxhdGlvbklkKSB7XG4gICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZShBVi5faW5zdGFsbGF0aW9uSWQpO1xuICB9IC8vIFRyeSB0byBnZXQgaXQgZnJvbSBsb2NhbFN0b3JhZ2UuXG5cblxuICB2YXIgcGF0aCA9IEFWLl9nZXRBVlBhdGgoJ2luc3RhbGxhdGlvbklkJyk7XG5cbiAgcmV0dXJuIEFWLmxvY2FsU3RvcmFnZS5nZXRJdGVtQXN5bmMocGF0aCkudGhlbihmdW5jdGlvbiAoX2luc3RhbGxhdGlvbklkKSB7XG4gICAgQVYuX2luc3RhbGxhdGlvbklkID0gX2luc3RhbGxhdGlvbklkO1xuXG4gICAgaWYgKCFBVi5faW5zdGFsbGF0aW9uSWQpIHtcbiAgICAgIC8vIEl0IHdhc24ndCBpbiBsb2NhbFN0b3JhZ2UsIHNvIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICBBVi5faW5zdGFsbGF0aW9uSWQgPSBfaW5zdGFsbGF0aW9uSWQgPSB1dWlkKCk7XG4gICAgICByZXR1cm4gQVYubG9jYWxTdG9yYWdlLnNldEl0ZW1Bc3luYyhwYXRoLCBfaW5zdGFsbGF0aW9uSWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2luc3RhbGxhdGlvbklkO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9pbnN0YWxsYXRpb25JZDtcbiAgfSk7XG59O1xuXG5BVi5fc3Vic2NyaXB0aW9uSWQgPSBudWxsO1xuXG5BVi5fcmVmcmVzaFN1YnNjcmlwdGlvbklkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogQVYuX2dldEFWUGF0aCgnc3Vic2NyaXB0aW9uSWQnKTtcbiAgdmFyIHN1YnNjcmlwdGlvbklkID0gQVYuX3N1YnNjcmlwdGlvbklkID0gdXVpZCgpO1xuICByZXR1cm4gQVYubG9jYWxTdG9yYWdlLnNldEl0ZW1Bc3luYyhwYXRoLCBzdWJzY3JpcHRpb25JZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbklkO1xuICB9KTtcbn07XG5cbkFWLl9nZXRTdWJzY3JpcHRpb25JZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gU2VlIGlmIGl0J3MgY2FjaGVkIGluIFJBTS5cbiAgaWYgKEFWLl9zdWJzY3JpcHRpb25JZCkge1xuICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoQVYuX3N1YnNjcmlwdGlvbklkKTtcbiAgfSAvLyBUcnkgdG8gZ2V0IGl0IGZyb20gbG9jYWxTdG9yYWdlLlxuXG5cbiAgdmFyIHBhdGggPSBBVi5fZ2V0QVZQYXRoKCdzdWJzY3JpcHRpb25JZCcpO1xuXG4gIHJldHVybiBBVi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbUFzeW5jKHBhdGgpLnRoZW4oZnVuY3Rpb24gKF9zdWJzY3JpcHRpb25JZCkge1xuICAgIEFWLl9zdWJzY3JpcHRpb25JZCA9IF9zdWJzY3JpcHRpb25JZDtcblxuICAgIGlmICghQVYuX3N1YnNjcmlwdGlvbklkKSB7XG4gICAgICAvLyBJdCB3YXNuJ3QgaW4gbG9jYWxTdG9yYWdlLCBzbyBjcmVhdGUgYSBuZXcgb25lLlxuICAgICAgX3N1YnNjcmlwdGlvbklkID0gQVYuX3JlZnJlc2hTdWJzY3JpcHRpb25JZChwYXRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3N1YnNjcmlwdGlvbklkO1xuICB9KTtcbn07XG5cbkFWLl9wYXJzZURhdGUgPSBwYXJzZURhdGU7IC8vIEEgc2VsZi1wcm9wYWdhdGluZyBleHRlbmQgZnVuY3Rpb24uXG5cbkFWLl9leHRlbmQgPSBmdW5jdGlvbiAocHJvdG9Qcm9wcywgY2xhc3NQcm9wcykge1xuICB2YXIgY2hpbGQgPSBpbmhlcml0cyh0aGlzLCBwcm90b1Byb3BzLCBjbGFzc1Byb3BzKTtcbiAgY2hpbGQuZXh0ZW5kID0gdGhpcy5leHRlbmQ7XG4gIHJldHVybiBjaGlsZDtcbn07XG4vKipcbiAqIENvbnZlcnRzIGEgdmFsdWUgaW4gYSBBViBPYmplY3QgaW50byB0aGUgYXBwcm9wcmlhdGUgcmVwcmVzZW50YXRpb24uXG4gKiBUaGlzIGlzIHRoZSBKUyBlcXVpdmFsZW50IG9mIEphdmEncyBBVi5tYXliZVJlZmVyZW5jZUFuZEVuY29kZShPYmplY3QpXG4gKiBpZiBzZWVuT2JqZWN0cyBpcyBmYWxzZXkuIE90aGVyd2lzZSBhbnkgQVYuT2JqZWN0cyBub3QgaW5cbiAqIHNlZW5PYmplY3RzIHdpbGwgYmUgZnVsbHkgZW1iZWRkZWQgcmF0aGVyIHRoYW4gZW5jb2RlZFxuICogYXMgYSBwb2ludGVyLiAgVGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgdG8gcHJldmVudCBnb2luZyBpbnRvIGFuIGluZmluaXRlXG4gKiBsb29wIGJlY2F1c2Ugd2UgaGF2ZSBjaXJjdWxhciByZWZlcmVuY2VzLiAgSWYgPHNlZW5PYmplY3RzPlxuICogaXMgc2V0LCB0aGVuIG5vbmUgb2YgdGhlIEFWIE9iamVjdHMgdGhhdCBhcmUgc2VyaWFsaXplZCBjYW4gYmUgZGlydHkuXG4gKiBAcHJpdmF0ZVxuICovXG5cblxuQVYuX2VuY29kZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2Vlbk9iamVjdHMsIGRpc2FsbG93T2JqZWN0cykge1xuICB2YXIgZnVsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTtcblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICBpZiAoZGlzYWxsb3dPYmplY3RzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLk9iamVjdHMgbm90IGFsbG93ZWQgaGVyZScpO1xuICAgIH1cblxuICAgIGlmICghc2Vlbk9iamVjdHMgfHwgXy5pbmNsdWRlKHNlZW5PYmplY3RzLCB2YWx1ZSkgfHwgIXZhbHVlLl9oYXNEYXRhKSB7XG4gICAgICByZXR1cm4gdmFsdWUuX3RvUG9pbnRlcigpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5fdG9GdWxsSlNPTigoMCwgX2NvbmNhdC5kZWZhdWx0KShzZWVuT2JqZWN0cykuY2FsbChzZWVuT2JqZWN0cywgdmFsdWUpLCBmdWxsKTtcbiAgfVxuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLkFDTCkge1xuICAgIHJldHVybiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuXG4gIGlmIChfLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnVsbCA/IHtcbiAgICAgIF9fdHlwZTogJ0RhdGUnLFxuICAgICAgaXNvOiB2YWx1ZS50b0pTT04oKVxuICAgIH0gOiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLkdlb1BvaW50KSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvSlNPTigpO1xuICB9XG5cbiAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCB2YWx1ZSwgZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBBVi5fZW5jb2RlKHgsIHNlZW5PYmplY3RzLCBkaXNhbGxvd09iamVjdHMsIGZ1bGwpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKF8uaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNvdXJjZTtcbiAgfVxuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLlJlbGF0aW9uKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvSlNPTigpO1xuICB9XG5cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQVYuT3ApIHtcbiAgICByZXR1cm4gdmFsdWUudG9KU09OKCk7XG4gIH1cblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5GaWxlKSB7XG4gICAgaWYgKCF2YWx1ZS51cmwoKSAmJiAhdmFsdWUuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZWQgdG8gc2F2ZSBhbiBvYmplY3QgY29udGFpbmluZyBhbiB1bnNhdmVkIGZpbGUuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlLl90b0Z1bGxKU09OKHNlZW5PYmplY3RzLCBmdWxsKTtcbiAgfVxuXG4gIGlmIChfLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBfLm1hcE9iamVjdCh2YWx1ZSwgZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgIHJldHVybiBBVi5fZW5jb2RlKHYsIHNlZW5PYmplY3RzLCBkaXNhbGxvd09iamVjdHMsIGZ1bGwpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufTtcbi8qKlxuICogVGhlIGludmVyc2UgZnVuY3Rpb24gb2YgQVYuX2VuY29kZS5cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5BVi5fZGVjb2RlID0gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgaWYgKCFfLmlzT2JqZWN0KHZhbHVlKSB8fCBfLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIHZhbHVlLCBmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIEFWLl9kZWNvZGUodik7XG4gICAgfSk7XG4gIH1cblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5GaWxlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQVYuT3ApIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5HZW9Qb2ludCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLkFDTCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmIChrZXkgPT09ICdBQ0wnKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5BQ0wodmFsdWUpO1xuICB9XG5cbiAgaWYgKHZhbHVlLl9fb3ApIHtcbiAgICByZXR1cm4gQVYuT3AuX2RlY29kZSh2YWx1ZSk7XG4gIH1cblxuICB2YXIgY2xhc3NOYW1lO1xuXG4gIGlmICh2YWx1ZS5fX3R5cGUgPT09ICdQb2ludGVyJykge1xuICAgIGNsYXNzTmFtZSA9IHZhbHVlLmNsYXNzTmFtZTtcblxuICAgIHZhciBwb2ludGVyID0gQVYuT2JqZWN0Ll9jcmVhdGUoY2xhc3NOYW1lKTtcblxuICAgIGlmICgoMCwgX2tleXMuZGVmYXVsdCkodmFsdWUpLmxlbmd0aCA+IDMpIHtcbiAgICAgIHZhciB2ID0gXy5jbG9uZSh2YWx1ZSk7XG5cbiAgICAgIGRlbGV0ZSB2Ll9fdHlwZTtcbiAgICAgIGRlbGV0ZSB2LmNsYXNzTmFtZTtcblxuICAgICAgcG9pbnRlci5fZmluaXNoRmV0Y2godiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXIuX2ZpbmlzaEZldGNoKHtcbiAgICAgICAgb2JqZWN0SWQ6IHZhbHVlLm9iamVjdElkXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50ZXI7XG4gIH1cblxuICBpZiAodmFsdWUuX190eXBlID09PSAnT2JqZWN0Jykge1xuICAgIC8vIEl0J3MgYW4gT2JqZWN0IGluY2x1ZGVkIGluIGEgcXVlcnkgcmVzdWx0LlxuICAgIGNsYXNzTmFtZSA9IHZhbHVlLmNsYXNzTmFtZTtcblxuICAgIHZhciBfdiA9IF8uY2xvbmUodmFsdWUpO1xuXG4gICAgZGVsZXRlIF92Ll9fdHlwZTtcbiAgICBkZWxldGUgX3YuY2xhc3NOYW1lO1xuXG4gICAgdmFyIG9iamVjdCA9IEFWLk9iamVjdC5fY3JlYXRlKGNsYXNzTmFtZSk7XG5cbiAgICBvYmplY3QuX2ZpbmlzaEZldGNoKF92LCB0cnVlKTtcblxuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBpZiAodmFsdWUuX190eXBlID09PSAnRGF0ZScpIHtcbiAgICByZXR1cm4gQVYuX3BhcnNlRGF0ZSh2YWx1ZS5pc28pO1xuICB9XG5cbiAgaWYgKHZhbHVlLl9fdHlwZSA9PT0gJ0dlb1BvaW50Jykge1xuICAgIHJldHVybiBuZXcgQVYuR2VvUG9pbnQoe1xuICAgICAgbGF0aXR1ZGU6IHZhbHVlLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiB2YWx1ZS5sb25naXR1ZGVcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh2YWx1ZS5fX3R5cGUgPT09ICdSZWxhdGlvbicpIHtcbiAgICBpZiAoIWtleSkgdGhyb3cgbmV3IEVycm9yKCdrZXkgbWlzc2luZyBkZWNvZGluZyBhIFJlbGF0aW9uJyk7XG4gICAgdmFyIHJlbGF0aW9uID0gbmV3IEFWLlJlbGF0aW9uKG51bGwsIGtleSk7XG4gICAgcmVsYXRpb24udGFyZ2V0Q2xhc3NOYW1lID0gdmFsdWUuY2xhc3NOYW1lO1xuICAgIHJldHVybiByZWxhdGlvbjtcbiAgfVxuXG4gIGlmICh2YWx1ZS5fX3R5cGUgPT09ICdGaWxlJykge1xuICAgIHZhciBmaWxlID0gbmV3IEFWLkZpbGUodmFsdWUubmFtZSk7XG5cbiAgICB2YXIgX3YyID0gXy5jbG9uZSh2YWx1ZSk7XG5cbiAgICBkZWxldGUgX3YyLl9fdHlwZTtcblxuICAgIGZpbGUuX2ZpbmlzaEZldGNoKF92Mik7XG5cbiAgICByZXR1cm4gZmlsZTtcbiAgfVxuXG4gIHJldHVybiBfLm1hcE9iamVjdCh2YWx1ZSwgQVYuX2RlY29kZSk7XG59O1xuLyoqXG4gKiBUaGUgaW52ZXJzZSBmdW5jdGlvbiBvZiB7QGxpbmsgQVYuT2JqZWN0I3RvRnVsbEpTT059LlxuICogQHNpbmNlIDMuMC4wXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIHJldHVybiB7QVYuT2JqZWN0fEFWLkZpbGV8YW55fVxuICovXG5cblxuQVYucGFyc2VKU09OID0gQVYuX2RlY29kZTtcbi8qKlxuICogU2ltaWxhciB0byBKU09OLnBhcnNlLCBleGNlcHQgdGhhdCBBViBpbnRlcm5hbCB0eXBlcyB3aWxsIGJlIHVzZWQgaWYgcG9zc2libGUuXG4gKiBJbnZlcnNlIHRvIHtAbGluayBBVi5zdHJpbmdpZnl9XG4gKiBAc2luY2UgMy4xNC4wXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCB0aGUgc3RyaW5nIHRvIHBhcnNlLlxuICogQHJldHVybiB7QVYuT2JqZWN0fEFWLkZpbGV8YW55fVxuICovXG5cbkFWLnBhcnNlID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgcmV0dXJuIEFWLnBhcnNlSlNPTihKU09OLnBhcnNlKHRleHQpKTtcbn07XG4vKipcbiAqIFNlcmlhbGl6ZSBhIHRhcmdldCBjb250YWluaW5nIEFWLk9iamVjdCwgc2ltaWxhciB0byBKU09OLnN0cmluZ2lmeS5cbiAqIEludmVyc2UgdG8ge0BsaW5rIEFWLnBhcnNlfVxuICogQHNpbmNlIDMuMTQuMFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cblxuQVYuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkoQVYuX2VuY29kZSh0YXJnZXQsIFtdLCBmYWxzZSwgdHJ1ZSkpO1xufTtcblxuQVYuX2VuY29kZU9iamVjdE9yQXJyYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIGVuY29kZUFWT2JqZWN0ID0gZnVuY3Rpb24gZW5jb2RlQVZPYmplY3Qob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCAmJiBvYmplY3QuX3RvRnVsbEpTT04pIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdC5fdG9GdWxsSlNPTihbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF8ubWFwT2JqZWN0KG9iamVjdCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gQVYuX2VuY29kZSh2YWx1ZSwgW10pO1xuICAgIH0pO1xuICB9O1xuXG4gIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuICgwLCBfbWFwLmRlZmF1bHQpKHZhbHVlKS5jYWxsKHZhbHVlLCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICByZXR1cm4gZW5jb2RlQVZPYmplY3Qob2JqZWN0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZW5jb2RlQVZPYmplY3QodmFsdWUpO1xuICB9XG59O1xuXG5BVi5fYXJyYXlFYWNoID0gXy5lYWNoO1xuLyoqXG4gKiBEb2VzIGEgZGVlcCB0cmF2ZXJzYWwgb2YgZXZlcnkgaXRlbSBpbiBvYmplY3QsIGNhbGxpbmcgZnVuYyBvbiBldmVyeSBvbmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gdHJhdmVyc2UgZGVlcGx5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZXZlcnkgaXRlbS4gSXQgd2lsbFxuICogICAgIGJlIHBhc3NlZCB0aGUgaXRlbSBhcyBhbiBhcmd1bWVudC4gSWYgaXQgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhhdFxuICogICAgIHZhbHVlIHdpbGwgcmVwbGFjZSB0aGUgaXRlbSBpbiBpdHMgcGFyZW50IGNvbnRhaW5lci5cbiAqIEByZXR1cm5zIHt9IHRoZSByZXN1bHQgb2YgY2FsbGluZyBmdW5jIG9uIHRoZSB0b3AtbGV2ZWwgb2JqZWN0IGl0c2VsZi5cbiAqIEBwcml2YXRlXG4gKi9cblxuQVYuX3RyYXZlcnNlID0gZnVuY3Rpb24gKG9iamVjdCwgZnVuYywgc2Vlbikge1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuT2JqZWN0KSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgW107XG5cbiAgICBpZiAoKDAsIF9pbmRleE9mLmRlZmF1bHQpKF8pLmNhbGwoXywgc2Vlbiwgb2JqZWN0KSA+PSAwKSB7XG4gICAgICAvLyBXZSd2ZSBhbHJlYWR5IHZpc2l0ZWQgdGhpcyBvYmplY3QgaW4gdGhpcyBjYWxsLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlZW4ucHVzaChvYmplY3QpO1xuXG4gICAgQVYuX3RyYXZlcnNlKG9iamVjdC5hdHRyaWJ1dGVzLCBmdW5jLCBzZWVuKTtcblxuICAgIHJldHVybiBmdW5jKG9iamVjdCk7XG4gIH1cblxuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuUmVsYXRpb24gfHwgb2JqZWN0IGluc3RhbmNlb2YgQVYuRmlsZSkge1xuICAgIC8vIE5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZSwgYnV0IHdlIGRvbid0IHdhbnQgdG8gcmVjdXJzZSBpbnRvIHRoZVxuICAgIC8vIG9iamVjdCdzIHBhcmVudCBpbmZpbml0ZWx5LCBzbyB3ZSBjYXRjaCB0aGlzIGNhc2UuXG4gICAgcmV0dXJuIGZ1bmMob2JqZWN0KTtcbiAgfVxuXG4gIGlmIChfLmlzQXJyYXkob2JqZWN0KSkge1xuICAgIF8uZWFjaChvYmplY3QsIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgIHZhciBuZXdDaGlsZCA9IEFWLl90cmF2ZXJzZShjaGlsZCwgZnVuYywgc2Vlbik7XG5cbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICBvYmplY3RbaW5kZXhdID0gbmV3Q2hpbGQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVuYyhvYmplY3QpO1xuICB9XG5cbiAgaWYgKF8uaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIEFWLl9lYWNoKG9iamVjdCwgZnVuY3Rpb24gKGNoaWxkLCBrZXkpIHtcbiAgICAgIHZhciBuZXdDaGlsZCA9IEFWLl90cmF2ZXJzZShjaGlsZCwgZnVuYywgc2Vlbik7XG5cbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICBvYmplY3Rba2V5XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZ1bmMob2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jKG9iamVjdCk7XG59O1xuLyoqXG4gKiBUaGlzIGlzIGxpa2UgXy5lYWNoLCBleGNlcHQ6XG4gKiAqIGl0IGRvZXNuJ3Qgd29yayBmb3Igc28tY2FsbGVkIGFycmF5LWxpa2Ugb2JqZWN0cyxcbiAqICogaXQgZG9lcyB3b3JrIGZvciBkaWN0aW9uYXJpZXMgd2l0aCBhIFwibGVuZ3RoXCIgYXR0cmlidXRlLlxuICogQHByaXZhdGVcbiAqL1xuXG5cbkFWLl9vYmplY3RFYWNoID0gQVYuX2VhY2ggPSBmdW5jdGlvbiAob2JqLCBjYWxsYmFjaykge1xuICBpZiAoXy5pc09iamVjdChvYmopKSB7XG4gICAgXy5lYWNoKCgwLCBfa2V5czIuZGVmYXVsdCkoXykuY2FsbChfLCBvYmopLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBjYWxsYmFjayhvYmpba2V5XSwga2V5KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBfLmVhY2gob2JqLCBjYWxsYmFjayk7XG4gIH1cbn07XG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqIEBzaW5jZSAzLjE0LjBcbiAqL1xuXG5cbkFWLmRlYnVnID0ge1xuICAvKipcbiAgICogRW5hYmxlIGRlYnVnXG4gICAqL1xuICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICB2YXIgbmFtZXNwYWNlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2xlYW5jbG91ZConO1xuICAgIHJldHVybiBkZWJ1Zy5lbmFibGUobmFtZXNwYWNlcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpc2FibGUgZGVidWdcbiAgICovXG4gIGRpc2FibGU6IGRlYnVnLmRpc2FibGVcbn07XG4vKipcbiAqIFNwZWNpZnkgQWRhcHRlcnNcbiAqIEBzaW5jZSA0LjQuMFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0FkYXB0ZXJzfSBuZXdBZGFwdGVycyBTZWUge0BsaW5rIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vYWRhcHRlci10eXBlLWRlZmluaXRpb25zIEBsZWFuY2xvdWQvYWRhcHRlci10eXBlc30gZm9yIGRldGFpbGVkIGRlZmluaXRpb25zLlxuICovXG5cbkFWLnNldEFkYXB0ZXJzID0gc2V0QWRhcHRlcnM7XG5tb2R1bGUuZXhwb3J0cyA9IEFWO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTA4KSkpXG5cbi8qKiovIH0pLFxuLyogNjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3NCk7XG5cbi8qKiovIH0pLFxuLyogNjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFsnIzAwMDBDQycsICcjMDAwMEZGJywgJyMwMDMzQ0MnLCAnIzAwMzNGRicsICcjMDA2NkNDJywgJyMwMDY2RkYnLCAnIzAwOTlDQycsICcjMDA5OUZGJywgJyMwMENDMDAnLCAnIzAwQ0MzMycsICcjMDBDQzY2JywgJyMwMENDOTknLCAnIzAwQ0NDQycsICcjMDBDQ0ZGJywgJyMzMzAwQ0MnLCAnIzMzMDBGRicsICcjMzMzM0NDJywgJyMzMzMzRkYnLCAnIzMzNjZDQycsICcjMzM2NkZGJywgJyMzMzk5Q0MnLCAnIzMzOTlGRicsICcjMzNDQzAwJywgJyMzM0NDMzMnLCAnIzMzQ0M2NicsICcjMzNDQzk5JywgJyMzM0NDQ0MnLCAnIzMzQ0NGRicsICcjNjYwMENDJywgJyM2NjAwRkYnLCAnIzY2MzNDQycsICcjNjYzM0ZGJywgJyM2NkNDMDAnLCAnIzY2Q0MzMycsICcjOTkwMENDJywgJyM5OTAwRkYnLCAnIzk5MzNDQycsICcjOTkzM0ZGJywgJyM5OUNDMDAnLCAnIzk5Q0MzMycsICcjQ0MwMDAwJywgJyNDQzAwMzMnLCAnI0NDMDA2NicsICcjQ0MwMDk5JywgJyNDQzAwQ0MnLCAnI0NDMDBGRicsICcjQ0MzMzAwJywgJyNDQzMzMzMnLCAnI0NDMzM2NicsICcjQ0MzMzk5JywgJyNDQzMzQ0MnLCAnI0NDMzNGRicsICcjQ0M2NjAwJywgJyNDQzY2MzMnLCAnI0NDOTkwMCcsICcjQ0M5OTMzJywgJyNDQ0NDMDAnLCAnI0NDQ0MzMycsICcjRkYwMDAwJywgJyNGRjAwMzMnLCAnI0ZGMDA2NicsICcjRkYwMDk5JywgJyNGRjAwQ0MnLCAnI0ZGMDBGRicsICcjRkYzMzAwJywgJyNGRjMzMzMnLCAnI0ZGMzM2NicsICcjRkYzMzk5JywgJyNGRjMzQ0MnLCAnI0ZGMzNGRicsICcjRkY2NjAwJywgJyNGRjY2MzMnLCAnI0ZGOTkwMCcsICcjRkY5OTMzJywgJyNGRkNDMDAnLCAnI0ZGQ0MzMyddO1xuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cblxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblxuXG4gIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UgfHwgLy8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCB3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpIHx8IC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSB8fCAvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pO1xufVxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICBhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArIHRoaXMubmFtZXNwYWNlICsgKHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICsgYXJnc1swXSArICh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArICcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF0aGlzLnVzZUNvbG9ycykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7IC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIGlmIChtYXRjaCA9PT0gJyUlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluZGV4Kys7XG5cbiAgICBpZiAobWF0Y2ggPT09ICclYycpIHtcbiAgICAgIC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgdmFyIF9jb25zb2xlO1xuXG4gIC8vIFRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAodHlwZW9mIGNvbnNvbGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihjb25zb2xlKSkgPT09ICdvYmplY3QnICYmIGNvbnNvbGUubG9nICYmIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgYXJndW1lbnRzKTtcbn1cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvd1xuICAgIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICB9XG59XG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG5cbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7fSAvLyBTd2FsbG93XG4gIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cblxuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgLy8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuICAgIC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTd2FsbG93XG4gICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4MykoZXhwb3J0cyk7XG52YXIgZm9ybWF0dGVycyA9IG1vZHVsZS5leHBvcnRzLmZvcm1hdHRlcnM7XG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgfVxufTtcblxuXG5cbi8qKiovIH0pLFxuLyogNzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2tleXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTMpKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjMpO1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxcbiAgICBpbmhlcml0cyA9IF9yZXF1aXJlLmluaGVyaXRzO1xuXG52YXIgQWRhcHRlck1hbmFnZXIgPSBpbmhlcml0cyhFdmVudEVtaXR0ZXIsIHtcbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIGNvbnN0cnVjdG9yKCkge1xuICAgIEV2ZW50RW1pdHRlci5hcHBseSh0aGlzKTtcbiAgICB0aGlzLl9hZGFwdGVycyA9IHt9O1xuICB9LFxuICBnZXRBZGFwdGVyOiBmdW5jdGlvbiBnZXRBZGFwdGVyKG5hbWUpIHtcbiAgICB2YXIgYWRhcHRlciA9IHRoaXMuX2FkYXB0ZXJzW25hbWVdO1xuXG4gICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG5hbWUsIFwiIGFkYXB0ZXIgaXMgbm90IGNvbmZpZ3VyZWRcIikpO1xuICAgIH1cblxuICAgIHJldHVybiBhZGFwdGVyO1xuICB9LFxuICBzZXRBZGFwdGVyczogZnVuY3Rpb24gc2V0QWRhcHRlcnMobmV3QWRhcHRlcnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgXy5leHRlbmQodGhpcy5fYWRhcHRlcnMsIG5ld0FkYXB0ZXJzKTtcblxuICAgICgwLCBfa2V5cy5kZWZhdWx0KShfKS5jYWxsKF8sIG5ld0FkYXB0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZW1pdChuYW1lLCBuZXdBZGFwdGVyc1tuYW1lXSk7XG4gICAgfSk7XG4gIH1cbn0pO1xudmFyIGFkYXB0ZXJNYW5hZ2VyID0gbmV3IEFkYXB0ZXJNYW5hZ2VyKCk7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWRhcHRlcjogYWRhcHRlck1hbmFnZXIuZ2V0QWRhcHRlci5iaW5kKGFkYXB0ZXJNYW5hZ2VyKSxcbiAgc2V0QWRhcHRlcnM6IGFkYXB0ZXJNYW5hZ2VyLnNldEFkYXB0ZXJzLmJpbmQoYWRhcHRlck1hbmFnZXIpLFxuICBhZGFwdGVyTWFuYWdlcjogYWRhcHRlck1hbmFnZXJcbn07XG5cbi8qKiovIH0pLFxuLyogNzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIE5BVElWRV9CSU5EID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBhcHBseSA9IEZ1bmN0aW9uUHJvdG90eXBlLmFwcGx5O1xudmFyIGNhbGwgPSBGdW5jdGlvblByb3RvdHlwZS5jYWxsO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1yZWZsZWN0IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoYXBwbHkpIDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY2FsbC5hcHBseShhcHBseSwgYXJndW1lbnRzKTtcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogNzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1mdW5jdGlvbi1wcm90b3R5cGUtYmluZCAtLSBzYWZlXG4gIHZhciB0ZXN0ID0gKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkuYmluZCgpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgcmV0dXJuIHR5cGVvZiB0ZXN0ICE9ICdmdW5jdGlvbicgfHwgdGVzdC5oYXNPd25Qcm9wZXJ0eSgncHJvdG90eXBlJyk7XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDczICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIGNhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0luZGV4ZWRPYmplY3QoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhc093bihPLCBQKSkgcmV0dXJuIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcighY2FsbChwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mLCBPLCBQKSwgT1tQXSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVxdWlyZW9iamVjdGNvZXJjaWJsZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcbnZhciBzdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjIzLjMnLFxuICBtb2RlOiBJU19QVVJFID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTQtMjAyMiBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KScsXG4gIGxpY2Vuc2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjIzLjMvTElDRU5TRScsXG4gIHNvdXJjZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzJ1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiA3NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIGNhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xudmFyIHRyeVRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG52YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG52YXIgaXNQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIGdldEl0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xudmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG52YXIgaXRlcmF0b3JDbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbnZhciBSZXN1bHQgPSBmdW5jdGlvbiAoc3RvcHBlZCwgcmVzdWx0KSB7XG4gIHRoaXMuc3RvcHBlZCA9IHN0b3BwZWQ7XG4gIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xufTtcblxudmFyIFJlc3VsdFByb3RvdHlwZSA9IFJlc3VsdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCB1bmJvdW5kRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHRoYXQgPSBvcHRpb25zICYmIG9wdGlvbnMudGhhdDtcbiAgdmFyIEFTX0VOVFJJRVMgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuQVNfRU5UUklFUyk7XG4gIHZhciBJU19JVEVSQVRPUiA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JU19JVEVSQVRPUik7XG4gIHZhciBJTlRFUlJVUFRFRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JTlRFUlJVUFRFRCk7XG4gIHZhciBmbiA9IGJpbmQodW5ib3VuZEZ1bmN0aW9uLCB0aGF0KTtcbiAgdmFyIGl0ZXJhdG9yLCBpdGVyRm4sIGluZGV4LCBsZW5ndGgsIHJlc3VsdCwgbmV4dCwgc3RlcDtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIChjb25kaXRpb24pIHtcbiAgICBpZiAoaXRlcmF0b3IpIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICdub3JtYWwnLCBjb25kaXRpb24pO1xuICAgIHJldHVybiBuZXcgUmVzdWx0KHRydWUsIGNvbmRpdGlvbik7XG4gIH07XG5cbiAgdmFyIGNhbGxGbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChBU19FTlRSSUVTKSB7XG4gICAgICBhbk9iamVjdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gSU5URVJSVVBURUQgPyBmbih2YWx1ZVswXSwgdmFsdWVbMV0sIHN0b3ApIDogZm4odmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICB9IHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlLCBzdG9wKSA6IGZuKHZhbHVlKTtcbiAgfTtcblxuICBpZiAoSVNfSVRFUkFUT1IpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhYmxlO1xuICB9IGVsc2Uge1xuICAgIGl0ZXJGbiA9IGdldEl0ZXJhdG9yTWV0aG9kKGl0ZXJhYmxlKTtcbiAgICBpZiAoIWl0ZXJGbikgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhpdGVyYWJsZSkgKyAnIGlzIG5vdCBpdGVyYWJsZScpO1xuICAgIC8vIG9wdGltaXNhdGlvbiBmb3IgYXJyYXkgaXRlcmF0b3JzXG4gICAgaWYgKGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyRm4pKSB7XG4gICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoaXRlcmFibGUpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQgPSBjYWxsRm4oaXRlcmFibGVbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiBpc1Byb3RvdHlwZU9mKFJlc3VsdFByb3RvdHlwZSwgcmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xuICAgIH1cbiAgICBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlLCBpdGVyRm4pO1xuICB9XG5cbiAgbmV4dCA9IGl0ZXJhdG9yLm5leHQ7XG4gIHdoaWxlICghKHN0ZXAgPSBjYWxsKG5leHQsIGl0ZXJhdG9yKSkuZG9uZSkge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBjYWxsRm4oc3RlcC52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICd0aHJvdycsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ29iamVjdCcgJiYgcmVzdWx0ICYmIGlzUHJvdG90eXBlT2YoUmVzdWx0UHJvdG90eXBlLCByZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICB9IHJldHVybiBuZXcgUmVzdWx0KGZhbHNlKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA3NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IGZhbHNlLCB2YWx1ZTogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IHRydWUsIHZhbHVlOiBlcnJvciB9O1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG52YXIgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgaXNGb3JjZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG52YXIgaW5zcGVjdFNvdXJjZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIElTX0JST1dTRVIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Nyk7XG52YXIgSVNfUFVSRSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xudmFyIFY4X1ZFUlNJT04gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblxudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG52YXIgU1VCQ0xBU1NJTkcgPSBmYWxzZTtcbnZhciBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQgPSBpc0NhbGxhYmxlKGdsb2JhbC5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpO1xuXG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgPSBpc0ZvcmNlZCgnUHJvbWlzZScsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFID0gaW5zcGVjdFNvdXJjZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpO1xuICB2YXIgR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSA9IFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFICE9PSBTdHJpbmcoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKTtcbiAgLy8gVjggNi42IChOb2RlIDEwIGFuZCBDaHJvbWUgNjYpIGhhdmUgYSBidWcgd2l0aCByZXNvbHZpbmcgY3VzdG9tIHRoZW5hYmxlc1xuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04MzA1NjVcbiAgLy8gV2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnNcbiAgaWYgKCFHTE9CQUxfQ09SRV9KU19QUk9NSVNFICYmIFY4X1ZFUlNJT04gPT09IDY2KSByZXR1cm4gdHJ1ZTtcbiAgLy8gV2UgbmVlZCBQcm9taXNlI3sgY2F0Y2gsIGZpbmFsbHkgfSBpbiB0aGUgcHVyZSB2ZXJzaW9uIGZvciBwcmV2ZW50aW5nIHByb3RvdHlwZSBwb2xsdXRpb25cbiAgaWYgKElTX1BVUkUgJiYgIShOYXRpdmVQcm9taXNlUHJvdG90eXBlWydjYXRjaCddICYmIE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2ZpbmFsbHknXSkpIHJldHVybiB0cnVlO1xuICAvLyBXZSBjYW4ndCB1c2UgQEBzcGVjaWVzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxuICBpZiAoVjhfVkVSU0lPTiA+PSA1MSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UpKSByZXR1cm4gZmFsc2U7XG4gIC8vIERldGVjdCBjb3JyZWN0bmVzcyBvZiBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gIHZhciBwcm9taXNlID0gbmV3IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKDEpOyB9KTtcbiAgdmFyIEZha2VQcm9taXNlID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICBleGVjKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbiAgfTtcbiAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9O1xuICBjb25zdHJ1Y3RvcltTUEVDSUVTXSA9IEZha2VQcm9taXNlO1xuICBTVUJDTEFTU0lORyA9IHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIGlmICghU1VCQ0xBU1NJTkcpIHJldHVybiB0cnVlO1xuICAvLyBVbmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gIHJldHVybiAhR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSAmJiBJU19CUk9XU0VSICYmICFOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQ7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENPTlNUUlVDVE9SOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUixcbiAgUkVKRUNUSU9OX0VWRU5UOiBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQsXG4gIFNVQkNMQVNTSU5HOiBTVUJDTEFTU0lOR1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDc5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgY2hhckF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyODYpLmNoYXJBdDtcbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTtcbnZhciBkZWZpbmVJdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU3KTtcblxudmFyIFNUUklOR19JVEVSQVRPUiA9ICdTdHJpbmcgSXRlcmF0b3InO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoU1RSSU5HX0lURVJBVE9SKTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLUBAaXRlcmF0b3JcbmRlZmluZUl0ZXJhdG9yKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uIChpdGVyYXRlZCkge1xuICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICB0eXBlOiBTVFJJTkdfSVRFUkFUT1IsXG4gICAgc3RyaW5nOiB0b1N0cmluZyhpdGVyYXRlZCksXG4gICAgaW5kZXg6IDBcbiAgfSk7XG4vLyBgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJXN0cmluZ2l0ZXJhdG9ycHJvdG90eXBlJS5uZXh0XG59LCBmdW5jdGlvbiBuZXh0KCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICB2YXIgc3RyaW5nID0gc3RhdGUuc3RyaW5nO1xuICB2YXIgaW5kZXggPSBzdGF0ZS5pbmRleDtcbiAgdmFyIHBvaW50O1xuICBpZiAoaW5kZXggPj0gc3RyaW5nLmxlbmd0aCkgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICBwb2ludCA9IGNoYXJBdChzdHJpbmcsIGluZGV4KTtcbiAgc3RhdGUuaW5kZXggKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4geyB2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlIH07XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDgwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBoYXNTdHJpbmdUYWdCdWc7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc0lFMTE7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19oYXNPYmplY3RUYWdfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjk0KTtcblxuXG5cbi8vIEluIElFIDEwIC0gRWRnZSAxMywgYERhdGFWaWV3YCBoYXMgc3RyaW5nIHRhZyBgJ1tvYmplY3QgT2JqZWN0XSdgLlxuLy8gSW4gSUUgMTEsIHRoZSBtb3N0IGNvbW1vbiBhbW9uZyB0aGVtLCB0aGlzIHByb2JsZW0gYWxzbyBhcHBsaWVzIHRvXG4vLyBgTWFwYCwgYFdlYWtNYXBgIGFuZCBgU2V0YC5cbnZhciBoYXNTdHJpbmdUYWdCdWcgPSAoXG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJzXCIgLyogc3VwcG9ydHNEYXRhVmlldyAqL10gJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faGFzT2JqZWN0VGFnX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoOCkpKVxuICAgICksXG4gICAgaXNJRTExID0gKHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2hhc09iamVjdFRhZ19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShuZXcgTWFwKSk7XG5cblxuLyoqKi8gfSksXG4vKiA4MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gYWxsS2V5cztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzT2JqZWN0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fY29sbGVjdE5vbkVudW1Qcm9wc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xuXG5cblxuXG4vLyBSZXRyaWV2ZSBhbGwgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuZnVuY3Rpb24gYWxsS2V5cyhvYmopIHtcbiAgaWYgKCFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc09iamVjdF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopKSByZXR1cm4gW107XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICAvLyBBaGVtLCBJRSA8IDkuXG4gIGlmIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJoXCIgLyogaGFzRW51bUJ1ZyAqL10pIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NvbGxlY3ROb25FbnVtUHJvcHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBrZXlzKTtcbiAgcmV0dXJuIGtleXM7XG59XG5cblxuLyoqKi8gfSksXG4vKiA4MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gdG9QYXRoO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX190b1BhdGhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KTtcblxuXG5cbi8vIEludGVybmFsIHdyYXBwZXIgZm9yIGBfLnRvUGF0aGAgdG8gZW5hYmxlIG1pbmlmaWNhdGlvbi5cbi8vIFNpbWlsYXIgdG8gYGNiYCBmb3IgYF8uaXRlcmF0ZWVgLlxuZnVuY3Rpb24gdG9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRvUGF0aChwYXRoKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBvcHRpbWl6ZUNiO1xuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbi8vIGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIG9wdGltaXplQ2IoZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gIHN3aXRjaCAoYXJnQ291bnQgPT0gbnVsbCA/IDMgOiBhcmdDb3VudCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICB9O1xuICAgIC8vIFRoZSAyLWFyZ3VtZW50IGNhc2UgaXMgb21pdHRlZCBiZWNhdXNlIHdl4oCZcmUgbm90IHVzaW5nIGl0LlxuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH07XG4gICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGZpbHRlcjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2VhY2hfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXG5cblxuLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbmZ1bmN0aW9uIGZpbHRlcihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICBwcmVkaWNhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lYWNoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cblxuLyoqKi8gfSksXG4vKiA4NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gY29udGFpbnM7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0FycmF5TGlrZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX192YWx1ZXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faW5kZXhPZl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDIpO1xuXG5cblxuXG4vLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIGl0ZW0gKHVzaW5nIGA9PT1gKS5cbmZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICBpZiAoIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlMaWtlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikpIG9iaiA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3ZhbHVlc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopO1xuICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2luZGV4T2ZfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBpdGVtLCBmcm9tSW5kZXgpID49IDA7XG59XG5cblxuLyoqKi8gfSksXG4vKiA4NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXG4vLyBgSXNBcnJheWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzYXJyYXlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLWFycmF5LWlzYXJyYXkgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGNsYXNzb2YoYXJndW1lbnQpID09ICdBcnJheSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzMCk7XG5cbi8qKiovIH0pLFxuLyogODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvUHJpbWl0aXZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTIpO1xudmFyIGlzU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cbi8vIGBUb1Byb3BlcnR5S2V5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnc3RyaW5nJyk7XG4gIHJldHVybiBpc1N5bWJvbChrZXkpID8ga2V5IDoga2V5ICsgJyc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogODkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdldEJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nik7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVTRV9TWU1CT0xfQVNfVUlEID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciAkU3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJyk7XG4gIHJldHVybiBpc0NhbGxhYmxlKCRTeW1ib2wpICYmIGlzUHJvdG90eXBlT2YoJFN5bWJvbC5wcm90b3R5cGUsICRPYmplY3QoaXQpKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcbnZhciBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCk7XG5cbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xudmFyIE9iamVjdFByb3RvdHlwZSA9ICRPYmplY3QucHJvdG90eXBlO1xuXG4vLyBgT2JqZWN0LmdldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0cHJvdG90eXBlb2YgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPyAkT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKE8pIHtcbiAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzT3duKG9iamVjdCwgSUVfUFJPVE8pKSByZXR1cm4gb2JqZWN0W0lFX1BST1RPXTtcbiAgdmFyIGNvbnN0cnVjdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICBpZiAoaXNDYWxsYWJsZShjb25zdHJ1Y3RvcikgJiYgb2JqZWN0IGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiAkT2JqZWN0ID8gT2JqZWN0UHJvdG90eXBlIDogbnVsbDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG52YXIgdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXG52YXIga2V5cyA9IHNoYXJlZCgna2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleXNba2V5XSB8fCAoa2V5c1trZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDkyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvIC0tIHNhZmUgKi9cbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciBhUG9zc2libGVQcm90b3R5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NSk7XG5cbi8vIGBPYmplY3Quc2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Quc2V0cHJvdG90eXBlb2Zcbi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LXNldHByb3RvdHlwZW9mIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IGZ1bmN0aW9uICgpIHtcbiAgdmFyIENPUlJFQ1RfU0VUVEVSID0gZmFsc2U7XG4gIHZhciB0ZXN0ID0ge307XG4gIHZhciBzZXR0ZXI7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG4gICAgc2V0dGVyID0gdW5jdXJyeVRoaXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0KTtcbiAgICBzZXR0ZXIodGVzdCwgW10pO1xuICAgIENPUlJFQ1RfU0VUVEVSID0gdGVzdCBpbnN0YW5jZW9mIEFycmF5O1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgIGFuT2JqZWN0KE8pO1xuICAgIGFQb3NzaWJsZVByb3RvdHlwZShwcm90byk7XG4gICAgaWYgKENPUlJFQ1RfU0VUVEVSKSBzZXR0ZXIoTywgcHJvdG8pO1xuICAgIGVsc2UgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICByZXR1cm4gTztcbiAgfTtcbn0oKSA6IHVuZGVmaW5lZCk7XG5cblxuLyoqKi8gfSksXG4vKiA5MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cbi8qKiovIH0pLFxuLyogOTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcbnZhciBnZXRNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gZ2V0TWV0aG9kKGl0LCBJVEVSQVRPUilcbiAgICB8fCBnZXRNZXRob2QoaXQsICdAQGl0ZXJhdG9yJylcbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDk1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBOQVRJVkVfV0VBS19NQVAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2NCk7XG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcbnZhciBoYXNPd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG52YXIgc2hhcmVkS2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXG52YXIgT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQgPSAnT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xudmFyIHNldCwgZ2V0LCBoYXM7XG5cbnZhciBlbmZvcmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBoYXMoaXQpID8gZ2V0KGl0KSA6IHNldChpdCwge30pO1xufTtcblxudmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgaWYgKCFpc09iamVjdChpdCkgfHwgKHN0YXRlID0gZ2V0KGl0KSkudHlwZSAhPT0gVFlQRSkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCcpO1xuICAgIH0gcmV0dXJuIHN0YXRlO1xuICB9O1xufTtcblxuaWYgKE5BVElWRV9XRUFLX01BUCB8fCBzaGFyZWQuc3RhdGUpIHtcbiAgdmFyIHN0b3JlID0gc2hhcmVkLnN0YXRlIHx8IChzaGFyZWQuc3RhdGUgPSBuZXcgV2Vha01hcCgpKTtcbiAgdmFyIHdtZ2V0ID0gdW5jdXJyeVRoaXMoc3RvcmUuZ2V0KTtcbiAgdmFyIHdtaGFzID0gdW5jdXJyeVRoaXMoc3RvcmUuaGFzKTtcbiAgdmFyIHdtc2V0ID0gdW5jdXJyeVRoaXMoc3RvcmUuc2V0KTtcbiAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIGlmICh3bWhhcyhzdG9yZSwgaXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICB3bXNldChzdG9yZSwgaXQsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiB3bWdldChzdG9yZSwgaXQpIHx8IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gd21oYXMoc3RvcmUsIGl0KTtcbiAgfTtcbn0gZWxzZSB7XG4gIHZhciBTVEFURSA9IHNoYXJlZEtleSgnc3RhdGUnKTtcbiAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgaWYgKGhhc093bihpdCwgU1RBVEUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoaXQsIFNUQVRFLCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaGFzT3duKGl0LCBTVEFURSkgPyBpdFtTVEFURV0gOiB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGhhc093bihpdCwgU1RBVEUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0LFxuICBoYXM6IGhhcyxcbiAgZW5mb3JjZTogZW5mb3JjZSxcbiAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3Jcbn07XG5cblxuLyoqKi8gfSksXG4vKiA5NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlbXB0eVxuXG5cbi8qKiovIH0pLFxuLyogOTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzb2YoZ2xvYmFsLnByb2Nlc3MpID09ICdwcm9jZXNzJztcblxuXG4vKioqLyB9KSxcbi8qIDk4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgaW5zcGVjdFNvdXJjZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgZW1wdHkgPSBbXTtcbnZhciBjb25zdHJ1Y3QgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ2NvbnN0cnVjdCcpO1xudmFyIGNvbnN0cnVjdG9yUmVnRXhwID0gL15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLztcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoY29uc3RydWN0b3JSZWdFeHAuZXhlYyk7XG52YXIgSU5DT1JSRUNUX1RPX1NUUklORyA9ICFjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKG5vb3ApO1xuXG52YXIgaXNDb25zdHJ1Y3Rvck1vZGVybiA9IGZ1bmN0aW9uIGlzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgaWYgKCFpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0cnVjdChub29wLCBlbXB0eSwgYXJndW1lbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxudmFyIGlzQ29uc3RydWN0b3JMZWdhY3kgPSBmdW5jdGlvbiBpc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gIGlmICghaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBmYWxzZTtcbiAgc3dpdGNoIChjbGFzc29mKGFyZ3VtZW50KSkge1xuICAgIGNhc2UgJ0FzeW5jRnVuY3Rpb24nOlxuICAgIGNhc2UgJ0dlbmVyYXRvckZ1bmN0aW9uJzpcbiAgICBjYXNlICdBc3luY0dlbmVyYXRvckZ1bmN0aW9uJzogcmV0dXJuIGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gd2UgY2FuJ3QgY2hlY2sgLnByb3RvdHlwZSBzaW5jZSBjb25zdHJ1Y3RvcnMgcHJvZHVjZWQgYnkgLmJpbmQgaGF2ZW4ndCBpdFxuICAgIC8vIGBGdW5jdGlvbiN0b1N0cmluZ2AgdGhyb3dzIG9uIHNvbWUgYnVpbHQtaXQgZnVuY3Rpb24gaW4gc29tZSBsZWdhY3kgZW5naW5lc1xuICAgIC8vIChmb3IgZXhhbXBsZSwgYERPTVF1YWRgIGFuZCBzaW1pbGFyIGluIEZGNDEtKVxuICAgIHJldHVybiBJTkNPUlJFQ1RfVE9fU1RSSU5HIHx8ICEhZXhlYyhjb25zdHJ1Y3RvclJlZ0V4cCwgaW5zcGVjdFNvdXJjZShhcmd1bWVudCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5pc0NvbnN0cnVjdG9yTGVnYWN5LnNoYW0gPSB0cnVlO1xuXG4vLyBgSXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3Jcbm1vZHVsZS5leHBvcnRzID0gIWNvbnN0cnVjdCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBjYWxsZWQ7XG4gIHJldHVybiBpc0NvbnN0cnVjdG9yTW9kZXJuKGlzQ29uc3RydWN0b3JNb2Rlcm4uY2FsbClcbiAgICB8fCAhaXNDb25zdHJ1Y3Rvck1vZGVybihPYmplY3QpXG4gICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlOyB9KVxuICAgIHx8IGNhbGxlZDtcbn0pID8gaXNDb25zdHJ1Y3RvckxlZ2FjeSA6IGlzQ29uc3RydWN0b3JNb2Rlcm47XG5cblxuLyoqKi8gfSksXG4vKiA5OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVuY3VycnlUaGlzKFtdLnNsaWNlKTtcblxuXG4vKioqLyB9KSxcbi8qIDEwMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gbWF0Y2hlcjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2V4dGVuZE93bl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNNYXRjaF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuXG5cblxuLy8gUmV0dXJucyBhIHByZWRpY2F0ZSBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mXG4vLyBga2V5OnZhbHVlYCBwYWlycy5cbmZ1bmN0aW9uIG1hdGNoZXIoYXR0cnMpIHtcbiAgYXR0cnMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19leHRlbmRPd25fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoe30sIGF0dHJzKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc01hdGNoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwgYXR0cnMpO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19leGVjdXRlQm91bmRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cblxuXG4vLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4vLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gYF9gIGFjdHNcbi8vIGFzIGEgcGxhY2Vob2xkZXIgYnkgZGVmYXVsdCwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZVxuLy8gcHJlLWZpbGxlZC4gU2V0IGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIGZvciBhIGN1c3RvbSBwbGFjZWhvbGRlciBhcmd1bWVudC5cbnZhciBwYXJ0aWFsID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmdW5jdGlvbihmdW5jLCBib3VuZEFyZ3MpIHtcbiAgdmFyIHBsYWNlaG9sZGVyID0gcGFydGlhbC5wbGFjZWhvbGRlcjtcbiAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gMCwgbGVuZ3RoID0gYm91bmRBcmdzLmxlbmd0aDtcbiAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXSA9PT0gcGxhY2Vob2xkZXIgPyBhcmd1bWVudHNbcG9zaXRpb24rK10gOiBib3VuZEFyZ3NbaV07XG4gICAgfVxuICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19leGVjdXRlQm91bmRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZnVuYywgYm91bmQsIHRoaXMsIHRoaXMsIGFyZ3MpO1xuICB9O1xuICByZXR1cm4gYm91bmQ7XG59KTtcblxucGFydGlhbC5wbGFjZWhvbGRlciA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChwYXJ0aWFsKTtcblxuXG4vKioqLyB9KSxcbi8qIDEwMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZ3JvdXA7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lYWNoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblxuXG5cbi8vIEFuIGludGVybmFsIGZ1bmN0aW9uIHVzZWQgZm9yIGFnZ3JlZ2F0ZSBcImdyb3VwIGJ5XCIgb3BlcmF0aW9ucy5cbmZ1bmN0aW9uIGdyb3VwKGJlaGF2aW9yLCBwYXJ0aXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gcGFydGl0aW9uID8gW1tdLCBbXV0gOiB7fTtcbiAgICBpdGVyYXRlZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NiX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lYWNoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgdG9Qcm9wZXJ0eUtleSA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgcHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChwcm9wZXJ0eUtleSBpbiBvYmplY3QpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYob2JqZWN0LCBwcm9wZXJ0eUtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W3Byb3BlcnR5S2V5XSA9IHZhbHVlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDEwNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgVjhfVkVSU0lPTiA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICAvLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgLy8gZGVvcHRpbWl6YXRpb24gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3N1xuICByZXR1cm4gVjhfVkVSU0lPTiA+PSA1MSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IGFycmF5LmNvbnN0cnVjdG9yID0ge307XG4gICAgY29uc3RydWN0b3JbU1BFQ0lFU10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4geyBmb286IDEgfTtcbiAgICB9O1xuICAgIHJldHVybiBhcnJheVtNRVRIT0RfTkFNRV0oQm9vbGVhbikuZm9vICE9PSAxO1xuICB9KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG52YXIgYXJyYXlTcGVjaWVzQ3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTYpO1xuXG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgZm9yRWFjaCwgbWFwLCBmaWx0ZXIsIHNvbWUsIGV2ZXJ5LCBmaW5kLCBmaW5kSW5kZXgsIGZpbHRlclJlamVjdCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBJU19GSUxURVJfUkVKRUNUID0gVFlQRSA9PSA3O1xuICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgY2FsbGJhY2tmbiwgdGhhdCwgc3BlY2lmaWNDcmVhdGUpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QoTyk7XG4gICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrZm4sIHRoYXQpO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShzZWxmKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBjcmVhdGUgPSBzcGVjaWZpY0NyZWF0ZSB8fCBhcnJheVNwZWNpZXNDcmVhdGU7XG4gICAgdmFyIHRhcmdldCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiB8fCBJU19GSUxURVJfUkVKRUNUID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdmFsdWUsIHJlc3VsdDtcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbHVlID0gc2VsZltpbmRleF07XG4gICAgICByZXN1bHQgPSBib3VuZEZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgTyk7XG4gICAgICBpZiAoVFlQRSkge1xuICAgICAgICBpZiAoSVNfTUFQKSB0YXJnZXRbaW5kZXhdID0gcmVzdWx0OyAvLyBtYXBcbiAgICAgICAgZWxzZSBpZiAocmVzdWx0KSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbHVlOyAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgIC8vIGZpbmRJbmRleFxuICAgICAgICAgIGNhc2UgMjogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIGZhbHNlOyAgICAgICAgICAgICAvLyBldmVyeVxuICAgICAgICAgIGNhc2UgNzogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJSZWplY3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogdGFyZ2V0O1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgZm9yRWFjaDogY3JlYXRlTWV0aG9kKDApLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLm1hcFxuICBtYXA6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maWx0ZXJcbiAgZmlsdGVyOiBjcmVhdGVNZXRob2QoMiksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuc29tZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvbWVcbiAgc29tZTogY3JlYXRlTWV0aG9kKDMpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmV2ZXJ5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZXZlcnlcbiAgZXZlcnk6IGNyZWF0ZU1ldGhvZCg0KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maW5kYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZFxuICBmaW5kOiBjcmVhdGVNZXRob2QoNSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gIGZpbmRJbmRleDogY3JlYXRlTWV0aG9kKDYpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlclJlamVjdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFycmF5LWZpbHRlcmluZ1xuICBmaWx0ZXJSZWplY3Q6IGNyZWF0ZU1ldGhvZCg3KVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDEwNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfdHlwZW9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpKTtcblxudmFyIF9maWx0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDM2KSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSk7XG5cbnZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyMTcpKTtcblxudmFyIF9zdHJpbmdpZnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzcpKTtcblxudmFyIF9jb25jYXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjUpKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0MSksXG4gICAgdGltZW91dCA9IF9yZXF1aXJlLnRpbWVvdXQ7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXG52YXIgZGVidWdSZXF1ZXN0ID0gZGVidWcoJ2xlYW5jbG91ZDpyZXF1ZXN0Jyk7XG52YXIgZGVidWdSZXF1ZXN0RXJyb3IgPSBkZWJ1ZygnbGVhbmNsb3VkOnJlcXVlc3Q6ZXJyb3InKTtcblxudmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzApLFxuICAgIGdldEFkYXB0ZXIgPSBfcmVxdWlyZTIuZ2V0QWRhcHRlcjtcblxudmFyIHJlcXVlc3RzQ291bnQgPSAwO1xuXG52YXIgYWpheCA9IGZ1bmN0aW9uIGFqYXgoX3JlZikge1xuICB2YXIgbWV0aG9kID0gX3JlZi5tZXRob2QsXG4gICAgICB1cmwgPSBfcmVmLnVybCxcbiAgICAgIHF1ZXJ5ID0gX3JlZi5xdWVyeSxcbiAgICAgIGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICBfcmVmJGhlYWRlcnMgPSBfcmVmLmhlYWRlcnMsXG4gICAgICBoZWFkZXJzID0gX3JlZiRoZWFkZXJzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkaGVhZGVycyxcbiAgICAgIHRpbWUgPSBfcmVmLnRpbWVvdXQsXG4gICAgICBvbnByb2dyZXNzID0gX3JlZi5vbnByb2dyZXNzO1xuXG4gIGlmIChxdWVyeSkge1xuICAgIHZhciBfY29udGV4dCwgX2NvbnRleHQyLCBfY29udGV4dDQ7XG5cbiAgICB2YXIgcXVlcnlTdHJpbmcgPSAoMCwgX2ZpbHRlci5kZWZhdWx0KShfY29udGV4dCA9ICgwLCBfbWFwLmRlZmF1bHQpKF9jb250ZXh0MiA9ICgwLCBfa2V5cy5kZWZhdWx0KShxdWVyeSkpLmNhbGwoX2NvbnRleHQyLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgX2NvbnRleHQzO1xuXG4gICAgICB2YXIgdmFsdWUgPSBxdWVyeVtrZXldO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB2YXIgdiA9ICgwLCBfdHlwZW9mMi5kZWZhdWx0KSh2YWx1ZSkgPT09ICdvYmplY3QnID8gKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkodmFsdWUpIDogdmFsdWU7XG4gICAgICByZXR1cm4gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQzID0gXCJcIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGtleSksIFwiPVwiKSkuY2FsbChfY29udGV4dDMsIGVuY29kZVVSSUNvbXBvbmVudCh2KSk7XG4gICAgfSkpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChxcykge1xuICAgICAgcmV0dXJuIHFzO1xuICAgIH0pLmpvaW4oJyYnKTtcbiAgICB1cmwgPSAoMCwgX2NvbmNhdC5kZWZhdWx0KShfY29udGV4dDQgPSBcIlwiLmNvbmNhdCh1cmwsIFwiP1wiKSkuY2FsbChfY29udGV4dDQsIHF1ZXJ5U3RyaW5nKTtcbiAgfVxuXG4gIHZhciBjb3VudCA9IHJlcXVlc3RzQ291bnQrKztcbiAgZGVidWdSZXF1ZXN0KCdyZXF1ZXN0KCVkKSAlcyAlcyAlbyAlbyAlbycsIGNvdW50LCBtZXRob2QsIHVybCwgcXVlcnksIGRhdGEsIGhlYWRlcnMpO1xuICB2YXIgcmVxdWVzdCA9IGdldEFkYXB0ZXIoJ3JlcXVlc3QnKTtcbiAgdmFyIHByb21pc2UgPSByZXF1ZXN0KHVybCwge1xuICAgIG1ldGhvZDogbWV0aG9kLFxuICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgZGF0YTogZGF0YSxcbiAgICBvbnByb2dyZXNzOiBvbnByb2dyZXNzXG4gIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgZGVidWdSZXF1ZXN0KCdyZXNwb25zZSglZCkgJWQgJU8gJW8nLCBjb3VudCwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhIHx8IHJlc3BvbnNlLnRleHQsIHJlc3BvbnNlLmhlYWRlcik7XG5cbiAgICBpZiAocmVzcG9uc2Uub2sgPT09IGZhbHNlKSB7XG4gICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICBpZiAoIWRlYnVnLmVuYWJsZWQoJ2xlYW5jbG91ZDpyZXF1ZXN0JykpIHtcbiAgICAgICAgZGVidWdSZXF1ZXN0RXJyb3IoJ3JlcXVlc3QoJWQpICVzICVzICVvICVvICVvJywgY291bnQsIG1ldGhvZCwgdXJsLCBxdWVyeSwgZGF0YSwgaGVhZGVycyk7XG4gICAgICB9XG5cbiAgICAgIGRlYnVnUmVxdWVzdEVycm9yKCdyZXNwb25zZSglZCkgJWQgJU8gJW8nLCBjb3VudCwgZXJyb3IucmVzcG9uc2Uuc3RhdHVzLCBlcnJvci5yZXNwb25zZS5kYXRhIHx8IGVycm9yLnJlc3BvbnNlLnRleHQsIGVycm9yLnJlc3BvbnNlLmhlYWRlcik7XG4gICAgICBlcnJvci5zdGF0dXNDb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgZXJyb3IucmVzcG9uc2VUZXh0ID0gZXJyb3IucmVzcG9uc2UudGV4dDtcbiAgICAgIGVycm9yLnJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UuZGF0YTtcbiAgICB9XG5cbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG4gIHJldHVybiB0aW1lID8gdGltZW91dChwcm9taXNlLCB0aW1lKSA6IHByb21pc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFqYXg7XG5cbi8qKiovIH0pLFxuLyogMTA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NDYpO1xuXG4vKioqLyB9KSxcbi8qIDEwOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXG52YXIgJE9iamVjdCA9IE9iamVjdDtcbnZhciBzcGxpdCA9IHVuY3VycnlUaGlzKCcnLnNwbGl0KTtcblxuLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3Ncbm1vZHVsZS5leHBvcnRzID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyB0aHJvd3MgYW4gZXJyb3IgaW4gcmhpbm8sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9yaGluby9pc3N1ZXMvMzQ2XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMgLS0gc2FmZVxuICByZXR1cm4gISRPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKTtcbn0pID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjbGFzc29mKGl0KSA9PSAnU3RyaW5nJyA/IHNwbGl0KGl0LCAnJykgOiAkT2JqZWN0KGl0KTtcbn0gOiAkT2JqZWN0O1xuXG5cbi8qKiovIH0pLFxuLyogMTEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblxuLy8gYEdldE1ldGhvZGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoViwgUCkge1xuICB2YXIgZnVuYyA9IFZbUF07XG4gIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhQ2FsbGFibGUoZnVuYyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTQpO1xuXG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcblxuXG4vKioqLyB9KSxcbi8qIDExMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG52YXIgaWQgPSAwO1xudmFyIHBvc3RmaXggPSBNYXRoLnJhbmRvbSgpO1xudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoMS4wLnRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyAoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgdG9TdHJpbmcoKytpZCArIHBvc3RmaXgsIDM2KTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgRVhJU1RTID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gRVhJU1RTID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGludGVybmFsT2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUxKTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblxudmFyIGhpZGRlbktleXMgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eW5hbWVzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGhpZGRlbktleXMpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDExNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuICBpbmNsdWRlczogY3JlYXRlTWV0aG9kKHRydWUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG4gIGluZGV4T2Y6IGNyZWF0ZU1ldGhvZChmYWxzZSlcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICB2YXIgaW50ZWdlciA9IHRvSW50ZWdlck9ySW5maW5pdHkoaW5kZXgpO1xuICByZXR1cm4gaW50ZWdlciA8IDAgPyBtYXgoaW50ZWdlciArIGxlbmd0aCwgMCkgOiBtaW4oaW50ZWdlciwgbGVuZ3RoKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRydW5jID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTgpO1xuXG4vLyBgVG9JbnRlZ2VyT3JJbmZpbml0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvaW50ZWdlcm9yaW5maW5pdHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBudW1iZXIgPSArYXJndW1lbnQ7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gIHJldHVybiBudW1iZXIgIT09IG51bWJlciB8fCBudW1iZXIgPT09IDAgPyAwIDogdHJ1bmMobnVtYmVyKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gSUU4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IFtcbiAgJ2NvbnN0cnVjdG9yJyxcbiAgJ2hhc093blByb3BlcnR5JyxcbiAgJ2lzUHJvdG90eXBlT2YnLFxuICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAndG9Mb2NhbGVTdHJpbmcnLFxuICAndG9TdHJpbmcnLFxuICAndmFsdWVPZidcbl07XG5cblxuLyoqKi8gfSksXG4vKiAxMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSBzYWZlXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKiovIH0pLFxuLyogMTIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpbnRlcm5hbE9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSk7XG52YXIgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cbi8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3Qta2V5cyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyIHRlc3QgPSB7fTtcblxudGVzdFtUT19TVFJJTkdfVEFHXSA9ICd6JztcblxubW9kdWxlLmV4cG9ydHMgPSBTdHJpbmcodGVzdCkgPT09ICdbb2JqZWN0IHpdJztcblxuXG4vKioqLyB9KSxcbi8qIDEyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblxuXG4vKioqLyB9KSxcbi8qIDEyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIHN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IHVuY3VycnlUaGlzKEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKCFpc0NhbGxhYmxlKHN0b3JlLmluc3BlY3RTb3VyY2UpKSB7XG4gIHN0b3JlLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZyhpdCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmUuaW5zcGVjdFNvdXJjZTtcblxuXG4vKioqLyB9KSxcbi8qIDEyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiVkVSU0lPTlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcImVcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fcmVzdEFyZ3VtZW50c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZXN0QXJndW1lbnRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19yZXN0QXJndW1lbnRzX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzT2JqZWN0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzT2JqZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pc09iamVjdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19pc051bGxfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjg5KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzTnVsbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19faXNOdWxsX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2lzVW5kZWZpbmVkX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1VuZGVmaW5lZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9faXNVbmRlZmluZWRfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9faXNCb29sZWFuX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0Jvb2xlYW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2lzQm9vbGVhbl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19pc0VsZW1lbnRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRWxlbWVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9faXNFbGVtZW50X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX2lzU3RyaW5nX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1N0cmluZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19faXNTdHJpbmdfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9faXNOdW1iZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY5KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzTnVtYmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19pc051bWJlcl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19pc0RhdGVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRGF0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9faXNEYXRlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19pc1JlZ0V4cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOTIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNSZWdFeHBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19pc1JlZ0V4cF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9faXNFcnJvcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOTMpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNFcnJvclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX2lzRXJyb3JfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX2lzU3ltYm9sX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1N5bWJvbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfX2lzU3ltYm9sX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEzX19pc0FycmF5QnVmZmVyX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0FycmF5QnVmZmVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19faXNBcnJheUJ1ZmZlcl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9faXNEYXRhVmlld19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNEYXRhVmlld1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTRfX2lzRGF0YVZpZXdfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX2lzQXJyYXlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNBcnJheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX2lzQXJyYXlfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX2lzRnVuY3Rpb25fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNGdW5jdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTZfX2lzRnVuY3Rpb25fanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX2lzQXJndW1lbnRzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0FyZ3VtZW50c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX2lzQXJndW1lbnRzX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19pc0Zpbml0ZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOTUpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNGaW5pdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19pc0Zpbml0ZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9faXNOYU5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzTmFOXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xOV9faXNOYU5fanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfX2lzVHlwZWRBcnJheV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNUeXBlZEFycmF5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9faXNUeXBlZEFycmF5X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIxX19pc0VtcHR5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5Nyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc0VtcHR5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9faXNFbXB0eV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMl9faXNNYXRjaF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNNYXRjaFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX2lzTWF0Y2hfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX2lzRXF1YWxfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjk4KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzRXF1YWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19pc0VxdWFsX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19pc01hcF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDApO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNNYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19pc01hcF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yNV9faXNXZWFrTWFwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1dlYWtNYXBcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19pc1dlYWtNYXBfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX2lzU2V0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1NldFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfX2lzU2V0X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI3X19pc1dlYWtTZXRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzAzKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlzV2Vha1NldFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjdfX2lzV2Vha1NldF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOF9fa2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJrZXlzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOF9fa2V5c19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fYWxsS2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhbGxLZXlzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fYWxsS2V5c19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fdmFsdWVzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInZhbHVlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzBfX3ZhbHVlc19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMV9fcGFpcnNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzA0KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBhaXJzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMV9fcGFpcnNfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzJfX2ludmVydF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW52ZXJ0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMl9faW52ZXJ0X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMzX19mdW5jdGlvbnNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZ1bmN0aW9uc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzNfX2Z1bmN0aW9uc19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJtZXRob2RzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zM19fZnVuY3Rpb25zX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM0X19leHRlbmRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImV4dGVuZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzRfX2V4dGVuZF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fZXh0ZW5kT3duX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJleHRlbmRPd25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM1X19leHRlbmRPd25fanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYXNzaWduXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fZXh0ZW5kT3duX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X19kZWZhdWx0c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X19kZWZhdWx0c19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zN19fY3JlYXRlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwNSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjcmVhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM3X19jcmVhdGVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfX2Nsb25lX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjbG9uZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfX2Nsb25lX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM5X190YXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzA2KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRhcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzlfX3RhcF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fZ2V0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQwX19nZXRfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDFfX2hhc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMDcpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaGFzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9faGFzX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQyX19tYXBPYmplY3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzA4KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1hcE9iamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDJfX21hcE9iamVjdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19faWRlbnRpdHlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImlkZW50aXR5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19faWRlbnRpdHlfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDRfX2NvbnN0YW50X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb25zdGFudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDRfX2NvbnN0YW50X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ1X19ub29wX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJub29wXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NV9fbm9vcF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80Nl9fdG9QYXRoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0b1BhdGhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X190b1BhdGhfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDdfX3Byb3BlcnR5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwcm9wZXJ0eVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDdfX3Byb3BlcnR5X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ4X19wcm9wZXJ0eU9mX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwOSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwcm9wZXJ0eU9mXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OF9fcHJvcGVydHlPZl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OV9fbWF0Y2hlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWF0Y2hlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDlfX21hdGNoZXJfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWF0Y2hlc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDlfX21hdGNoZXJfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTBfX3RpbWVzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0aW1lc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTBfX3RpbWVzX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUxX19yYW5kb21fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJhbmRvbVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTFfX3JhbmRvbV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81Ml9fbm93X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJub3dcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzUyX19ub3dfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTNfX2VzY2FwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMTEpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXNjYXBlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81M19fZXNjYXBlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU0X191bmVzY2FwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMTIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidW5lc2NhcGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU0X191bmVzY2FwZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81NV9fdGVtcGxhdGVTZXR0aW5nc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTMpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidGVtcGxhdGVTZXR0aW5nc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTVfX3RlbXBsYXRlU2V0dGluZ3NfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTZfX3RlbXBsYXRlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0ZW1wbGF0ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTZfX3RlbXBsYXRlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzU3X19yZXN1bHRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzE1KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc3VsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTdfX3Jlc3VsdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OF9fdW5pcXVlSWRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzE2KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVuaXF1ZUlkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81OF9fdW5pcXVlSWRfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTlfX2NoYWluX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjaGFpblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNTlfX2NoYWluX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYwX19pdGVyYXRlZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXRlcmF0ZWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYwX19pdGVyYXRlZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82MV9fcGFydGlhbF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFydGlhbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjFfX3BhcnRpYWxfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjJfX2JpbmRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk1KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJpbmRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYyX19iaW5kX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzYzX19iaW5kQWxsX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxOCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJiaW5kQWxsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82M19fYmluZEFsbF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82NF9fbWVtb2l6ZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMTkpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWVtb2l6ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjRfX21lbW9pemVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjVfX2RlbGF5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Nik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWxheVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjVfX2RlbGF5X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X19kZWZlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjApO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY2X19kZWZlcl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82N19fdGhyb3R0bGVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRocm90dGxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82N19fdGhyb3R0bGVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjhfX2RlYm91bmNlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWJvdW5jZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNjhfX2RlYm91bmNlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzY5X193cmFwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ3cmFwXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82OV9fd3JhcF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83MF9fbmVnYXRlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJuZWdhdGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcwX19uZWdhdGVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzFfX2NvbXBvc2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI0KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbXBvc2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcxX19jb21wb3NlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcyX19hZnRlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjUpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYWZ0ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzcyX19hZnRlcl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83M19fYmVmb3JlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Nyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJiZWZvcmVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzczX19iZWZvcmVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzRfX29uY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9uY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc0X19vbmNlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc1X19maW5kS2V5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5OCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaW5kS2V5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83NV9fZmluZEtleV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83Nl9fZmluZEluZGV4X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaW5kSW5kZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc2X19maW5kSW5kZXhfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzdfX2ZpbmRMYXN0SW5kZXhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjAwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpbmRMYXN0SW5kZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc3X19maW5kTGFzdEluZGV4X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc4X19zb3J0ZWRJbmRleF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDEpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic29ydGVkSW5kZXhcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzc4X19zb3J0ZWRJbmRleF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83OV9faW5kZXhPZl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW5kZXhPZlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNzlfX2luZGV4T2ZfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODBfX2xhc3RJbmRleE9mX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsYXN0SW5kZXhPZlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODBfX2xhc3RJbmRleE9mX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgxX19maW5kX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaW5kXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84MV9fZmluZF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZXRlY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgxX19maW5kX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzgyX19maW5kV2hlcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI4KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZpbmRXaGVyZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODJfX2ZpbmRXaGVyZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84M19fZWFjaF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlYWNoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84M19fZWFjaF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmb3JFYWNoXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84M19fZWFjaF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84NF9fbWFwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODRfX21hcF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjb2xsZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84NF9fbWFwX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg1X19yZWR1Y2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzI5KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlZHVjZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODVfX3JlZHVjZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmb2xkbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODVfX3JlZHVjZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbmplY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg1X19yZWR1Y2VfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODZfX3JlZHVjZVJpZ2h0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZWR1Y2VSaWdodFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODZfX3JlZHVjZVJpZ2h0X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZvbGRyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84Nl9fcmVkdWNlUmlnaHRfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODdfX2ZpbHRlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaWx0ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg3X19maWx0ZXJfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2VsZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84N19fZmlsdGVyX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzg4X19yZWplY3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfODhfX3JlamVjdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84OV9fZXZlcnlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMyKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImV2ZXJ5XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84OV9fZXZlcnlfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYWxsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84OV9fZXZlcnlfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTBfX3NvbWVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMzKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNvbWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkwX19zb21lX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFueVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTBfX3NvbWVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTFfX2NvbnRhaW5zX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbnRhaW5zXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MV9fY29udGFpbnNfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW5jbHVkZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkxX19jb250YWluc19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbmNsdWRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85MV9fY29udGFpbnNfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTJfX2ludm9rZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzQpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW52b2tlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85Ml9faW52b2tlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkzX19wbHVja19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGx1Y2tcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzkzX19wbHVja19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NF9fd2hlcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM1KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIndoZXJlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NF9fd2hlcmVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTVfX21heF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDYpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWF4XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85NV9fbWF4X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk2X19taW5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM2KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1pblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTZfX21pbl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85N19fc2h1ZmZsZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMzcpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2h1ZmZsZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTdfX3NodWZmbGVfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOThfX3NhbXBsZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDcpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2FtcGxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85OF9fc2FtcGxlX2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzk5X19zb3J0QnlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM4KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNvcnRCeVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOTlfX3NvcnRCeV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDBfX2dyb3VwQnlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzM5KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdyb3VwQnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMF9fZ3JvdXBCeV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDFfX2luZGV4QnlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluZGV4QnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMV9faW5kZXhCeV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDJfX2NvdW50QnlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvdW50QnlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwMl9fY291bnRCeV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDNfX3BhcnRpdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFydGl0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDNfX3BhcnRpdGlvbl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDRfX3RvQXJyYXlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQzKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRvQXJyYXlcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwNF9fdG9BcnJheV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDVfX3NpemVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ0KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNpemVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwNV9fc2l6ZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDZfX3BpY2tfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjA4KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInBpY2tcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwNl9fcGlja19qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDdfX29taXRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ2KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9taXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwN19fb21pdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDhfX2ZpcnN0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0Nyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJmaXJzdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA4X19maXJzdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJoZWFkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDhfX2ZpcnN0X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRha2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwOF9fZmlyc3RfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTA5X19pbml0aWFsX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbml0aWFsXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMDlfX2luaXRpYWxfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTEwX19sYXN0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsYXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTBfX2xhc3RfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTExX19yZXN0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMCk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZXN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTFfX3Jlc3RfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidGFpbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTExX19yZXN0X2pzX19bXCJhXCJdOyB9KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRyb3BcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExMV9fcmVzdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTJfX2NvbXBhY3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ5KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbXBhY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExMl9fY29tcGFjdF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTNfX2ZsYXR0ZW5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUwKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImZsYXR0ZW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExM19fZmxhdHRlbl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTRfX3dpdGhvdXRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIndpdGhvdXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExNF9fd2l0aG91dF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTVfX3VuaXFfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEyKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVuaXFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExNV9fdW5pcV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1bmlxdWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExNV9fdW5pcV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTZfX3VuaW9uX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1Mik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1bmlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE2X191bmlvbl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTdfX2ludGVyc2VjdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTMpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW50ZXJzZWN0aW9uXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTdfX2ludGVyc2VjdGlvbl9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMThfX2RpZmZlcmVuY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjExKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRpZmZlcmVuY2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExOF9fZGlmZmVyZW5jZV9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMTlfX3VuemlwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMyk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1bnppcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTE5X191bnppcF9qc19fW1wiYVwiXTsgfSk7XG4vKiBoYXJtb255IHJlZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ0cmFuc3Bvc2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExOV9fdW56aXBfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIwX196aXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU0KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInppcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIwX196aXBfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIxX19vYmplY3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU1KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm9iamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIxX19vYmplY3RfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIyX19yYW5nZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTYpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmFuZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyMl9fcmFuZ2VfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTIzX19jaHVua19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTcpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2h1bmtcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyM19fY2h1bmtfanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI0X19taXhpbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNTgpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwibWl4aW5cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNF9fbWl4aW5fanNfX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTI1X191bmRlcnNjb3JlX2FycmF5X21ldGhvZHNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzU5KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyNV9fdW5kZXJzY29yZV9hcnJheV9tZXRob2RzX2pzX19bXCJhXCJdOyB9KTtcbi8vIE5hbWVkIEV4cG9ydHNcbi8vID09PT09PT09PT09PT1cblxuLy8gICAgIFVuZGVyc2NvcmUuanMgMS4xMi4xXG4vLyAgICAgaHR0cHM6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAyMCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbi8vIEJhc2VsaW5lIHNldHVwLlxuXG5cblxuLy8gT2JqZWN0IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLVxuLy8gT3VyIG1vc3QgZnVuZGFtZW50YWwgZnVuY3Rpb25zIG9wZXJhdGUgb24gYW55IEphdmFTY3JpcHQgb2JqZWN0LlxuLy8gTW9zdCBmdW5jdGlvbnMgaW4gVW5kZXJzY29yZSBkZXBlbmQgb24gYXQgbGVhc3Qgb25lIGZ1bmN0aW9uIGluIHRoaXMgc2VjdGlvbi5cblxuLy8gQSBncm91cCBvZiBmdW5jdGlvbnMgdGhhdCBjaGVjayB0aGUgdHlwZXMgb2YgY29yZSBKYXZhU2NyaXB0IHZhbHVlcy5cbi8vIFRoZXNlIGFyZSBvZnRlbiBpbmZvcm1hbGx5IHJlZmVycmVkIHRvIGFzIHRoZSBcImlzVHlwZVwiIGZ1bmN0aW9ucy5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIEZ1bmN0aW9ucyB0aGF0IHRyZWF0IGFuIG9iamVjdCBhcyBhIGRpY3Rpb25hcnkgb2Yga2V5LXZhbHVlIHBhaXJzLlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEEgYml0IG9mIGEgZ3JhYiBiYWc6IFByZWRpY2F0ZS1nZW5lcmF0aW5nIGZ1bmN0aW9ucyBmb3IgdXNlIHdpdGggZmlsdGVycyBhbmRcbi8vIGxvb3BzLCBzdHJpbmcgZXNjYXBpbmcgYW5kIHRlbXBsYXRpbmcsIGNyZWF0ZSByYW5kb20gbnVtYmVycyBhbmQgdW5pcXVlIGlkcyxcbi8vIGFuZCBmdW5jdGlvbnMgdGhhdCBmYWNpbGl0YXRlIFVuZGVyc2NvcmUncyBjaGFpbmluZyBhbmQgaXRlcmF0aW9uIGNvbnZlbnRpb25zLlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBGdW5jdGlvbiAoYWhlbSkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGVzZSBmdW5jdGlvbnMgdGFrZSBhIGZ1bmN0aW9uIGFzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm4gYSBuZXcgZnVuY3Rpb25cbi8vIGFzIHRoZSByZXN1bHQuIEFsc28ga25vd24gYXMgaGlnaGVyLW9yZGVyIGZ1bmN0aW9ucy5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIEZpbmRlcnNcbi8vIC0tLS0tLS1cbi8vIEZ1bmN0aW9ucyB0aGF0IGV4dHJhY3QgKHRoZSBwb3NpdGlvbiBvZikgYSBzaW5nbGUgZWxlbWVudCBmcm9tIGFuIG9iamVjdFxuLy8gb3IgYXJyYXkgYmFzZWQgb24gc29tZSBjcml0ZXJpb24uXG5cblxuXG5cblxuXG5cblxuXG4vLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZ1bmN0aW9ucyB0aGF0IHdvcmsgb24gYW55IGNvbGxlY3Rpb24gb2YgZWxlbWVudHM6IGVpdGhlciBhbiBhcnJheSwgb3Jcbi8vIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBgXy5waWNrYCBhbmQgYF8ub21pdGAgYXJlIGFjdHVhbGx5IG9iamVjdCBmdW5jdGlvbnMsIGJ1dCB3ZSBwdXRcbi8vIHRoZW0gaGVyZSBpbiBvcmRlciB0byBjcmVhdGUgYSBtb3JlIG5hdHVyYWwgcmVhZGluZyBvcmRlciBpbiB0aGVcbi8vIG1vbm9saXRoaWMgYnVpbGQgYXMgdGhleSBkZXBlbmQgb24gYF8uY29udGFpbnNgLlxuXG5cblxuLy8gQXJyYXkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS1cbi8vIEZ1bmN0aW9ucyB0aGF0IG9wZXJhdGUgb24gYXJyYXlzIChhbmQgYXJyYXktbGlrZXMpIG9ubHksIGJlY2F1c2UgdGhleeKAmXJlXG4vLyBleHByZXNzZWQgaW4gdGVybXMgb2Ygb3BlcmF0aW9ucyBvbiBhbiBvcmRlcmVkIGxpc3Qgb2YgdmFsdWVzLlxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIE9PUFxuLy8gLS0tXG4vLyBUaGVzZSBtb2R1bGVzIHN1cHBvcnQgdGhlIFwib2JqZWN0LW9yaWVudGVkXCIgY2FsbGluZyBzdHlsZS4gU2VlIGFsc29cbi8vIGB1bmRlcnNjb3JlLmpzYCBhbmQgYGluZGV4LWRlZmF1bHQuanNgLlxuXG5cblxuXG4vKioqLyB9KSxcbi8qIDEyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJ1N0cmluZycpKTtcblxuXG4vKioqLyB9KSxcbi8qIDEyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0Z1bmN0aW9uX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzQXJyYXlCdWZmZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3N0cmluZ1RhZ0J1Z19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cblxuXG5cblxudmFyIGlzRGF0YVZpZXcgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJ0RhdGFWaWV3Jyk7XG5cbi8vIEluIElFIDEwIC0gRWRnZSAxMywgd2UgbmVlZCBhIGRpZmZlcmVudCBoZXVyaXN0aWNcbi8vIHRvIGRldGVybWluZSB3aGV0aGVyIGFuIG9iamVjdCBpcyBhIGBEYXRhVmlld2AuXG5mdW5jdGlvbiBpZTEwSXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRnVuY3Rpb25fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLmdldEludDgpICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzQXJyYXlCdWZmZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLmJ1ZmZlcik7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zdHJpbmdUYWdCdWdfanNfX1tcImFcIiAvKiBoYXNTdHJpbmdUYWdCdWcgKi9dID8gaWUxMElzRGF0YVZpZXcgOiBpc0RhdGFWaWV3KTtcblxuXG4vKioqLyB9KSxcbi8qIDEyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19oYXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG5cblxudmFyIGlzQXJndW1lbnRzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdBcmd1bWVudHMnKTtcblxuLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbihmdW5jdGlvbigpIHtcbiAgaWYgKCFpc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19oYXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxufSgpKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChpc0FyZ3VtZW50cyk7XG5cblxuLyoqKi8gfSksXG4vKiAxMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zaGFsbG93UHJvcGVydHlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblxuXG4vLyBJbnRlcm5hbCBoZWxwZXIgdG8gb2J0YWluIHRoZSBgYnl0ZUxlbmd0aGAgcHJvcGVydHkgb2YgYW4gb2JqZWN0LlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zaGFsbG93UHJvcGVydHlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJ2J5dGVMZW5ndGgnKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGllMTFmaW5nZXJwcmludDtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJiXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWFwTWV0aG9kczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHdlYWtNYXBNZXRob2RzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJjXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0TWV0aG9kczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRMZW5ndGhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19hbGxLZXlzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblxuXG5cblxuLy8gU2luY2UgdGhlIHJlZ3VsYXIgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIHR5cGUgdGVzdHMgZG9uJ3Qgd29yayBmb3Jcbi8vIHNvbWUgdHlwZXMgaW4gSUUgMTEsIHdlIHVzZSBhIGZpbmdlcnByaW50aW5nIGhldXJpc3RpYyBpbnN0ZWFkLCBiYXNlZFxuLy8gb24gdGhlIG1ldGhvZHMuIEl0J3Mgbm90IGdyZWF0LCBidXQgaXQncyB0aGUgYmVzdCB3ZSBnb3QuXG4vLyBUaGUgZmluZ2VycHJpbnQgbWV0aG9kIGxpc3RzIGFyZSBkZWZpbmVkIGJlbG93LlxuZnVuY3Rpb24gaWUxMWZpbmdlcnByaW50KG1ldGhvZHMpIHtcbiAgdmFyIGxlbmd0aCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShtZXRob2RzKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGBNYXBgLCBgV2Vha01hcGAgYW5kIGBTZXRgIGhhdmUgbm8gZW51bWVyYWJsZSBrZXlzLlxuICAgIHZhciBrZXlzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYWxsS2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopO1xuICAgIGlmIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoa2V5cykpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRnVuY3Rpb25fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqW21ldGhvZHNbaV1dKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBhcmUgdGVzdGluZyBhZ2FpbnN0IGBXZWFrTWFwYCwgd2UgbmVlZCB0byBlbnN1cmUgdGhhdFxuICAgIC8vIGBvYmpgIGRvZXNuJ3QgaGF2ZSBhIGBmb3JFYWNoYCBtZXRob2QgaW4gb3JkZXIgdG8gZGlzdGluZ3Vpc2hcbiAgICAvLyBpdCBmcm9tIGEgcmVndWxhciBgTWFwYC5cbiAgICByZXR1cm4gbWV0aG9kcyAhPT0gd2Vha01hcE1ldGhvZHMgfHwgIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRnVuY3Rpb25fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqW2ZvckVhY2hOYW1lXSk7XG4gIH07XG59XG5cbi8vIEluIHRoZSBpbnRlcmVzdCBvZiBjb21wYWN0IG1pbmlmaWNhdGlvbiwgd2Ugd3JpdGVcbi8vIGVhY2ggc3RyaW5nIGluIHRoZSBmaW5nZXJwcmludHMgb25seSBvbmNlLlxudmFyIGZvckVhY2hOYW1lID0gJ2ZvckVhY2gnLFxuICAgIGhhc05hbWUgPSAnaGFzJyxcbiAgICBjb21tb25Jbml0ID0gWydjbGVhcicsICdkZWxldGUnXSxcbiAgICBtYXBUYWlsID0gWydnZXQnLCBoYXNOYW1lLCAnc2V0J107XG5cbi8vIGBNYXBgLCBgV2Vha01hcGAgYW5kIGBTZXRgIGVhY2ggaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnRcbi8vIGNvbWJpbmF0aW9ucyBvZiB0aGUgYWJvdmUgc3VibGlzdHMuXG52YXIgbWFwTWV0aG9kcyA9IGNvbW1vbkluaXQuY29uY2F0KGZvckVhY2hOYW1lLCBtYXBUYWlsKSxcbiAgICB3ZWFrTWFwTWV0aG9kcyA9IGNvbW1vbkluaXQuY29uY2F0KG1hcFRhaWwpLFxuICAgIHNldE1ldGhvZHMgPSBbJ2FkZCddLmNvbmNhdChjb21tb25Jbml0LCBmb3JFYWNoTmFtZSwgaGFzTmFtZSk7XG5cblxuLyoqKi8gfSksXG4vKiAxMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGNyZWF0ZUFzc2lnbmVyO1xuLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFzc2lnbmVyIGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGtleXNGdW5jLCBkZWZhdWx0cykge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGRlZmF1bHRzKSBvYmogPSBPYmplY3Qob2JqKTtcbiAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XSxcbiAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICBsID0ga2V5cy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKCFkZWZhdWx0cyB8fCBvYmpba2V5XSA9PT0gdm9pZCAwKSBvYmpba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlQXNzaWduZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cblxuLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pblxuLy8gb2JqZWN0KHMpLlxuLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZUFzc2lnbmVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fa2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGRlZXBHZXQ7XG4vLyBJbnRlcm5hbCBmdW5jdGlvbiB0byBvYnRhaW4gYSBuZXN0ZWQgcHJvcGVydHkgaW4gYG9iamAgYWxvbmcgYHBhdGhgLlxuZnVuY3Rpb24gZGVlcEdldChvYmosIHBhdGgpIHtcbiAgdmFyIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIG9iaiA9IG9ialtwYXRoW2ldXTtcbiAgfVxuICByZXR1cm4gbGVuZ3RoID8gb2JqIDogdm9pZCAwO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBpZGVudGl0eTtcbi8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cblxuLyoqKi8gfSksXG4vKiAxMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHByb3BlcnR5O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZGVlcEdldF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdG9QYXRoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblxuXG5cbi8vIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIHBhc3NlZCBhbiBvYmplY3QsIHdpbGwgdHJhdmVyc2UgdGhhdCBvYmplY3TigJlzXG4vLyBwcm9wZXJ0aWVzIGRvd24gdGhlIGdpdmVuIGBwYXRoYCwgc3BlY2lmaWVkIGFzIGFuIGFycmF5IG9mIGtleXMgb3IgaW5kaWNlcy5cbmZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgcGF0aCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3RvUGF0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwYXRoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19kZWVwR2V0X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwgcGF0aCk7XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAxMzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDEzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gbmVnYXRlO1xuLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbmZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAxMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTkpO1xuXG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSB0cnV0aCB0ZXN0LlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgxKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHBsdWNrO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbWFwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3Byb3BlcnR5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG5cblxuXG4vLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBfLm1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG5mdW5jdGlvbiBwbHVjayhvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbWFwX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fcHJvcGVydHlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoa2V5KSk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAxMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBhcmd1bWVudCkge1xuICB2YXIgbWV0aG9kID0gW11bTUVUSE9EX05BTUVdO1xuICByZXR1cm4gISFtZXRob2QgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhbGwgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgICBtZXRob2QuY2FsbChudWxsLCBhcmd1bWVudCB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9LCAxKTtcbiAgfSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjgpO1xuXG4vKioqLyB9KSxcbi8qIDE0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjI5KTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzMSk7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gKG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgX1N5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBfU3ltYm9sJGl0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBfU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX1N5bWJvbCAmJiBvYmogIT09IF9TeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cyksIF90eXBlb2Yob2JqKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogMTQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5leHBvcnRzLmYgPSB3ZWxsS25vd25TeW1ib2w7XG5cblxuLyoqKi8gfSksXG4vKiAxNDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3NSk7XG5cbi8qKiovIH0pLFxuLyogMTQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzUpO1xuXG4vKioqLyB9KSxcbi8qIDE0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuLy8gTmFzaG9ybiB+IEpESzggYnVnXG52YXIgTkFTSE9STl9CVUcgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgISRwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHsgMTogMiB9LCAxKTtcblxuLy8gYE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGVgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnByb3BlcnR5aXNlbnVtZXJhYmxlXG5leHBvcnRzLmYgPSBOQVNIT1JOX0JVRyA/IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKFYpIHtcbiAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgVik7XG4gIHJldHVybiAhIWRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5lbnVtZXJhYmxlO1xufSA6ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqLyB9KSxcbi8qIDE0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfU1lNQk9MXG4gICYmICFTeW1ib2wuc2hhbVxuICAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnO1xuXG5cbi8qKiovIH0pLFxuLyogMTQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXG4vLyBUaGFua3MgdG8gSUU4IGZvciBpdHMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIURFU0NSSVBUT1JTICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGNyZWF0ZUVsZW1lbnQoJ2RpdicpLCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH1cbiAgfSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKi8gfSksXG4vKiAxNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxudmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxudmFyIGlzRm9yY2VkID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gIHJldHVybiB2YWx1ZSA9PSBQT0xZRklMTCA/IHRydWVcbiAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgOiBpc0NhbGxhYmxlKGRldGVjdGlvbikgPyBmYWlscyhkZXRlY3Rpb24pXG4gICAgOiAhIWRldGVjdGlvbjtcbn07XG5cbnZhciBub3JtYWxpemUgPSBpc0ZvcmNlZC5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlcGxhY2VtZW50LCAnLicpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgZGF0YSA9IGlzRm9yY2VkLmRhdGEgPSB7fTtcbnZhciBOQVRJVkUgPSBpc0ZvcmNlZC5OQVRJVkUgPSAnTic7XG52YXIgUE9MWUZJTEwgPSBpc0ZvcmNlZC5QT0xZRklMTCA9ICdQJztcblxubW9kdWxlLmV4cG9ydHMgPSBpc0ZvcmNlZDtcblxuXG4vKioqLyB9KSxcbi8qIDE0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbi8vIFY4IH4gQ2hyb21lIDM2LVxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzMzNFxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgJ3Byb3RvdHlwZScsIHtcbiAgICB2YWx1ZTogNDIsXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pLnByb3RvdHlwZSAhPSA0Mjtcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRigpIHsgLyogZW1wdHkgKi8gfVxuICBGLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IG51bGw7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRwcm90b3R5cGVvZiAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBGKCkpICE9PSBGLnByb3RvdHlwZTtcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG52YXIgaW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KS5pbmRleE9mO1xudmFyIGhpZGRlbktleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTtcblxudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgIWhhc093bihoaWRkZW5LZXlzLCBrZXkpICYmIGhhc093bihPLCBrZXkpICYmIHB1c2gocmVzdWx0LCBrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzT3duKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHB1c2gocmVzdWx0LCBrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTUyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciBvYmplY3RLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnRpZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnRpZXMgLS0gc2FmZVxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgJiYgIVY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBwcm9wcyA9IHRvSW5kZXhlZE9iamVjdChQcm9wZXJ0aWVzKTtcbiAgdmFyIGtleXMgPSBvYmplY3RLZXlzKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsZW5ndGggPiBpbmRleCkgZGVmaW5lUHJvcGVydHlNb2R1bGUuZihPLCBrZXkgPSBrZXlzW2luZGV4KytdLCBwcm9wc1trZXldKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignZG9jdW1lbnQnLCAnZG9jdW1lbnRFbGVtZW50Jyk7XG5cblxuLyoqKi8gfSksXG4vKiAxNTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b3R5cGVbSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTU1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgYUNhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciB0cnlUb1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xudmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCwgdXNpbmdJdGVyYXRvcikge1xuICB2YXIgaXRlcmF0b3JNZXRob2QgPSBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGdldEl0ZXJhdG9yTWV0aG9kKGFyZ3VtZW50KSA6IHVzaW5nSXRlcmF0b3I7XG4gIGlmIChhQ2FsbGFibGUoaXRlcmF0b3JNZXRob2QpKSByZXR1cm4gYW5PYmplY3QoY2FsbChpdGVyYXRvck1ldGhvZCwgYXJndW1lbnQpKTtcbiAgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhhcmd1bWVudCkgKyAnIGlzIG5vdCBpdGVyYWJsZScpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG52YXIgZ2V0TWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwga2luZCwgdmFsdWUpIHtcbiAgdmFyIGlubmVyUmVzdWx0LCBpbm5lckVycm9yO1xuICBhbk9iamVjdChpdGVyYXRvcik7XG4gIHRyeSB7XG4gICAgaW5uZXJSZXN1bHQgPSBnZXRNZXRob2QoaXRlcmF0b3IsICdyZXR1cm4nKTtcbiAgICBpZiAoIWlubmVyUmVzdWx0KSB7XG4gICAgICBpZiAoa2luZCA9PT0gJ3Rocm93JykgdGhyb3cgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlubmVyUmVzdWx0ID0gY2FsbChpbm5lclJlc3VsdCwgaXRlcmF0b3IpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlubmVyRXJyb3IgPSB0cnVlO1xuICAgIGlubmVyUmVzdWx0ID0gZXJyb3I7XG4gIH1cbiAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICBpZiAoaW5uZXJFcnJvcikgdGhyb3cgaW5uZXJSZXN1bHQ7XG4gIGFuT2JqZWN0KGlubmVyUmVzdWx0KTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGNhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG52YXIgRnVuY3Rpb25OYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2NSk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG52YXIgSXRlcmF0b3JzQ29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblxudmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gRnVuY3Rpb25OYW1lLlBST1BFUjtcbnZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IEZ1bmN0aW9uTmFtZS5DT05GSUdVUkFCTEU7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSBJdGVyYXRvcnNDb3JlLkl0ZXJhdG9yUHJvdG90eXBlO1xudmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSBJdGVyYXRvcnNDb3JlLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlM7XG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcbnZhciBFTlRSSUVTID0gJ2VudHJpZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEl0ZXJhYmxlLCBOQU1FLCBJdGVyYXRvckNvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXG4gIHZhciBnZXRJdGVyYXRpb25NZXRob2QgPSBmdW5jdGlvbiAoS0lORCkge1xuICAgIGlmIChLSU5EID09PSBERUZBVUxUICYmIGRlZmF1bHRJdGVyYXRvcikgcmV0dXJuIGRlZmF1bHRJdGVyYXRvcjtcbiAgICBpZiAoIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgS0lORCBpbiBJdGVyYWJsZVByb3RvdHlwZSkgcmV0dXJuIEl0ZXJhYmxlUHJvdG90eXBlW0tJTkRdO1xuICAgIHN3aXRjaCAoS0lORCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMsIEtJTkQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgRU5UUklFUzogcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzKTsgfTtcbiAgfTtcblxuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IGZhbHNlO1xuICB2YXIgSXRlcmFibGVQcm90b3R5cGUgPSBJdGVyYWJsZS5wcm90b3R5cGU7XG4gIHZhciBuYXRpdmVJdGVyYXRvciA9IEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SXVxuICAgIHx8IEl0ZXJhYmxlUHJvdG90eXBlWydAQGl0ZXJhdG9yJ11cbiAgICB8fCBERUZBVUxUICYmIEl0ZXJhYmxlUHJvdG90eXBlW0RFRkFVTFRdO1xuICB2YXIgZGVmYXVsdEl0ZXJhdG9yID0gIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgbmF0aXZlSXRlcmF0b3IgfHwgZ2V0SXRlcmF0aW9uTWV0aG9kKERFRkFVTFQpO1xuICB2YXIgYW55TmF0aXZlSXRlcmF0b3IgPSBOQU1FID09ICdBcnJheScgPyBJdGVyYWJsZVByb3RvdHlwZS5lbnRyaWVzIHx8IG5hdGl2ZUl0ZXJhdG9yIDogbmF0aXZlSXRlcmF0b3I7XG4gIHZhciBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIG1ldGhvZHMsIEtFWTtcblxuICAvLyBmaXggbmF0aXZlXG4gIGlmIChhbnlOYXRpdmVJdGVyYXRvcikge1xuICAgIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKGFueU5hdGl2ZUl0ZXJhdG9yLmNhbGwobmV3IEl0ZXJhYmxlKCkpKTtcbiAgICBpZiAoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICBpZiAoIUlTX1BVUkUgJiYgZ2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlKSAhPT0gSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgc2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBJdGVyYXRvclByb3RvdHlwZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSkpIHtcbiAgICAgICAgICBkZWZpbmVCdWlsdEluKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIFRPX1NUUklOR19UQUcsIHRydWUsIHRydWUpO1xuICAgICAgaWYgKElTX1BVUkUpIEl0ZXJhdG9yc1tUT19TVFJJTkdfVEFHXSA9IHJldHVyblRoaXM7XG4gICAgfVxuICB9XG5cbiAgLy8gZml4IEFycmF5LnByb3RvdHlwZS57IHZhbHVlcywgQEBpdGVyYXRvciB9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoUFJPUEVSX0ZVTkNUSU9OX05BTUUgJiYgREVGQVVMVCA9PSBWQUxVRVMgJiYgbmF0aXZlSXRlcmF0b3IgJiYgbmF0aXZlSXRlcmF0b3IubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgaWYgKCFJU19QVVJFICYmIENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmFibGVQcm90b3R5cGUsICduYW1lJywgVkFMVUVTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gdHJ1ZTtcbiAgICAgIGRlZmF1bHRJdGVyYXRvciA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIGNhbGwobmF0aXZlSXRlcmF0b3IsIHRoaXMpOyB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIGV4cG9ydCBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBnZXRJdGVyYXRpb25NZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/IGRlZmF1bHRJdGVyYXRvciA6IGdldEl0ZXJhdGlvbk1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChFTlRSSUVTKVxuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChLRVkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIHx8ICEoS0VZIGluIEl0ZXJhYmxlUHJvdG90eXBlKSkge1xuICAgICAgICBkZWZpbmVCdWlsdEluKEl0ZXJhYmxlUHJvdG90eXBlLCBLRVksIG1ldGhvZHNbS0VZXSk7XG4gICAgICB9XG4gICAgfSBlbHNlICQoeyB0YXJnZXQ6IE5BTUUsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIH0sIG1ldGhvZHMpO1xuICB9XG5cbiAgLy8gZGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUlTX1BVUkUgfHwgRk9SQ0VEKSAmJiBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl0gIT09IGRlZmF1bHRJdGVyYXRvcikge1xuICAgIGRlZmluZUJ1aWx0SW4oSXRlcmFibGVQcm90b3R5cGUsIElURVJBVE9SLCBkZWZhdWx0SXRlcmF0b3IsIHsgbmFtZTogREVGQVVMVCB9KTtcbiAgfVxuICBJdGVyYXRvcnNbTkFNRV0gPSBkZWZhdWx0SXRlcmF0b3I7XG5cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIGhhc093biA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciBnZXREZXNjcmlwdG9yID0gREVTQ1JJUFRPUlMgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxudmFyIEVYSVNUUyA9IGhhc093bihGdW5jdGlvblByb3RvdHlwZSwgJ25hbWUnKTtcbi8vIGFkZGl0aW9uYWwgcHJvdGVjdGlvbiBmcm9tIG1pbmlmaWVkIC8gbWFuZ2xlZCAvIGRyb3BwZWQgZnVuY3Rpb24gbmFtZXNcbnZhciBQUk9QRVIgPSBFWElTVFMgJiYgKGZ1bmN0aW9uIHNvbWV0aGluZygpIHsgLyogZW1wdHkgKi8gfSkubmFtZSA9PT0gJ3NvbWV0aGluZyc7XG52YXIgQ09ORklHVVJBQkxFID0gRVhJU1RTICYmICghREVTQ1JJUFRPUlMgfHwgKERFU0NSSVBUT1JTICYmIGdldERlc2NyaXB0b3IoRnVuY3Rpb25Qcm90b3R5cGUsICduYW1lJykuY29uZmlndXJhYmxlKSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBFWElTVFM6IEVYSVNUUyxcbiAgUFJPUEVSOiBQUk9QRVIsXG4gIENPTkZJR1VSQUJMRTogQ09ORklHVVJBQkxFXG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xudmFyIGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgSVNfUFVSRSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyA9IGZhbHNlO1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJWAgb2JqZWN0XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVpdGVyYXRvcnByb3RvdHlwZSUtb2JqZWN0XG52YXIgSXRlcmF0b3JQcm90b3R5cGUsIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSwgYXJyYXlJdGVyYXRvcjtcblxuLyogZXNsaW50LWRpc2FibGUgZXMteC9uby1hcnJheS1wcm90b3R5cGUta2V5cyAtLSBzYWZlICovXG5pZiAoW10ua2V5cykge1xuICBhcnJheUl0ZXJhdG9yID0gW10ua2V5cygpO1xuICAvLyBTYWZhcmkgOCBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgaWYgKCEoJ25leHQnIGluIGFycmF5SXRlcmF0b3IpKSBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gdHJ1ZTtcbiAgZWxzZSB7XG4gICAgUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoZ2V0UHJvdG90eXBlT2YoYXJyYXlJdGVyYXRvcikpO1xuICAgIGlmIChQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpIEl0ZXJhdG9yUHJvdG90eXBlID0gUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG59XG5cbnZhciBORVdfSVRFUkFUT1JfUFJPVE9UWVBFID0gSXRlcmF0b3JQcm90b3R5cGUgPT0gdW5kZWZpbmVkIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRlc3QgPSB7fTtcbiAgLy8gRkY0NC0gbGVnYWN5IGl0ZXJhdG9ycyBjYXNlXG4gIHJldHVybiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0uY2FsbCh0ZXN0KSAhPT0gdGVzdDtcbn0pO1xuXG5pZiAoTkVXX0lURVJBVE9SX1BST1RPVFlQRSkgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbmVsc2UgaWYgKElTX1BVUkUpIEl0ZXJhdG9yUHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcblxuLy8gYCVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVpdGVyYXRvcnByb3RvdHlwZSUtQEBpdGVyYXRvclxuaWYgKCFpc0NhbGxhYmxlKEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSkpIHtcbiAgZGVmaW5lQnVpbHRJbihJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBJdGVyYXRvclByb3RvdHlwZTogSXRlcmF0b3JQcm90b3R5cGUsXG4gIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6IEJVR0dZX1NBRkFSSV9JVEVSQVRPUlNcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG52YXIgYUNvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbi8vIGBTcGVjaWVzQ29uc3RydWN0b3JgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zcGVjaWVzY29uc3RydWN0b3Jcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIGRlZmF1bHRDb25zdHJ1Y3Rvcikge1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yO1xuICB2YXIgUztcbiAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA9PSB1bmRlZmluZWQgPyBkZWZhdWx0Q29uc3RydWN0b3IgOiBhQ29uc3RydWN0b3IoUyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG52YXIgdHJ5VG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IElzQ29uc3RydWN0b3IoYXJndW1lbnQpIGlzIHRydWVgXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhhcmd1bWVudCkgKyAnIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTYyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGFwcGx5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGhhc093biA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBodG1sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xudmFyIGFycmF5U2xpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcbnZhciBjcmVhdGVFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xudmFyIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzEpO1xudmFyIElTX0lPUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcbnZhciBJU19OT0RFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cbnZhciBzZXQgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xudmFyIGNsZWFyID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBEaXNwYXRjaCA9IGdsb2JhbC5EaXNwYXRjaDtcbnZhciBGdW5jdGlvbiA9IGdsb2JhbC5GdW5jdGlvbjtcbnZhciBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbDtcbnZhciBTdHJpbmcgPSBnbG9iYWwuU3RyaW5nO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlID0ge307XG52YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG52YXIgbG9jYXRpb24sIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xuXG50cnkge1xuICAvLyBEZW5vIHRocm93cyBhIFJlZmVyZW5jZUVycm9yIG9uIGBsb2NhdGlvbmAgYWNjZXNzIHdpdGhvdXQgYC0tbG9jYXRpb25gIGZsYWdcbiAgbG9jYXRpb24gPSBnbG9iYWwubG9jYXRpb247XG59IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG5cbnZhciBydW4gPSBmdW5jdGlvbiAoaWQpIHtcbiAgaWYgKGhhc093bihxdWV1ZSwgaWQpKSB7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcblxudmFyIHJ1bm5lciA9IGZ1bmN0aW9uIChpZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJ1bihpZCk7XG4gIH07XG59O1xuXG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcnVuKGV2ZW50LmRhdGEpO1xufTtcblxudmFyIHBvc3QgPSBmdW5jdGlvbiAoaWQpIHtcbiAgLy8gb2xkIGVuZ2luZXMgaGF2ZSBub3QgbG9jYXRpb24ub3JpZ2luXG4gIGdsb2JhbC5wb3N0TWVzc2FnZShTdHJpbmcoaWQpLCBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0KTtcbn07XG5cbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmICghc2V0IHx8ICFjbGVhcikge1xuICBzZXQgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoaGFuZGxlcikge1xuICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpO1xuICAgIHZhciBmbiA9IGlzQ2FsbGFibGUoaGFuZGxlcikgPyBoYW5kbGVyIDogRnVuY3Rpb24oaGFuZGxlcik7XG4gICAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwcGx5KGZuLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpIHtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYgKElTX05PREUpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhydW5uZXIoaWQpKTtcbiAgICB9O1xuICAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUElcbiAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgRGlzcGF0Y2gubm93KHJ1bm5lcihpZCkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgLy8gZXhjZXB0IGlPUyAtIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82MjRcbiAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCAmJiAhSVNfSU9TKSB7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBiaW5kKHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmIChcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJlxuICAgIGlzQ2FsbGFibGUoZ2xvYmFsLnBvc3RNZXNzYWdlKSAmJlxuICAgICFnbG9iYWwuaW1wb3J0U2NyaXB0cyAmJlxuICAgIGxvY2F0aW9uICYmIGxvY2F0aW9uLnByb3RvY29sICE9PSAnZmlsZTonICYmXG4gICAgIWZhaWxzKHBvc3QpXG4gICkge1xuICAgIGRlZmVyID0gcG9zdDtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIC8vIElFOC1cbiAgfSBlbHNlIGlmIChPTlJFQURZU1RBVEVDSEFOR0UgaW4gY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuKGlkKTtcbiAgICAgIH07XG4gICAgfTtcbiAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcbiAgfSBlbHNlIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgc2V0VGltZW91dChydW5uZXIoaWQpLCAwKTtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldCxcbiAgY2xlYXI6IGNsZWFyXG59O1xuXG5cbi8qKiovIH0pLFxuLyogMTYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxubW9kdWxlLmV4cG9ydHMgPSAvKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdCh1c2VyQWdlbnQpO1xuXG5cbi8qKiovIH0pLFxuLyogMTY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcbnZhciBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KS5DT05TVFJVQ1RPUjtcblxubW9kdWxlLmV4cG9ydHMgPSBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiB8fCAhY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uKGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IuYWxsKGl0ZXJhYmxlKS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTY1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciBjYWxsZWQgPSAwO1xuICB2YXIgaXRlcmF0b3JXaXRoUmV0dXJuID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGRvbmU6ICEhY2FsbGVkKysgfTtcbiAgICB9LFxuICAgICdyZXR1cm4nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBTQUZFX0NMT1NJTkcgPSB0cnVlO1xuICAgIH1cbiAgfTtcbiAgaXRlcmF0b3JXaXRoUmV0dXJuW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tYXJyYXktZnJvbSwgbm8tdGhyb3ctbGl0ZXJhbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBBcnJheS5mcm9tKGl0ZXJhdG9yV2l0aFJldHVybiwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgU0tJUF9DTE9TSU5HKSB7XG4gIGlmICghU0tJUF9DTE9TSU5HICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIElURVJBVElPTl9TVVBQT1JUID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogSVRFUkFUSU9OX1NVUFBPUlQgPSB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleGVjKG9iamVjdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIElURVJBVElPTl9TVVBQT1JUO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDE2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEMsIHgpIHtcbiAgYW5PYmplY3QoQyk7XG4gIGlmIChpc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgdmFyIHJlc29sdmUgPSBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlO1xuICByZXNvbHZlKHgpO1xuICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxNjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGlzVW5kZWZpbmVkO1xuLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTY4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBpc0Jvb2xlYW47XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcInRcIiAvKiB0b1N0cmluZyAqL10uY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG59XG5cblxuLyoqKi8gfSksXG4vKiAxNjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdOdW1iZXInKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxNzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdTeW1ib2wnKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxNzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdBcnJheUJ1ZmZlcicpKTtcblxuXG4vKioqLyB9KSxcbi8qIDE3MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gaXNOYU47XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzTnVtYmVyX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cblxuXG4vLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG5mdW5jdGlvbiBpc05hTihvYmopIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzTnVtYmVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcImdcIiAvKiBfaXNOYU4gKi9dKShvYmopO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTczICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0RhdGFWaWV3X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19jb25zdGFudF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19faXNCdWZmZXJMaWtlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5Nik7XG5cblxuXG5cblxuLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIHR5cGVkIGFycmF5P1xudmFyIHR5cGVkQXJyYXlQYXR0ZXJuID0gL1xcW29iamVjdCAoKEl8VWkpbnQoOHwxNnwzMil8RmxvYXQoMzJ8NjQpfFVpbnQ4Q2xhbXBlZHxCaWcoSXxVaSludDY0KUFycmF5XFxdLztcbmZ1bmN0aW9uIGlzVHlwZWRBcnJheShvYmopIHtcbiAgLy8gYEFycmF5QnVmZmVyLmlzVmlld2AgaXMgdGhlIG1vc3QgZnV0dXJlLXByb29mLCBzbyB1c2UgaXQgd2hlbiBhdmFpbGFibGUuXG4gIC8vIE90aGVyd2lzZSwgZmFsbCBiYWNrIG9uIHRoZSBhYm92ZSByZWd1bGFyIGV4cHJlc3Npb24uXG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJsXCIgLyogbmF0aXZlSXNWaWV3ICovXSA/IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fW1wibFwiIC8qIG5hdGl2ZUlzVmlldyAqL10pKG9iaikgJiYgIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRGF0YVZpZXdfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSkgOlxuICAgICAgICAgICAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2lzQnVmZmVyTGlrZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopICYmIHR5cGVkQXJyYXlQYXR0ZXJuLnRlc3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fW1widFwiIC8qIHRvU3RyaW5nICovXS5jYWxsKG9iaikpO1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcInJcIiAvKiBzdXBwb3J0c0FycmF5QnVmZmVyICovXSA/IGlzVHlwZWRBcnJheSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NvbnN0YW50X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZhbHNlKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGNvbnN0YW50O1xuLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb24uIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTc1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjcmVhdGVTaXplUHJvcGVydHlDaGVjaztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cbi8vIENvbW1vbiBpbnRlcm5hbCBsb2dpYyBmb3IgYGlzQXJyYXlMaWtlYCBhbmQgYGlzQnVmZmVyTGlrZWAuXG5mdW5jdGlvbiBjcmVhdGVTaXplUHJvcGVydHlDaGVjayhnZXRTaXplUHJvcGVydHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgc2l6ZVByb3BlcnR5ID0gZ2V0U2l6ZVByb3BlcnR5KGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2Ygc2l6ZVByb3BlcnR5ID09ICdudW1iZXInICYmIHNpemVQcm9wZXJ0eSA+PSAwICYmIHNpemVQcm9wZXJ0eSA8PSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJiXCIgLyogTUFYX0FSUkFZX0lOREVYICovXTtcbiAgfVxufVxuXG5cbi8qKiovIH0pLFxuLyogMTc2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBzaGFsbG93UHJvcGVydHk7XG4vLyBJbnRlcm5hbCBoZWxwZXIgdG8gZ2VuZXJhdGUgYSBmdW5jdGlvbiB0byBvYnRhaW4gcHJvcGVydHkgYGtleWAgZnJvbSBgb2JqYC5cbmZ1bmN0aW9uIHNoYWxsb3dQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtrZXldO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTc3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjb2xsZWN0Tm9uRW51bVByb3BzO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0Z1bmN0aW9uX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2hhc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cblxuXG5cbi8vIEludGVybmFsIGhlbHBlciB0byBjcmVhdGUgYSBzaW1wbGUgbG9va3VwIHN0cnVjdHVyZS5cbi8vIGBjb2xsZWN0Tm9uRW51bVByb3BzYCB1c2VkIHRvIGRlcGVuZCBvbiBgXy5jb250YWluc2AsIGJ1dCB0aGlzIGxlZCB0b1xuLy8gY2lyY3VsYXIgaW1wb3J0cy4gYGVtdWxhdGVkU2V0YCBpcyBhIG9uZS1vZmYgc29sdXRpb24gdGhhdCBvbmx5IHdvcmtzIGZvclxuLy8gYXJyYXlzIG9mIHN0cmluZ3MuXG5mdW5jdGlvbiBlbXVsYXRlZFNldChrZXlzKSB7XG4gIHZhciBoYXNoID0ge307XG4gIGZvciAodmFyIGwgPSBrZXlzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyArK2kpIGhhc2hba2V5c1tpXV0gPSB0cnVlO1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5zOiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGhhc2hba2V5XTsgfSxcbiAgICBwdXNoOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGhhc2hba2V5XSA9IHRydWU7XG4gICAgICByZXR1cm4ga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBJbnRlcm5hbCBoZWxwZXIuIENoZWNrcyBga2V5c2AgZm9yIHRoZSBwcmVzZW5jZSBvZiBrZXlzIGluIElFIDwgOSB0aGF0IHdvbid0XG4vLyBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC4gRXh0ZW5kcyBga2V5c2AgaW4gcGxhY2UgaWZcbi8vIG5lZWRlZC5cbmZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gIGtleXMgPSBlbXVsYXRlZFNldChrZXlzKTtcbiAgdmFyIG5vbkVudW1JZHggPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJuXCIgLyogbm9uRW51bWVyYWJsZVByb3BzICovXS5sZW5ndGg7XG4gIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgdmFyIHByb3RvID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjb25zdHJ1Y3RvcikgJiYgY29uc3RydWN0b3IucHJvdG90eXBlIHx8IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcImNcIiAvKiBPYmpQcm90byAqL107XG5cbiAgLy8gQ29uc3RydWN0b3IgaXMgYSBzcGVjaWFsIGNhc2UuXG4gIHZhciBwcm9wID0gJ2NvbnN0cnVjdG9yJztcbiAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2hhc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIHByb3ApICYmICFrZXlzLmNvbnRhaW5zKHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgd2hpbGUgKG5vbkVudW1JZHgtLSkge1xuICAgIHByb3AgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJuXCIgLyogbm9uRW51bWVyYWJsZVByb3BzICovXVtub25FbnVtSWR4XTtcbiAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAha2V5cy5jb250YWlucyhwcm9wKSkge1xuICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qKiovIH0pLFxuLyogMTc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBpc01hdGNoO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fa2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cblxuLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG5mdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgYXR0cnMpIHtcbiAgdmFyIF9rZXlzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fa2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhdHRycyksIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IF9rZXlzW2ldO1xuICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqKi8gfSksXG4vKiAxNzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGludmVydDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cbi8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbmZ1bmN0aW9uIGludmVydChvYmopIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICB2YXIgX2tleXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19rZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaik7XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBfa2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdFtvYmpbX2tleXNbaV1dXSA9IF9rZXlzW2ldO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqKi8gfSksXG4vKiAxODAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGZ1bmN0aW9ucztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzRnVuY3Rpb25fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG5cbi8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbmZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmopIHtcbiAgdmFyIG5hbWVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gbmFtZXMuc29ydCgpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTgxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlQXNzaWduZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2FsbEtleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXG5cblxuLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZUFzc2lnbmVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fYWxsS2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxODIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVBc3NpZ25lcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fYWxsS2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cblxuXG4vLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVBc3NpZ25lcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2FsbEtleXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSwgdHJ1ZSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMTgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBiYXNlQ3JlYXRlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNPYmplY3RfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblxuXG4vLyBDcmVhdGUgYSBuYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG5mdW5jdGlvbiBjdG9yKCkge1xuICByZXR1cm4gZnVuY3Rpb24oKXt9O1xufVxuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBhbm90aGVyLlxuZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90b3R5cGUpIHtcbiAgaWYgKCFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc09iamVjdF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwcm90b3R5cGUpKSByZXR1cm4ge307XG4gIGlmIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJqXCIgLyogbmF0aXZlQ3JlYXRlICovXSkgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJqXCIgLyogbmF0aXZlQ3JlYXRlICovXSkocHJvdG90eXBlKTtcbiAgdmFyIEN0b3IgPSBjdG9yKCk7XG4gIEN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICB2YXIgcmVzdWx0ID0gbmV3IEN0b3I7XG4gIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDE4NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gY2xvbmU7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc09iamVjdF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0FycmF5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2V4dGVuZF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODEpO1xuXG5cblxuXG4vLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG5mdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgaWYgKCFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc09iamVjdF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopKSByZXR1cm4gb2JqO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNBcnJheV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopID8gb2JqLnNsaWNlKCkgOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19leHRlbmRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoe30sIG9iaik7XG59XG5cblxuLyoqKi8gfSksXG4vKiAxODUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGdldDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RvUGF0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19kZWVwR2V0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pc1VuZGVmaW5lZF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXG5cblxuXG4vLyBHZXQgdGhlIHZhbHVlIG9mIHRoZSAoZGVlcCkgcHJvcGVydHkgb24gYHBhdGhgIGZyb20gYG9iamVjdGAuXG4vLyBJZiBhbnkgcHJvcGVydHkgaW4gYHBhdGhgIGRvZXMgbm90IGV4aXN0IG9yIGlmIHRoZSB2YWx1ZSBpc1xuLy8gYHVuZGVmaW5lZGAsIHJldHVybiBgZGVmYXVsdFZhbHVlYCBpbnN0ZWFkLlxuLy8gVGhlIGBwYXRoYCBpcyBub3JtYWxpemVkIHRocm91Z2ggYF8udG9QYXRoYC5cbmZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgdmFsdWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19kZWVwR2V0X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iamVjdCwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdG9QYXRoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHBhdGgpKTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzVW5kZWZpbmVkX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTg2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB0b1BhdGg7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191bmRlcnNjb3JlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzQXJyYXlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXG5cblxuLy8gTm9ybWFsaXplIGEgKGRlZXApIHByb3BlcnR5IGBwYXRoYCB0byBhcnJheS5cbi8vIExpa2UgYF8uaXRlcmF0ZWVgLCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSBjdXN0b21pemVkLlxuZnVuY3Rpb24gdG9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzQXJyYXlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocGF0aCkgPyBwYXRoIDogW3BhdGhdO1xufVxuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191bmRlcnNjb3JlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10udG9QYXRoID0gdG9QYXRoO1xuXG5cbi8qKiovIH0pLFxuLyogMTg3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBiYXNlSXRlcmF0ZWU7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pZGVudGl0eV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pc09iamVjdF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19pc0FycmF5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGNoZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3Byb3BlcnR5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19vcHRpbWl6ZUNiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblxuXG5cblxuXG5cblxuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4vLyBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyIGBfLmlkZW50aXR5YCxcbi8vIGFuIGFyYml0cmFyeSBjYWxsYmFjaywgYSBwcm9wZXJ0eSBtYXRjaGVyLCBvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faWRlbnRpdHlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXTtcbiAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRnVuY3Rpb25fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpKSByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fb3B0aW1pemVDYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faXNPYmplY3RfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpICYmICFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19pc0FycmF5X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSkgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hdGNoZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fcHJvcGVydHlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMTg4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBpdGVyYXRlZTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fYmFzZUl0ZXJhdGVlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG5cblxuXG4vLyBFeHRlcm5hbCB3cmFwcGVyIGZvciBvdXIgY2FsbGJhY2sgZ2VuZXJhdG9yLiBVc2VycyBtYXkgY3VzdG9taXplXG4vLyBgXy5pdGVyYXRlZWAgaWYgdGhleSB3YW50IGFkZGl0aW9uYWwgcHJlZGljYXRlL2l0ZXJhdGVlIHNob3J0aGFuZCBzdHlsZXMuXG4vLyBUaGlzIGFic3RyYWN0aW9uIGhpZGVzIHRoZSBpbnRlcm5hbC1vbmx5IGBhcmdDb3VudGAgYXJndW1lbnQuXG5mdW5jdGlvbiBpdGVyYXRlZSh2YWx1ZSwgY29udGV4dCkge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fYmFzZUl0ZXJhdGVlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlLCBjb250ZXh0LCBJbmZpbml0eSk7XG59XG5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuXG5cbi8qKiovIH0pLFxuLyogMTg5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBub29wO1xuLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb24uIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG5mdW5jdGlvbiBub29wKCl7fVxuXG5cbi8qKiovIH0pLFxuLyogMTkwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSByYW5kb207XG4vLyBSZXR1cm4gYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIGBtaW5gIGFuZCBgbWF4YCAoaW5jbHVzaXZlKS5cbmZ1bmN0aW9uIHJhbmRvbShtaW4sIG1heCkge1xuICBpZiAobWF4ID09IG51bGwpIHtcbiAgICBtYXggPSBtaW47XG4gICAgbWluID0gMDtcbiAgfVxuICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDE5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gY3JlYXRlRXNjYXBlcjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cbi8vIEludGVybmFsIGhlbHBlciB0byBnZW5lcmF0ZSBmdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3Ncbi8vIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuZnVuY3Rpb24gY3JlYXRlRXNjYXBlcihtYXApIHtcbiAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICB9O1xuICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWQuXG4gIHZhciBzb3VyY2UgPSAnKD86JyArIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2tleXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gIHZhciByZXBsYWNlUmVnZXhwID0gUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICByZXR1cm4gdGVzdFJlZ2V4cC50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZXBsYWNlUmVnZXhwLCBlc2NhcGVyKSA6IHN0cmluZztcbiAgfTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDE5MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIEludGVybmFsIGxpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjeDI3OycsXG4gICdgJzogJyYjeDYwOydcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTkzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cblxuLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiBDaGFuZ2UgdGhlXG4vLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gIGV2YWx1YXRlOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuICBpbnRlcnBvbGF0ZTogLzwlPShbXFxzXFxTXSs/KSU+L2csXG4gIGVzY2FwZTogLzwlLShbXFxzXFxTXSs/KSU+L2dcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMTk0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBleGVjdXRlQm91bmQ7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19iYXNlQ3JlYXRlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc09iamVjdF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cblxuXG4vLyBJbnRlcm5hbCBmdW5jdGlvbiB0byBleGVjdXRlIGBzb3VyY2VGdW5jYCBib3VuZCB0byBgY29udGV4dGAgd2l0aCBvcHRpb25hbFxuLy8gYGFyZ3NgLiBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3Igb3IgYXMgYVxuLy8gbm9ybWFsIGZ1bmN0aW9uLlxuZnVuY3Rpb24gZXhlY3V0ZUJvdW5kKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgdmFyIHNlbGYgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19iYXNlQ3JlYXRlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gIGlmIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc09iamVjdF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICByZXR1cm4gc2VsZjtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDE5NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19leGVjdXRlQm91bmRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk0KTtcblxuXG5cblxuLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4vLyBvcHRpb25hbGx5KS5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBhcmdzKSB7XG4gIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gIHZhciBib3VuZCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZnVuY3Rpb24oY2FsbEFyZ3MpIHtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXhlY3V0ZUJvdW5kX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChjYWxsQXJncykpO1xuICB9KTtcbiAgcmV0dXJuIGJvdW5kO1xufSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMTk2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblxuLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG4gIH0sIHdhaXQpO1xufSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMTk3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBiZWZvcmU7XG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgdXAgdG8gKGJ1dCBub3QgaW5jbHVkaW5nKSB0aGVcbi8vIE50aCBjYWxsLlxuZnVuY3Rpb24gYmVmb3JlKHRpbWVzLCBmdW5jKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAxOTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGZpbmRLZXk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19rZXlzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuXG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSB0cnV0aCB0ZXN0LlxuZnVuY3Rpb24gZmluZEtleShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19rZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiksIGtleTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gX2tleXNbaV07XG4gICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICB9XG59XG5cblxuLyoqKi8gfSksXG4vKiAxOTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0TGVuZ3RoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblxuXG5cbi8vIEludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgLlxuZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoZGlyKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIgbGVuZ3RoID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0TGVuZ3RoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGFycmF5KTtcbiAgICB2YXIgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk5KTtcblxuXG4vLyBSZXR1cm5zIHRoZSBsYXN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSB0cnV0aCB0ZXN0LlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgtMSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMjAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBzb3J0ZWRJbmRleDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2dldExlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cblxuXG4vLyBVc2UgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoXG4vLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG5mdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICBpdGVyYXRlZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NiX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgdmFyIHZhbHVlID0gaXRlcmF0ZWUob2JqKTtcbiAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJyYXkpO1xuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIHZhciBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gIH1cbiAgcmV0dXJuIGxvdztcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIwMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NvcnRlZEluZGV4X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19maW5kSW5kZXhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NyZWF0ZUluZGV4RmluZGVyX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMyk7XG5cblxuXG5cbi8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbi8vIG9yIC0xIGlmIHRoZSBpdGVtIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgYXJyYXkuXG4vLyBJZiB0aGUgYXJyYXkgaXMgbGFyZ2UgYW5kIGFscmVhZHkgaW4gc29ydCBvcmRlciwgcGFzcyBgdHJ1ZWBcbi8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NyZWF0ZUluZGV4RmluZGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKDEsIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZmluZEluZGV4X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10sIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc29ydGVkSW5kZXhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMjAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjcmVhdGVJbmRleEZpbmRlcjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzTmFOX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cblxuXG5cbi8vIEludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIHRoZSBgXy5pbmRleE9mYCBhbmQgYF8ubGFzdEluZGV4T2ZgIGZ1bmN0aW9ucy5cbmZ1bmN0aW9uIGNyZWF0ZUluZGV4RmluZGVyKGRpciwgcHJlZGljYXRlRmluZCwgc29ydGVkSW5kZXgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhcnJheSk7XG4gICAgaWYgKHR5cGVvZiBpZHggPT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgIGkgPSBpZHggPj0gMCA/IGlkeCA6IE1hdGgubWF4KGlkeCArIGxlbmd0aCwgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc29ydGVkSW5kZXggJiYgaWR4ICYmIGxlbmd0aCkge1xuICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgcmV0dXJuIGFycmF5W2lkeF0gPT09IGl0ZW0gPyBpZHggOiAtMTtcbiAgICB9XG4gICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgIGlkeCA9IHByZWRpY2F0ZUZpbmQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fW1wicVwiIC8qIHNsaWNlICovXS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzTmFOX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pO1xuICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgIH1cbiAgICBmb3IgKGlkeCA9IGRpciA+IDAgPyBpIDogbGVuZ3RoIC0gMTsgaWR4ID49IDAgJiYgaWR4IDwgbGVuZ3RoOyBpZHggKz0gZGlyKSB7XG4gICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBmaW5kO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNBcnJheUxpa2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZmluZEluZGV4X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19maW5kS2V5X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5OCk7XG5cblxuXG5cbi8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC5cbmZ1bmN0aW9uIGZpbmQob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgdmFyIGtleUZpbmRlciA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlMaWtlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikgPyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2ZpbmRJbmRleF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dIDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19maW5kS2V5X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL107XG4gIHZhciBrZXkgPSBrZXlGaW5kZXIob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjcmVhdGVSZWR1Y2U7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0FycmF5TGlrZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19rZXlzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX29wdGltaXplQ2JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXG5cblxuXG4vLyBJbnRlcm5hbCBoZWxwZXIgdG8gY3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24sIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuZnVuY3Rpb24gY3JlYXRlUmVkdWNlKGRpcikge1xuICAvLyBXcmFwIGNvZGUgdGhhdCByZWFzc2lnbnMgYXJndW1lbnQgdmFyaWFibGVzIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gdGhhblxuICAvLyB0aGUgb25lIHRoYXQgYWNjZXNzZXMgYGFyZ3VtZW50cy5sZW5ndGhgIHRvIGF2b2lkIGEgcGVyZiBoaXQuICgjMTk5MSlcbiAgdmFyIHJlZHVjZXIgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBpbml0aWFsKSB7XG4gICAgdmFyIF9rZXlzID0gIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlMaWtlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fa2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopLFxuICAgICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgIGlmICghaW5pdGlhbCkge1xuICAgICAgbWVtbyA9IG9ialtfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgIGluZGV4ICs9IGRpcjtcbiAgICB9XG4gICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGNvbnRleHQpIHtcbiAgICB2YXIgaW5pdGlhbCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMztcbiAgICByZXR1cm4gcmVkdWNlcihvYmosIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX29wdGltaXplQ2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoaXRlcmF0ZWUsIGNvbnRleHQsIDQpLCBtZW1vLCBpbml0aWFsKTtcbiAgfTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIwNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gbWF4O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNBcnJheUxpa2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdmFsdWVzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2VhY2hfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXG5cblxuXG5cbi8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbmZ1bmN0aW9uIG1heChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICBvYmogPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0FycmF5TGlrZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopID8gb2JqIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdmFsdWVzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXRlcmF0ZWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fZWFjaF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgIGlmIChjb21wdXRlZCA+IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gLUluZmluaXR5ICYmIHJlc3VsdCA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJlc3VsdCA9IHY7XG4gICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqKi8gfSksXG4vKiAyMDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHNhbXBsZTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlMaWtlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2Nsb25lX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX192YWx1ZXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fZ2V0TGVuZ3RoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3JhbmRvbV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuXG5cblxuXG5cblxuLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24gdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbi8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4vLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG5mdW5jdGlvbiBzYW1wbGUob2JqLCBuLCBndWFyZCkge1xuICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgaWYgKCFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0FycmF5TGlrZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopKSBvYmogPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX192YWx1ZXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKTtcbiAgICByZXR1cm4gb2JqW09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3JhbmRvbV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmoubGVuZ3RoIC0gMSldO1xuICB9XG4gIHZhciBzYW1wbGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0FycmF5TGlrZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY2xvbmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3ZhbHVlc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopO1xuICB2YXIgbGVuZ3RoID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fZ2V0TGVuZ3RoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHNhbXBsZSk7XG4gIG4gPSBNYXRoLm1heChNYXRoLm1pbihuLCBsZW5ndGgpLCAwKTtcbiAgdmFyIGxhc3QgPSBsZW5ndGggLSAxO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbjsgaW5kZXgrKykge1xuICAgIHZhciByYW5kID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fcmFuZG9tX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGluZGV4LCBsYXN0KTtcbiAgICB2YXIgdGVtcCA9IHNhbXBsZVtpbmRleF07XG4gICAgc2FtcGxlW2luZGV4XSA9IHNhbXBsZVtyYW5kXTtcbiAgICBzYW1wbGVbcmFuZF0gPSB0ZW1wO1xuICB9XG4gIHJldHVybiBzYW1wbGUuc2xpY2UoMCwgbik7XG59XG5cblxuLyoqKi8gfSksXG4vKiAyMDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRnVuY3Rpb25fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fb3B0aW1pemVDYl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19hbGxLZXlzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2tleUluT2JqX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19mbGF0dGVuX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxuXG5cblxuXG5cblxuLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgYWxsb3dlZCBwcm9wZXJ0aWVzLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICB2YXIgcmVzdWx0ID0ge30sIGl0ZXJhdGVlID0ga2V5c1swXTtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0O1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpdGVyYXRlZSkpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSBpdGVyYXRlZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX29wdGltaXplQ2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoaXRlcmF0ZWUsIGtleXNbMV0pO1xuICAgIGtleXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19hbGxLZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaik7XG4gIH0gZWxzZSB7XG4gICAgaXRlcmF0ZWUgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2tleUluT2JqX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL107XG4gICAga2V5cyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2ZsYXR0ZW5fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoa2V5cywgZmFsc2UsIGZhbHNlKTtcbiAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGluaXRpYWw7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXG4vLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbi8vIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIGFsbCB0aGUgdmFsdWVzIGluXG4vLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLlxuZnVuY3Rpb24gaW5pdGlhbChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfX1tcInFcIiAvKiBzbGljZSAqL10uY2FsbChhcnJheSwgMCwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gKG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKSkpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSByZXN0O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblxuLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGBhcnJheWAuIEVzcGVjaWFsbHkgdXNlZnVsIG9uXG4vLyB0aGUgYGFyZ3VtZW50c2Agb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZVxuLy8gYGFycmF5YC5cbmZ1bmN0aW9uIHJlc3QoYXJyYXksIG4sIGd1YXJkKSB7XG4gIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJxXCIgLyogc2xpY2UgKi9dLmNhbGwoYXJyYXksIG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZmxhdHRlbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19maWx0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fY29udGFpbnNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG5cblxuXG5cbi8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbi8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZnVuY3Rpb24oYXJyYXksIHJlc3QpIHtcbiAgcmVzdCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2ZsYXR0ZW5fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocmVzdCwgdHJ1ZSwgdHJ1ZSk7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19maWx0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICByZXR1cm4gIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2NvbnRhaW5zX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHJlc3QsIHZhbHVlKTtcbiAgfSk7XG59KSk7XG5cblxuLyoqKi8gfSksXG4vKiAyMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHVuaXE7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0Jvb2xlYW5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2dldExlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19jb250YWluc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cblxuXG5cblxuLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbi8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbi8vIFRoZSBmYXN0ZXIgYWxnb3JpdGhtIHdpbGwgbm90IHdvcmsgd2l0aCBhbiBpdGVyYXRlZSBpZiB0aGUgaXRlcmF0ZWVcbi8vIGlzIG5vdCBhIG9uZS10by1vbmUgZnVuY3Rpb24sIHNvIHByb3ZpZGluZyBhbiBpdGVyYXRlZSB3aWxsIGRpc2FibGVcbi8vIHRoZSBmYXN0ZXIgYWxnb3JpdGhtLlxuZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNCb29sZWFuX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGlzU29ydGVkKSkge1xuICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgIGlzU29ydGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBzZWVuID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICBpZiAoaXNTb3J0ZWQgJiYgIWl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2NvbnRhaW5zX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fY29udGFpbnNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gdW56aXA7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19tYXhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjA2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2dldExlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19wbHVja19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuXG5cblxuXG4vLyBDb21wbGVtZW50IG9mIHppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuLy8gZWFjaCBhcnJheSdzIGVsZW1lbnRzIG9uIHNoYXJlZCBpbmRpY2VzLlxuZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX21heF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhcnJheSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkubGVuZ3RoIHx8IDA7XG4gIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICByZXN1bHRbaW5kZXhdID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fcGx1Y2tfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJyYXksIGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjaGFpblJlc3VsdDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbmZ1bmN0aW9uIGNoYWluUmVzdWx0KGluc3RhbmNlLCBvYmopIHtcbiAgcmV0dXJuIGluc3RhbmNlLl9jaGFpbiA/IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKS5jaGFpbigpIDogb2JqO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMjE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcbnZhciBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Myk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7XG52YXIgYXJyYXlTcGVjaWVzQ3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTYpO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBWOF9WRVJTSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cbnZhciBJU19DT05DQVRfU1BSRUFEQUJMRSA9IHdlbGxLbm93blN5bWJvbCgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cbi8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuLy8gZGVvcHRpbWl6YXRpb24gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzlcbnZhciBJU19DT05DQVRfU1BSRUFEQUJMRV9TVVBQT1JUID0gVjhfVkVSU0lPTiA+PSA1MSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgYXJyYXlbSVNfQ09OQ0FUX1NQUkVBREFCTEVdID0gZmFsc2U7XG4gIHJldHVybiBhcnJheS5jb25jYXQoKVswXSAhPT0gYXJyYXk7XG59KTtcblxudmFyIFNQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ2NvbmNhdCcpO1xuXG52YXIgaXNDb25jYXRTcHJlYWRhYmxlID0gZnVuY3Rpb24gKE8pIHtcbiAgaWYgKCFpc09iamVjdChPKSkgcmV0dXJuIGZhbHNlO1xuICB2YXIgc3ByZWFkYWJsZSA9IE9bSVNfQ09OQ0FUX1NQUkVBREFCTEVdO1xuICByZXR1cm4gc3ByZWFkYWJsZSAhPT0gdW5kZWZpbmVkID8gISFzcHJlYWRhYmxlIDogaXNBcnJheShPKTtcbn07XG5cbnZhciBGT1JDRUQgPSAhSVNfQ09OQ0FUX1NQUkVBREFCTEVfU1VQUE9SVCB8fCAhU1BFQ0lFU19TVVBQT1JUO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmNvbmNhdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5jb25jYXRcbi8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBpc0NvbmNhdFNwcmVhZGFibGUgYW5kIEBAc3BlY2llc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGFyaXR5OiAxLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gIGNvbmNhdDogZnVuY3Rpb24gY29uY2F0KGFyZykge1xuICAgIHZhciBPID0gdG9PYmplY3QodGhpcyk7XG4gICAgdmFyIEEgPSBhcnJheVNwZWNpZXNDcmVhdGUoTywgMCk7XG4gICAgdmFyIG4gPSAwO1xuICAgIHZhciBpLCBrLCBsZW5ndGgsIGxlbiwgRTtcbiAgICBmb3IgKGkgPSAtMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBFID0gaSA9PT0gLTEgPyBPIDogYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKGlzQ29uY2F0U3ByZWFkYWJsZShFKSkge1xuICAgICAgICBsZW4gPSBsZW5ndGhPZkFycmF5TGlrZShFKTtcbiAgICAgICAgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyKG4gKyBsZW4pO1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrKyssIG4rKykgaWYgKGsgaW4gRSkgY3JlYXRlUHJvcGVydHkoQSwgbiwgRVtrXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIobiArIDEpO1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShBLCBuKyssIEUpO1xuICAgICAgfVxuICAgIH1cbiAgICBBLmxlbmd0aCA9IG47XG4gICAgcmV0dXJuIEE7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhcnJheVNwZWNpZXNDb25zdHJ1Y3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMzY0KTtcblxuLy8gYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG5cbi8qKiovIH0pLFxuLyogMjE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgYXBwbHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG52YXIgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xudmFyIGFycmF5U2xpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcbnZhciBOQVRJVkVfU1lNQk9MID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cbnZhciAkc3RyaW5naWZ5ID0gZ2V0QnVpbHRJbignSlNPTicsICdzdHJpbmdpZnknKTtcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoLy4vLmV4ZWMpO1xudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJDb2RlQXQpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBudW1iZXJUb1N0cmluZyA9IHVuY3VycnlUaGlzKDEuMC50b1N0cmluZyk7XG5cbnZhciB0ZXN0ZXIgPSAvW1xcdUQ4MDAtXFx1REZGRl0vZztcbnZhciBsb3cgPSAvXltcXHVEODAwLVxcdURCRkZdJC87XG52YXIgaGkgPSAvXltcXHVEQzAwLVxcdURGRkZdJC87XG5cbnZhciBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gPSAhTkFUSVZFX1NZTUJPTCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBzeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKSgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICByZXR1cm4gJHN0cmluZ2lmeShbc3ltYm9sXSkgIT0gJ1tudWxsXSdcbiAgICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgICB8fCAkc3RyaW5naWZ5KHsgYTogc3ltYm9sIH0pICE9ICd7fSdcbiAgICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICAgIHx8ICRzdHJpbmdpZnkoT2JqZWN0KHN5bWJvbCkpICE9ICd7fSc7XG59KTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtd2VsbC1mb3JtZWQtc3RyaW5naWZ5XG52YXIgSUxMX0ZPUk1FRF9VTklDT0RFID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJHN0cmluZ2lmeSgnXFx1REYwNlxcdUQ4MzQnKSAhPT0gJ1wiXFxcXHVkZjA2XFxcXHVkODM0XCInXG4gICAgfHwgJHN0cmluZ2lmeSgnXFx1REVBRCcpICE9PSAnXCJcXFxcdWRlYWRcIic7XG59KTtcblxudmFyIHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4ID0gZnVuY3Rpb24gKGl0LCByZXBsYWNlcikge1xuICB2YXIgYXJncyA9IGFycmF5U2xpY2UoYXJndW1lbnRzKTtcbiAgdmFyICRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gIGlmICghaXNBcnJheShyZXBsYWNlcikpIHJlcGxhY2VyID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoaXNDYWxsYWJsZSgkcmVwbGFjZXIpKSB2YWx1ZSA9IGNhbGwoJHJlcGxhY2VyLCB0aGlzLCBrZXksIHZhbHVlKTtcbiAgICBpZiAoIWlzU3ltYm9sKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICB9O1xuICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gIHJldHVybiBhcHBseSgkc3RyaW5naWZ5LCBudWxsLCBhcmdzKTtcbn07XG5cbnZhciBmaXhJbGxGb3JtZWQgPSBmdW5jdGlvbiAobWF0Y2gsIG9mZnNldCwgc3RyaW5nKSB7XG4gIHZhciBwcmV2ID0gY2hhckF0KHN0cmluZywgb2Zmc2V0IC0gMSk7XG4gIHZhciBuZXh0ID0gY2hhckF0KHN0cmluZywgb2Zmc2V0ICsgMSk7XG4gIGlmICgoZXhlYyhsb3csIG1hdGNoKSAmJiAhZXhlYyhoaSwgbmV4dCkpIHx8IChleGVjKGhpLCBtYXRjaCkgJiYgIWV4ZWMobG93LCBwcmV2KSkpIHtcbiAgICByZXR1cm4gJ1xcXFx1JyArIG51bWJlclRvU3RyaW5nKGNoYXJDb2RlQXQobWF0Y2gsIDApLCAxNik7XG4gIH0gcmV0dXJuIG1hdGNoO1xufTtcblxuaWYgKCRzdHJpbmdpZnkpIHtcbiAgLy8gYEpTT04uc3RyaW5naWZ5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1qc29uLnN0cmluZ2lmeVxuICAkKHsgdGFyZ2V0OiAnSlNPTicsIHN0YXQ6IHRydWUsIGFyaXR5OiAzLCBmb3JjZWQ6IFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiB8fCBJTExfRk9STUVEX1VOSUNPREUgfSwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgICAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cyk7XG4gICAgICB2YXIgcmVzdWx0ID0gYXBwbHkoV1JPTkdfU1lNQk9MU19DT05WRVJTSU9OID8gc3RyaW5naWZ5V2l0aFN5bWJvbHNGaXggOiAkc3RyaW5naWZ5LCBudWxsLCBhcmdzKTtcbiAgICAgIHJldHVybiBJTExfRk9STUVEX1VOSUNPREUgJiYgdHlwZW9mIHJlc3VsdCA9PSAnc3RyaW5nJyA/IHJlcGxhY2UocmVzdWx0LCB0ZXN0ZXIsIGZpeElsbEZvcm1lZCkgOiByZXN1bHQ7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcm5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODEpO1xudmFyIGJ5dGVzVG9VdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODIpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuXG5cbi8qKiovIH0pLFxuLyogMjIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjEpO1xuXG4vKioqLyB9KSxcbi8qIDIyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDIyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9ICc0LjE0LjAnO1xuXG4vKioqLyB9KSxcbi8qIDIyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGV4aXN0cyBPbmx5IGNoZWNrIGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7QXJyYXl8Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50LCBleGlzdHMpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGF2YWlsYWJsZSA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChleGlzdHMpIHJldHVybiAhIWF2YWlsYWJsZTtcbiAgaWYgKCFhdmFpbGFibGUpIHJldHVybiBbXTtcbiAgaWYgKGF2YWlsYWJsZS5mbikgcmV0dXJuIFthdmFpbGFibGUuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXZhaWxhYmxlLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGF2YWlsYWJsZVtpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcylcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMsIHRydWUpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgICAgbGlzdGVuZXJzLmZuID09PSBmblxuICAgICAgJiYgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKVxuICAgICAgJiYgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuXG4gICAgICAgIHx8IChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSlcbiAgICAgICAgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYXBwbHkgYW55bW9yZS5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKHRydWUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG5cblxuLyoqKi8gfSksXG4vKiAyMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3Byb21pc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCksXG4gICAgZ2V0QWRhcHRlciA9IF9yZXF1aXJlLmdldEFkYXB0ZXI7XG5cbnZhciBzeW5jQXBpTmFtZXMgPSBbJ2dldEl0ZW0nLCAnc2V0SXRlbScsICdyZW1vdmVJdGVtJywgJ2NsZWFyJ107XG52YXIgbG9jYWxTdG9yYWdlID0ge1xuICBnZXQgYXN5bmMoKSB7XG4gICAgcmV0dXJuIGdldEFkYXB0ZXIoJ3N0b3JhZ2UnKS5hc3luYztcbiAgfVxuXG59OyAvLyB3cmFwIHN5bmMgYXBpcyB3aXRoIGFzeW5jIG9uZXMuXG5cbnN5bmNBcGlOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChhcGlOYW1lKSB7XG4gIGxvY2FsU3RvcmFnZVthcGlOYW1lICsgJ0FzeW5jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBnZXRBZGFwdGVyKCdzdG9yYWdlJyk7XG4gICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZShzdG9yYWdlW2FwaU5hbWVdLmFwcGx5KHN0b3JhZ2UsIGFyZ3VtZW50cykpO1xuICB9O1xuXG4gIGxvY2FsU3RvcmFnZVthcGlOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGdldEFkYXB0ZXIoJ3N0b3JhZ2UnKTtcblxuICAgIGlmICghc3RvcmFnZS5hc3luYykge1xuICAgICAgcmV0dXJuIHN0b3JhZ2VbYXBpTmFtZV0uYXBwbHkoc3RvcmFnZSwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ1N5bmNocm9ub3VzIEFQSSBbJyArIGFwaU5hbWUgKyAnXSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgcnVudGltZS4nKTtcbiAgICBlcnJvci5jb2RlID0gJ1NZTkNfQVBJX05PVF9BVkFJTEFCTEUnO1xuICAgIHRocm93IGVycm9yO1xuICB9O1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IGxvY2FsU3RvcmFnZTtcblxuLyoqKi8gfSksXG4vKiAyMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2NvbmNhdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNSkpO1xuXG52YXIgX3N0cmluZ2lmeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuXG52YXIgc3RvcmFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjI0KTtcblxudmFyIEFWID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbnZhciByZW1vdmVBc3luYyA9IGV4cG9ydHMucmVtb3ZlQXN5bmMgPSBzdG9yYWdlLnJlbW92ZUl0ZW1Bc3luYy5iaW5kKHN0b3JhZ2UpO1xuXG52YXIgZ2V0Q2FjaGVEYXRhID0gZnVuY3Rpb24gZ2V0Q2FjaGVEYXRhKGNhY2hlRGF0YSwga2V5KSB7XG4gIHRyeSB7XG4gICAgY2FjaGVEYXRhID0gSlNPTi5wYXJzZShjYWNoZURhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoY2FjaGVEYXRhKSB7XG4gICAgdmFyIGV4cGlyZWQgPSBjYWNoZURhdGEuZXhwaXJlZEF0ICYmIGNhY2hlRGF0YS5leHBpcmVkQXQgPCBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFleHBpcmVkKSB7XG4gICAgICByZXR1cm4gY2FjaGVEYXRhLnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiByZW1vdmVBc3luYyhrZXkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydHMuZ2V0QXN5bmMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBfY29udGV4dDtcblxuICBrZXkgPSAoMCwgX2NvbmNhdC5kZWZhdWx0KShfY29udGV4dCA9IFwiQVYvXCIuY29uY2F0KEFWLmFwcGxpY2F0aW9uSWQsIFwiL1wiKSkuY2FsbChfY29udGV4dCwga2V5KTtcbiAgcmV0dXJuIHN0b3JhZ2UuZ2V0SXRlbUFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAoY2FjaGUpIHtcbiAgICByZXR1cm4gZ2V0Q2FjaGVEYXRhKGNhY2hlLCBrZXkpO1xuICB9KTtcbn07XG5cbmV4cG9ydHMuc2V0QXN5bmMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgdHRsKSB7XG4gIHZhciBfY29udGV4dDI7XG5cbiAgdmFyIGNhY2hlID0ge1xuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgdHRsID09PSAnbnVtYmVyJykge1xuICAgIGNhY2hlLmV4cGlyZWRBdCA9IERhdGUubm93KCkgKyB0dGw7XG4gIH1cblxuICByZXR1cm4gc3RvcmFnZS5zZXRJdGVtQXN5bmMoKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQyID0gXCJBVi9cIi5jb25jYXQoQVYuYXBwbGljYXRpb25JZCwgXCIvXCIpKS5jYWxsKF9jb250ZXh0Miwga2V5KSwgKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkoY2FjaGUpKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4OCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5MSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5NCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOTcpO1xuXG4vKioqLyB9KSxcbi8qIDIzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MDApO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB0b0Fic29sdXRlSW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAzKTtcblxudmFyICRBcnJheSA9IEFycmF5O1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgdmFyIGsgPSB0b0Fic29sdXRlSW5kZXgoc3RhcnQsIGxlbmd0aCk7XG4gIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gIHZhciByZXN1bHQgPSAkQXJyYXkobWF4KGZpbiAtIGssIDApKTtcbiAgZm9yICh2YXIgbiA9IDA7IGsgPCBmaW47IGsrKywgbisrKSBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIG4sIE9ba10pO1xuICByZXN1bHQubGVuZ3RoID0gbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciBkZWZpbmVCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgU3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJyk7XG4gIHZhciBTeW1ib2xQcm90b3R5cGUgPSBTeW1ib2wgJiYgU3ltYm9sLnByb3RvdHlwZTtcbiAgdmFyIHZhbHVlT2YgPSBTeW1ib2xQcm90b3R5cGUgJiYgU3ltYm9sUHJvdG90eXBlLnZhbHVlT2Y7XG4gIHZhciBUT19QUklNSVRJVkUgPSB3ZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cbiAgaWYgKFN5bWJvbFByb3RvdHlwZSAmJiAhU3ltYm9sUHJvdG90eXBlW1RPX1BSSU1JVElWRV0pIHtcbiAgICAvLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9wcmltaXRpdmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIC5sZW5ndGhcbiAgICBkZWZpbmVCdWlsdEluKFN5bWJvbFByb3RvdHlwZSwgVE9fUFJJTUlUSVZFLCBmdW5jdGlvbiAoaGludCkge1xuICAgICAgcmV0dXJuIGNhbGwodmFsdWVPZiwgdGhpcyk7XG4gICAgfSwgeyBhcml0eTogMSB9KTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDIzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgTkFUSVZFX1NZTUJPTCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLXN5bWJvbCAtLSBzYWZlICovXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9TWU1CT0wgJiYgISFTeW1ib2xbJ2ZvciddICYmICEhU3ltYm9sLmtleUZvcjtcblxuXG4vKioqLyB9KSxcbi8qIDIzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLy8gYFN5bWJvbC5pdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLml0ZXJhdG9yXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG5cblxuLyoqKi8gfSksXG4vKiAyMzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDM1KTtcbl9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDIzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjM3KTtcblxuLyoqKi8gfSksXG4vKiAyMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDU0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAyMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1OCk7XG5cbi8qKiovIH0pLFxuLyogMjM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGFDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgYXJyYXlTbGljZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xudmFyIE5BVElWRV9CSU5EID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cbnZhciAkRnVuY3Rpb24gPSBGdW5jdGlvbjtcbnZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyhbXS5jb25jYXQpO1xudmFyIGpvaW4gPSB1bmN1cnJ5VGhpcyhbXS5qb2luKTtcbnZhciBmYWN0b3JpZXMgPSB7fTtcblxudmFyIGNvbnN0cnVjdCA9IGZ1bmN0aW9uIChDLCBhcmdzTGVuZ3RoLCBhcmdzKSB7XG4gIGlmICghaGFzT3duKGZhY3RvcmllcywgYXJnc0xlbmd0aCkpIHtcbiAgICBmb3IgKHZhciBsaXN0ID0gW10sIGkgPSAwOyBpIDwgYXJnc0xlbmd0aDsgaSsrKSBsaXN0W2ldID0gJ2FbJyArIGkgKyAnXSc7XG4gICAgZmFjdG9yaWVzW2FyZ3NMZW5ndGhdID0gJEZ1bmN0aW9uKCdDLGEnLCAncmV0dXJuIG5ldyBDKCcgKyBqb2luKGxpc3QsICcsJykgKyAnKScpO1xuICB9IHJldHVybiBmYWN0b3JpZXNbYXJnc0xlbmd0aF0oQywgYXJncyk7XG59O1xuXG4vLyBgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYmluZFxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/ICRGdW5jdGlvbi5iaW5kIDogZnVuY3Rpb24gYmluZCh0aGF0IC8qICwgLi4uYXJncyAqLykge1xuICB2YXIgRiA9IGFDYWxsYWJsZSh0aGlzKTtcbiAgdmFyIFByb3RvdHlwZSA9IEYucHJvdG90eXBlO1xuICB2YXIgcGFydEFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cywgMSk7XG4gIHZhciBib3VuZEZ1bmN0aW9uID0gZnVuY3Rpb24gYm91bmQoLyogYXJncy4uLiAqLykge1xuICAgIHZhciBhcmdzID0gY29uY2F0KHBhcnRBcmdzLCBhcnJheVNsaWNlKGFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgYm91bmRGdW5jdGlvbiA/IGNvbnN0cnVjdChGLCBhcmdzLmxlbmd0aCwgYXJncykgOiBGLmFwcGx5KHRoYXQsIGFyZ3MpO1xuICB9O1xuICBpZiAoaXNPYmplY3QoUHJvdG90eXBlKSkgYm91bmRGdW5jdGlvbi5wcm90b3R5cGUgPSBQcm90b3R5cGU7XG4gIHJldHVybiBib3VuZEZ1bmN0aW9uO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDc5KTtcblxuLyoqKi8gfSksXG4vKiAyNDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4Mik7XG5cbi8qKiovIH0pLFxuLyogMjQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBjaGFyZW5jID0ge1xuICAvLyBVVEYtOCBlbmNvZGluZ1xuICB1dGY4OiB7XG4gICAgLy8gQ29udmVydCBhIHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBzdHJpbmdUb0J5dGVzOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBjaGFyZW5jLmJpbi5zdHJpbmdUb0J5dGVzKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgc3RyaW5nXG4gICAgYnl0ZXNUb1N0cmluZzogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGNoYXJlbmMuYmluLmJ5dGVzVG9TdHJpbmcoYnl0ZXMpKSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEJpbmFyeSBlbmNvZGluZ1xuICBiaW46IHtcbiAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIHN0cmluZ1RvQnl0ZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspXG4gICAgICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBzdHJpbmdcbiAgICBieXRlc1RvU3RyaW5nOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgZm9yICh2YXIgc3RyID0gW10sIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHN0ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pKTtcbiAgICAgIHJldHVybiBzdHIuam9pbignJyk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNoYXJlbmM7XG5cblxuLyoqKi8gfSksXG4vKiAyNDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gYSBzdHJpbmcgb2YgYWxsIHZhbGlkIHVuaWNvZGUgd2hpdGVzcGFjZXNcbm1vZHVsZS5leHBvcnRzID0gJ1xcdTAwMDlcXHUwMDBBXFx1MDAwQlxcdTAwMENcXHUwMDBEXFx1MDAyMFxcdTAwQTBcXHUxNjgwXFx1MjAwMFxcdTIwMDFcXHUyMDAyJyArXG4gICdcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7XG5cblxuLyoqKi8gfSksXG4vKiAyNDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3N5bWJvbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg4NykpO1xuXG52YXIgX2l0ZXJhdG9yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCkpO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yLmRlZmF1bHQgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG5cbi8qKiovIH0pLFxuLyogMjQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBBViA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ2KTtcblxudmFyIHVzZUFkYXRwZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NDQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVzZUFkYXRwZXJzKEFWKTtcblxuLyoqKi8gfSksXG4vKiAyNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Nyk7XG5cbi8qKiovIH0pLFxuLyogMjQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbi8qIVxuICogTGVhbkNsb3VkIEphdmFTY3JpcHQgU0RLXG4gKiBodHRwczovL2xlYW5jbG91ZC5jblxuICpcbiAqIENvcHlyaWdodCAyMDE2IExlYW5DbG91ZC5jbiwgSW5jLlxuICogVGhlIExlYW5DbG91ZCBKYXZhU2NyaXB0IFNESyBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIEFWID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cbkFWLl8gPSBfO1xuQVYudmVyc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjIyKTtcbkFWLlByb21pc2UgPSBfcHJvbWlzZS5kZWZhdWx0O1xuQVYubG9jYWxTdG9yYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjQpO1xuQVYuQ2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyNSk7XG5BVi5FcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM5MCk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDQyKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDQzKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDQ0KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDQ1KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDUwKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDUxKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTA0KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTMwKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTMxKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTMzKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTM0KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTM1KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTM2KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTM3KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTM4KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTM5KShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTQwKShBVik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTQxKShBVik7XG5cbkFWLkNvbnZlcnNhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNTQyKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg1NDMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFWO1xuLyoqXG4gKiBPcHRpb25zIHRvIGNvbnRyb2xsIHRoZSBhdXRoZW50aWNhdGlvbiBmb3IgYW4gb3BlcmF0aW9uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdXRoT3B0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFtzZXNzaW9uVG9rZW5dIFNwZWNpZnkgYSB1c2VyIHRvIGV4Y3V0ZSB0aGUgb3BlcmF0aW9uIGFzLlxuICogQHByb3BlcnR5IHtBVi5Vc2VyfSBbdXNlcl0gU3BlY2lmeSBhIHVzZXIgdG8gZXhjdXRlIHRoZSBvcGVyYXRpb24gYXMuIFRoZSB1c2VyIG11c3QgaGF2ZSBfc2Vzc2lvblRva2VuLiBUaGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQgaWYgc2Vzc2lvblRva2VuIG9wdGlvbiBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3VzZU1hc3RlcktleV0gSW5kaWNhdGVzIHdoZXRoZXIgbWFzdGVyS2V5IGlzIHVzZWQgZm9yIHRoaXMgb3BlcmF0aW9uLiBPbmx5IHZhbGlkIHdoZW4gbWFzdGVyS2V5IGlzIHNldC5cbiAqL1xuXG4vKipcbiAqIE9wdGlvbnMgdG8gY29udHJvbGwgdGhlIGF1dGhlbnRpY2F0aW9uIGZvciBhbiBTTVMgb3BlcmF0aW9uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTTVNBdXRoT3B0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFtzZXNzaW9uVG9rZW5dIFNwZWNpZnkgYSB1c2VyIHRvIGV4Y3V0ZSB0aGUgb3BlcmF0aW9uIGFzLlxuICogQHByb3BlcnR5IHtBVi5Vc2VyfSBbdXNlcl0gU3BlY2lmeSBhIHVzZXIgdG8gZXhjdXRlIHRoZSBvcGVyYXRpb24gYXMuIFRoZSB1c2VyIG11c3QgaGF2ZSBfc2Vzc2lvblRva2VuLiBUaGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQgaWYgc2Vzc2lvblRva2VuIG9wdGlvbiBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3VzZU1hc3RlcktleV0gSW5kaWNhdGVzIHdoZXRoZXIgbWFzdGVyS2V5IGlzIHVzZWQgZm9yIHRoaXMgb3BlcmF0aW9uLiBPbmx5IHZhbGlkIHdoZW4gbWFzdGVyS2V5IGlzIHNldC5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbdmFsaWRhdGVUb2tlbl0gYSB2YWxpZGF0ZSB0b2tlbiByZXR1cm5lZCBieSB7QGxpbmsgQVYuQ2xvdWQudmVyaWZ5Q2FwdGNoYX1cbiAqL1xuXG4vKioqLyB9KSxcbi8qIDI0OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMjQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjUwKTtcbl9fd2VicGFja19yZXF1aXJlX18oNjApO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2Nyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4Myk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4NCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4NSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5Qcm9taXNlO1xuXG5cbi8qKiovIH0pLFxuLyogMjUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIFRPRE86IFJlbW92ZSB0aGlzIG1vZHVsZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3MgcmVwbGFjZWQgdG8gbW9kdWxlIGJlbG93XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI1MSk7XG5cblxuLyoqKi8gfSksXG4vKiAyNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Nik7XG52YXIgY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG52YXIgY2xlYXJFcnJvclN0YWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjApO1xudmFyIGluc3RhbGxFcnJvckNhdXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjEpO1xudmFyIGl0ZXJhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcbnZhciBub3JtYWxpemVTdHJpbmdBcmd1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYyKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIEVSUk9SX1NUQUNLX0lOU1RBTExBQkxFID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjMpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciAkRXJyb3IgPSBFcnJvcjtcbnZhciBwdXNoID0gW10ucHVzaDtcblxudmFyICRBZ2dyZWdhdGVFcnJvciA9IGZ1bmN0aW9uIEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgbWVzc2FnZSAvKiAsIG9wdGlvbnMgKi8pIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgdmFyIGlzSW5zdGFuY2UgPSBpc1Byb3RvdHlwZU9mKEFnZ3JlZ2F0ZUVycm9yUHJvdG90eXBlLCB0aGlzKTtcbiAgdmFyIHRoYXQ7XG4gIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgIHRoYXQgPSBzZXRQcm90b3R5cGVPZihuZXcgJEVycm9yKCksIGlzSW5zdGFuY2UgPyBnZXRQcm90b3R5cGVPZih0aGlzKSA6IEFnZ3JlZ2F0ZUVycm9yUHJvdG90eXBlKTtcbiAgfSBlbHNlIHtcbiAgICB0aGF0ID0gaXNJbnN0YW5jZSA/IHRoaXMgOiBjcmVhdGUoQWdncmVnYXRlRXJyb3JQcm90b3R5cGUpO1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh0aGF0LCBUT19TVFJJTkdfVEFHLCAnRXJyb3InKTtcbiAgfVxuICBpZiAobWVzc2FnZSAhPT0gdW5kZWZpbmVkKSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGhhdCwgJ21lc3NhZ2UnLCBub3JtYWxpemVTdHJpbmdBcmd1bWVudChtZXNzYWdlKSk7XG4gIGlmIChFUlJPUl9TVEFDS19JTlNUQUxMQUJMRSkgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRoYXQsICdzdGFjaycsIGNsZWFyRXJyb3JTdGFjayh0aGF0LnN0YWNrLCAxKSk7XG4gIGluc3RhbGxFcnJvckNhdXNlKHRoYXQsIG9wdGlvbnMpO1xuICB2YXIgZXJyb3JzQXJyYXkgPSBbXTtcbiAgaXRlcmF0ZShlcnJvcnMsIHB1c2gsIHsgdGhhdDogZXJyb3JzQXJyYXkgfSk7XG4gIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh0aGF0LCAnZXJyb3JzJywgZXJyb3JzQXJyYXkpO1xuICByZXR1cm4gdGhhdDtcbn07XG5cbmlmIChzZXRQcm90b3R5cGVPZikgc2V0UHJvdG90eXBlT2YoJEFnZ3JlZ2F0ZUVycm9yLCAkRXJyb3IpO1xuZWxzZSBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKCRBZ2dyZWdhdGVFcnJvciwgJEVycm9yLCB7IG5hbWU6IHRydWUgfSk7XG5cbnZhciBBZ2dyZWdhdGVFcnJvclByb3RvdHlwZSA9ICRBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUgPSBjcmVhdGUoJEVycm9yLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3RvcjogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsICRBZ2dyZWdhdGVFcnJvciksXG4gIG1lc3NhZ2U6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCAnJyksXG4gIG5hbWU6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCAnQWdncmVnYXRlRXJyb3InKVxufSk7XG5cbi8vIGBBZ2dyZWdhdGVFcnJvcmAgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYWdncmVnYXRlLWVycm9yLWNvbnN0cnVjdG9yXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgYXJpdHk6IDIgfSwge1xuICBBZ2dyZWdhdGVFcnJvcjogJEFnZ3JlZ2F0ZUVycm9yXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDI1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgaXNTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcbnZhciBnZXRNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG52YXIgb3JkaW5hcnlUb1ByaW1pdGl2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUzKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbnZhciBUT19QUklNSVRJVkUgPSB3ZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cbi8vIGBUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICBpZiAoIWlzT2JqZWN0KGlucHV0KSB8fCBpc1N5bWJvbChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGV4b3RpY1RvUHJpbSA9IGdldE1ldGhvZChpbnB1dCwgVE9fUFJJTUlUSVZFKTtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKGV4b3RpY1RvUHJpbSkge1xuICAgIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnZGVmYXVsdCc7XG4gICAgcmVzdWx0ID0gY2FsbChleG90aWNUb1ByaW0sIGlucHV0LCBwcmVmKTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlc3VsdCkgfHwgaXNTeW1ib2wocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICB0aHJvdyAkVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuICB9XG4gIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnbnVtYmVyJztcbiAgcmV0dXJuIG9yZGluYXJ5VG9QcmltaXRpdmUoaW5wdXQsIHByZWYpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI1MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgT3JkaW5hcnlUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlucHV0LCBwcmVmKSB7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAocHJlZiA9PT0gJ3N0cmluZycgJiYgaXNDYWxsYWJsZShmbiA9IGlucHV0LnRvU3RyaW5nKSAmJiAhaXNPYmplY3QodmFsID0gY2FsbChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKGlzQ2FsbGFibGUoZm4gPSBpbnB1dC52YWx1ZU9mKSAmJiAhaXNPYmplY3QodmFsID0gY2FsbChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHByZWYgIT09ICdzdHJpbmcnICYmIGlzQ2FsbGFibGUoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0KHZhbCA9IGNhbGwoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGdsb2JhbFtrZXldID0gdmFsdWU7XG4gIH0gcmV0dXJuIHZhbHVlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmICh0eXBlb2YgYXJndW1lbnQgPT0gJ29iamVjdCcgfHwgaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IHNldCBcIiArICRTdHJpbmcoYXJndW1lbnQpICsgJyBhcyBhIHByb3RvdHlwZScpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgb3duS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjU3KTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSwgZXhjZXB0aW9ucykge1xuICB2YXIga2V5cyA9IG93bktleXMoc291cmNlKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoIWhhc093bih0YXJnZXQsIGtleSkgJiYgIShleGNlcHRpb25zICYmIGhhc093bihleGNlcHRpb25zLCBrZXkpKSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDI1NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMoW10uY29uY2F0KTtcblxuLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ293bktleXMnKSB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG4gIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mKGFuT2JqZWN0KGl0KSk7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgcmV0dXJuIGdldE93blByb3BlcnR5U3ltYm9scyA/IGNvbmNhdChrZXlzLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpKSA6IGtleXM7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuLy8gYE1hdGgudHJ1bmNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXRoLnRydW5jXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1tYXRoLXRydW5jIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gTWF0aC50cnVuYyB8fCBmdW5jdGlvbiB0cnVuYyh4KSB7XG4gIHZhciBuID0gK3g7XG4gIHJldHVybiAobiA+IDAgPyBmbG9vciA6IGNlaWwpKG4pO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI1OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcblxudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXJPckluZmluaXR5KGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjYwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciAkRXJyb3IgPSBFcnJvcjtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG5cbnZhciBURVNUID0gKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIFN0cmluZygkRXJyb3IoYXJnKS5zdGFjayk7IH0pKCd6eGNhc2QnKTtcbnZhciBWOF9PUl9DSEFLUkFfU1RBQ0tfRU5UUlkgPSAvXFxuXFxzKmF0IFteOl0qOlteXFxuXSovO1xudmFyIElTX1Y4X09SX0NIQUtSQV9TVEFDSyA9IFY4X09SX0NIQUtSQV9TVEFDS19FTlRSWS50ZXN0KFRFU1QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdGFjaywgZHJvcEVudHJpZXMpIHtcbiAgaWYgKElTX1Y4X09SX0NIQUtSQV9TVEFDSyAmJiB0eXBlb2Ygc3RhY2sgPT0gJ3N0cmluZycgJiYgISRFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSkge1xuICAgIHdoaWxlIChkcm9wRW50cmllcy0tKSBzdGFjayA9IHJlcGxhY2Uoc3RhY2ssIFY4X09SX0NIQUtSQV9TVEFDS19FTlRSWSwgJycpO1xuICB9IHJldHVybiBzdGFjaztcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cbi8vIGBJbnN0YWxsRXJyb3JDYXVzZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvcHJvcG9zYWwtZXJyb3ItY2F1c2UvI3NlYy1lcnJvcm9iamVjdHMtaW5zdGFsbC1lcnJvci1jYXVzZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgb3B0aW9ucykge1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NhdXNlJyBpbiBvcHRpb25zKSB7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KE8sICdjYXVzZScsIG9wdGlvbnMuY2F1c2UpO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjYyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCwgJGRlZmF1bHQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID09PSB1bmRlZmluZWQgPyBhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICcnIDogJGRlZmF1bHQgOiB0b1N0cmluZyhhcmd1bWVudCk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVycm9yID0gRXJyb3IoJ2EnKTtcbiAgaWYgKCEoJ3N0YWNrJyBpbiBlcnJvcikpIHJldHVybiB0cnVlO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsICdzdGFjaycsIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCA3KSk7XG4gIHJldHVybiBlcnJvci5zdGFjayAhPT0gNztcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xudmFyIGluc3BlY3RTb3VyY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNDYWxsYWJsZShXZWFrTWFwKSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoaW5zcGVjdFNvdXJjZShXZWFrTWFwKSk7XG5cblxuLyoqKi8gfSksXG4vKiAyNjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBjcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpO1xudmFyIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQsIEVOVU1FUkFCTEVfTkVYVCkge1xuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgSXRlcmF0b3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCshRU5VTUVSQUJMRV9ORVhULCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JDb25zdHJ1Y3RvciwgVE9fU1RSSU5HX1RBRywgZmFsc2UsIHRydWUpO1xuICBJdGVyYXRvcnNbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICByZXR1cm4gSXRlcmF0b3JDb25zdHJ1Y3Rvcjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gVE9fU1RSSU5HX1RBR19TVVBQT1JUID8ge30udG9TdHJpbmcgOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdbb2JqZWN0ICcgKyBjbGFzc29mKHRoaXMpICsgJ10nO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI2NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHNwbGl0IHRvIG1vZHVsZXMgbGlzdGVkIGJlbG93XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI2OCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI3OCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI3OSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4MSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4Mik7XG5cblxuLyoqKi8gfSksXG4vKiAyNjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBJU19QVVJFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG52YXIgSVNfTk9ERSA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgY2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG52YXIgc2V0U3BlY2llcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjY5KTtcbnZhciBhQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIGFuSW5zdGFuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3MCk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xudmFyIHRhc2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Mikuc2V0O1xudmFyIG1pY3JvdGFzayA9IF9fd2VicGFja19yZXF1aXJlX18oMjcyKTtcbnZhciBob3N0UmVwb3J0RXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzUpO1xudmFyIHBlcmZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcbnZhciBRdWV1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjc2KTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcblxudmFyIFBST01JU0UgPSAnUHJvbWlzZSc7XG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgPSBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24uQ09OU1RSVUNUT1I7XG52YXIgTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5UID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLlJFSkVDVElPTl9FVkVOVDtcbnZhciBOQVRJVkVfUFJPTUlTRV9TVUJDTEFTU0lORyA9IFByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5TVUJDTEFTU0lORztcbnZhciBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFBST01JU0UpO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yO1xudmFyIFByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlUHJvdG90eXBlO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgZG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZjtcbnZhciBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eTtcblxudmFyIERJU1BBVENIX0VWRU5UID0gISEoZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgZ2xvYmFsLmRpc3BhdGNoRXZlbnQpO1xudmFyIFVOSEFORExFRF9SRUpFQ1RJT04gPSAndW5oYW5kbGVkcmVqZWN0aW9uJztcbnZhciBSRUpFQ1RJT05fSEFORExFRCA9ICdyZWplY3Rpb25oYW5kbGVkJztcbnZhciBQRU5ESU5HID0gMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcbnZhciBIQU5ETEVEID0gMTtcbnZhciBVTkhBTkRMRUQgPSAyO1xuXG52YXIgSW50ZXJuYWwsIE93blByb21pc2VDYXBhYmlsaXR5LCBQcm9taXNlV3JhcHBlciwgbmF0aXZlVGhlbjtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgaXNDYWxsYWJsZSh0aGVuID0gaXQudGhlbikgPyB0aGVuIDogZmFsc2U7XG59O1xuXG52YXIgY2FsbFJlYWN0aW9uID0gZnVuY3Rpb24gKHJlYWN0aW9uLCBzdGF0ZSkge1xuICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgdmFyIG9rID0gc3RhdGUuc3RhdGUgPT0gRlVMRklMTEVEO1xuICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICB2YXIgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmU7XG4gIHZhciByZWplY3QgPSByZWFjdGlvbi5yZWplY3Q7XG4gIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gIHZhciByZXN1bHQsIHRoZW4sIGV4aXRlZDtcbiAgdHJ5IHtcbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICBpZiAoc3RhdGUucmVqZWN0aW9uID09PSBVTkhBTkRMRUQpIG9uSGFuZGxlVW5oYW5kbGVkKHN0YXRlKTtcbiAgICAgICAgc3RhdGUucmVqZWN0aW9uID0gSEFORExFRDtcbiAgICAgIH1cbiAgICAgIGlmIChoYW5kbGVyID09PSB0cnVlKSByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTtcbiAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIGNhbiB0aHJvd1xuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG4gICAgICAgIHJlamVjdChUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICB9IGVsc2UgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgY2FsbCh0aGVuLCByZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9IGVsc2UgcmVzb2x2ZShyZXN1bHQpO1xuICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChkb21haW4gJiYgIWV4aXRlZCkgZG9tYWluLmV4aXQoKTtcbiAgICByZWplY3QoZXJyb3IpO1xuICB9XG59O1xuXG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHN0YXRlLCBpc1JlamVjdCkge1xuICBpZiAoc3RhdGUubm90aWZpZWQpIHJldHVybjtcbiAgc3RhdGUubm90aWZpZWQgPSB0cnVlO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWFjdGlvbnMgPSBzdGF0ZS5yZWFjdGlvbnM7XG4gICAgdmFyIHJlYWN0aW9uO1xuICAgIHdoaWxlIChyZWFjdGlvbiA9IHJlYWN0aW9ucy5nZXQoKSkge1xuICAgICAgY2FsbFJlYWN0aW9uKHJlYWN0aW9uLCBzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLm5vdGlmaWVkID0gZmFsc2U7XG4gICAgaWYgKGlzUmVqZWN0ICYmICFzdGF0ZS5yZWplY3Rpb24pIG9uVW5oYW5kbGVkKHN0YXRlKTtcbiAgfSk7XG59O1xuXG52YXIgZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChuYW1lLCBwcm9taXNlLCByZWFzb24pIHtcbiAgdmFyIGV2ZW50LCBoYW5kbGVyO1xuICBpZiAoRElTUEFUQ0hfRVZFTlQpIHtcbiAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2ZW50LnByb21pc2UgPSBwcm9taXNlO1xuICAgIGV2ZW50LnJlYXNvbiA9IHJlYXNvbjtcbiAgICBldmVudC5pbml0RXZlbnQobmFtZSwgZmFsc2UsIHRydWUpO1xuICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSBlbHNlIGV2ZW50ID0geyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHJlYXNvbiB9O1xuICBpZiAoIU5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCAmJiAoaGFuZGxlciA9IGdsb2JhbFsnb24nICsgbmFtZV0pKSBoYW5kbGVyKGV2ZW50KTtcbiAgZWxzZSBpZiAobmFtZSA9PT0gVU5IQU5ETEVEX1JFSkVDVElPTikgaG9zdFJlcG9ydEVycm9ycygnVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgcmVhc29uKTtcbn07XG5cbnZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBjYWxsKHRhc2ssIGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gc3RhdGUuZmFjYWRlO1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuICAgIHZhciBJU19VTkhBTkRMRUQgPSBpc1VuaGFuZGxlZChzdGF0ZSk7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoSVNfVU5IQU5ETEVEKSB7XG4gICAgICByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKElTX05PREUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIGRpc3BhdGNoRXZlbnQoVU5IQU5ETEVEX1JFSkVDVElPTiwgcHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICAvLyBCcm93c2VycyBzaG91bGQgbm90IHRyaWdnZXIgYHJlamVjdGlvbkhhbmRsZWRgIGV2ZW50IGlmIGl0IHdhcyBoYW5kbGVkIGhlcmUsIE5vZGVKUyAtIHNob3VsZFxuICAgICAgc3RhdGUucmVqZWN0aW9uID0gSVNfTk9ERSB8fCBpc1VuaGFuZGxlZChzdGF0ZSkgPyBVTkhBTkRMRUQgOiBIQU5ETEVEO1xuICAgICAgaWYgKHJlc3VsdC5lcnJvcikgdGhyb3cgcmVzdWx0LnZhbHVlO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnJlamVjdGlvbiAhPT0gSEFORExFRCAmJiAhc3RhdGUucGFyZW50O1xufTtcblxudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGNhbGwodGFzaywgZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBzdGF0ZS5mYWNhZGU7XG4gICAgaWYgKElTX05PREUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFJFSkVDVElPTl9IQU5ETEVELCBwcm9taXNlLCBzdGF0ZS52YWx1ZSk7XG4gIH0pO1xufTtcblxudmFyIGJpbmQgPSBmdW5jdGlvbiAoZm4sIHN0YXRlLCB1bndyYXApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGZuKHN0YXRlLCB2YWx1ZSwgdW53cmFwKTtcbiAgfTtcbn07XG5cbnZhciBpbnRlcm5hbFJlamVjdCA9IGZ1bmN0aW9uIChzdGF0ZSwgdmFsdWUsIHVud3JhcCkge1xuICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuO1xuICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgaWYgKHVud3JhcCkgc3RhdGUgPSB1bndyYXA7XG4gIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gIHN0YXRlLnN0YXRlID0gUkVKRUNURUQ7XG4gIG5vdGlmeShzdGF0ZSwgdHJ1ZSk7XG59O1xuXG52YXIgaW50ZXJuYWxSZXNvbHZlID0gZnVuY3Rpb24gKHN0YXRlLCB2YWx1ZSwgdW53cmFwKSB7XG4gIGlmIChzdGF0ZS5kb25lKSByZXR1cm47XG4gIHN0YXRlLmRvbmUgPSB0cnVlO1xuICBpZiAodW53cmFwKSBzdGF0ZSA9IHVud3JhcDtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhdGUuZmFjYWRlID09PSB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgdmFyIHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKTtcbiAgICBpZiAodGhlbikge1xuICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7IGRvbmU6IGZhbHNlIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FsbCh0aGVuLCB2YWx1ZSxcbiAgICAgICAgICAgIGJpbmQoaW50ZXJuYWxSZXNvbHZlLCB3cmFwcGVyLCBzdGF0ZSksXG4gICAgICAgICAgICBiaW5kKGludGVybmFsUmVqZWN0LCB3cmFwcGVyLCBzdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGludGVybmFsUmVqZWN0KHdyYXBwZXIsIGVycm9yLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgc3RhdGUuc3RhdGUgPSBGVUxGSUxMRUQ7XG4gICAgICBub3RpZnkoc3RhdGUsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaW50ZXJuYWxSZWplY3QoeyBkb25lOiBmYWxzZSB9LCBlcnJvciwgc3RhdGUpO1xuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYgKEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SKSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gIFByb21pc2VDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBhbkluc3RhbmNlKHRoaXMsIFByb21pc2VQcm90b3R5cGUpO1xuICAgIGFDYWxsYWJsZShleGVjdXRvcik7XG4gICAgY2FsbChJbnRlcm5hbCwgdGhpcyk7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGJpbmQoaW50ZXJuYWxSZXNvbHZlLCBzdGF0ZSksIGJpbmQoaW50ZXJuYWxSZWplY3QsIHN0YXRlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGludGVybmFsUmVqZWN0KHN0YXRlLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIFByb21pc2VQcm90b3R5cGUgPSBQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgICAgdHlwZTogUFJPTUlTRSxcbiAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgbm90aWZpZWQ6IGZhbHNlLFxuICAgICAgcGFyZW50OiBmYWxzZSxcbiAgICAgIHJlYWN0aW9uczogbmV3IFF1ZXVlKCksXG4gICAgICByZWplY3Rpb246IGZhbHNlLFxuICAgICAgc3RhdGU6IFBFTkRJTkcsXG4gICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gYFByb21pc2UucHJvdG90eXBlLnRoZW5gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLnRoZW5cbiAgSW50ZXJuYWwucHJvdG90eXBlID0gZGVmaW5lQnVpbHRJbihQcm9taXNlUHJvdG90eXBlLCAndGhlbicsIGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZSh0aGlzKTtcbiAgICB2YXIgcmVhY3Rpb24gPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgUHJvbWlzZUNvbnN0cnVjdG9yKSk7XG4gICAgc3RhdGUucGFyZW50ID0gdHJ1ZTtcbiAgICByZWFjdGlvbi5vayA9IGlzQ2FsbGFibGUob25GdWxmaWxsZWQpID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgIHJlYWN0aW9uLmZhaWwgPSBpc0NhbGxhYmxlKG9uUmVqZWN0ZWQpICYmIG9uUmVqZWN0ZWQ7XG4gICAgcmVhY3Rpb24uZG9tYWluID0gSVNfTk9ERSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgIGlmIChzdGF0ZS5zdGF0ZSA9PSBQRU5ESU5HKSBzdGF0ZS5yZWFjdGlvbnMuYWRkKHJlYWN0aW9uKTtcbiAgICBlbHNlIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsUmVhY3Rpb24ocmVhY3Rpb24sIHN0YXRlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgfSk7XG5cbiAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgSW50ZXJuYWwoKTtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZShwcm9taXNlKTtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGJpbmQoaW50ZXJuYWxSZXNvbHZlLCBzdGF0ZSk7XG4gICAgdGhpcy5yZWplY3QgPSBiaW5kKGludGVybmFsUmVqZWN0LCBzdGF0ZSk7XG4gIH07XG5cbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yIHx8IEMgPT09IFByb21pc2VXcmFwcGVyXG4gICAgICA/IG5ldyBPd25Qcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgOiBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gIH07XG5cbiAgaWYgKCFJU19QVVJFICYmIGlzQ2FsbGFibGUoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKSAmJiBOYXRpdmVQcm9taXNlUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgbmF0aXZlVGhlbiA9IE5hdGl2ZVByb21pc2VQcm90b3R5cGUudGhlbjtcblxuICAgIGlmICghTkFUSVZFX1BST01JU0VfU1VCQ0xBU1NJTkcpIHtcbiAgICAgIC8vIG1ha2UgYFByb21pc2UjdGhlbmAgcmV0dXJuIGEgcG9seWZpbGxlZCBgUHJvbWlzZWAgZm9yIG5hdGl2ZSBwcm9taXNlLWJhc2VkIEFQSXNcbiAgICAgIGRlZmluZUJ1aWx0SW4oTmF0aXZlUHJvbWlzZVByb3RvdHlwZSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGNhbGwobmF0aXZlVGhlbiwgdGhhdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjQwXG4gICAgICB9LCB7IHVuc2FmZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAvLyBtYWtlIGAuY29uc3RydWN0b3IgPT09IFByb21pc2VgIHdvcmsgZm9yIG5hdGl2ZSBwcm9taXNlLWJhc2VkIEFQSXNcbiAgICB0cnkge1xuICAgICAgZGVsZXRlIE5hdGl2ZVByb21pc2VQcm90b3R5cGUuY29uc3RydWN0b3I7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuXG4gICAgLy8gbWFrZSBgaW5zdGFuY2VvZiBQcm9taXNlYCB3b3JrIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgICBzZXRQcm90b3R5cGVPZihOYXRpdmVQcm9taXNlUHJvdG90eXBlLCBQcm9taXNlUHJvdG90eXBlKTtcbiAgICB9XG4gIH1cbn1cblxuJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIHdyYXA6IHRydWUsIGZvcmNlZDogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgfSwge1xuICBQcm9taXNlOiBQcm9taXNlQ29uc3RydWN0b3Jcbn0pO1xuXG5zZXRUb1N0cmluZ1RhZyhQcm9taXNlQ29uc3RydWN0b3IsIFBST01JU0UsIGZhbHNlLCB0cnVlKTtcbnNldFNwZWNpZXMoUFJPTUlTRSk7XG5cblxuLyoqKi8gfSksXG4vKiAyNjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENPTlNUUlVDVE9SX05BTUUpIHtcbiAgdmFyIENvbnN0cnVjdG9yID0gZ2V0QnVpbHRJbihDT05TVFJVQ1RPUl9OQU1FKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgQ29uc3RydWN0b3IgJiYgIUNvbnN0cnVjdG9yW1NQRUNJRVNdKSB7XG4gICAgZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFNQRUNJRVMsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIH0pO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjcwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUHJvdG90eXBlKSB7XG4gIGlmIChpc1Byb3RvdHlwZU9mKFByb3RvdHlwZSwgaXQpKSByZXR1cm4gaXQ7XG4gIHRocm93ICRUeXBlRXJyb3IoJ0luY29ycmVjdCBpbnZvY2F0aW9uJyk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogMjcxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChwYXNzZWQsIHJlcXVpcmVkKSB7XG4gIGlmIChwYXNzZWQgPCByZXF1aXJlZCkgdGhyb3cgJFR5cGVFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcbiAgcmV0dXJuIHBhc3NlZDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpLmY7XG52YXIgbWFjcm90YXNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjIpLnNldDtcbnZhciBJU19JT1MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Myk7XG52YXIgSVNfSU9TX1BFQkJMRSA9IF9fd2VicGFja19yZXF1aXJlX18oMjczKTtcbnZhciBJU19XRUJPU19XRUJLSVQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3NCk7XG52YXIgSVNfTk9ERSA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXG52YXIgTXV0YXRpb25PYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBQcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG4vLyBOb2RlLmpzIDExIHNob3dzIEV4cGVyaW1lbnRhbFdhcm5pbmcgb24gZ2V0dGluZyBgcXVldWVNaWNyb3Rhc2tgXG52YXIgcXVldWVNaWNyb3Rhc2tEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGdsb2JhbCwgJ3F1ZXVlTWljcm90YXNrJyk7XG52YXIgcXVldWVNaWNyb3Rhc2sgPSBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgJiYgcXVldWVNaWNyb3Rhc2tEZXNjcmlwdG9yLnZhbHVlO1xuXG52YXIgZmx1c2gsIGhlYWQsIGxhc3QsIG5vdGlmeSwgdG9nZ2xlLCBub2RlLCBwcm9taXNlLCB0aGVuO1xuXG4vLyBtb2Rlcm4gZW5naW5lcyBoYXZlIHF1ZXVlTWljcm90YXNrIG1ldGhvZFxuaWYgKCFxdWV1ZU1pY3JvdGFzaykge1xuICBmbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZiAoSVNfTk9ERSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKSBwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlIChoZWFkKSB7XG4gICAgICBmbiA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChoZWFkKSBub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyLCBleGNlcHQgaU9TIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMzOVxuICAvLyBhbHNvIGV4Y2VwdCBXZWJPUyBXZWJraXQgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg5OFxuICBpZiAoIUlTX0lPUyAmJiAhSVNfTk9ERSAmJiAhSVNfV0VCT1NfV0VCS0lUICYmIE11dGF0aW9uT2JzZXJ2ZXIgJiYgZG9jdW1lbnQpIHtcbiAgICB0b2dnbGUgPSB0cnVlO1xuICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmICghSVNfSU9TX1BFQkJMRSAmJiBQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSkge1xuICAgIC8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyXG4gICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIC8vIHdvcmthcm91bmQgb2YgV2ViS2l0IH4gaU9TIFNhZmFyaSAxMC4xIGJ1Z1xuICAgIHByb21pc2UuY29uc3RydWN0b3IgPSBQcm9taXNlO1xuICAgIHRoZW4gPSBiaW5kKHByb21pc2UudGhlbiwgcHJvbWlzZSk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gTm9kZS5qcyB3aXRob3V0IHByb21pc2VzXG4gIH0gZWxzZSBpZiAoSVNfTk9ERSkge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ2VcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmJpbmQoZ2xvYmFsKVxuICAgIG1hY3JvdGFzayA9IGJpbmQobWFjcm90YXNrLCBnbG9iYWwpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1hY3JvdGFzayhmbHVzaCk7XG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1ZXVlTWljcm90YXNrIHx8IGZ1bmN0aW9uIChmbikge1xuICB2YXIgdGFzayA9IHsgZm46IGZuLCBuZXh0OiB1bmRlZmluZWQgfTtcbiAgaWYgKGxhc3QpIGxhc3QubmV4dCA9IHRhc2s7XG4gIGlmICghaGVhZCkge1xuICAgIGhlYWQgPSB0YXNrO1xuICAgIG5vdGlmeSgpO1xuICB9IGxhc3QgPSB0YXNrO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDI3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdXNlckFnZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxubW9kdWxlLmV4cG9ydHMgPSAvaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QodXNlckFnZW50KSAmJiBnbG9iYWwuUGViYmxlICE9PSB1bmRlZmluZWQ7XG5cblxuLyoqKi8gfSksXG4vKiAyNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHVzZXJBZ2VudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QodXNlckFnZW50KTtcblxuXG4vKioqLyB9KSxcbi8qIDI3NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgY29uc29sZSA9IGdsb2JhbC5jb25zb2xlO1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgYXJndW1lbnRzLmxlbmd0aCA9PSAxID8gY29uc29sZS5lcnJvcihhKSA6IGNvbnNvbGUuZXJyb3IoYSwgYik7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG4vKiAyNzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmhlYWQgPSBudWxsO1xuICB0aGlzLnRhaWwgPSBudWxsO1xufTtcblxuUXVldWUucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIGVudHJ5ID0geyBpdGVtOiBpdGVtLCBuZXh0OiBudWxsIH07XG4gICAgaWYgKHRoaXMuaGVhZCkgdGhpcy50YWlsLm5leHQgPSBlbnRyeTtcbiAgICBlbHNlIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgIHRoaXMudGFpbCA9IGVudHJ5O1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmhlYWQ7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICB0aGlzLmhlYWQgPSBlbnRyeS5uZXh0O1xuICAgICAgaWYgKHRoaXMudGFpbCA9PT0gZW50cnkpIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICByZXR1cm4gZW50cnkuaXRlbTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUXVldWU7XG5cblxuLyoqKi8gfSksXG4vKiAyNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHR5cGVvZiBEZW5vICE9ICdvYmplY3QnO1xuXG5cbi8qKiovIH0pLFxuLyogMjc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgY2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xudmFyIGFDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG52YXIgcGVyZm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xudmFyIGl0ZXJhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcbnZhciBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblxuLy8gYFByb21pc2UuYWxsYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5hbGxcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiB9LCB7XG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZihDKTtcbiAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwcm9taXNlUmVzb2x2ZSA9IGFDYWxsYWJsZShDLnJlc29sdmUpO1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICBpdGVyYXRlKGl0ZXJhYmxlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgaW5kZXggPSBjb3VudGVyKys7XG4gICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBjYWxsKCRwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDI3OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpLkNPTlNUUlVDVE9SO1xudmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xudmFyIGdldEJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBpc0NhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbnZhciBkZWZpbmVCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cbnZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbi8vIGBQcm9taXNlLnByb3RvdHlwZS5jYXRjaGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLmNhdGNoXG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SLCByZWFsOiB0cnVlIH0sIHtcbiAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gIH1cbn0pO1xuXG4vLyBtYWtlcyBzdXJlIHRoYXQgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJcyBgUHJvbWlzZSNjYXRjaGAgcHJvcGVybHkgd29ya3Mgd2l0aCBwYXRjaGVkIGBQcm9taXNlI3RoZW5gXG5pZiAoIUlTX1BVUkUgJiYgaXNDYWxsYWJsZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpKSB7XG4gIHZhciBtZXRob2QgPSBnZXRCdWlsdEluKCdQcm9taXNlJykucHJvdG90eXBlWydjYXRjaCddO1xuICBpZiAoTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnY2F0Y2gnXSAhPT0gbWV0aG9kKSB7XG4gICAgZGVmaW5lQnVpbHRJbihOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAnY2F0Y2gnLCBtZXRob2QsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICB9XG59XG5cblxuLyoqKi8gfSksXG4vKiAyODAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgYUNhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcbnZhciBwZXJmb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG52YXIgaXRlcmF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xudmFyIFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXG4vLyBgUHJvbWlzZS5yYWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5yYWNlXG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04gfSwge1xuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZihDKTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwcm9taXNlUmVzb2x2ZSA9IGFDYWxsYWJsZShDLnJlc29sdmUpO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgY2FsbCgkcHJvbWlzZVJlc29sdmUsIEMsIHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyODEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpLkNPTlNUUlVDVE9SO1xuXG4vLyBgUHJvbWlzZS5yZWplY3RgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJlamVjdFxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZih0aGlzKTtcbiAgICBjYWxsKGNhcGFiaWxpdHkucmVqZWN0LCB1bmRlZmluZWQsIHIpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpLkNPTlNUUlVDVE9SO1xudmFyIHByb21pc2VSZXNvbHZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKTtcbnZhciBDSEVDS19XUkFQUEVSID0gSVNfUFVSRSAmJiAhRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1I7XG5cbi8vIGBQcm9taXNlLnJlc29sdmVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJlc29sdmVcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBJU19QVVJFIHx8IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKENIRUNLX1dSQVBQRVIgJiYgdGhpcyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA/IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA6IHRoaXMsIHgpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDI4MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGNhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciBhQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xudmFyIHBlcmZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcbnZhciBpdGVyYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cbi8vIGBQcm9taXNlLmFsbFNldHRsZWRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFsbHNldHRsZWRcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSB9LCB7XG4gIGFsbFNldHRsZWQ6IGZ1bmN0aW9uIGFsbFNldHRsZWQoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUoQy5yZXNvbHZlKTtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gY291bnRlcisrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgY2FsbChwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogZXJyb3IgfTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiAyODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgYUNhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG52YXIgcGVyZm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xudmFyIGl0ZXJhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcblxudmFyIFBST01JU0VfQU5ZX0VSUk9SID0gJ05vIG9uZSBwcm9taXNlIHJlc29sdmVkJztcblxuLy8gYFByb21pc2UuYW55YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5hbnlcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSB9LCB7XG4gIGFueTogZnVuY3Rpb24gYW55KGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBBZ2dyZWdhdGVFcnJvciA9IGdldEJ1aWx0SW4oJ0FnZ3JlZ2F0ZUVycm9yJyk7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUoQy5yZXNvbHZlKTtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgdmFyIGFscmVhZHlSZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gY291bnRlcisrO1xuICAgICAgICB2YXIgYWxyZWFkeVJlamVjdGVkID0gZmFsc2U7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBjYWxsKHByb21pc2VSZXNvbHZlLCBDLCBwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGlmIChhbHJlYWR5UmVqZWN0ZWQgfHwgYWxyZWFkeVJlc29sdmVkKSByZXR1cm47XG4gICAgICAgICAgYWxyZWFkeVJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlSZWplY3RlZCB8fCBhbHJlYWR5UmVzb2x2ZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5UmVqZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGVycm9yc1tpbmRleF0gPSBlcnJvcjtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZWplY3QobmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgUFJPTUlTRV9BTllfRVJST1IpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzLCBQUk9NSVNFX0FOWV9FUlJPUikpO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZXJyb3IpIHJlamVjdChyZXN1bHQudmFsdWUpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMjg1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgSVNfUFVSRSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xudmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xudmFyIHByb21pc2VSZXNvbHZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblxudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuLy8gU2FmYXJpIGJ1ZyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjAwODI5XG52YXIgTk9OX0dFTkVSSUMgPSAhIU5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL25vLXRoZW5hYmxlIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2ZpbmFsbHknXS5jYWxsKHsgdGhlbjogZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9IH0sIGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSk7XG59KTtcblxuLy8gYFByb21pc2UucHJvdG90eXBlLmZpbmFsbHlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnByb3RvdHlwZS5maW5hbGx5XG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHByb3RvOiB0cnVlLCByZWFsOiB0cnVlLCBmb3JjZWQ6IE5PTl9HRU5FUklDIH0sIHtcbiAgJ2ZpbmFsbHknOiBmdW5jdGlvbiAob25GaW5hbGx5KSB7XG4gICAgdmFyIEMgPSBzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgZ2V0QnVpbHRJbignUHJvbWlzZScpKTtcbiAgICB2YXIgaXNGdW5jdGlvbiA9IGlzQ2FsbGFibGUob25GaW5hbGx5KTtcbiAgICByZXR1cm4gdGhpcy50aGVuKFxuICAgICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB4OyB9KTtcbiAgICAgIH0gOiBvbkZpbmFsbHksXG4gICAgICBpc0Z1bmN0aW9uID8gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgdGhyb3cgZTsgfSk7XG4gICAgICB9IDogb25GaW5hbGx5XG4gICAgKTtcbiAgfVxufSk7XG5cbi8vIG1ha2VzIHN1cmUgdGhhdCBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzIGBQcm9taXNlI2ZpbmFsbHlgIHByb3Blcmx5IHdvcmtzIHdpdGggcGF0Y2hlZCBgUHJvbWlzZSN0aGVuYFxuaWYgKCFJU19QVVJFICYmIGlzQ2FsbGFibGUoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKSkge1xuICB2YXIgbWV0aG9kID0gZ2V0QnVpbHRJbignUHJvbWlzZScpLnByb3RvdHlwZVsnZmluYWxseSddO1xuICBpZiAoTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnZmluYWxseSddICE9PSBtZXRob2QpIHtcbiAgICBkZWZpbmVCdWlsdEluKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsICdmaW5hbGx5JywgbWV0aG9kLCB7IHVuc2FmZTogdHJ1ZSB9KTtcbiAgfVxufVxuXG5cbi8qKiovIH0pLFxuLyogMjg2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblxudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJDb2RlQXQpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKENPTlZFUlRfVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIHBvcykge1xuICAgIHZhciBTID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIHZhciBwb3NpdGlvbiA9IHRvSW50ZWdlck9ySW5maW5pdHkocG9zKTtcbiAgICB2YXIgc2l6ZSA9IFMubGVuZ3RoO1xuICAgIHZhciBmaXJzdCwgc2Vjb25kO1xuICAgIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gc2l6ZSkgcmV0dXJuIENPTlZFUlRfVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgZmlyc3QgPSBjaGFyQ29kZUF0KFMsIHBvc2l0aW9uKTtcbiAgICByZXR1cm4gZmlyc3QgPCAweEQ4MDAgfHwgZmlyc3QgPiAweERCRkYgfHwgcG9zaXRpb24gKyAxID09PSBzaXplXG4gICAgICB8fCAoc2Vjb25kID0gY2hhckNvZGVBdChTLCBwb3NpdGlvbiArIDEpKSA8IDB4REMwMCB8fCBzZWNvbmQgPiAweERGRkZcbiAgICAgICAgPyBDT05WRVJUX1RPX1NUUklOR1xuICAgICAgICAgID8gY2hhckF0KFMsIHBvc2l0aW9uKVxuICAgICAgICAgIDogZmlyc3RcbiAgICAgICAgOiBDT05WRVJUX1RPX1NUUklOR1xuICAgICAgICAgID8gc3RyaW5nU2xpY2UoUywgcG9zaXRpb24sIHBvc2l0aW9uICsgMilcbiAgICAgICAgICA6IChmaXJzdCAtIDB4RDgwMCA8PCAxMCkgKyAoc2Vjb25kIC0gMHhEQzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuY29kZXBvaW50YXRcbiAgY29kZUF0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS5hdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRoaWFzYnluZW5zL1N0cmluZy5wcm90b3R5cGUuYXRcbiAgY2hhckF0OiBjcmVhdGVNZXRob2QodHJ1ZSlcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyODcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gaXRlcmFibGUgRE9NIGNvbGxlY3Rpb25zXG4vLyBmbGFnIC0gYGl0ZXJhYmxlYCBpbnRlcmZhY2UgLSAnZW50cmllcycsICdrZXlzJywgJ3ZhbHVlcycsICdmb3JFYWNoJyBtZXRob2RzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ1NTUnVsZUxpc3Q6IDAsXG4gIENTU1N0eWxlRGVjbGFyYXRpb246IDAsXG4gIENTU1ZhbHVlTGlzdDogMCxcbiAgQ2xpZW50UmVjdExpc3Q6IDAsXG4gIERPTVJlY3RMaXN0OiAwLFxuICBET01TdHJpbmdMaXN0OiAwLFxuICBET01Ub2tlbkxpc3Q6IDEsXG4gIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiAwLFxuICBGaWxlTGlzdDogMCxcbiAgSFRNTEFsbENvbGxlY3Rpb246IDAsXG4gIEhUTUxDb2xsZWN0aW9uOiAwLFxuICBIVE1MRm9ybUVsZW1lbnQ6IDAsXG4gIEhUTUxTZWxlY3RFbGVtZW50OiAwLFxuICBNZWRpYUxpc3Q6IDAsXG4gIE1pbWVUeXBlQXJyYXk6IDAsXG4gIE5hbWVkTm9kZU1hcDogMCxcbiAgTm9kZUxpc3Q6IDEsXG4gIFBhaW50UmVxdWVzdExpc3Q6IDAsXG4gIFBsdWdpbjogMCxcbiAgUGx1Z2luQXJyYXk6IDAsXG4gIFNWR0xlbmd0aExpc3Q6IDAsXG4gIFNWR051bWJlckxpc3Q6IDAsXG4gIFNWR1BhdGhTZWdMaXN0OiAwLFxuICBTVkdQb2ludExpc3Q6IDAsXG4gIFNWR1N0cmluZ0xpc3Q6IDAsXG4gIFNWR1RyYW5zZm9ybUxpc3Q6IDAsXG4gIFNvdXJjZUJ1ZmZlckxpc3Q6IDAsXG4gIFN0eWxlU2hlZXRMaXN0OiAwLFxuICBUZXh0VHJhY2tDdWVMaXN0OiAwLFxuICBUZXh0VHJhY2tMaXN0OiAwLFxuICBUb3VjaExpc3Q6IDBcbn07XG5cblxuLyoqKi8gfSksXG4vKiAyODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pbmRleF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpO1xuLy8gRGVmYXVsdCBFeHBvcnRcbi8vID09PT09PT09PT09PT09XG4vLyBJbiB0aGlzIG1vZHVsZSwgd2UgbWl4IG91ciBidW5kbGVkIGV4cG9ydHMgaW50byB0aGUgYF9gIG9iamVjdCBhbmQgZXhwb3J0XG4vLyB0aGUgcmVzdWx0LiBUaGlzIGlzIGFuYWxvZ291cyB0byBzZXR0aW5nIGBtb2R1bGUuZXhwb3J0cyA9IF9gIGluIENvbW1vbkpTLlxuLy8gSGVuY2UsIHRoaXMgbW9kdWxlIGlzIGFsc28gdGhlIGVudHJ5IHBvaW50IG9mIG91ciBVTUQgYnVuZGxlIGFuZCB0aGUgcGFja2FnZVxuLy8gZW50cnkgcG9pbnQgZm9yIENvbW1vbkpTIGFuZCBBTUQgdXNlcnMuIEluIG90aGVyIHdvcmRzLCB0aGlzIGlzICh0aGUgc291cmNlXG4vLyBvZikgdGhlIG1vZHVsZSB5b3UgYXJlIGludGVyZmFjaW5nIHdpdGggd2hlbiB5b3UgZG8gYW55IG9mIHRoZSBmb2xsb3dpbmc6XG4vL1xuLy8gYGBganNcbi8vIC8vIENvbW1vbkpTXG4vLyB2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbi8vXG4vLyAvLyBBTURcbi8vIGRlZmluZShbJ3VuZGVyc2NvcmUnXSwgZnVuY3Rpb24oXykgey4uLn0pO1xuLy9cbi8vIC8vIFVNRCBpbiB0aGUgYnJvd3NlclxuLy8gLy8gXyBpcyBhdmFpbGFibGUgYXMgYSBnbG9iYWwgdmFyaWFibGVcbi8vIGBgYFxuXG5cblxuLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxudmFyIF8gPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pbmRleF9qc19fW1wibWl4aW5cIl0pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faW5kZXhfanNfXyk7XG4vLyBMZWdhY3kgTm9kZS5qcyBBUEkuXG5fLl8gPSBfO1xuLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIEFQSS5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoXyk7XG5cblxuLyoqKi8gfSksXG4vKiAyODkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGlzTnVsbDtcbi8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbmZ1bmN0aW9uIGlzTnVsbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDI5MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gaXNFbGVtZW50O1xuLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIERPTSBlbGVtZW50P1xuZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAyOTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdEYXRlJykpO1xuXG5cbi8qKiovIH0pLFxuLyogMjkyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgnUmVnRXhwJykpO1xuXG5cbi8qKiovIH0pLFxuLyogMjkzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgnRXJyb3InKSk7XG5cblxuLyoqKi8gfSksXG4vKiAyOTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdPYmplY3QnKSk7XG5cblxuLyoqKi8gfSksXG4vKiAyOTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGlzRmluaXRlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc1N5bWJvbF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzApO1xuXG5cblxuLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuZnVuY3Rpb24gaXNGaW5pdGUob2JqKSB7XG4gIHJldHVybiAhT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNTeW1ib2xfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zZXR1cF9qc19fW1wiZlwiIC8qIF9pc0Zpbml0ZSAqL10pKG9iaikgJiYgIWlzTmFOKHBhcnNlRmxvYXQob2JqKSk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAyOTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVTaXplUHJvcGVydHlDaGVja19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0Qnl0ZUxlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpO1xuXG5cblxuLy8gSW50ZXJuYWwgaGVscGVyIHRvIGRldGVybWluZSB3aGV0aGVyIHdlIHNob3VsZCBzcGVuZCBleHRlbnNpdmUgY2hlY2tzIGFnYWluc3Rcbi8vIGBBcnJheUJ1ZmZlcmAgZXQgYWwuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZVNpemVQcm9wZXJ0eUNoZWNrX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZ2V0Qnl0ZUxlbmd0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSk7XG5cblxuLyoqKi8gfSksXG4vKiAyOTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGlzRW1wdHk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRMZW5ndGhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNBcnJheV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19pc1N0cmluZ19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19faXNBcmd1bWVudHNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cblxuXG5cblxuLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4vLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgLy8gU2tpcCB0aGUgbW9yZSBleHBlbnNpdmUgYHRvU3RyaW5nYC1iYXNlZCB0eXBlIGNoZWNrcyBpZiBgb2JqYCBoYXMgbm9cbiAgLy8gYC5sZW5ndGhgLlxuICB2YXIgbGVuZ3RoID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZ2V0TGVuZ3RoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaik7XG4gIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIChcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0FycmF5X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikgfHwgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faXNTdHJpbmdfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSB8fCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19pc0FyZ3VtZW50c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopXG4gICkpIHJldHVybiBsZW5ndGggPT09IDA7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fa2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopKSA9PT0gMDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDI5OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gaXNFcXVhbDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19nZXRCeXRlTGVuZ3RoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19pc1R5cGVkQXJyYXlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2lzRnVuY3Rpb25fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc3RyaW5nVGFnQnVnX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX2lzRGF0YVZpZXdfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9faGFzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX3RvQnVmZmVyVmlld19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOTkpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIFdlIHVzZSB0aGlzIHN0cmluZyB0d2ljZSwgc28gZ2l2ZSBpdCBhIG5hbWUgZm9yIG1pbmlmaWNhdGlvbi5cbnZhciB0YWdEYXRhVmlldyA9ICdbb2JqZWN0IERhdGFWaWV3XSc7XG5cbi8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgXy5pc0VxdWFsYC5cbmZ1bmN0aW9uIGVxKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHBzOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAvLyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgb25seSBlcXVhbCB0byBpdHNlbGYgKHN0cmljdCBjb21wYXJpc29uKS5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgaWYgKGEgIT09IGEpIHJldHVybiBiICE9PSBiO1xuICAvLyBFeGhhdXN0IHByaW1pdGl2ZSBjaGVja3NcbiAgdmFyIHR5cGUgPSB0eXBlb2YgYTtcbiAgaWYgKHR5cGUgIT09ICdmdW5jdGlvbicgJiYgdHlwZSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGRlZXBFcShhLCBiLCBhU3RhY2ssIGJTdGFjayk7XG59XG5cbi8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgXy5pc0VxdWFsYC5cbmZ1bmN0aW9uIGRlZXBFcShhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgaWYgKGEgaW5zdGFuY2VvZiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkgYSA9IGEuX3dyYXBwZWQ7XG4gIGlmIChiIGluc3RhbmNlb2YgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191bmRlcnNjb3JlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pIGIgPSBiLl93cmFwcGVkO1xuICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICB2YXIgY2xhc3NOYW1lID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fW1widFwiIC8qIHRvU3RyaW5nICovXS5jYWxsKGEpO1xuICBpZiAoY2xhc3NOYW1lICE9PSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJ0XCIgLyogdG9TdHJpbmcgKi9dLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgLy8gV29yayBhcm91bmQgYSBidWcgaW4gSUUgMTAgLSBFZGdlIDEzLlxuICBpZiAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zdHJpbmdUYWdCdWdfanNfX1tcImFcIiAvKiBoYXNTdHJpbmdUYWdCdWcgKi9dICYmIGNsYXNzTmFtZSA9PSAnW29iamVjdCBPYmplY3RdJyAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19pc0RhdGFWaWV3X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGEpKSB7XG4gICAgaWYgKCFPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19pc0RhdGFWaWV3X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgY2xhc3NOYW1lID0gdGFnRGF0YVZpZXc7XG4gIH1cbiAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAvLyBUaGVzZSB0eXBlcyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTi5cbiAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAvLyBBbiBgZWdhbGAgY29tcGFyaXNvbiBpcyBwZXJmb3JtZWQgZm9yIG90aGVyIG51bWVyaWMgdmFsdWVzLlxuICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICBjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcbiAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cbiAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgY2FzZSAnW29iamVjdCBTeW1ib2xdJzpcbiAgICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NldHVwX2pzX19bXCJkXCIgLyogU3ltYm9sUHJvdG8gKi9dLnZhbHVlT2YuY2FsbChhKSA9PT0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fW1wiZFwiIC8qIFN5bWJvbFByb3RvICovXS52YWx1ZU9mLmNhbGwoYik7XG4gICAgY2FzZSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nOlxuICAgIGNhc2UgdGFnRGF0YVZpZXc6XG4gICAgICAvLyBDb2VyY2UgdG8gdHlwZWQgYXJyYXkgc28gd2UgY2FuIGZhbGwgdGhyb3VnaC5cbiAgICAgIHJldHVybiBkZWVwRXEoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fdG9CdWZmZXJWaWV3X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGEpLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X190b0J1ZmZlclZpZXdfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYiksIGFTdGFjaywgYlN0YWNrKTtcbiAgfVxuXG4gIHZhciBhcmVBcnJheXMgPSBjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIGlmICghYXJlQXJyYXlzICYmIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2lzVHlwZWRBcnJheV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhKSkge1xuICAgICAgdmFyIGJ5dGVMZW5ndGggPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19nZXRCeXRlTGVuZ3RoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGEpO1xuICAgICAgaWYgKGJ5dGVMZW5ndGggIT09IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2dldEJ5dGVMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYikpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChhLmJ1ZmZlciA9PT0gYi5idWZmZXIgJiYgYS5ieXRlT2Zmc2V0ID09PSBiLmJ5dGVPZmZzZXQpIHJldHVybiB0cnVlO1xuICAgICAgYXJlQXJyYXlzID0gdHJ1ZTtcbiAgfVxuICBpZiAoIWFyZUFycmF5cykge1xuICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVpdmFsZW50LCBidXQgYE9iamVjdGBzIG9yIGBBcnJheWBzXG4gICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgaWYgKGFDdG9yICE9PSBiQ3RvciAmJiAhKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2lzRnVuY3Rpb25fanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShiQ3RvcikgJiYgYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuXG4gIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICBhU3RhY2sgPSBhU3RhY2sgfHwgW107XG4gIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgfVxuXG4gIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgYVN0YWNrLnB1c2goYSk7XG4gIGJTdGFjay5wdXNoKGIpO1xuXG4gIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICBpZiAoYXJlQXJyYXlzKSB7XG4gICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKCFlcShhW2xlbmd0aF0sIGJbbGVuZ3RoXSwgYVN0YWNrLCBiU3RhY2spKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgIHZhciBfa2V5cyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX2tleXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYSksIGtleTtcbiAgICBsZW5ndGggPSBfa2V5cy5sZW5ndGg7XG4gICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYmVmb3JlIGNvbXBhcmluZyBkZWVwIGVxdWFsaXR5LlxuICAgIGlmIChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19rZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgIGtleSA9IF9rZXlzW2xlbmd0aF07XG4gICAgICBpZiAoIShPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19oYXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgYVN0YWNrLnBvcCgpO1xuICBiU3RhY2sucG9wKCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBQZXJmb3JtIGEgZGVlcCBjb21wYXJpc29uIHRvIGNoZWNrIGlmIHR3byBvYmplY3RzIGFyZSBlcXVhbC5cbmZ1bmN0aW9uIGlzRXF1YWwoYSwgYikge1xuICByZXR1cm4gZXEoYSwgYik7XG59XG5cblxuLyoqKi8gfSksXG4vKiAyOTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHRvQnVmZmVyVmlldztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldEJ5dGVMZW5ndGhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KTtcblxuXG4vLyBJbnRlcm5hbCBmdW5jdGlvbiB0byB3cmFwIG9yIHNoYWxsb3ctY29weSBhbiBBcnJheUJ1ZmZlcixcbi8vIHR5cGVkIGFycmF5IG9yIERhdGFWaWV3IHRvIGEgbmV3IHZpZXcsIHJldXNpbmcgdGhlIGJ1ZmZlci5cbmZ1bmN0aW9uIHRvQnVmZmVyVmlldyhidWZmZXJTb3VyY2UpIHtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFxuICAgIGJ1ZmZlclNvdXJjZS5idWZmZXIgfHwgYnVmZmVyU291cmNlLFxuICAgIGJ1ZmZlclNvdXJjZS5ieXRlT2Zmc2V0IHx8IDAsXG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZ2V0Qnl0ZUxlbmd0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShidWZmZXJTb3VyY2UpXG4gICk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3RyaW5nVGFnQnVnX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21ldGhvZEZpbmdlcnByaW50X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zdHJpbmdUYWdCdWdfanNfX1tcImJcIiAvKiBpc0lFMTEgKi9dID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWV0aG9kRmluZ2VycHJpbnRfanNfX1tcImFcIiAvKiBpZTExZmluZ2VycHJpbnQgKi9dKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21ldGhvZEZpbmdlcnByaW50X2pzX19bXCJiXCIgLyogbWFwTWV0aG9kcyAqL10pIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdGFnVGVzdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCdNYXAnKSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3RyaW5nVGFnQnVnX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21ldGhvZEZpbmdlcnByaW50X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zdHJpbmdUYWdCdWdfanNfX1tcImJcIiAvKiBpc0lFMTEgKi9dID8gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWV0aG9kRmluZ2VycHJpbnRfanNfX1tcImFcIiAvKiBpZTExZmluZ2VycHJpbnQgKi9dKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21ldGhvZEZpbmdlcnByaW50X2pzX19bXCJkXCIgLyogd2Vha01hcE1ldGhvZHMgKi9dKSA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgnV2Vha01hcCcpKTtcblxuXG4vKioqLyB9KSxcbi8qIDMwMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zdHJpbmdUYWdCdWdfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWV0aG9kRmluZ2VycHJpbnRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3N0cmluZ1RhZ0J1Z19qc19fW1wiYlwiIC8qIGlzSUUxMSAqL10gPyBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19tZXRob2RGaW5nZXJwcmludF9qc19fW1wiYVwiIC8qIGllMTFmaW5nZXJwcmludCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWV0aG9kRmluZ2VycHJpbnRfanNfX1tcImNcIiAvKiBzZXRNZXRob2RzICovXSkgOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJ1NldCcpKTtcblxuXG4vKioqLyB9KSxcbi8qIDMwMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RhZ1Rlc3Rlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190YWdUZXN0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoJ1dlYWtTZXQnKSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHBhaXJzO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fa2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cblxuLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4vLyBUaGUgb3Bwb3NpdGUgb2YgYF8ub2JqZWN0YCB3aXRoIG9uZSBhcmd1bWVudC5cbmZ1bmN0aW9uIHBhaXJzKG9iaikge1xuICB2YXIgX2tleXMgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19rZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaik7XG4gIHZhciBsZW5ndGggPSBfa2V5cy5sZW5ndGg7XG4gIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBwYWlyc1tpXSA9IFtfa2V5c1tpXSwgb2JqW19rZXlzW2ldXV07XG4gIH1cbiAgcmV0dXJuIHBhaXJzO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjcmVhdGU7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19iYXNlQ3JlYXRlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19leHRlbmRPd25fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMxKTtcblxuXG5cbi8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbi8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyBjcmVhdGVkIG9iamVjdC5cbmZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BzKSB7XG4gIHZhciByZXN1bHQgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19iYXNlQ3JlYXRlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHByb3RvdHlwZSk7XG4gIGlmIChwcm9wcykgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXh0ZW5kT3duX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHJlc3VsdCwgcHJvcHMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB0YXA7XG4vLyBJbnZva2VzIGBpbnRlcmNlcHRvcmAgd2l0aCB0aGUgYG9iamAgYW5kIHRoZW4gcmV0dXJucyBgb2JqYC5cbi8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG5mdW5jdGlvbiB0YXAob2JqLCBpbnRlcmNlcHRvcikge1xuICBpbnRlcmNlcHRvcihvYmopO1xuICByZXR1cm4gb2JqO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBoYXM7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19oYXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdG9QYXRoX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblxuXG5cbi8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHkgb25cbi8vIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuIFVubGlrZSB0aGUgaW50ZXJuYWwgYGhhc2Bcbi8vIGZ1bmN0aW9uLCB0aGlzIHB1YmxpYyB2ZXJzaW9uIGNhbiBhbHNvIHRyYXZlcnNlIG5lc3RlZCBwcm9wZXJ0aWVzLlxuZnVuY3Rpb24gaGFzKG9iaiwgcGF0aCkge1xuICBwYXRoID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdG9QYXRoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHBhdGgpO1xuICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGF0aFtpXTtcbiAgICBpZiAoIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2hhc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIGtleSkpIHJldHVybiBmYWxzZTtcbiAgICBvYmogPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gISFsZW5ndGg7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IG1hcE9iamVjdDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cblxuLy8gUmV0dXJucyB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgYGl0ZXJhdGVlYCB0byBlYWNoIGVsZW1lbnQgb2YgYG9iamAuXG4vLyBJbiBjb250cmFzdCB0byBgXy5tYXBgIGl0IHJldHVybnMgYW4gb2JqZWN0LlxuZnVuY3Rpb24gbWFwT2JqZWN0KG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgaXRlcmF0ZWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2tleXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSxcbiAgICAgIGxlbmd0aCA9IF9rZXlzLmxlbmd0aCxcbiAgICAgIHJlc3VsdHMgPSB7fTtcbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgIHZhciBjdXJyZW50S2V5ID0gX2tleXNbaW5kZXhdO1xuICAgIHJlc3VsdHNbY3VycmVudEtleV0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHByb3BlcnR5T2Y7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19ub29wX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg1KTtcblxuXG5cbi8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbmZ1bmN0aW9uIHByb3BlcnR5T2Yob2JqKSB7XG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbm9vcF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dO1xuICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19nZXRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBwYXRoKTtcbiAgfTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gdGltZXM7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vcHRpbWl6ZUNiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblxuXG4vLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbmZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciBhY2N1bSA9IEFycmF5KE1hdGgubWF4KDAsIG4pKTtcbiAgaXRlcmF0ZWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19vcHRpbWl6ZUNiX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gIHJldHVybiBhY2N1bTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZUVzY2FwZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2VzY2FwZU1hcF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTIpO1xuXG5cblxuLy8gRnVuY3Rpb24gZm9yIGVzY2FwaW5nIHN0cmluZ3MgdG8gSFRNTCBpbnRlcnBvbGF0aW9uLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVFc2NhcGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXNjYXBlTWFwX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKTtcblxuXG4vKioqLyB9KSxcbi8qIDMxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZUVzY2FwZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3VuZXNjYXBlTWFwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMyk7XG5cblxuXG4vLyBGdW5jdGlvbiBmb3IgdW5lc2NhcGluZyBzdHJpbmdzIGZyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVFc2NhcGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdW5lc2NhcGVNYXBfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzEzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faW52ZXJ0X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lc2NhcGVNYXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcblxuXG5cbi8vIEludGVybmFsIGxpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgdW5lc2NhcGluZy5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faW52ZXJ0X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXNjYXBlTWFwX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKTtcblxuXG4vKioqLyB9KSxcbi8qIDMxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gdGVtcGxhdGU7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19kZWZhdWx0c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdW5kZXJzY29yZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX190ZW1wbGF0ZVNldHRpbmdzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Myk7XG5cblxuXG5cbi8vIFdoZW4gY3VzdG9taXppbmcgYF8udGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuLy8gaW50ZXJwb2xhdGlvbiwgZXZhbHVhdGlvbiBvciBlc2NhcGluZyByZWdleCwgd2UgbmVlZCBvbmUgdGhhdCBpc1xuLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG52YXIgbm9NYXRjaCA9IC8oLileLztcblxuLy8gQ2VydGFpbiBjaGFyYWN0ZXJzIG5lZWQgdG8gYmUgZXNjYXBlZCBzbyB0aGF0IHRoZXkgY2FuIGJlIHB1dCBpbnRvIGFcbi8vIHN0cmluZyBsaXRlcmFsLlxudmFyIGVzY2FwZXMgPSB7XG4gIFwiJ1wiOiBcIidcIixcbiAgJ1xcXFwnOiAnXFxcXCcsXG4gICdcXHInOiAncicsXG4gICdcXG4nOiAnbicsXG4gICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgJ1xcdTIwMjknOiAndTIwMjknXG59O1xuXG52YXIgZXNjYXBlUmVnRXhwID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG5mdW5jdGlvbiBlc2NhcGVDaGFyKG1hdGNoKSB7XG4gIHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTtcbn1cblxudmFyIGJhcmVJZGVudGlmaWVyID0gL15cXHMqKFxcd3xcXCQpK1xccyokLztcblxuLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbi8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbi8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuZnVuY3Rpb24gdGVtcGxhdGUodGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gIHNldHRpbmdzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZGVmYXVsdHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoe30sIHNldHRpbmdzLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlUmVnRXhwLCBlc2NhcGVDaGFyKTtcbiAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgIGlmIChlc2NhcGUpIHtcbiAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICB9XG5cbiAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZzZXQuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9KTtcbiAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZTtcbiAgaWYgKGFyZ3VtZW50KSB7XG4gICAgaWYgKCFiYXJlSWRlbnRpZmllci50ZXN0KGFyZ3VtZW50KSkgdGhyb3cgbmV3IEVycm9yKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICAgIHNvdXJjZSA9ICd3aXRoKG9ianx8e30pe1xcbicgKyBzb3VyY2UgKyAnfVxcbic7XG4gICAgYXJndW1lbnQgPSAnb2JqJztcbiAgfVxuXG4gIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgdmFyIHJlbmRlcjtcbiAgdHJ5IHtcbiAgICByZW5kZXIgPSBuZXcgRnVuY3Rpb24oYXJndW1lbnQsICdfJywgc291cmNlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUuc291cmNlID0gc291cmNlO1xuICAgIHRocm93IGU7XG4gIH1cblxuICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKTtcbiAgfTtcblxuICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gcmVzdWx0O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNGdW5jdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX190b1BhdGhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXG5cblxuLy8gVHJhdmVyc2VzIHRoZSBjaGlsZHJlbiBvZiBgb2JqYCBhbG9uZyBgcGF0aGAuIElmIGEgY2hpbGQgaXMgYSBmdW5jdGlvbiwgaXRcbi8vIGlzIGludm9rZWQgd2l0aCBpdHMgcGFyZW50IGFzIGNvbnRleHQuIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBmaW5hbFxuLy8gY2hpbGQsIG9yIGBmYWxsYmFja2AgaWYgYW55IGNoaWxkIGlzIHVuZGVmaW5lZC5cbmZ1bmN0aW9uIHJlc3VsdChvYmosIHBhdGgsIGZhbGxiYWNrKSB7XG4gIHBhdGggPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX190b1BhdGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocGF0aCk7XG4gIHZhciBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmYWxsYmFjaykgPyBmYWxsYmFjay5jYWxsKG9iaikgOiBmYWxsYmFjaztcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtwYXRoW2ldXTtcbiAgICBpZiAocHJvcCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wID0gZmFsbGJhY2s7XG4gICAgICBpID0gbGVuZ3RoOyAvLyBFbnN1cmUgd2UgZG9uJ3QgY29udGludWUgaXRlcmF0aW5nLlxuICAgIH1cbiAgICBvYmogPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pc0Z1bmN0aW9uX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHByb3ApID8gcHJvcC5jYWxsKG9iaikgOiBwcm9wO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHVuaXF1ZUlkO1xuLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbi8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG52YXIgaWRDb3VudGVyID0gMDtcbmZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gY2hhaW47XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191bmRlcnNjb3JlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxuXG4vLyBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG5mdW5jdGlvbiBjaGFpbihvYmopIHtcbiAgdmFyIGluc3RhbmNlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopO1xuICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2ZsYXR0ZW5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYmluZF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTUpO1xuXG5cblxuXG4vLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbi8vIGFyZSB0aGUgbWV0aG9kIG5hbWVzIHRvIGJlIGJvdW5kLiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgYWxsIGNhbGxiYWNrc1xuLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICBrZXlzID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZmxhdHRlbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICB2YXIgaW5kZXggPSBrZXlzLmxlbmd0aDtcbiAgaWYgKGluZGV4IDwgMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgIG9ialtrZXldID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYmluZF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmpba2V5XSwgb2JqKTtcbiAgfVxuICByZXR1cm4gb2JqO1xufSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBtZW1vaXplO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faGFzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxuXG4vLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCBoYXNoZXIpIHtcbiAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faGFzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICB9O1xuICBtZW1vaXplLmNhY2hlID0ge307XG4gIHJldHVybiBtZW1vaXplO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGFydGlhbF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZGVsYXlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXG5cblxuXG4vLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbi8vIGNsZWFyZWQuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3BhcnRpYWxfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19kZWxheV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSwgMSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB0aHJvdHRsZTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX25vd19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO1xuXG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4vLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4vLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gIHZhciBwcmV2aW91cyA9IDA7XG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuXG4gIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19ub3dfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoKTtcbiAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICB9O1xuXG4gIHZhciB0aHJvdHRsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX25vdyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX25vd19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgpO1xuICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBfbm93O1xuICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKF9ub3cgLSBwcmV2aW91cyk7XG4gICAgY29udGV4dCA9IHRoaXM7XG4gICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gX25vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB0aHJvdHRsZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHByZXZpb3VzID0gMDtcbiAgICB0aW1lb3V0ID0gY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiB0aHJvdHRsZWQ7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGRlYm91bmNlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ub3dfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM1KTtcblxuXG5cbi8vIFdoZW4gYSBzZXF1ZW5jZSBvZiBjYWxscyBvZiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gZW5kcywgdGhlIGFyZ3VtZW50XG4vLyBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQuIFRoZSBlbmQgb2YgYSBzZXF1ZW5jZSBpcyBkZWZpbmVkIGJ5IHRoZSBgd2FpdGBcbi8vIHBhcmFtZXRlci4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0aGUgYXJndW1lbnQgZnVuY3Rpb24gd2lsbCBiZVxuLy8gdHJpZ2dlcmVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlcXVlbmNlIGluc3RlYWQgb2YgYXQgdGhlIGVuZC5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICB2YXIgdGltZW91dCwgcHJldmlvdXMsIGFyZ3MsIHJlc3VsdCwgY29udGV4dDtcblxuICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFzc2VkID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbm93X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKCkgLSBwcmV2aW91cztcbiAgICBpZiAod2FpdCA+IHBhc3NlZCkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBwYXNzZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgYmVjYXVzZSBgZnVuY2AgY2FuIHJlY3Vyc2l2ZWx5IGludm9rZSBgZGVib3VuY2VkYC5cbiAgICAgIGlmICghdGltZW91dCkgYXJncyA9IGNvbnRleHQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZGVib3VuY2VkID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmdW5jdGlvbihfYXJncykge1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBfYXJncztcbiAgICBwcmV2aW91cyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX25vd19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgpO1xuICAgIGlmICghdGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGltbWVkaWF0ZSkgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG5cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gYXJncyA9IGNvbnRleHQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHdyYXA7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wYXJ0aWFsX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cblxuLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4vLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kXG4vLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuZnVuY3Rpb24gd3JhcChmdW5jLCB3cmFwcGVyKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wYXJ0aWFsX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHdyYXBwZXIsIGZ1bmMpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBjb21wb3NlO1xuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbi8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkgPSBzdGFydDtcbiAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB3aGlsZSAoaS0tKSByZXN1bHQgPSBhcmdzW2ldLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBhZnRlcjtcbi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBvbiBhbmQgYWZ0ZXIgdGhlIE50aCBjYWxsLlxuZnVuY3Rpb24gYWZ0ZXIodGltZXMsIGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wYXJ0aWFsX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19iZWZvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk3KTtcblxuXG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGFydGlhbF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2JlZm9yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLCAyKSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19maW5kTGFzdEluZGV4X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jcmVhdGVJbmRleEZpbmRlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDMpO1xuXG5cblxuLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBvY2N1cnJlbmNlIG9mIGFuIGl0ZW0gaW4gYW4gYXJyYXksXG4vLyBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jcmVhdGVJbmRleEZpbmRlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgtMSwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19maW5kTGFzdEluZGV4X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKTtcblxuXG4vKioqLyB9KSxcbi8qIDMyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZmluZFdoZXJlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZmluZF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbWF0Y2hlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApO1xuXG5cblxuLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgXy5maW5kYDogZ2V0dGluZyB0aGUgZmlyc3Rcbi8vIG9iamVjdCBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuZnVuY3Rpb24gZmluZFdoZXJlKG9iaiwgYXR0cnMpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZpbmRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19tYXRjaGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGF0dHJzKSk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVSZWR1Y2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjA1KTtcblxuXG4vLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4vLyBvciBgZm9sZGxgLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jcmVhdGVSZWR1Y2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoMSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY3JlYXRlUmVkdWNlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNSk7XG5cblxuLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NyZWF0ZVJlZHVjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgtMSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSByZWplY3Q7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19maWx0ZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbmVnYXRlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19jYl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cblxuXG5cbi8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG5mdW5jdGlvbiByZWplY3Qob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZpbHRlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX25lZ2F0ZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwcmVkaWNhdGUpKSwgY29udGV4dCk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGV2ZXJ5O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNBcnJheUxpa2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fa2V5c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cblxuXG5cbi8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgcGFzcyBhIHRydXRoIHRlc3QuXG5mdW5jdGlvbiBldmVyeShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSAhT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNBcnJheUxpa2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSAmJiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19rZXlzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiksXG4gICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGg7XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHNvbWU7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jYl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19pc0FycmF5TGlrZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19rZXlzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuXG5cblxuLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgcGFzc2VzIGEgdHJ1dGggdGVzdC5cbmZ1bmN0aW9uIHNvbWUob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgcHJlZGljYXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgdmFyIF9rZXlzID0gIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzQXJyYXlMaWtlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikgJiYgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fa2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopLFxuICAgICAgbGVuZ3RoID0gKF9rZXlzIHx8IG9iaikubGVuZ3RoO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2lzRnVuY3Rpb25fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWFwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2RlZXBHZXRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3RvUGF0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cblxuXG5cblxuXG4vLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmdW5jdGlvbihvYmosIHBhdGgsIGFyZ3MpIHtcbiAgdmFyIGNvbnRleHRQYXRoLCBmdW5jO1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShwYXRoKSkge1xuICAgIGZ1bmMgPSBwYXRoO1xuICB9IGVsc2Uge1xuICAgIHBhdGggPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X190b1BhdGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkocGF0aCk7XG4gICAgY29udGV4dFBhdGggPSBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgICBwYXRoID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICB9XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19tYXBfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGZ1bmM7XG4gICAgaWYgKCFtZXRob2QpIHtcbiAgICAgIGlmIChjb250ZXh0UGF0aCAmJiBjb250ZXh0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgY29udGV4dCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2RlZXBHZXRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY29udGV4dCwgY29udGV4dFBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICAgIG1ldGhvZCA9IGNvbnRleHRbcGF0aF07XG4gICAgfVxuICAgIHJldHVybiBtZXRob2QgPT0gbnVsbCA/IG1ldGhvZCA6IG1ldGhvZC5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgfSk7XG59KSk7XG5cblxuLyoqKi8gfSksXG4vKiAzMzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHdoZXJlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZmlsdGVyX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21hdGNoZXJfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblxuXG5cbi8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYF8uZmlsdGVyYDogc2VsZWN0aW5nIG9ubHlcbi8vIG9iamVjdHMgY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbmZ1bmN0aW9uIHdoZXJlKG9iaiwgYXR0cnMpIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZpbHRlcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21hdGNoZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXR0cnMpKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gbWluO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNBcnJheUxpa2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdmFsdWVzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2NiX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2VhY2hfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXG5cblxuXG5cbi8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbmZ1bmN0aW9uIG1pbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciByZXN1bHQgPSBJbmZpbml0eSwgbGFzdENvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgb2JqID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNBcnJheUxpa2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSA/IG9iaiA6IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3ZhbHVlc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGl0ZXJhdGVlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fY2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2VhY2hfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2LCBpbmRleCwgbGlzdCk7XG4gICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmVzdWx0ID0gdjtcbiAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gc2h1ZmZsZTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NhbXBsZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDcpO1xuXG5cbi8vIFNodWZmbGUgYSBjb2xsZWN0aW9uLlxuZnVuY3Rpb24gc2h1ZmZsZShvYmopIHtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NhbXBsZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIEluZmluaXR5KTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gc29ydEJ5O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fcGx1Y2tfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21hcF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cblxuXG5cbi8vIFNvcnQgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiBwcm9kdWNlZCBieSBhbiBpdGVyYXRlZS5cbmZ1bmN0aW9uIHNvcnRCeShvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciBpbmRleCA9IDA7XG4gIGl0ZXJhdGVlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY2JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fcGx1Y2tfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWFwX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgbGlzdCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpbmRleDogaW5kZXgrKyxcbiAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwga2V5LCBsaXN0KVxuICAgIH07XG4gIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWE7XG4gICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICBpZiAoYSAhPT0gYikge1xuICAgICAgaWYgKGEgPiBiIHx8IGEgPT09IHZvaWQgMCkgcmV0dXJuIDE7XG4gICAgICBpZiAoYSA8IGIgfHwgYiA9PT0gdm9pZCAwKSByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0LmluZGV4IC0gcmlnaHQuaW5kZXg7XG4gIH0pLCAndmFsdWUnKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDMzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dyb3VwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19oYXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG5cblxuLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dyb3VwX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faGFzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xufSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZ3JvdXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblxuXG4vLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYF8uZ3JvdXBCeWAsIGJ1dCBmb3Jcbi8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZ3JvdXBfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gIHJlc3VsdFtrZXldID0gdmFsdWU7XG59KSk7XG5cblxuLyoqKi8gfSksXG4vKiAzNDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19ncm91cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faGFzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxuXG5cbi8vIENvdW50cyBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IHRoYXQgZ3JvdXAgYnkgYSBjZXJ0YWluIGNyaXRlcmlvbi4gUGFzc1xuLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4vLyBjcml0ZXJpb24uXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dyb3VwX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faGFzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0rKzsgZWxzZSByZXN1bHRba2V5XSA9IDE7XG59KSk7XG5cblxuLyoqKi8gfSksXG4vKiAzNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19ncm91cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXG5cbi8vIFNwbGl0IGEgY29sbGVjdGlvbiBpbnRvIHR3byBhcnJheXM6IG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgcGFzcyB0aGUgZ2l2ZW5cbi8vIHRydXRoIHRlc3QsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBwYXNzIHRoZSB0cnV0aCB0ZXN0LlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19ncm91cF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBwYXNzKSB7XG4gIHJlc3VsdFtwYXNzID8gMCA6IDFdLnB1c2godmFsdWUpO1xufSwgdHJ1ZSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB0b0FycmF5O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9faXNBcnJheV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zZXR1cF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2lzU3RyaW5nX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19pc0FycmF5TGlrZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19tYXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9faWRlbnRpdHlfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3ZhbHVlc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cblxuXG5cblxuXG5cblxuLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbnZhciByZVN0clN5bWJvbCA9IC9bXlxcdWQ4MDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxbXFx1ZDgwMC1cXHVkZmZmXS9nO1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSkgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2V0dXBfanNfX1tcInFcIiAvKiBzbGljZSAqL10uY2FsbChvYmopO1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faXNTdHJpbmdfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSkge1xuICAgIC8vIEtlZXAgc3Vycm9nYXRlIHBhaXIgY2hhcmFjdGVycyB0b2dldGhlci5cbiAgICByZXR1cm4gb2JqLm1hdGNoKHJlU3RyU3ltYm9sKTtcbiAgfVxuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19faXNBcnJheUxpa2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKSkgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX21hcF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9faWRlbnRpdHlfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSk7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X192YWx1ZXNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkob2JqKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gc2l6ZTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlMaWtlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2tleXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cblxuLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYSBjb2xsZWN0aW9uLlxuZnVuY3Rpb24gc2l6ZShvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2lzQXJyYXlMaWtlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG9iaikgPyBvYmoubGVuZ3RoIDogT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fa2V5c19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopLmxlbmd0aDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0ga2V5SW5PYmo7XG4vLyBJbnRlcm5hbCBgXy5waWNrYCBoZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYGtleWAgaXMgYW4gZW51bWVyYWJsZVxuLy8gcHJvcGVydHkgbmFtZSBvZiBgb2JqYC5cbmZ1bmN0aW9uIGtleUluT2JqKHZhbHVlLCBrZXksIG9iaikge1xuICByZXR1cm4ga2V5IGluIG9iajtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19uZWdhdGVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX21hcF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19mbGF0dGVuX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2NvbnRhaW5zX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3BpY2tfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjA4KTtcblxuXG5cblxuXG5cblxuXG4vLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgZGlzYWxsb3dlZCBwcm9wZXJ0aWVzLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICB2YXIgaXRlcmF0ZWUgPSBrZXlzWzBdLCBjb250ZXh0O1xuICBpZiAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faXNGdW5jdGlvbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpdGVyYXRlZSkpIHtcbiAgICBpdGVyYXRlZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX25lZ2F0ZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShpdGVyYXRlZSk7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMSkgY29udGV4dCA9IGtleXNbMV07XG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX21hcF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19mbGF0dGVuX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGtleXMsIGZhbHNlLCBmYWxzZSksIFN0cmluZyk7XG4gICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXR1cm4gIU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2NvbnRhaW5zX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGtleXMsIGtleSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fcGlja19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmosIGl0ZXJhdGVlLCBjb250ZXh0KTtcbn0pKTtcblxuXG4vKioqLyB9KSxcbi8qIDM0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZmlyc3Q7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19pbml0aWFsX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOSk7XG5cblxuLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4vLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbmZ1bmN0aW9uIGZpcnN0KGFycmF5LCBuLCBndWFyZCkge1xuICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPCAxKSByZXR1cm4gbiA9PSBudWxsIHx8IGd1YXJkID8gdm9pZCAwIDogW107XG4gIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2luaXRpYWxfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJyYXksIGFycmF5Lmxlbmd0aCAtIG4pO1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBsYXN0O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTApO1xuXG5cbi8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBsYXN0IE5cbi8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG5mdW5jdGlvbiBsYXN0KGFycmF5LCBuLCBndWFyZCkge1xuICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPCAxKSByZXR1cm4gbiA9PSBudWxsIHx8IGd1YXJkID8gdm9pZCAwIDogW107XG4gIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gY29tcGFjdDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZpbHRlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cblxuLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZmlsdGVyX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGFycmF5LCBCb29sZWFuKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM1MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZmxhdHRlbjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZsYXR0ZW5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXG5cbi8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciB1cCB0byBgZGVwdGhgLlxuLy8gUGFzc2luZyBgdHJ1ZWAgb3IgYGZhbHNlYCBhcyBgZGVwdGhgIG1lYW5zIGAxYCBvciBgSW5maW5pdHlgLCByZXNwZWN0aXZlbHkuXG5mdW5jdGlvbiBmbGF0dGVuKGFycmF5LCBkZXB0aCkge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZmxhdHRlbl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhcnJheSwgZGVwdGgsIGZhbHNlKTtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZGlmZmVyZW5jZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTEpO1xuXG5cblxuLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZnVuY3Rpb24oYXJyYXksIG90aGVyQXJyYXlzKSB7XG4gIHJldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19kaWZmZXJlbmNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGFycmF5LCBvdGhlckFycmF5cyk7XG59KSk7XG5cblxuLyoqKi8gfSksXG4vKiAzNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3VuaXFfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2ZsYXR0ZW5fanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXG5cblxuXG4vLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2Zcbi8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19yZXN0QXJndW1lbnRzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGZ1bmN0aW9uKGFycmF5cykge1xuICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdW5pcV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19mbGF0dGVuX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGFycmF5cywgdHJ1ZSwgdHJ1ZSkpO1xufSkpO1xuXG5cbi8qKiovIH0pLFxuLyogMzUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBpbnRlcnNlY3Rpb247XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRMZW5ndGhfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29udGFpbnNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXG5cblxuLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuLy8gcGFzc2VkLWluIGFycmF5cy5cbmZ1bmN0aW9uIGludGVyc2VjdGlvbihhcnJheSkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnRhaW5zX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHJlc3VsdCwgaXRlbSkpIGNvbnRpbnVlO1xuICAgIHZhciBqO1xuICAgIGZvciAoaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29udGFpbnNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXJndW1lbnRzW2pdLCBpdGVtKSkgYnJlYWs7XG4gICAgfVxuICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcmVzdEFyZ3VtZW50c19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191bnppcF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTMpO1xuXG5cblxuLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3Jlc3RBcmd1bWVudHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191bnppcF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSk7XG5cblxuLyoqKi8gfSksXG4vKiAzNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IG9iamVjdDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2dldExlbmd0aF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cblxuLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4vLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuIFBhc3NpbmcgYnkgcGFpcnMgaXMgdGhlIHJldmVyc2Ugb2YgYF8ucGFpcnNgLlxuZnVuY3Rpb24gb2JqZWN0KGxpc3QsIHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRMZW5ndGhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkobGlzdCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDM1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gcmFuZ2U7XG4vLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mXG4vLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuXG5mdW5jdGlvbiByYW5nZShzdGFydCwgc3RvcCwgc3RlcCkge1xuICBpZiAoc3RvcCA9PSBudWxsKSB7XG4gICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgc3RhcnQgPSAwO1xuICB9XG4gIGlmICghc3RlcCkge1xuICAgIHN0ZXAgPSBzdG9wIDwgc3RhcnQgPyAtMSA6IDE7XG4gIH1cblxuICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICB2YXIgcmFuZ2UgPSBBcnJheShsZW5ndGgpO1xuXG4gIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gIH1cblxuICByZXR1cm4gcmFuZ2U7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzNTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGNodW5rO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblxuLy8gQ2h1bmsgYSBzaW5nbGUgYXJyYXkgaW50byBtdWx0aXBsZSBhcnJheXMsIGVhY2ggY29udGFpbmluZyBgY291bnRgIG9yIGZld2VyXG4vLyBpdGVtcy5cbmZ1bmN0aW9uIGNodW5rKGFycmF5LCBjb3VudCkge1xuICBpZiAoY291bnQgPT0gbnVsbCB8fCBjb3VudCA8IDEpIHJldHVybiBbXTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICByZXN1bHQucHVzaChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NldHVwX2pzX19bXCJxXCIgLyogc2xpY2UgKi9dLmNhbGwoYXJyYXksIGksIGkgKz0gY291bnQpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBtaXhpbjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZWFjaF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19mdW5jdGlvbnNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NldHVwX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fY2hhaW5SZXN1bHRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjE0KTtcblxuXG5cblxuXG5cbi8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lYWNoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2Z1bmN0aW9uc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGZ1bmMgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXVtuYW1lXSA9IG9ialtuYW1lXTtcbiAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zZXR1cF9qc19fW1wib1wiIC8qIHB1c2ggKi9dLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fY2hhaW5SZXN1bHRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodGhpcywgZnVuYy5hcHBseShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSwgYXJncykpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191bmRlcnNjb3JlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL107XG59XG5cblxuLyoqKi8gfSksXG4vKiAzNTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191bmRlcnNjb3JlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2VhY2hfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc2V0dXBfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19jaGFpblJlc3VsdF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTQpO1xuXG5cblxuXG5cbi8vIEFkZCBhbGwgbXV0YXRvciBgQXJyYXlgIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2VhY2hfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoWydwb3AnLCAncHVzaCcsICdyZXZlcnNlJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgbWV0aG9kID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zZXR1cF9qc19fW1wiYVwiIC8qIEFycmF5UHJvdG8gKi9dW25hbWVdO1xuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3VuZGVyc2NvcmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqID0gdGhpcy5fd3JhcHBlZDtcbiAgICBpZiAob2JqICE9IG51bGwpIHtcbiAgICAgIG1ldGhvZC5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoKG5hbWUgPT09ICdzaGlmdCcgfHwgbmFtZSA9PT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIG9ialswXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2NoYWluUmVzdWx0X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHRoaXMsIG9iaik7XG4gIH07XG59KTtcblxuLy8gQWRkIGFsbCBhY2Nlc3NvciBgQXJyYXlgIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2VhY2hfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBtZXRob2QgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NldHVwX2pzX19bXCJhXCIgLyogQXJyYXlQcm90byAqL11bbmFtZV07XG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgIGlmIChvYmogIT0gbnVsbCkgb2JqID0gbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fY2hhaW5SZXN1bHRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodGhpcywgb2JqKTtcbiAgfTtcbn0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdW5kZXJzY29yZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKTtcblxuXG4vKioqLyB9KSxcbi8qIDM2MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDM2MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIG1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzYyKTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuY29uY2F0O1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5jb25jYXQpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM2MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIxNSk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmNvbmNhdDtcblxuXG4vKioqLyB9KSxcbi8qIDM2MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gMHgxRkZGRkZGRkZGRkZGRjsgLy8gMiAqKiA1MyAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPiBNQVhfU0FGRV9JTlRFR0VSKSB0aHJvdyAkVHlwZUVycm9yKCdNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWQnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM2NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xudmFyIGlzQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG52YXIgJEFycmF5ID0gQXJyYXk7XG5cbi8vIGEgcGFydCBvZiBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbEFycmF5KSB7XG4gIHZhciBDO1xuICBpZiAoaXNBcnJheShvcmlnaW5hbEFycmF5KSkge1xuICAgIEMgPSBvcmlnaW5hbEFycmF5LmNvbnN0cnVjdG9yO1xuICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgaWYgKGlzQ29uc3RydWN0b3IoQykgJiYgKEMgPT09ICRBcnJheSB8fCBpc0FycmF5KEMucHJvdG90eXBlKSkpIEMgPSB1bmRlZmluZWQ7XG4gICAgZWxzZSBpZiAoaXNPYmplY3QoQykpIHtcbiAgICAgIEMgPSBDW1NQRUNJRVNdO1xuICAgICAgaWYgKEMgPT09IG51bGwpIEMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyAkQXJyYXkgOiBDO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjYpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDM2NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIG1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQubWFwO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5tYXApID8gbWV0aG9kIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM2NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLm1hcDtcblxuXG4vKioqLyB9KSxcbi8qIDM2OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyICRtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSkubWFwO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG5cbnZhciBIQVNfU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnbWFwJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUubWFwYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLm1hcFxuLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQHNwZWNpZXNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUIH0sIHtcbiAgbWFwOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICByZXR1cm4gJG1hcCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMzY5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMzcwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5PYmplY3Qua2V5cztcblxuXG4vKioqLyB9KSxcbi8qIDM3MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcbnZhciBuYXRpdmVLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSBmYWlscyhmdW5jdGlvbiAoKSB7IG5hdGl2ZUtleXMoMSk7IH0pO1xuXG4vLyBgT2JqZWN0LmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Qua2V5c1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRkFJTFNfT05fUFJJTUlUSVZFUyB9LCB7XG4gIGtleXM6IGZ1bmN0aW9uIGtleXMoaXQpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyh0b09iamVjdChpdCkpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDM3MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDM3MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIxOCk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIGFwcGx5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLWpzb24gLS0gc2FmZVxuaWYgKCFwYXRoLkpTT04pIHBhdGguSlNPTiA9IHsgc3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeSB9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQsIHJlcGxhY2VyLCBzcGFjZSkge1xuICByZXR1cm4gYXBwbHkocGF0aC5KU09OLnN0cmluZ2lmeSwgbnVsbCwgYXJndW1lbnRzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzc1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAzNzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzUHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBtZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Nik7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LmluZGV4T2Y7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoQXJyYXlQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLmluZGV4T2YpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDM3NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM3Nyk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmluZGV4T2Y7XG5cblxuLyoqKi8gfSksXG4vKiAzNzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzLXgvbm8tYXJyYXktcHJvdG90eXBlLWluZGV4b2YgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgJEluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSkuaW5kZXhPZjtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXG52YXIgdW4kSW5kZXhPZiA9IHVuY3VycnlUaGlzKFtdLmluZGV4T2YpO1xuXG52YXIgTkVHQVRJVkVfWkVSTyA9ICEhdW4kSW5kZXhPZiAmJiAxIC8gdW4kSW5kZXhPZihbMV0sIDEsIC0wKSA8IDA7XG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ2luZGV4T2YnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluZGV4b2ZcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IE5FR0FUSVZFX1pFUk8gfHwgIVNUUklDVF9NRVRIT0QgfSwge1xuICBpbmRleE9mOiBmdW5jdGlvbiBpbmRleE9mKHNlYXJjaEVsZW1lbnQgLyogLCBmcm9tSW5kZXggPSAwICovKSB7XG4gICAgdmFyIGZyb21JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBORUdBVElWRV9aRVJPXG4gICAgICAvLyBjb252ZXJ0IC0wIHRvICswXG4gICAgICA/IHVuJEluZGV4T2YodGhpcywgc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB8fCAwXG4gICAgICA6ICRJbmRleE9mKHRoaXMsIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMzc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNjMpO1xudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcbnZhciBoYXNPd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgbWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzkpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbnZhciBET01JdGVyYWJsZXMgPSB7XG4gIERPTVRva2VuTGlzdDogdHJ1ZSxcbiAgTm9kZUxpc3Q6IHRydWVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5rZXlzO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5rZXlzKVxuICAgIHx8IGhhc093bihET01JdGVyYWJsZXMsIGNsYXNzb2YoaXQpKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzNzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzgwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiAzODAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5Jykua2V5cztcblxuXG4vKioqLyB9KSxcbi8qIDM4MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuXG5cbi8qKiovIH0pLFxuLyogMzgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCBcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG5cblxuLyoqKi8gfSksXG4vKiAzODMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcbiAgY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1ZztcbiAgY3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuICBjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG4gIGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG4gIGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuICBjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzg0KTtcbiAgT2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG4gIH0pO1xuICAvKipcbiAgKiBBY3RpdmUgYGRlYnVnYCBpbnN0YW5jZXMuXG4gICovXG5cbiAgY3JlYXRlRGVidWcuaW5zdGFuY2VzID0gW107XG4gIC8qKlxuICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG4gIGNyZWF0ZURlYnVnLnNraXBzID0gW107XG4gIC8qKlxuICAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAgKlxuICAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG4gIC8qKlxuICAqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG4gICogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbiAgZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gICAgdmFyIGhhc2ggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuICB9XG5cbiAgY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcbiAgLyoqXG4gICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gICogQHJldHVybiB7RnVuY3Rpb259XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuICBmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcbiAgICB2YXIgcHJldlRpbWU7XG5cbiAgICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAgIC8vIERpc2FibGVkP1xuICAgICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxmID0gZGVidWc7IC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cbiAgICAgIHZhciBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuICAgICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgICAgcHJldlRpbWUgPSBjdXJyO1xuICAgICAgYXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgICB9IC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cblxuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbiAobWF0Y2gsIGZvcm1hdCkge1xuICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpOyAvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cbiAgICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pOyAvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXG4gICAgICBjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG4gICAgICB2YXIgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG4gICAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9XG5cbiAgICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gICAgZGVidWcuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcbiAgICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG4gICAgZGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG4gICAgZGVidWcuZXh0ZW5kID0gZXh0ZW5kOyAvLyBEZWJ1Zy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbiAgICAvLyBkZWJ1Zy5yYXdMb2cgPSByYXdMb2c7XG4gICAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblxuICAgIGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRGVidWcuaW5zdGFuY2VzLnB1c2goZGVidWcpO1xuICAgIHJldHVybiBkZWJ1ZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIGluZGV4ID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzLmluZGV4T2YodGhpcyk7XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuICAgIHJldHVybiBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuICB9XG4gIC8qKlxuICAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAgKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgICBjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuICAgIGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG4gICAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcbiAgICB2YXIgaTtcbiAgICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICAgIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICghc3BsaXRbaV0pIHtcbiAgICAgICAgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG4gICAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICAgIGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY3JlYXRlRGVidWcuaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXNbaV07XG4gICAgICBpbnN0YW5jZS5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChpbnN0YW5jZS5uYW1lc3BhY2UpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAgKlxuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgIGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG4gIH1cbiAgLyoqXG4gICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgICBpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBsZW47XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICogQ29lcmNlIGB2YWxgLlxuICAqXG4gICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gICogQHJldHVybiB7TWl4ZWR9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cblxuICBmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcbiAgcmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuXG5cblxuLyoqKi8gfSksXG4vKiAzODQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG5cblxuLyoqKi8gfSksXG4vKiAzODUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzODYpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXRoLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuXG4vKioqLyB9KSxcbi8qIDM4NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG52YXIgbmF0aXZlR2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcbnZhciBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCk7XG5cbnZhciBGQUlMU19PTl9QUklNSVRJVkVTID0gZmFpbHMoZnVuY3Rpb24gKCkgeyBuYXRpdmVHZXRQcm90b3R5cGVPZigxKTsgfSk7XG5cbi8vIGBPYmplY3QuZ2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0cHJvdG90eXBlb2ZcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZBSUxTX09OX1BSSU1JVElWRVMsIHNoYW06ICFDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgfSwge1xuICBnZXRQcm90b3R5cGVPZjogZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfVxufSk7XG5cblxuXG4vKioqLyB9KSxcbi8qIDM4NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjI2KTtcblxuLyoqKi8gfSksXG4vKiAzODggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzODkpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXRoLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuXG4vKioqLyB9KSxcbi8qIDM4OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgc2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxuLy8gYE9iamVjdC5zZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5zZXRwcm90b3R5cGVvZlxuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUgfSwge1xuICBzZXRQcm90b3R5cGVPZjogc2V0UHJvdG90eXBlT2Zcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMzkwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9zbGljZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzOCkpO1xuXG52YXIgX2NvbmNhdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNSkpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCkpO1xuXG52YXIgQVYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxudmFyIEFwcFJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzk2KTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSksXG4gICAgaXNOdWxsT3JVbmRlZmluZWQgPSBfcmVxdWlyZS5pc051bGxPclVuZGVmaW5lZDtcblxudmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMiksXG4gICAgZXh0ZW5kID0gX3JlcXVpcmUyLmV4dGVuZCxcbiAgICBpc09iamVjdCA9IF9yZXF1aXJlMi5pc09iamVjdCxcbiAgICBpc0VtcHR5ID0gX3JlcXVpcmUyLmlzRW1wdHk7XG5cbnZhciBpc0NOQXBwID0gZnVuY3Rpb24gaXNDTkFwcChhcHBJZCkge1xuICByZXR1cm4gKDAsIF9zbGljZS5kZWZhdWx0KShhcHBJZCkuY2FsbChhcHBJZCwgLTkpICE9PSAnLU1kWVhiTU1JJztcbn07XG5cbnZhciBmaWxsU2VydmVyVVJMcyA9IGZ1bmN0aW9uIGZpbGxTZXJ2ZXJVUkxzKHVybCkge1xuICByZXR1cm4ge1xuICAgIHB1c2g6IHVybCxcbiAgICBzdGF0czogdXJsLFxuICAgIGVuZ2luZTogdXJsLFxuICAgIGFwaTogdXJsLFxuICAgIHJ0bTogdXJsXG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0U2VydmVyVVJMcyhhcHBJZCkge1xuICB2YXIgX2NvbnRleHQsIF9jb250ZXh0MiwgX2NvbnRleHQzLCBfY29udGV4dDQsIF9jb250ZXh0NTtcblxuICBpZiAoaXNDTkFwcChhcHBJZCkpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICB2YXIgaWQgPSAoMCwgX3NsaWNlLmRlZmF1bHQpKGFwcElkKS5jYWxsKGFwcElkLCAwLCA4KS50b0xvd2VyQ2FzZSgpO1xuICB2YXIgZG9tYWluID0gJ2xuY2xkZ2xvYmFsLmNvbSc7XG4gIHJldHVybiB7XG4gICAgcHVzaDogKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQgPSBcImh0dHBzOi8vXCIuY29uY2F0KGlkLCBcIi5wdXNoLlwiKSkuY2FsbChfY29udGV4dCwgZG9tYWluKSxcbiAgICBzdGF0czogKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQyID0gXCJodHRwczovL1wiLmNvbmNhdChpZCwgXCIuc3RhdHMuXCIpKS5jYWxsKF9jb250ZXh0MiwgZG9tYWluKSxcbiAgICBlbmdpbmU6ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0MyA9IFwiaHR0cHM6Ly9cIi5jb25jYXQoaWQsIFwiLmVuZ2luZS5cIikpLmNhbGwoX2NvbnRleHQzLCBkb21haW4pLFxuICAgIGFwaTogKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQ0ID0gXCJodHRwczovL1wiLmNvbmNhdChpZCwgXCIuYXBpLlwiKSkuY2FsbChfY29udGV4dDQsIGRvbWFpbiksXG4gICAgcnRtOiAoMCwgX2NvbmNhdC5kZWZhdWx0KShfY29udGV4dDUgPSBcImh0dHBzOi8vXCIuY29uY2F0KGlkLCBcIi5ydG0uXCIpKS5jYWxsKF9jb250ZXh0NSwgZG9tYWluKVxuICB9O1xufVxuXG52YXIgX2Rpc2FibGVBcHBSb3V0ZXIgPSBmYWxzZTtcbnZhciBfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbi8qKlxuICogVVJMcyBmb3Igc2VydmljZXNcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlcnZlclVSTHNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbYXBpXSBzZXJ2ZXJVUkwgZm9yIEFQSSBzZXJ2aWNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW2VuZ2luZV0gc2VydmVyVVJMIGZvciBlbmdpbmUgc2VydmljZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtzdGF0c10gc2VydmVyVVJMIGZvciBzdGF0cyBzZXJ2aWNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3B1c2hdIHNlcnZlclVSTCBmb3IgcHVzaCBzZXJ2aWNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3J0bV0gc2VydmVyVVJMIGZvciBMaXZlUXVlcnkgc2VydmljZVxuICovXG5cbi8qKlxuICogQ2FsbCB0aGlzIG1ldGhvZCBmaXJzdCB0byBzZXQgdXAgeW91ciBhdXRoZW50aWNhdGlvbiB0b2tlbnMgZm9yIEFWLlxuICogWW91IGNhbiBnZXQgeW91ciBhcHAga2V5cyBmcm9tIHRoZSBMZWFuQ2xvdWQgZGFzaGJvYXJkIG9uIGh0dHA6Ly9sZWFuY2xvdWQuY24gLlxuICogQGZ1bmN0aW9uIEFWLmluaXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hcHBJZCBhcHBsaWNhdGlvbiBpZFxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMuYXBwS2V5IGFwcGxpY2F0aW9uIGtleVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1hc3RlcktleV0gYXBwbGljYXRpb24gbWFzdGVyIGtleVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcm9kdWN0aW9uXVxuICogQHBhcmFtIHtTdHJpbmd8U2VydmVyVVJMc30gW29wdGlvbnMuc2VydmVyVVJMXSBVUkxzIGZvciBzZXJ2aWNlcy4gaWYgYSBzdHJpbmcgd2FzIGdpdmVuLCBpdCB3aWxsIGJlIGFwcGxpZWQgZm9yIGFsbCBzZXJ2aWNlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZGlzYWJsZUN1cnJlbnRVc2VyXVxuICovXG5cbkFWLmluaXQgPSBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xuICAgIHJldHVybiBBVi5pbml0KHtcbiAgICAgIGFwcElkOiBvcHRpb25zLFxuICAgICAgYXBwS2V5OiBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV0sXG4gICAgICBtYXN0ZXJLZXk6IGFyZ3VtZW50cy5sZW5ndGggPD0gMiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGFwcElkID0gb3B0aW9ucy5hcHBJZCxcbiAgICAgIGFwcEtleSA9IG9wdGlvbnMuYXBwS2V5LFxuICAgICAgbWFzdGVyS2V5ID0gb3B0aW9ucy5tYXN0ZXJLZXksXG4gICAgICBob29rS2V5ID0gb3B0aW9ucy5ob29rS2V5LFxuICAgICAgc2VydmVyVVJMID0gb3B0aW9ucy5zZXJ2ZXJVUkwsXG4gICAgICBfb3B0aW9ucyRzZXJ2ZXJVUkxzID0gb3B0aW9ucy5zZXJ2ZXJVUkxzLFxuICAgICAgc2VydmVyVVJMcyA9IF9vcHRpb25zJHNlcnZlclVSTHMgPT09IHZvaWQgMCA/IHNlcnZlclVSTCA6IF9vcHRpb25zJHNlcnZlclVSTHMsXG4gICAgICBkaXNhYmxlQ3VycmVudFVzZXIgPSBvcHRpb25zLmRpc2FibGVDdXJyZW50VXNlcixcbiAgICAgIHByb2R1Y3Rpb24gPSBvcHRpb25zLnByb2R1Y3Rpb24sXG4gICAgICByZWFsdGltZSA9IG9wdGlvbnMucmVhbHRpbWU7XG4gIGlmIChfaW5pdGlhbGl6ZWQpIGNvbnNvbGUud2FybignSW5pdGlhbGl6aW5nIExlYW5DbG91ZCBTdG9yYWdlIFNESyB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkLiBSZWluaXRpYWxpemluZyB0aGUgU0RLIG1pZ2h0IGNhdXNlIHByb2JsZW1zIGxpa2UgdW5leHBlY3RlZCBjcm9zcy1hcHAgZGF0YSB3cml0aW5nIGFuZCBpbnZhbGlkIHJlbGF0aW9ucy4nKTtcbiAgaWYgKCFhcHBJZCkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXBwSWQgbXVzdCBiZSBhIHN0cmluZycpO1xuICBpZiAoIWFwcEtleSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXBwS2V5IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgaWYgKFwiQnJvd3NlclwiICE9PSAnTk9ERV9KUycgJiYgbWFzdGVyS2V5KSBjb25zb2xlLndhcm4oJ01hc3RlcktleSBpcyBub3Qgc3VwcG9zZWQgdG8gYmUgdXNlZCBhdCBjbGllbnQgc2lkZS4nKTtcblxuICBpZiAoaXNDTkFwcChhcHBJZCkpIHtcbiAgICBpZiAoIXNlcnZlclVSTHMgJiYgaXNFbXB0eShBVi5fY29uZmlnLnNlcnZlclVSTHMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwic2VydmVyVVJMIG9wdGlvbiBpcyByZXF1aXJlZCBmb3IgYXBwcyBmcm9tIENOIHJlZ2lvblwiKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYXBwSWQgIT09IEFWLl9jb25maWcuYXBwbGljYXRpb25JZCkge1xuICAgIC8vIG92ZXJ3cml0ZSBhbGwga2V5cyB3aGVuIHJlaW5pdGlhbGl6aW5nIGFzIGEgbmV3IGFwcFxuICAgIEFWLl9jb25maWcubWFzdGVyS2V5ID0gbWFzdGVyS2V5O1xuICAgIEFWLl9jb25maWcuaG9va0tleSA9IGhvb2tLZXk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG1hc3RlcktleSkgQVYuX2NvbmZpZy5tYXN0ZXJLZXkgPSBtYXN0ZXJLZXk7XG4gICAgaWYgKGhvb2tLZXkpIEFWLl9jb25maWcuaG9va0tleSA9IGhvb2tLZXk7XG4gIH1cblxuICBBVi5fY29uZmlnLmFwcGxpY2F0aW9uSWQgPSBhcHBJZDtcbiAgQVYuX2NvbmZpZy5hcHBsaWNhdGlvbktleSA9IGFwcEtleTtcblxuICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHByb2R1Y3Rpb24pKSB7XG4gICAgQVYuc2V0UHJvZHVjdGlvbihwcm9kdWN0aW9uKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGlzYWJsZUN1cnJlbnRVc2VyICE9PSAndW5kZWZpbmVkJykgQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIgPSBkaXNhYmxlQ3VycmVudFVzZXI7XG4gIHZhciBkaXNhYmxlQXBwUm91dGVyID0gX2Rpc2FibGVBcHBSb3V0ZXIgfHwgdHlwZW9mIHNlcnZlclVSTHMgIT09ICd1bmRlZmluZWQnO1xuXG4gIGlmICghZGlzYWJsZUFwcFJvdXRlcikge1xuICAgIEFWLl9hcHBSb3V0ZXIgPSBuZXcgQXBwUm91dGVyKEFWKTtcbiAgfVxuXG4gIEFWLl9zZXRTZXJ2ZXJVUkxzKGV4dGVuZCh7fSwgZ2V0RGVmYXVsdFNlcnZlclVSTHMoYXBwSWQpLCBBVi5fY29uZmlnLnNlcnZlclVSTHMsIHR5cGVvZiBzZXJ2ZXJVUkxzID09PSAnc3RyaW5nJyA/IGZpbGxTZXJ2ZXJVUkxzKHNlcnZlclVSTHMpIDogc2VydmVyVVJMcyksIGRpc2FibGVBcHBSb3V0ZXIpO1xuXG4gIGlmIChyZWFsdGltZSkge1xuICAgIEFWLl9jb25maWcucmVhbHRpbWUgPSByZWFsdGltZTtcbiAgfSBlbHNlIGlmIChBVi5fc2hhcmVkQ29uZmlnLmxpdmVRdWVyeVJlYWx0aW1lKSB7XG4gICAgdmFyIF9BViRfY29uZmlnJHNlcnZlclVSTCA9IEFWLl9jb25maWcuc2VydmVyVVJMcyxcbiAgICAgICAgYXBpID0gX0FWJF9jb25maWckc2VydmVyVVJMLmFwaSxcbiAgICAgICAgcnRtID0gX0FWJF9jb25maWckc2VydmVyVVJMLnJ0bTtcbiAgICBBVi5fY29uZmlnLnJlYWx0aW1lID0gbmV3IEFWLl9zaGFyZWRDb25maWcubGl2ZVF1ZXJ5UmVhbHRpbWUoe1xuICAgICAgYXBwSWQ6IGFwcElkLFxuICAgICAgYXBwS2V5OiBhcHBLZXksXG4gICAgICBzZXJ2ZXI6IHtcbiAgICAgICAgYXBpOiBhcGksXG4gICAgICAgIFJUTVJvdXRlcjogcnRtXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfaW5pdGlhbGl6ZWQgPSB0cnVlO1xufTsgLy8gSWYgd2UncmUgcnVubmluZyBpbiBub2RlLmpzLCBhbGxvdyB1c2luZyB0aGUgbWFzdGVyIGtleS5cblxuXG5pZiAoZmFsc2UpIHtcbiAgQVYuQ2xvdWQgPSBBVi5DbG91ZCB8fCB7fTtcbiAgLyoqXG4gICAqIFN3aXRjaGVzIHRoZSBMZWFuQ2xvdWQgU0RLIHRvIHVzaW5nIHRoZSBNYXN0ZXIga2V5LiAgVGhlIE1hc3RlciBrZXkgZ3JhbnRzXG4gICAqIHByaXZlbGVnZWQgYWNjZXNzIHRvIHRoZSBkYXRhIGluIExlYW5DbG91ZCBhbmQgY2FuIGJlIHVzZWQgdG8gYnlwYXNzIEFDTHMgYW5kXG4gICAqIG90aGVyIHJlc3RyaWN0aW9ucyB0aGF0IGFyZSBhcHBsaWVkIHRvIHRoZSBjbGllbnQgU0RLcy5cbiAgICogPHA+PHN0cm9uZz48ZW0+QXZhaWxhYmxlIGluIENsb3VkIENvZGUgYW5kIE5vZGUuanMgb25seS48L2VtPjwvc3Ryb25nPlxuICAgKiA8L3A+XG4gICAqL1xuXG4gIEFWLkNsb3VkLnVzZU1hc3RlcktleSA9IGZ1bmN0aW9uICgpIHtcbiAgICBBVi5fY29uZmlnLnVzZU1hc3RlcktleSA9IHRydWU7XG4gIH07XG59XG4vKipcbiAqIENhbGwgdGhpcyBtZXRob2QgdG8gc2V0IHByb2R1Y3Rpb24gZW52aXJvbm1lbnQgdmFyaWFibGUuXG4gKiBAZnVuY3Rpb24gQVYuc2V0UHJvZHVjdGlvblxuICogQHBhcmFtIHtCb29sZWFufSBwcm9kdWN0aW9uIFRydWUgaXMgcHJvZHVjdGlvbiBlbnZpcm9ubWVudCxhbmRcbiAqICBpdCdzIHRydWUgYnkgZGVmYXVsdC5cbiAqL1xuXG5cbkFWLnNldFByb2R1Y3Rpb24gPSBmdW5jdGlvbiAocHJvZHVjdGlvbikge1xuICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHByb2R1Y3Rpb24pKSB7XG4gICAgQVYuX2NvbmZpZy5wcm9kdWN0aW9uID0gcHJvZHVjdGlvbiA/IDEgOiAwO1xuICB9IGVsc2Uge1xuICAgIC8vIGNoYW5nZSB0byBkZWZhdWx0IHZhbHVlXG4gICAgQVYuX2NvbmZpZy5wcm9kdWN0aW9uID0gbnVsbDtcbiAgfVxufTtcblxuQVYuX3NldFNlcnZlclVSTHMgPSBmdW5jdGlvbiAodXJscykge1xuICB2YXIgZGlzYWJsZUFwcFJvdXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICBpZiAodHlwZW9mIHVybHMgIT09ICdzdHJpbmcnKSB7XG4gICAgZXh0ZW5kKEFWLl9jb25maWcuc2VydmVyVVJMcywgdXJscyk7XG4gIH0gZWxzZSB7XG4gICAgQVYuX2NvbmZpZy5zZXJ2ZXJVUkxzID0gZmlsbFNlcnZlclVSTHModXJscyk7XG4gIH1cblxuICBpZiAoZGlzYWJsZUFwcFJvdXRlcikge1xuICAgIGlmIChBVi5fYXBwUm91dGVyKSB7XG4gICAgICBBVi5fYXBwUm91dGVyLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2Rpc2FibGVBcHBSb3V0ZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogU2V0IHNlcnZlciBVUkxzIGZvciBzZXJ2aWNlcy5cbiAqIEBmdW5jdGlvbiBBVi5zZXRTZXJ2ZXJVUkxcbiAqIEBzaW5jZSA0LjMuMFxuICogQHBhcmFtIHtTdHJpbmd8U2VydmVyVVJMc30gdXJscyBVUkxzIGZvciBzZXJ2aWNlcy4gaWYgYSBzdHJpbmcgd2FzIGdpdmVuLCBpdCB3aWxsIGJlIGFwcGxpZWQgZm9yIGFsbCBzZXJ2aWNlcy5cbiAqIFlvdSBjYW4gYWxzbyBzZXQgdGhlbSB3aGVuIGluaXRpYWxpemluZyBTREsgd2l0aCBgb3B0aW9ucy5zZXJ2ZXJVUkxgXG4gKi9cblxuXG5BVi5zZXRTZXJ2ZXJVUkwgPSBmdW5jdGlvbiAodXJscykge1xuICByZXR1cm4gQVYuX3NldFNlcnZlclVSTHModXJscyk7XG59O1xuXG5BVi5zZXRTZXJ2ZXJVUkxzID0gQVYuc2V0U2VydmVyVVJMO1xuXG5BVi5rZWVwRXJyb3JSYXdNZXNzYWdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIEFWLl9zaGFyZWRDb25maWcua2VlcEVycm9yUmF3TWVzc2FnZSA9IHZhbHVlO1xufTtcbi8qKlxuICogU2V0IGEgZGVhZGxpbmUgZm9yIHJlcXVlc3RzIHRvIGNvbXBsZXRlLlxuICogTm90ZSB0aGF0IGZpbGUgdXBsb2FkIHJlcXVlc3RzIGFyZSBub3QgYWZmZWN0ZWQuXG4gKiBAZnVuY3Rpb24gQVYuc2V0UmVxdWVzdFRpbWVvdXRcbiAqIEBzaW5jZSAzLjYuMFxuICogQHBhcmFtIHtudW1iZXJ9IG1zXG4gKi9cblxuXG5BVi5zZXRSZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uIChtcykge1xuICBBVi5fY29uZmlnLnJlcXVlc3RUaW1lb3V0ID0gbXM7XG59OyAvLyBiYWNrd29yZCBjb21wYXRpYmxlXG5cblxuQVYuaW5pdGlhbGl6ZSA9IEFWLmluaXQ7XG5cbnZhciBkZWZpbmVDb25maWcgPSBmdW5jdGlvbiBkZWZpbmVDb25maWcocHJvcGVydHkpIHtcbiAgcmV0dXJuICgwLCBfZGVmaW5lUHJvcGVydHkuZGVmYXVsdCkoQVYsIHByb3BlcnR5LCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gQVYuX2NvbmZpZ1twcm9wZXJ0eV07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgQVYuX2NvbmZpZ1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xufTtcblxuWydhcHBsaWNhdGlvbklkJywgJ2FwcGxpY2F0aW9uS2V5JywgJ21hc3RlcktleScsICdob29rS2V5J10uZm9yRWFjaChkZWZpbmVDb25maWcpO1xuXG4vKioqLyB9KSxcbi8qIDM5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIG1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzkyKTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuc2xpY2U7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoQXJyYXlQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLnNsaWNlKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAzOTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzOTMpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5zbGljZTtcblxuXG4vKioqLyB9KSxcbi8qIDM5MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcbnZhciBpc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAzKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG52YXIgdW4kU2xpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblxudmFyIEhBU19TUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdzbGljZScpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyICRBcnJheSA9IEFycmF5O1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnNsaWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNsaWNlXG4vLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW5ndGgpO1xuICAgIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gICAgLy8gaW5saW5lIGBBcnJheVNwZWNpZXNDcmVhdGVgIGZvciB1c2FnZSBuYXRpdmUgYEFycmF5I3NsaWNlYCB3aGVyZSBpdCdzIHBvc3NpYmxlXG4gICAgdmFyIENvbnN0cnVjdG9yLCByZXN1bHQsIG47XG4gICAgaWYgKGlzQXJyYXkoTykpIHtcbiAgICAgIENvbnN0cnVjdG9yID0gTy5jb25zdHJ1Y3RvcjtcbiAgICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgICBpZiAoaXNDb25zdHJ1Y3RvcihDb25zdHJ1Y3RvcikgJiYgKENvbnN0cnVjdG9yID09PSAkQXJyYXkgfHwgaXNBcnJheShDb25zdHJ1Y3Rvci5wcm90b3R5cGUpKSkge1xuICAgICAgICBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoQ29uc3RydWN0b3IpKSB7XG4gICAgICAgIENvbnN0cnVjdG9yID0gQ29uc3RydWN0b3JbU1BFQ0lFU107XG4gICAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gbnVsbCkgQ29uc3RydWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoQ29uc3RydWN0b3IgPT09ICRBcnJheSB8fCBDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1biRTbGljZShPLCBrLCBmaW4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgKENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQgPyAkQXJyYXkgOiBDb25zdHJ1Y3RvcikobWF4KGZpbiAtIGssIDApKTtcbiAgICBmb3IgKG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgaWYgKGsgaW4gTykgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBuLCBPW2tdKTtcbiAgICByZXN1bHQubGVuZ3RoID0gbjtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDM5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDM5NSk7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG52YXIgT2JqZWN0ID0gcGF0aC5PYmplY3Q7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYykge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eS5zaGFtKSBkZWZpbmVQcm9wZXJ0eS5zaGFtID0gdHJ1ZTtcblxuXG4vKioqLyB9KSxcbi8qIDM5NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLmY7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBPYmplY3QuZGVmaW5lUHJvcGVydHkgIT09IGRlZmluZVByb3BlcnR5LCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICBkZWZpbmVQcm9wZXJ0eTogZGVmaW5lUHJvcGVydHlcbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogMzk2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBhamF4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXG52YXIgQ2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyNSk7XG5cbmZ1bmN0aW9uIEFwcFJvdXRlcihBVikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMuQVYgPSBBVjtcbiAgdGhpcy5sb2NrZWRVbnRpbCA9IDA7XG4gIENhY2hlLmdldEFzeW5jKCdzZXJ2ZXJVUkxzJykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmIChfdGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIGlmICghZGF0YSkgcmV0dXJuIF90aGlzLmxvY2soMCk7XG4gICAgdmFyIHNlcnZlclVSTHMgPSBkYXRhLnNlcnZlclVSTHMsXG4gICAgICAgIGxvY2tlZFVudGlsID0gZGF0YS5sb2NrZWRVbnRpbDtcblxuICAgIF90aGlzLkFWLl9zZXRTZXJ2ZXJVUkxzKHNlcnZlclVSTHMsIGZhbHNlKTtcblxuICAgIF90aGlzLmxvY2tlZFVudGlsID0gbG9ja2VkVW50aWw7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMubG9jaygwKTtcbiAgfSk7XG59XG5cbkFwcFJvdXRlci5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xufTtcblxuQXBwUm91dGVyLnByb3RvdHlwZS5sb2NrID0gZnVuY3Rpb24gbG9jayh0dGwpIHtcbiAgdGhpcy5sb2NrZWRVbnRpbCA9IERhdGUubm93KCkgKyB0dGw7XG59O1xuXG5BcHBSb3V0ZXIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKCkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICBpZiAoRGF0ZS5ub3coKSA8IHRoaXMubG9ja2VkVW50aWwpIHJldHVybjtcbiAgdGhpcy5sb2NrKDEwKTtcbiAgdmFyIHVybCA9ICdodHRwczovL2FwcC1yb3V0ZXIuY29tLzIvcm91dGUnO1xuICByZXR1cm4gYWpheCh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IHVybCxcbiAgICBxdWVyeToge1xuICAgICAgYXBwSWQ6IHRoaXMuQVYuYXBwbGljYXRpb25JZFxuICAgIH1cbiAgfSkudGhlbihmdW5jdGlvbiAoc2VydmVycykge1xuICAgIGlmIChfdGhpczIuZGlzYWJsZWQpIHJldHVybjtcbiAgICB2YXIgdHRsID0gc2VydmVycy50dGw7XG4gICAgaWYgKCF0dGwpIHRocm93IG5ldyBFcnJvcignbWlzc2luZyB0dGwnKTtcbiAgICB0dGwgPSB0dGwgKiAxMDAwO1xuICAgIHZhciBwcm90b2NhbCA9ICdodHRwczovLyc7XG4gICAgdmFyIHNlcnZlclVSTHMgPSB7XG4gICAgICBwdXNoOiBwcm90b2NhbCArIHNlcnZlcnMucHVzaF9zZXJ2ZXIsXG4gICAgICBzdGF0czogcHJvdG9jYWwgKyBzZXJ2ZXJzLnN0YXRzX3NlcnZlcixcbiAgICAgIGVuZ2luZTogcHJvdG9jYWwgKyBzZXJ2ZXJzLmVuZ2luZV9zZXJ2ZXIsXG4gICAgICBhcGk6IHByb3RvY2FsICsgc2VydmVycy5hcGlfc2VydmVyXG4gICAgfTtcblxuICAgIF90aGlzMi5BVi5fc2V0U2VydmVyVVJMcyhzZXJ2ZXJVUkxzLCBmYWxzZSk7XG5cbiAgICBfdGhpczIubG9jayh0dGwpO1xuXG4gICAgcmV0dXJuIENhY2hlLnNldEFzeW5jKCdzZXJ2ZXJVUkxzJywge1xuICAgICAgc2VydmVyVVJMczogc2VydmVyVVJMcyxcbiAgICAgIGxvY2tlZFVudGlsOiBfdGhpczIubG9ja2VkVW50aWxcbiAgICB9LCB0dGwpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvLyBieXBhc3MgYWxsIGVycm9yc1xuICAgIGNvbnNvbGUud2FybihcInJlZnJlc2ggc2VydmVyIFVSTHMgZmFpbGVkOiBcIi5jb25jYXQoZXJyb3IubWVzc2FnZSkpO1xuXG4gICAgX3RoaXMyLmxvY2soNjAwKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcFJvdXRlcjtcblxuLyoqKi8gfSksXG4vKiAzOTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5OCk7XG5cblxuLyoqKi8gfSksXG4vKiAzOTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzk5KTtcbl9fd2VicGFja19yZXF1aXJlX18oNDIzKTtcbl9fd2VicGFja19yZXF1aXJlX18oNDI0KTtcbl9fd2VicGFja19yZXF1aXJlX18oNDI1KTtcbl9fd2VicGFja19yZXF1aXJlX18oNDI2KTtcbl9fd2VicGFja19yZXF1aXJlX18oNDI3KTtcbi8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQyOCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQyOSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQzMCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogMzk5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzMCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMjE1KTtcbl9fd2VicGFja19yZXF1aXJlX18oOTYpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MDEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MDcpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MDgpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MDkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTApO1xuX193ZWJwYWNrX3JlcXVpcmVfXygyMzQpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTMpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTQpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTUpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTYpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTcpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTgpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MTkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MjApO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MjEpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0MjIpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXRoLlN5bWJvbDtcblxuXG4vKioqLyB9KSxcbi8qIDQwMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHNwbGl0IHRvIG1vZHVsZXMgbGlzdGVkIGJlbG93XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQwMik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQwNCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQwNSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIxOCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQwNik7XG5cblxuLyoqKi8gfSksXG4vKiA0MDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIGNhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgSVNfUFVSRSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBoYXNPd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG52YXIgJHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG52YXIgbmF0aXZlT2JqZWN0Q3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG52YXIgb2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDAzKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcbnZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcbnZhciBoaWRkZW5LZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG52YXIgdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKTtcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xudmFyIGRlZmluZVN5bWJvbFRvUHJpbWl0aXZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzIpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xudmFyICRmb3JFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpLmZvckVhY2g7XG5cbnZhciBISURERU4gPSBzaGFyZWRLZXkoJ2hpZGRlbicpO1xudmFyIFNZTUJPTCA9ICdTeW1ib2wnO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihTWU1CT0wpO1xuXG52YXIgT2JqZWN0UHJvdG90eXBlID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgU3ltYm9sUHJvdG90eXBlID0gJFN5bWJvbCAmJiAkU3ltYm9sW1BST1RPVFlQRV07XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBRT2JqZWN0ID0gZ2xvYmFsLlFPYmplY3Q7XG52YXIgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmY7XG52YXIgbmF0aXZlRGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xudmFyIG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwuZjtcbnZhciBuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmY7XG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvdHlwZVN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBXZWxsS25vd25TeW1ib2xzU3RvcmUgPSBzaGFyZWQoJ3drcycpO1xuXG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBVU0VfU0VUVEVSID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzY3JpcHRvciA9IERFU0NSSVBUT1JTICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdENyZWF0ZShuYXRpdmVEZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoTywgUCwgQXR0cmlidXRlcykge1xuICB2YXIgT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciA9IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3RQcm90b3R5cGUsIFApO1xuICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvcikgZGVsZXRlIE9iamVjdFByb3RvdHlwZVtQXTtcbiAgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIGlmIChPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yICYmIE8gIT09IE9iamVjdFByb3RvdHlwZSkge1xuICAgIG5hdGl2ZURlZmluZVByb3BlcnR5KE9iamVjdFByb3RvdHlwZSwgUCwgT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvcik7XG4gIH1cbn0gOiBuYXRpdmVEZWZpbmVQcm9wZXJ0eTtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnLCBkZXNjcmlwdGlvbikge1xuICB2YXIgc3ltYm9sID0gQWxsU3ltYm9sc1t0YWddID0gbmF0aXZlT2JqZWN0Q3JlYXRlKFN5bWJvbFByb3RvdHlwZSk7XG4gIHNldEludGVybmFsU3RhdGUoc3ltYm9sLCB7XG4gICAgdHlwZTogU1lNQk9MLFxuICAgIHRhZzogdGFnLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICB9KTtcbiAgaWYgKCFERVNDUklQVE9SUykgc3ltYm9sLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIHJldHVybiBzeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBpZiAoTyA9PT0gT2JqZWN0UHJvdG90eXBlKSAkZGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG90eXBlU3ltYm9scywgUCwgQXR0cmlidXRlcyk7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChoYXNPd24oQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghQXR0cmlidXRlcy5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhc093bihPLCBISURERU4pKSBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBISURERU4sIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB7fSkpO1xuICAgICAgT1tISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzT3duKE8sIEhJRERFTikgJiYgT1tISURERU5dW2tleV0pIE9bSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBBdHRyaWJ1dGVzID0gbmF0aXZlT2JqZWN0Q3JlYXRlKEF0dHJpYnV0ZXMsIHsgZW51bWVyYWJsZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjcmlwdG9yKE8sIGtleSwgQXR0cmlidXRlcyk7XG4gIH0gcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIGtleSwgQXR0cmlidXRlcyk7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gdG9JbmRleGVkT2JqZWN0KFByb3BlcnRpZXMpO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMocHJvcGVydGllcykuY29uY2F0KCRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcGVydGllcykpO1xuICAkZm9yRWFjaChrZXlzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFERVNDUklQVE9SUyB8fCBjYWxsKCRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgcHJvcGVydGllcywga2V5KSkgJGRlZmluZVByb3BlcnR5KE8sIGtleSwgcHJvcGVydGllc1trZXldKTtcbiAgfSk7XG4gIHJldHVybiBPO1xufTtcblxudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gbmF0aXZlT2JqZWN0Q3JlYXRlKE8pIDogJGRlZmluZVByb3BlcnRpZXMobmF0aXZlT2JqZWN0Q3JlYXRlKE8pLCBQcm9wZXJ0aWVzKTtcbn07XG5cbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gIHZhciBQID0gdG9Qcm9wZXJ0eUtleShWKTtcbiAgdmFyIGVudW1lcmFibGUgPSBjYWxsKG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlLCB0aGlzLCBQKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvdHlwZSAmJiBoYXNPd24oQWxsU3ltYm9scywgUCkgJiYgIWhhc093bihPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBQKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gZW51bWVyYWJsZSB8fCAhaGFzT3duKHRoaXMsIFApIHx8ICFoYXNPd24oQWxsU3ltYm9scywgUCkgfHwgaGFzT3duKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW1BdXG4gICAgPyBlbnVtZXJhYmxlIDogdHJ1ZTtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgdmFyIGl0ID0gdG9JbmRleGVkT2JqZWN0KE8pO1xuICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90b3R5cGUgJiYgaGFzT3duKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhc093bihPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBkZXNjcmlwdG9yID0gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xuICBpZiAoZGVzY3JpcHRvciAmJiBoYXNPd24oQWxsU3ltYm9scywga2V5KSAmJiAhKGhhc093bihpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSB7XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKHRvSW5kZXhlZE9iamVjdChPKSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgJGZvckVhY2gobmFtZXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWhhc093bihBbGxTeW1ib2xzLCBrZXkpICYmICFoYXNPd24oaGlkZGVuS2V5cywga2V5KSkgcHVzaChyZXN1bHQsIGtleSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiAoTykge1xuICB2YXIgSVNfT0JKRUNUX1BST1RPVFlQRSA9IE8gPT09IE9iamVjdFByb3RvdHlwZTtcbiAgdmFyIG5hbWVzID0gbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyhJU19PQkpFQ1RfUFJPVE9UWVBFID8gT2JqZWN0UHJvdG90eXBlU3ltYm9scyA6IHRvSW5kZXhlZE9iamVjdChPKSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgJGZvckVhY2gobmFtZXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoaGFzT3duKEFsbFN5bWJvbHMsIGtleSkgJiYgKCFJU19PQkpFQ1RfUFJPVE9UWVBFIHx8IGhhc093bihPYmplY3RQcm90b3R5cGUsIGtleSkpKSB7XG4gICAgICBwdXNoKHJlc3VsdCwgQWxsU3ltYm9sc1trZXldKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gYFN5bWJvbGAgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLWNvbnN0cnVjdG9yXG5pZiAoIU5BVElWRV9TWU1CT0wpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAoaXNQcm90b3R5cGVPZihTeW1ib2xQcm90b3R5cGUsIHRoaXMpKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICAgIHZhciBkZXNjcmlwdGlvbiA9ICFhcmd1bWVudHMubGVuZ3RoIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogJHRvU3RyaW5nKGFyZ3VtZW50c1swXSk7XG4gICAgdmFyIHRhZyA9IHVpZChkZXNjcmlwdGlvbik7XG4gICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvdHlwZSkgY2FsbChzZXR0ZXIsIE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmIChoYXNPd24odGhpcywgSElEREVOKSAmJiBoYXNPd24odGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzY3JpcHRvcih0aGlzLCB0YWcsIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIFVTRV9TRVRURVIpIHNldFN5bWJvbERlc2NyaXB0b3IoT2JqZWN0UHJvdG90eXBlLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6IHNldHRlciB9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcsIGRlc2NyaXB0aW9uKTtcbiAgfTtcblxuICBTeW1ib2xQcm90b3R5cGUgPSAkU3ltYm9sW1BST1RPVFlQRV07XG5cbiAgZGVmaW5lQnVpbHRJbihTeW1ib2xQcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLnRhZztcbiAgfSk7XG5cbiAgZGVmaW5lQnVpbHRJbigkU3ltYm9sLCAnd2l0aG91dFNldHRlcicsIGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB3cmFwKHVpZChkZXNjcmlwdGlvbiksIGRlc2NyaXB0aW9uKTtcbiAgfSk7XG5cbiAgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZiA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgZGVmaW5lUHJvcGVydHlNb2R1bGUuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgZGVmaW5lUHJvcGVydGllc01vZHVsZS5mID0gJGRlZmluZVByb3BlcnRpZXM7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mID0gZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHdyYXAod2VsbEtub3duU3ltYm9sKG5hbWUpLCBuYW1lKTtcbiAgfTtcblxuICBpZiAoREVTQ1JJUFRPUlMpIHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1TeW1ib2wtZGVzY3JpcHRpb25cbiAgICBuYXRpdmVEZWZpbmVQcm9wZXJ0eShTeW1ib2xQcm90b3R5cGUsICdkZXNjcmlwdGlvbicsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghSVNfUFVSRSkge1xuICAgICAgZGVmaW5lQnVpbHRJbihPYmplY3RQcm90b3R5cGUsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgeyB1bnNhZmU6IHRydWUgfSk7XG4gICAgfVxuICB9XG59XG5cbiQoeyBnbG9iYWw6IHRydWUsIGNvbnN0cnVjdG9yOiB0cnVlLCB3cmFwOiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MLCBzaGFtOiAhTkFUSVZFX1NZTUJPTCB9LCB7XG4gIFN5bWJvbDogJFN5bWJvbFxufSk7XG5cbiRmb3JFYWNoKG9iamVjdEtleXMoV2VsbEtub3duU3ltYm9sc1N0b3JlKSwgZnVuY3Rpb24gKG5hbWUpIHtcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sKG5hbWUpO1xufSk7XG5cbiQoeyB0YXJnZXQ6IFNZTUJPTCwgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCB9LCB7XG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBVU0VfU0VUVEVSID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbiAoKSB7IFVTRV9TRVRURVIgPSBmYWxzZTsgfVxufSk7XG5cbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MLCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICAvLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnRpZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvcnNcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG59KTtcblxuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wgfSwge1xuICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eW5hbWVzXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzXG59KTtcblxuLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9wcmltaXRpdmVcbmRlZmluZVN5bWJvbFRvUHJpbWl0aXZlKCk7XG5cbi8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddYCBwcm9wZXJ0eVxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9zdHJpbmd0YWdcbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsIFNZTUJPTCk7XG5cbmhpZGRlbktleXNbSElEREVOXSA9IHRydWU7XG5cblxuLyoqKi8gfSksXG4vKiA0MDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZXNsaW50LWRpc2FibGUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlICovXG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpLmY7XG52YXIgYXJyYXlTbGljZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMxKTtcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlOYW1lcyhpdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGFycmF5U2xpY2Uod2luZG93TmFtZXMpO1xuICB9XG59O1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgY2xhc3NvZihpdCkgPT0gJ1dpbmRvdydcbiAgICA/IGdldFdpbmRvd05hbWVzKGl0KVxuICAgIDogJGdldE93blByb3BlcnR5TmFtZXModG9JbmRleGVkT2JqZWN0KGl0KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNDA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcbnZhciBOQVRJVkVfU1lNQk9MX1JFR0lTVFJZID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzMpO1xuXG52YXIgU3RyaW5nVG9TeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeScpO1xudmFyIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC10by1zdHJpbmctcmVnaXN0cnknKTtcblxuLy8gYFN5bWJvbC5mb3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuZm9yXG4kKHsgdGFyZ2V0OiAnU3ltYm9sJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSB9LCB7XG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nKGtleSk7XG4gICAgaWYgKGhhc093bihTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5LCBzdHJpbmcpKSByZXR1cm4gU3RyaW5nVG9TeW1ib2xSZWdpc3RyeVtzdHJpbmddO1xuICAgIHZhciBzeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKShzdHJpbmcpO1xuICAgIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnlbc3RyaW5nXSA9IHN5bWJvbDtcbiAgICBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5W3N5bWJvbF0gPSBzdHJpbmc7XG4gICAgcmV0dXJuIHN5bWJvbDtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA0MDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGhhc093biA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIGlzU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG52YXIgdHJ5VG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTtcbnZhciBOQVRJVkVfU1lNQk9MX1JFR0lTVFJZID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzMpO1xuXG52YXIgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeScpO1xuXG4vLyBgU3ltYm9sLmtleUZvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5rZXlmb3JcbiQoeyB0YXJnZXQ6ICdTeW1ib2wnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MX1JFR0lTVFJZIH0sIHtcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioc3ltKSB7XG4gICAgaWYgKCFpc1N5bWJvbChzeW0pKSB0aHJvdyBUeXBlRXJyb3IodHJ5VG9TdHJpbmcoc3ltKSArICcgaXMgbm90IGEgc3ltYm9sJyk7XG4gICAgaWYgKGhhc093bihTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5LCBzeW0pKSByZXR1cm4gU3ltYm9sVG9TdHJpbmdSZWdpc3RyeVtzeW1dO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDQwNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxuLy8gVjggfiBDaHJvbWUgMzggYW5kIDM5IGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBmYWlscyBvbiBwcmltaXRpdmVzXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG52YXIgRk9SQ0VEID0gIU5BVElWRV9TWU1CT0wgfHwgZmFpbHMoZnVuY3Rpb24gKCkgeyBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZigxKTsgfSk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5c3ltYm9sc1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VEIH0sIHtcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgICB2YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gJGdldE93blByb3BlcnR5U3ltYm9scyh0b09iamVjdChpdCkpIDogW107XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogNDA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLmFzeW5jSXRlcmF0b3JgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5hc3luY2l0ZXJhdG9yXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2FzeW5jSXRlcmF0b3InKTtcblxuXG4vKioqLyB9KSxcbi8qIDQwOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlbXB0eVxuXG5cbi8qKiovIH0pLFxuLyogNDA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLmhhc0luc3RhbmNlYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuaGFzaW5zdGFuY2VcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnaGFzSW5zdGFuY2UnKTtcblxuXG4vKioqLyB9KSxcbi8qIDQxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLy8gYFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5pc2NvbmNhdHNwcmVhZGFibGVcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbi8vIGBTeW1ib2wubWF0Y2hgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5tYXRjaFxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdtYXRjaCcpO1xuXG5cbi8qKiovIH0pLFxuLyogNDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLm1hdGNoQWxsYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wubWF0Y2hhbGxcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnbWF0Y2hBbGwnKTtcblxuXG4vKioqLyB9KSxcbi8qIDQxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLy8gYFN5bWJvbC5yZXBsYWNlYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucmVwbGFjZVxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdyZXBsYWNlJyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbi8vIGBTeW1ib2wuc2VhcmNoYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuc2VhcmNoXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3NlYXJjaCcpO1xuXG5cbi8qKiovIH0pLFxuLyogNDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLnNwZWNpZXNgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5zcGVjaWVzXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxuXG4vKioqLyB9KSxcbi8qIDQxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLy8gYFN5bWJvbC5zcGxpdGAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnNwbGl0XG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3NwbGl0Jyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzMik7XG5cbi8vIGBTeW1ib2wudG9QcmltaXRpdmVgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC50b3ByaW1pdGl2ZVxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCd0b1ByaW1pdGl2ZScpO1xuXG4vLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3ByaW1pdGl2ZVxuZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUoKTtcblxuXG4vKioqLyB9KSxcbi8qIDQxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblxuLy8gYFN5bWJvbC50b1N0cmluZ1RhZ2Agd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnRvc3RyaW5ndGFnXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG5cbi8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddYCBwcm9wZXJ0eVxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9zdHJpbmd0YWdcbnNldFRvU3RyaW5nVGFnKGdldEJ1aWx0SW4oJ1N5bWJvbCcpLCAnU3ltYm9sJyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbi8vIGBTeW1ib2wudW5zY29wYWJsZXNgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC51bnNjb3BhYmxlc1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xuXG5cbi8qKiovIH0pLFxuLyogNDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cbi8vIEpTT05bQEB0b1N0cmluZ1RhZ10gcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi1AQHRvc3RyaW5ndGFnXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG4vKioqLyB9KSxcbi8qIDQyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlbXB0eVxuXG5cbi8qKiovIH0pLFxuLyogNDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIGVtcHR5XG5cblxuLyoqKi8gfSksXG4vKiA0MjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbi8vIGBTeW1ib2wuYXN5bmNEaXNwb3NlYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtdXNpbmctc3RhdGVtZW50XG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2FzeW5jRGlzcG9zZScpO1xuXG5cbi8qKiovIH0pLFxuLyogNDI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLmRpc3Bvc2VgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC11c2luZy1zdGF0ZW1lbnRcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnZGlzcG9zZScpO1xuXG5cbi8qKiovIH0pLFxuLyogNDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLm1hdGNoZXJgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wYXR0ZXJuLW1hdGNoaW5nXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ21hdGNoZXInKTtcblxuXG4vKioqLyB9KSxcbi8qIDQyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuLy8gYFN5bWJvbC5tZXRhZGF0YUtleWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWRlY29yYXRvci1tZXRhZGF0YVxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdtZXRhZGF0YUtleScpO1xuXG5cbi8qKiovIH0pLFxuLyogNDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLm9ic2VydmFibGVgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ29ic2VydmFibGUnKTtcblxuXG4vKioqLyB9KSxcbi8qIDQyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbi8vIGBTeW1ib2wubWV0YWRhdGFgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1kZWNvcmF0b3JzXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ21ldGFkYXRhJyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vLyBgU3ltYm9sLnBhdHRlcm5NYXRjaGAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXBhdHRlcm4tbWF0Y2hpbmdcbmRlZmluZVdlbGxLbm93blN5bWJvbCgncGF0dGVybk1hdGNoJyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3JlcGxhY2VBbGwnKTtcblxuXG4vKioqLyB9KSxcbi8qIDQzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDMyKTtcblxuLyoqKi8gfSksXG4vKiA0MzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzMyk7XG5cblxuLyoqKi8gfSksXG4vKiA0MzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDM0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA0MzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjM1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA0MzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcbl9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygyMzQpO1xudmFyIFdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cbm1vZHVsZS5leHBvcnRzID0gV3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mKCdpdGVyYXRvcicpO1xuXG5cbi8qKiovIH0pLFxuLyogNDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzcpO1xuXG4vKioqLyB9KSxcbi8qIDQzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDQzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIG1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDM5KTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuZmlsdGVyO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5maWx0ZXIpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDQzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0MCk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmZpbHRlcjtcblxuXG4vKioqLyB9KSxcbi8qIDQ0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyICRmaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSkuZmlsdGVyO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG5cbnZhciBIQVNfU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnZmlsdGVyJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbHRlclxuLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQHNwZWNpZXNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUIH0sIHtcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICByZXR1cm4gJGZpbHRlcih0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogNDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSAyMDE1LTIwMTcgRGF2aWQgTS4gTGVlLCBJSVxuXG5cbi8qKlxuICogTG9jYWwgcmVmZXJlbmNlIHRvIFRpbWVvdXRFcnJvclxuICogQHByaXZhdGVcbiAqL1xudmFyIFRpbWVvdXRFcnJvcjtcblxuLyoqXG4gKiBSZWplY3RzIGEgcHJvbWlzZSB3aXRoIGEge0BsaW5rIFRpbWVvdXRFcnJvcn0gaWYgaXQgZG9lcyBub3Qgc2V0dGxlIHdpdGhpblxuICogdGhlIHNwZWNpZmllZCB0aW1lb3V0LlxuICpcbiAqIEBwYXJhbSB7UHJvbWlzZX0gcHJvbWlzZSBUaGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0TWlsbGlzIE51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBvbiBzZXR0bGluZy5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBFaXRoZXIgcmVzb2x2ZXMvcmVqZWN0cyB3aXRoIGBwcm9taXNlYCwgb3IgcmVqZWN0cyB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICBgVGltZW91dEVycm9yYCwgd2hpY2hldmVyIHNldHRsZXMgZmlyc3QuXG4gKi9cbnZhciB0aW1lb3V0ID0gbW9kdWxlLmV4cG9ydHMudGltZW91dCA9IGZ1bmN0aW9uKHByb21pc2UsIHRpbWVvdXRNaWxsaXMpIHtcbiAgdmFyIGVycm9yID0gbmV3IFRpbWVvdXRFcnJvcigpLFxuICAgICAgdGltZW91dDtcblxuICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICBwcm9taXNlLFxuICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9LCB0aW1lb3V0TWlsbGlzKTtcbiAgICB9KSxcbiAgXSkudGhlbihmdW5jdGlvbih2KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHJldHVybiB2O1xuICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGhyb3cgZXJyO1xuICB9KTtcbn07XG5cbi8qKlxuICogRXhjZXB0aW9uIGluZGljYXRpbmcgdGhhdCB0aGUgdGltZW91dCBleHBpcmVkLlxuICovXG5UaW1lb3V0RXJyb3IgPSBtb2R1bGUuZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKVxuICB0aGlzLnN0YWNrID0gRXJyb3IoKS5zdGFja1xuICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCc7XG59O1xuXG5UaW1lb3V0RXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuVGltZW91dEVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcblxuXG4vKioqLyB9KSxcbi8qIDQ0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzgpKTtcblxudmFyIF9rZXlzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgdmFyIGV2ZW50U3BsaXR0ZXIgPSAvXFxzKy87XG4gIHZhciBzbGljZSA9ICgwLCBfc2xpY2UuZGVmYXVsdCkoQXJyYXkucHJvdG90eXBlKTtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKiA8cD5BVi5FdmVudHMgaXMgYSBmb3JrIG9mIEJhY2tib25lJ3MgRXZlbnRzIG1vZHVsZSwgcHJvdmlkZWQgZm9yIHlvdXJcbiAgICogY29udmVuaWVuY2UuPC9wPlxuICAgKlxuICAgKiA8cD5BIG1vZHVsZSB0aGF0IGNhbiBiZSBtaXhlZCBpbiB0byBhbnkgb2JqZWN0IGluIG9yZGVyIHRvIHByb3ZpZGVcbiAgICogaXQgd2l0aCBjdXN0b20gZXZlbnRzLiBZb3UgbWF5IGJpbmQgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGFuIGV2ZW50XG4gICAqIHdpdGggYG9uYCwgb3IgcmVtb3ZlIHRoZXNlIGZ1bmN0aW9ucyB3aXRoIGBvZmZgLlxuICAgKiBUcmlnZ2VyaW5nIGFuIGV2ZW50IGZpcmVzIGFsbCBjYWxsYmFja3MgaW4gdGhlIG9yZGVyIHRoYXQgYG9uYCB3YXNcbiAgICogY2FsbGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAqIF8uZXh0ZW5kKG9iamVjdCwgQVYuRXZlbnRzKTtcbiAgICogb2JqZWN0Lm9uKCdleHBhbmQnLCBmdW5jdGlvbigpeyBhbGVydCgnZXhwYW5kZWQnKTsgfSk7XG4gICAqIG9iamVjdC50cmlnZ2VyKCdleHBhbmQnKTs8L3ByZT48L3A+XG4gICAqXG4gICAqL1xuXG4gIEFWLkV2ZW50cyA9IHtcbiAgICAvKipcbiAgICAgKiBCaW5kIG9uZSBvciBtb3JlIHNwYWNlIHNlcGFyYXRlZCBldmVudHMsIGBldmVudHNgLCB0byBhIGBjYWxsYmFja2BcbiAgICAgKiBmdW5jdGlvbi4gUGFzc2luZyBgXCJhbGxcImAgd2lsbCBiaW5kIHRoZSBjYWxsYmFjayB0byBhbGwgZXZlbnRzIGZpcmVkLlxuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbiBvbihldmVudHMsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY2FsbHMsIGV2ZW50LCBub2RlLCB0YWlsLCBsaXN0O1xuXG4gICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBldmVudHMgPSBldmVudHMuc3BsaXQoZXZlbnRTcGxpdHRlcik7XG4gICAgICBjYWxscyA9IHRoaXMuX2NhbGxiYWNrcyB8fCAodGhpcy5fY2FsbGJhY2tzID0ge30pOyAvLyBDcmVhdGUgYW4gaW1tdXRhYmxlIGNhbGxiYWNrIGxpc3QsIGFsbG93aW5nIHRyYXZlcnNhbCBkdXJpbmdcbiAgICAgIC8vIG1vZGlmaWNhdGlvbi4gIFRoZSB0YWlsIGlzIGFuIGVtcHR5IG9iamVjdCB0aGF0IHdpbGwgYWx3YXlzIGJlIHVzZWRcbiAgICAgIC8vIGFzIHRoZSBuZXh0IG5vZGUuXG5cbiAgICAgIGV2ZW50ID0gZXZlbnRzLnNoaWZ0KCk7XG5cbiAgICAgIHdoaWxlIChldmVudCkge1xuICAgICAgICBsaXN0ID0gY2FsbHNbZXZlbnRdO1xuICAgICAgICBub2RlID0gbGlzdCA/IGxpc3QudGFpbCA6IHt9O1xuICAgICAgICBub2RlLm5leHQgPSB0YWlsID0ge307XG4gICAgICAgIG5vZGUuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIG5vZGUuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbHNbZXZlbnRdID0ge1xuICAgICAgICAgIHRhaWw6IHRhaWwsXG4gICAgICAgICAgbmV4dDogbGlzdCA/IGxpc3QubmV4dCA6IG5vZGVcbiAgICAgICAgfTtcbiAgICAgICAgZXZlbnQgPSBldmVudHMuc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvbmUgb3IgbWFueSBjYWxsYmFja3MuIElmIGBjb250ZXh0YCBpcyBudWxsLCByZW1vdmVzIGFsbCBjYWxsYmFja3NcbiAgICAgKiB3aXRoIHRoYXQgZnVuY3Rpb24uIElmIGBjYWxsYmFja2AgaXMgbnVsbCwgcmVtb3ZlcyBhbGwgY2FsbGJhY2tzIGZvciB0aGVcbiAgICAgKiBldmVudC4gSWYgYGV2ZW50c2AgaXMgbnVsbCwgcmVtb3ZlcyBhbGwgYm91bmQgY2FsbGJhY2tzIGZvciBhbGwgZXZlbnRzLlxuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24gb2ZmKGV2ZW50cywgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgIHZhciBldmVudCwgY2FsbHMsIG5vZGUsIHRhaWwsIGNiLCBjdHg7IC8vIE5vIGV2ZW50cywgb3IgcmVtb3ZpbmcgKmFsbCogZXZlbnRzLlxuXG4gICAgICBpZiAoIShjYWxscyA9IHRoaXMuX2NhbGxiYWNrcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIShldmVudHMgfHwgY2FsbGJhY2sgfHwgY29udGV4dCkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IC8vIExvb3AgdGhyb3VnaCB0aGUgbGlzdGVkIGV2ZW50cyBhbmQgY29udGV4dHMsIHNwbGljaW5nIHRoZW0gb3V0IG9mIHRoZVxuICAgICAgLy8gbGlua2VkIGxpc3Qgb2YgY2FsbGJhY2tzIGlmIGFwcHJvcHJpYXRlLlxuXG5cbiAgICAgIGV2ZW50cyA9IGV2ZW50cyA/IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKSA6ICgwLCBfa2V5cy5kZWZhdWx0KShfKS5jYWxsKF8sIGNhbGxzKTtcbiAgICAgIGV2ZW50ID0gZXZlbnRzLnNoaWZ0KCk7XG5cbiAgICAgIHdoaWxlIChldmVudCkge1xuICAgICAgICBub2RlID0gY2FsbHNbZXZlbnRdO1xuICAgICAgICBkZWxldGUgY2FsbHNbZXZlbnRdO1xuXG4gICAgICAgIGlmICghbm9kZSB8fCAhKGNhbGxiYWNrIHx8IGNvbnRleHQpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gQ3JlYXRlIGEgbmV3IGxpc3QsIG9taXR0aW5nIHRoZSBpbmRpY2F0ZWQgY2FsbGJhY2tzLlxuXG5cbiAgICAgICAgdGFpbCA9IG5vZGUudGFpbDtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcblxuICAgICAgICB3aGlsZSAobm9kZSAhPT0gdGFpbCkge1xuICAgICAgICAgIGNiID0gbm9kZS5jYWxsYmFjaztcbiAgICAgICAgICBjdHggPSBub2RlLmNvbnRleHQ7XG5cbiAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgY2IgIT09IGNhbGxiYWNrIHx8IGNvbnRleHQgJiYgY3R4ICE9PSBjb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm9uKGV2ZW50LCBjYiwgY3R4KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQgPSBldmVudHMuc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgb25lIG9yIG1hbnkgZXZlbnRzLCBmaXJpbmcgYWxsIGJvdW5kIGNhbGxiYWNrcy4gQ2FsbGJhY2tzIGFyZVxuICAgICAqIHBhc3NlZCB0aGUgc2FtZSBhcmd1bWVudHMgYXMgYHRyaWdnZXJgIGlzLCBhcGFydCBmcm9tIHRoZSBldmVudCBuYW1lXG4gICAgICogKHVubGVzcyB5b3UncmUgbGlzdGVuaW5nIG9uIGBcImFsbFwiYCwgd2hpY2ggd2lsbCBjYXVzZSB5b3VyIGNhbGxiYWNrIHRvXG4gICAgICogcmVjZWl2ZSB0aGUgdHJ1ZSBuYW1lIG9mIHRoZSBldmVudCBhcyB0aGUgZmlyc3QgYXJndW1lbnQpLlxuICAgICAqL1xuICAgIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnRzKSB7XG4gICAgICB2YXIgZXZlbnQsIG5vZGUsIGNhbGxzLCB0YWlsLCBhcmdzLCBhbGwsIHJlc3Q7XG5cbiAgICAgIGlmICghKGNhbGxzID0gdGhpcy5fY2FsbGJhY2tzKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgYWxsID0gY2FsbHMuYWxsO1xuICAgICAgZXZlbnRzID0gZXZlbnRzLnNwbGl0KGV2ZW50U3BsaXR0ZXIpO1xuICAgICAgcmVzdCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgLy8gRm9yIGVhY2ggZXZlbnQsIHdhbGsgdGhyb3VnaCB0aGUgbGlua2VkIGxpc3Qgb2YgY2FsbGJhY2tzIHR3aWNlLFxuICAgICAgLy8gZmlyc3QgdG8gdHJpZ2dlciB0aGUgZXZlbnQsIHRoZW4gdG8gdHJpZ2dlciBhbnkgYFwiYWxsXCJgIGNhbGxiYWNrcy5cblxuICAgICAgZXZlbnQgPSBldmVudHMuc2hpZnQoKTtcblxuICAgICAgd2hpbGUgKGV2ZW50KSB7XG4gICAgICAgIG5vZGUgPSBjYWxsc1tldmVudF07XG5cbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICB0YWlsID0gbm9kZS50YWlsO1xuXG4gICAgICAgICAgd2hpbGUgKChub2RlID0gbm9kZS5uZXh0KSAhPT0gdGFpbCkge1xuICAgICAgICAgICAgbm9kZS5jYWxsYmFjay5hcHBseShub2RlLmNvbnRleHQgfHwgdGhpcywgcmVzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IGFsbDtcblxuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgIHZhciBfY29udGV4dDtcblxuICAgICAgICAgIHRhaWwgPSBub2RlLnRhaWw7XG4gICAgICAgICAgYXJncyA9ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0ID0gW2V2ZW50XSkuY2FsbChfY29udGV4dCwgcmVzdCk7XG5cbiAgICAgICAgICB3aGlsZSAoKG5vZGUgPSBub2RlLm5leHQpICE9PSB0YWlsKSB7XG4gICAgICAgICAgICBub2RlLmNhbGxiYWNrLmFwcGx5KG5vZGUuY29udGV4dCB8fCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBldmVudCA9IGV2ZW50cy5zaGlmdCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG5cbiAgQVYuRXZlbnRzLmJpbmQgPSBBVi5FdmVudHMub247XG4gIC8qKlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG5cbiAgQVYuRXZlbnRzLnVuYmluZCA9IEFWLkV2ZW50cy5vZmY7XG59O1xuXG4vKioqLyB9KSxcbi8qIDQ0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvbWlzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKmdsb2JhbCBuYXZpZ2F0b3I6IGZhbHNlICovXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgR2VvUG9pbnQgd2l0aCBhbnkgb2YgdGhlIGZvbGxvd2luZyBmb3Jtczo8YnI+XG4gICAqIEBleGFtcGxlXG4gICAqIG5ldyBHZW9Qb2ludChvdGhlckdlb1BvaW50KVxuICAgKiBuZXcgR2VvUG9pbnQoMzAsIDMwKVxuICAgKiBuZXcgR2VvUG9pbnQoWzMwLCAzMF0pXG4gICAqIG5ldyBHZW9Qb2ludCh7bGF0aXR1ZGU6IDMwLCBsb25naXR1ZGU6IDMwfSlcbiAgICogbmV3IEdlb1BvaW50KCkgIC8vIGRlZmF1bHRzIHRvICgwLCAwKVxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogPHA+UmVwcmVzZW50cyBhIGxhdGl0dWRlIC8gbG9uZ2l0dWRlIHBvaW50IHRoYXQgbWF5IGJlIGFzc29jaWF0ZWRcbiAgICogd2l0aCBhIGtleSBpbiBhIEFWT2JqZWN0IG9yIHVzZWQgYXMgYSByZWZlcmVuY2UgcG9pbnQgZm9yIGdlbyBxdWVyaWVzLlxuICAgKiBUaGlzIGFsbG93cyBwcm94aW1pdHktYmFzZWQgcXVlcmllcyBvbiB0aGUga2V5LjwvcD5cbiAgICpcbiAgICogPHA+T25seSBvbmUga2V5IGluIGEgY2xhc3MgbWF5IGNvbnRhaW4gYSBHZW9Qb2ludC48L3A+XG4gICAqXG4gICAqIDxwPkV4YW1wbGU6PHByZT5cbiAgICogICB2YXIgcG9pbnQgPSBuZXcgQVYuR2VvUG9pbnQoMzAuMCwgLTIwLjApO1xuICAgKiAgIHZhciBvYmplY3QgPSBuZXcgQVYuT2JqZWN0KFwiUGxhY2VPYmplY3RcIik7XG4gICAqICAgb2JqZWN0LnNldChcImxvY2F0aW9uXCIsIHBvaW50KTtcbiAgICogICBvYmplY3Quc2F2ZSgpOzwvcHJlPjwvcD5cbiAgICovXG4gIEFWLkdlb1BvaW50ID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIpIHtcbiAgICBpZiAoXy5pc0FycmF5KGFyZzEpKSB7XG4gICAgICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUoYXJnMVswXSwgYXJnMVsxXSk7XG5cbiAgICAgIHRoaXMubGF0aXR1ZGUgPSBhcmcxWzBdO1xuICAgICAgdGhpcy5sb25naXR1ZGUgPSBhcmcxWzFdO1xuICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdChhcmcxKSkge1xuICAgICAgQVYuR2VvUG9pbnQuX3ZhbGlkYXRlKGFyZzEubGF0aXR1ZGUsIGFyZzEubG9uZ2l0dWRlKTtcblxuICAgICAgdGhpcy5sYXRpdHVkZSA9IGFyZzEubGF0aXR1ZGU7XG4gICAgICB0aGlzLmxvbmdpdHVkZSA9IGFyZzEubG9uZ2l0dWRlO1xuICAgIH0gZWxzZSBpZiAoXy5pc051bWJlcihhcmcxKSAmJiBfLmlzTnVtYmVyKGFyZzIpKSB7XG4gICAgICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUoYXJnMSwgYXJnMik7XG5cbiAgICAgIHRoaXMubGF0aXR1ZGUgPSBhcmcxO1xuICAgICAgdGhpcy5sb25naXR1ZGUgPSBhcmcyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxhdGl0dWRlID0gMDtcbiAgICAgIHRoaXMubG9uZ2l0dWRlID0gMDtcbiAgICB9IC8vIEFkZCBwcm9wZXJ0aWVzIHNvIHRoYXQgYW55b25lIHVzaW5nIFdlYmtpdCBvciBNb3ppbGxhIHdpbGwgZ2V0IGFuIGVycm9yXG4gICAgLy8gaWYgdGhleSB0cnkgdG8gc2V0IHZhbHVlcyB0aGF0IGFyZSBvdXQgb2YgYm91bmRzLlxuXG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5fX2RlZmluZUdldHRlcl9fICYmIHRoaXMuX19kZWZpbmVTZXR0ZXJfXykge1xuICAgICAgLy8gVXNlIF9sYXRpdHVkZSBhbmQgX2xvbmdpdHVkZSB0byBhY3R1YWxseSBzdG9yZSB0aGUgdmFsdWVzLCBhbmQgYWRkXG4gICAgICAvLyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGZvciBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlLlxuICAgICAgdGhpcy5fbGF0aXR1ZGUgPSB0aGlzLmxhdGl0dWRlO1xuICAgICAgdGhpcy5fbG9uZ2l0dWRlID0gdGhpcy5sb25naXR1ZGU7XG5cbiAgICAgIHRoaXMuX19kZWZpbmVHZXR0ZXJfXygnbGF0aXR1ZGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9sYXRpdHVkZTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9fZGVmaW5lR2V0dGVyX18oJ2xvbmdpdHVkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvbmdpdHVkZTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9fZGVmaW5lU2V0dGVyX18oJ2xhdGl0dWRlJywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUodmFsLCBzZWxmLmxvbmdpdHVkZSk7XG5cbiAgICAgICAgc2VsZi5fbGF0aXR1ZGUgPSB2YWw7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fX2RlZmluZVNldHRlcl9fKCdsb25naXR1ZGUnLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIEFWLkdlb1BvaW50Ll92YWxpZGF0ZShzZWxmLmxhdGl0dWRlLCB2YWwpO1xuXG4gICAgICAgIHNlbGYuX2xvbmdpdHVkZSA9IHZhbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEBsZW5kcyBBVi5HZW9Qb2ludC5wcm90b3R5cGVcbiAgICogQHByb3BlcnR5IHtmbG9hdH0gbGF0aXR1ZGUgTm9ydGgtc291dGggcG9ydGlvbiBvZiB0aGUgY29vcmRpbmF0ZSwgaW4gcmFuZ2VcbiAgICogICBbLTkwLCA5MF0uICBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHNldCBvdXQgb2YgcmFuZ2UgaW4gYSBtb2Rlcm4gYnJvd3Nlci5cbiAgICogQHByb3BlcnR5IHtmbG9hdH0gbG9uZ2l0dWRlIEVhc3Qtd2VzdCBwb3J0aW9uIG9mIHRoZSBjb29yZGluYXRlLCBpbiByYW5nZVxuICAgKiAgIFstMTgwLCAxODBdLiAgVGhyb3dzIGlmIHNldCBvdXQgb2YgcmFuZ2UgaW4gYSBtb2Rlcm4gYnJvd3Nlci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIGdpdmVuIGxhdC1sb25nIGlzIG91dCBvZiBib3VuZHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgQVYuR2VvUG9pbnQuX3ZhbGlkYXRlID0gZnVuY3Rpb24gKGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcbiAgICBpZiAobGF0aXR1ZGUgPCAtOTAuMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBVi5HZW9Qb2ludCBsYXRpdHVkZSAnICsgbGF0aXR1ZGUgKyAnIDwgLTkwLjAuJyk7XG4gICAgfVxuXG4gICAgaWYgKGxhdGl0dWRlID4gOTAuMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBVi5HZW9Qb2ludCBsYXRpdHVkZSAnICsgbGF0aXR1ZGUgKyAnID4gOTAuMC4nKTtcbiAgICB9XG5cbiAgICBpZiAobG9uZ2l0dWRlIDwgLTE4MC4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLkdlb1BvaW50IGxvbmdpdHVkZSAnICsgbG9uZ2l0dWRlICsgJyA8IC0xODAuMC4nKTtcbiAgICB9XG5cbiAgICBpZiAobG9uZ2l0dWRlID4gMTgwLjApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQVYuR2VvUG9pbnQgbG9uZ2l0dWRlICcgKyBsb25naXR1ZGUgKyAnID4gMTgwLjAuJyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQ3JlYXRlcyBhIEdlb1BvaW50IHdpdGggdGhlIHVzZXIncyBjdXJyZW50IGxvY2F0aW9uLCBpZiBhdmFpbGFibGUuXG4gICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLkdlb1BvaW50Pn1cbiAgICovXG5cblxuICBBVi5HZW9Qb2ludC5jdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgX3Byb21pc2UuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuICAgICAgICByZXNvbHZlKG5ldyBBVi5HZW9Qb2ludCh7XG4gICAgICAgICAgbGF0aXR1ZGU6IGxvY2F0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICBsb25naXR1ZGU6IGxvY2F0aW9uLmNvb3Jkcy5sb25naXR1ZGVcbiAgICAgICAgfSkpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfTtcblxuICBfLmV4dGVuZChBVi5HZW9Qb2ludC5wcm90b3R5cGUsXG4gIC8qKiBAbGVuZHMgQVYuR2VvUG9pbnQucHJvdG90eXBlICovXG4gIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgR2VvUG9pbnQsIHN1aXRhYmxlIGZvciBBVi5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUodGhpcy5sYXRpdHVkZSwgdGhpcy5sb25naXR1ZGUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBfX3R5cGU6ICdHZW9Qb2ludCcsXG4gICAgICAgIGxhdGl0dWRlOiB0aGlzLmxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGU6IHRoaXMubG9uZ2l0dWRlXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgR2VvUG9pbnQgdG8gYW5vdGhlciBpbiByYWRpYW5zLlxuICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IHBvaW50IHRoZSBvdGhlciBBVi5HZW9Qb2ludC5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgcmFkaWFuc1RvOiBmdW5jdGlvbiByYWRpYW5zVG8ocG9pbnQpIHtcbiAgICAgIHZhciBkMnIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gICAgICB2YXIgbGF0MXJhZCA9IHRoaXMubGF0aXR1ZGUgKiBkMnI7XG4gICAgICB2YXIgbG9uZzFyYWQgPSB0aGlzLmxvbmdpdHVkZSAqIGQycjtcbiAgICAgIHZhciBsYXQycmFkID0gcG9pbnQubGF0aXR1ZGUgKiBkMnI7XG4gICAgICB2YXIgbG9uZzJyYWQgPSBwb2ludC5sb25naXR1ZGUgKiBkMnI7XG4gICAgICB2YXIgZGVsdGFMYXQgPSBsYXQxcmFkIC0gbGF0MnJhZDtcbiAgICAgIHZhciBkZWx0YUxvbmcgPSBsb25nMXJhZCAtIGxvbmcycmFkO1xuICAgICAgdmFyIHNpbkRlbHRhTGF0RGl2MiA9IE1hdGguc2luKGRlbHRhTGF0IC8gMik7XG4gICAgICB2YXIgc2luRGVsdGFMb25nRGl2MiA9IE1hdGguc2luKGRlbHRhTG9uZyAvIDIpOyAvLyBTcXVhcmUgb2YgaGFsZiB0aGUgc3RyYWlnaHQgbGluZSBjaG9yZCBkaXN0YW5jZSBiZXR3ZWVuIGJvdGggcG9pbnRzLlxuXG4gICAgICB2YXIgYSA9IHNpbkRlbHRhTGF0RGl2MiAqIHNpbkRlbHRhTGF0RGl2MiArIE1hdGguY29zKGxhdDFyYWQpICogTWF0aC5jb3MobGF0MnJhZCkgKiBzaW5EZWx0YUxvbmdEaXYyICogc2luRGVsdGFMb25nRGl2MjtcbiAgICAgIGEgPSBNYXRoLm1pbigxLjAsIGEpO1xuICAgICAgcmV0dXJuIDIgKiBNYXRoLmFzaW4oTWF0aC5zcXJ0KGEpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIEdlb1BvaW50IHRvIGFub3RoZXIgaW4ga2lsb21ldGVycy5cbiAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBwb2ludCB0aGUgb3RoZXIgQVYuR2VvUG9pbnQuXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGtpbG9tZXRlcnNUbzogZnVuY3Rpb24ga2lsb21ldGVyc1RvKHBvaW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5yYWRpYW5zVG8ocG9pbnQpICogNjM3MS4wO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgR2VvUG9pbnQgdG8gYW5vdGhlciBpbiBtaWxlcy5cbiAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBwb2ludCB0aGUgb3RoZXIgQVYuR2VvUG9pbnQuXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIG1pbGVzVG86IGZ1bmN0aW9uIG1pbGVzVG8ocG9pbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhZGlhbnNUbyhwb2ludCkgKiAzOTU4Ljg7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgdmFyIFBVQkxJQ19LRVkgPSAnKic7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFDTC5cbiAgICogSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHRoZSBBQ0wgaGFzIG5vIHBlcm1pc3Npb25zIGZvciBhbnlvbmUuXG4gICAqIElmIHRoZSBhcmd1bWVudCBpcyBhIEFWLlVzZXIsIHRoZSBBQ0wgd2lsbCBoYXZlIHJlYWQgYW5kIHdyaXRlXG4gICAqICAgcGVybWlzc2lvbiBmb3Igb25seSB0aGF0IHVzZXIuXG4gICAqIElmIHRoZSBhcmd1bWVudCBpcyBhbnkgb3RoZXIgSlNPTiBvYmplY3QsIHRoYXQgb2JqZWN0IHdpbGwgYmUgaW50ZXJwcmV0dGVkXG4gICAqICAgYXMgYSBzZXJpYWxpemVkIEFDTCBjcmVhdGVkIHdpdGggdG9KU09OKCkuXG4gICAqIEBzZWUgQVYuT2JqZWN0I3NldEFDTFxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogPHA+QW4gQUNMLCBvciBBY2Nlc3MgQ29udHJvbCBMaXN0IGNhbiBiZSBhZGRlZCB0byBhbnlcbiAgICogPGNvZGU+QVYuT2JqZWN0PC9jb2RlPiB0byByZXN0cmljdCBhY2Nlc3MgdG8gb25seSBhIHN1YnNldCBvZiB1c2Vyc1xuICAgKiBvZiB5b3VyIGFwcGxpY2F0aW9uLjwvcD5cbiAgICovXG5cbiAgQVYuQUNMID0gZnVuY3Rpb24gKGFyZzEpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5wZXJtaXNzaW9uc0J5SWQgPSB7fTtcblxuICAgIGlmIChfLmlzT2JqZWN0KGFyZzEpKSB7XG4gICAgICBpZiAoYXJnMSBpbnN0YW5jZW9mIEFWLlVzZXIpIHtcbiAgICAgICAgc2VsZi5zZXRSZWFkQWNjZXNzKGFyZzEsIHRydWUpO1xuICAgICAgICBzZWxmLnNldFdyaXRlQWNjZXNzKGFyZzEsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihhcmcxKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQVYuQUNMKCkgY2FsbGVkIHdpdGggYSBmdW5jdGlvbi4gIERpZCB5b3UgZm9yZ2V0ICgpPycpO1xuICAgICAgICB9XG5cbiAgICAgICAgQVYuX29iamVjdEVhY2goYXJnMSwgZnVuY3Rpb24gKGFjY2Vzc0xpc3QsIHVzZXJJZCkge1xuICAgICAgICAgIGlmICghXy5pc1N0cmluZyh1c2VySWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyaWVkIHRvIGNyZWF0ZSBhbiBBQ0wgd2l0aCBhbiBpbnZhbGlkIHVzZXJJZC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLnBlcm1pc3Npb25zQnlJZFt1c2VySWRdID0ge307XG5cbiAgICAgICAgICBBVi5fb2JqZWN0RWFjaChhY2Nlc3NMaXN0LCBmdW5jdGlvbiAoYWxsb3dlZCwgcGVybWlzc2lvbikge1xuICAgICAgICAgICAgaWYgKHBlcm1pc3Npb24gIT09ICdyZWFkJyAmJiBwZXJtaXNzaW9uICE9PSAnd3JpdGUnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZWQgdG8gY3JlYXRlIGFuIEFDTCB3aXRoIGFuIGludmFsaWQgcGVybWlzc2lvbiB0eXBlLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIV8uaXNCb29sZWFuKGFsbG93ZWQpKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZWQgdG8gY3JlYXRlIGFuIEFDTCB3aXRoIGFuIGludmFsaWQgcGVybWlzc2lvbiB2YWx1ZS4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5wZXJtaXNzaW9uc0J5SWRbdXNlcklkXVtwZXJtaXNzaW9uXSA9IGFsbG93ZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBKU09OLWVuY29kZWQgdmVyc2lvbiBvZiB0aGUgQUNMLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF8uY2xvbmUodGhpcy5wZXJtaXNzaW9uc0J5SWQpO1xuICB9O1xuXG4gIEFWLkFDTC5wcm90b3R5cGUuX3NldEFjY2VzcyA9IGZ1bmN0aW9uIChhY2Nlc3NUeXBlLCB1c2VySWQsIGFsbG93ZWQpIHtcbiAgICBpZiAodXNlcklkIGluc3RhbmNlb2YgQVYuVXNlcikge1xuICAgICAgdXNlcklkID0gdXNlcklkLmlkO1xuICAgIH0gZWxzZSBpZiAodXNlcklkIGluc3RhbmNlb2YgQVYuUm9sZSkge1xuICAgICAgdXNlcklkID0gJ3JvbGU6JyArIHVzZXJJZC5nZXROYW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzU3RyaW5nKHVzZXJJZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlcklkIG11c3QgYmUgYSBzdHJpbmcuJyk7XG4gICAgfVxuXG4gICAgaWYgKCFfLmlzQm9vbGVhbihhbGxvd2VkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbGxvd2VkIG11c3QgYmUgZWl0aGVyIHRydWUgb3IgZmFsc2UuJyk7XG4gICAgfVxuXG4gICAgdmFyIHBlcm1pc3Npb25zID0gdGhpcy5wZXJtaXNzaW9uc0J5SWRbdXNlcklkXTtcblxuICAgIGlmICghcGVybWlzc2lvbnMpIHtcbiAgICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgICAvLyBUaGUgdXNlciBhbHJlYWR5IGRvZXNuJ3QgaGF2ZSB0aGlzIHBlcm1pc3Npb24sIHNvIG5vIGFjdGlvbiBuZWVkZWQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcm1pc3Npb25zID0ge307XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNCeUlkW3VzZXJJZF0gPSBwZXJtaXNzaW9ucztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgdGhpcy5wZXJtaXNzaW9uc0J5SWRbdXNlcklkXVthY2Nlc3NUeXBlXSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBwZXJtaXNzaW9uc1thY2Nlc3NUeXBlXTtcblxuICAgICAgaWYgKF8uaXNFbXB0eShwZXJtaXNzaW9ucykpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGVybWlzc2lvbnNCeUlkW3VzZXJJZF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFWLkFDTC5wcm90b3R5cGUuX2dldEFjY2VzcyA9IGZ1bmN0aW9uIChhY2Nlc3NUeXBlLCB1c2VySWQpIHtcbiAgICBpZiAodXNlcklkIGluc3RhbmNlb2YgQVYuVXNlcikge1xuICAgICAgdXNlcklkID0gdXNlcklkLmlkO1xuICAgIH0gZWxzZSBpZiAodXNlcklkIGluc3RhbmNlb2YgQVYuUm9sZSkge1xuICAgICAgdXNlcklkID0gJ3JvbGU6JyArIHVzZXJJZC5nZXROYW1lKCk7XG4gICAgfVxuXG4gICAgdmFyIHBlcm1pc3Npb25zID0gdGhpcy5wZXJtaXNzaW9uc0J5SWRbdXNlcklkXTtcblxuICAgIGlmICghcGVybWlzc2lvbnMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGVybWlzc2lvbnNbYWNjZXNzVHlwZV0gPyB0cnVlIDogZmFsc2U7XG4gIH07XG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgZ2l2ZW4gdXNlciBpcyBhbGxvd2VkIHRvIHJlYWQgdGhpcyBvYmplY3QuXG4gICAqIEBwYXJhbSB1c2VySWQgQW4gaW5zdGFuY2Ugb2YgQVYuVXNlciBvciBpdHMgb2JqZWN0SWQuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWxsb3dlZCBXaGV0aGVyIHRoYXQgdXNlciBzaG91bGQgaGF2ZSByZWFkIGFjY2Vzcy5cbiAgICovXG5cblxuICBBVi5BQ0wucHJvdG90eXBlLnNldFJlYWRBY2Nlc3MgPSBmdW5jdGlvbiAodXNlcklkLCBhbGxvd2VkKSB7XG4gICAgdGhpcy5fc2V0QWNjZXNzKCdyZWFkJywgdXNlcklkLCBhbGxvd2VkKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSBnaXZlbiB1c2VyIGlkIGlzICpleHBsaWNpdGx5KiBhbGxvd2VkIHRvIHJlYWQgdGhpcyBvYmplY3QuXG4gICAqIEV2ZW4gaWYgdGhpcyByZXR1cm5zIGZhbHNlLCB0aGUgdXNlciBtYXkgc3RpbGwgYmUgYWJsZSB0byBhY2Nlc3MgaXQgaWZcbiAgICogZ2V0UHVibGljUmVhZEFjY2VzcyByZXR1cm5zIHRydWUgb3IgYSByb2xlIHRoYXQgdGhlIHVzZXIgYmVsb25ncyB0byBoYXNcbiAgICogd3JpdGUgYWNjZXNzLlxuICAgKiBAcGFyYW0gdXNlcklkIEFuIGluc3RhbmNlIG9mIEFWLlVzZXIgb3IgaXRzIG9iamVjdElkLCBvciBhIEFWLlJvbGUuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRSZWFkQWNjZXNzID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRBY2Nlc3MoJ3JlYWQnLCB1c2VySWQpO1xuICB9O1xuICAvKipcbiAgICogU2V0IHdoZXRoZXIgdGhlIGdpdmVuIHVzZXIgaWQgaXMgYWxsb3dlZCB0byB3cml0ZSB0aGlzIG9iamVjdC5cbiAgICogQHBhcmFtIHVzZXJJZCBBbiBpbnN0YW5jZSBvZiBBVi5Vc2VyIG9yIGl0cyBvYmplY3RJZCwgb3IgYSBBVi5Sb2xlLi5cbiAgICogQHBhcmFtIHtCb29sZWFufSBhbGxvd2VkIFdoZXRoZXIgdGhhdCB1c2VyIHNob3VsZCBoYXZlIHdyaXRlIGFjY2Vzcy5cbiAgICovXG5cblxuICBBVi5BQ0wucHJvdG90eXBlLnNldFdyaXRlQWNjZXNzID0gZnVuY3Rpb24gKHVzZXJJZCwgYWxsb3dlZCkge1xuICAgIHRoaXMuX3NldEFjY2Vzcygnd3JpdGUnLCB1c2VySWQsIGFsbG93ZWQpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdGhlIGdpdmVuIHVzZXIgaWQgaXMgKmV4cGxpY2l0bHkqIGFsbG93ZWQgdG8gd3JpdGUgdGhpcyBvYmplY3QuXG4gICAqIEV2ZW4gaWYgdGhpcyByZXR1cm5zIGZhbHNlLCB0aGUgdXNlciBtYXkgc3RpbGwgYmUgYWJsZSB0byB3cml0ZSBpdCBpZlxuICAgKiBnZXRQdWJsaWNXcml0ZUFjY2VzcyByZXR1cm5zIHRydWUgb3IgYSByb2xlIHRoYXQgdGhlIHVzZXIgYmVsb25ncyB0byBoYXNcbiAgICogd3JpdGUgYWNjZXNzLlxuICAgKiBAcGFyYW0gdXNlcklkIEFuIGluc3RhbmNlIG9mIEFWLlVzZXIgb3IgaXRzIG9iamVjdElkLCBvciBhIEFWLlJvbGUuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRXcml0ZUFjY2VzcyA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0QWNjZXNzKCd3cml0ZScsIHVzZXJJZCk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgcHVibGljIGlzIGFsbG93ZWQgdG8gcmVhZCB0aGlzIG9iamVjdC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBhbGxvd2VkXG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS5zZXRQdWJsaWNSZWFkQWNjZXNzID0gZnVuY3Rpb24gKGFsbG93ZWQpIHtcbiAgICB0aGlzLnNldFJlYWRBY2Nlc3MoUFVCTElDX0tFWSwgYWxsb3dlZCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB0aGUgcHVibGljIGlzIGFsbG93ZWQgdG8gcmVhZCB0aGlzIG9iamVjdC5cbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG5cblxuICBBVi5BQ0wucHJvdG90eXBlLmdldFB1YmxpY1JlYWRBY2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVhZEFjY2VzcyhQVUJMSUNfS0VZKTtcbiAgfTtcbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoZSBwdWJsaWMgaXMgYWxsb3dlZCB0byB3cml0ZSB0aGlzIG9iamVjdC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBhbGxvd2VkXG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS5zZXRQdWJsaWNXcml0ZUFjY2VzcyA9IGZ1bmN0aW9uIChhbGxvd2VkKSB7XG4gICAgdGhpcy5zZXRXcml0ZUFjY2VzcyhQVUJMSUNfS0VZLCBhbGxvd2VkKTtcbiAgfTtcbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSBwdWJsaWMgaXMgYWxsb3dlZCB0byB3cml0ZSB0aGlzIG9iamVjdC5cbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG5cblxuICBBVi5BQ0wucHJvdG90eXBlLmdldFB1YmxpY1dyaXRlQWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFdyaXRlQWNjZXNzKFBVQkxJQ19LRVkpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdXNlcnMgYmVsb25naW5nIHRvIHRoZSBnaXZlbiByb2xlIGFyZSBhbGxvd2VkXG4gICAqIHRvIHJlYWQgdGhpcyBvYmplY3QuIEV2ZW4gaWYgdGhpcyByZXR1cm5zIGZhbHNlLCB0aGUgcm9sZSBtYXlcbiAgICogc3RpbGwgYmUgYWJsZSB0byB3cml0ZSBpdCBpZiBhIHBhcmVudCByb2xlIGhhcyByZWFkIGFjY2Vzcy5cbiAgICpcbiAgICogQHBhcmFtIHJvbGUgVGhlIG5hbWUgb2YgdGhlIHJvbGUsIG9yIGEgQVYuUm9sZSBvYmplY3QuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIHJvbGUgaGFzIHJlYWQgYWNjZXNzLiBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEB0aHJvd3Mge1N0cmluZ30gSWYgcm9sZSBpcyBuZWl0aGVyIGEgQVYuUm9sZSBub3IgYSBTdHJpbmcuXG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRSb2xlUmVhZEFjY2VzcyA9IGZ1bmN0aW9uIChyb2xlKSB7XG4gICAgaWYgKHJvbGUgaW5zdGFuY2VvZiBBVi5Sb2xlKSB7XG4gICAgICAvLyBOb3JtYWxpemUgdG8gdGhlIFN0cmluZyBuYW1lXG4gICAgICByb2xlID0gcm9sZS5nZXROYW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKF8uaXNTdHJpbmcocm9sZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFJlYWRBY2Nlc3MoJ3JvbGU6JyArIHJvbGUpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcigncm9sZSBtdXN0IGJlIGEgQVYuUm9sZSBvciBhIFN0cmluZycpO1xuICB9O1xuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdXNlcnMgYmVsb25naW5nIHRvIHRoZSBnaXZlbiByb2xlIGFyZSBhbGxvd2VkXG4gICAqIHRvIHdyaXRlIHRoaXMgb2JqZWN0LiBFdmVuIGlmIHRoaXMgcmV0dXJucyBmYWxzZSwgdGhlIHJvbGUgbWF5XG4gICAqIHN0aWxsIGJlIGFibGUgdG8gd3JpdGUgaXQgaWYgYSBwYXJlbnQgcm9sZSBoYXMgd3JpdGUgYWNjZXNzLlxuICAgKlxuICAgKiBAcGFyYW0gcm9sZSBUaGUgbmFtZSBvZiB0aGUgcm9sZSwgb3IgYSBBVi5Sb2xlIG9iamVjdC5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgcm9sZSBoYXMgd3JpdGUgYWNjZXNzLiBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEB0aHJvd3Mge1N0cmluZ30gSWYgcm9sZSBpcyBuZWl0aGVyIGEgQVYuUm9sZSBub3IgYSBTdHJpbmcuXG4gICAqL1xuXG5cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRSb2xlV3JpdGVBY2Nlc3MgPSBmdW5jdGlvbiAocm9sZSkge1xuICAgIGlmIChyb2xlIGluc3RhbmNlb2YgQVYuUm9sZSkge1xuICAgICAgLy8gTm9ybWFsaXplIHRvIHRoZSBTdHJpbmcgbmFtZVxuICAgICAgcm9sZSA9IHJvbGUuZ2V0TmFtZSgpO1xuICAgIH1cblxuICAgIGlmIChfLmlzU3RyaW5nKHJvbGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRXcml0ZUFjY2Vzcygncm9sZTonICsgcm9sZSk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb2xlIG11c3QgYmUgYSBBVi5Sb2xlIG9yIGEgU3RyaW5nJyk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB1c2VycyBiZWxvbmdpbmcgdG8gdGhlIGdpdmVuIHJvbGUgYXJlIGFsbG93ZWRcbiAgICogdG8gcmVhZCB0aGlzIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHJvbGUgVGhlIG5hbWUgb2YgdGhlIHJvbGUsIG9yIGEgQVYuUm9sZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWxsb3dlZCBXaGV0aGVyIHRoZSBnaXZlbiByb2xlIGNhbiByZWFkIHRoaXMgb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtTdHJpbmd9IElmIHJvbGUgaXMgbmVpdGhlciBhIEFWLlJvbGUgbm9yIGEgU3RyaW5nLlxuICAgKi9cblxuXG4gIEFWLkFDTC5wcm90b3R5cGUuc2V0Um9sZVJlYWRBY2Nlc3MgPSBmdW5jdGlvbiAocm9sZSwgYWxsb3dlZCkge1xuICAgIGlmIChyb2xlIGluc3RhbmNlb2YgQVYuUm9sZSkge1xuICAgICAgLy8gTm9ybWFsaXplIHRvIHRoZSBTdHJpbmcgbmFtZVxuICAgICAgcm9sZSA9IHJvbGUuZ2V0TmFtZSgpO1xuICAgIH1cblxuICAgIGlmIChfLmlzU3RyaW5nKHJvbGUpKSB7XG4gICAgICB0aGlzLnNldFJlYWRBY2Nlc3MoJ3JvbGU6JyArIHJvbGUsIGFsbG93ZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcigncm9sZSBtdXN0IGJlIGEgQVYuUm9sZSBvciBhIFN0cmluZycpO1xuICB9O1xuICAvKipcbiAgICogU2V0IHdoZXRoZXIgdXNlcnMgYmVsb25naW5nIHRvIHRoZSBnaXZlbiByb2xlIGFyZSBhbGxvd2VkXG4gICAqIHRvIHdyaXRlIHRoaXMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gcm9sZSBUaGUgbmFtZSBvZiB0aGUgcm9sZSwgb3IgYSBBVi5Sb2xlIG9iamVjdC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBhbGxvd2VkIFdoZXRoZXIgdGhlIGdpdmVuIHJvbGUgY2FuIHdyaXRlIHRoaXMgb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtTdHJpbmd9IElmIHJvbGUgaXMgbmVpdGhlciBhIEFWLlJvbGUgbm9yIGEgU3RyaW5nLlxuICAgKi9cblxuXG4gIEFWLkFDTC5wcm90b3R5cGUuc2V0Um9sZVdyaXRlQWNjZXNzID0gZnVuY3Rpb24gKHJvbGUsIGFsbG93ZWQpIHtcbiAgICBpZiAocm9sZSBpbnN0YW5jZW9mIEFWLlJvbGUpIHtcbiAgICAgIC8vIE5vcm1hbGl6ZSB0byB0aGUgU3RyaW5nIG5hbWVcbiAgICAgIHJvbGUgPSByb2xlLmdldE5hbWUoKTtcbiAgICB9XG5cbiAgICBpZiAoXy5pc1N0cmluZyhyb2xlKSkge1xuICAgICAgdGhpcy5zZXRXcml0ZUFjY2Vzcygncm9sZTonICsgcm9sZSwgYWxsb3dlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb2xlIG11c3QgYmUgYSBBVi5Sb2xlIG9yIGEgU3RyaW5nJyk7XG4gIH07XG59O1xuXG4vKioqLyB9KSxcbi8qIDQ0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpKTtcblxudmFyIF9pbmRleE9mID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBIEFWLk9wIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gdGhhdCBjYW4gYmUgYXBwbGllZCB0byBhIGZpZWxkIGluIGFcbiAgICogQVYuT2JqZWN0LiBGb3IgZXhhbXBsZSwgY2FsbGluZyA8Y29kZT5vYmplY3Quc2V0KFwiZm9vXCIsIFwiYmFyXCIpPC9jb2RlPlxuICAgKiBpcyBhbiBleGFtcGxlIG9mIGEgQVYuT3AuU2V0LiBDYWxsaW5nIDxjb2RlPm9iamVjdC51bnNldChcImZvb1wiKTwvY29kZT5cbiAgICogaXMgYSBBVi5PcC5VbnNldC4gVGhlc2Ugb3BlcmF0aW9ucyBhcmUgc3RvcmVkIGluIGEgQVYuT2JqZWN0IGFuZFxuICAgKiBzZW50IHRvIHRoZSBzZXJ2ZXIgYXMgcGFydCBvZiA8Y29kZT5vYmplY3Quc2F2ZSgpPC9jb2RlPiBvcGVyYXRpb25zLlxuICAgKiBJbnN0YW5jZXMgb2YgQVYuT3Agc2hvdWxkIGJlIGltbXV0YWJsZS5cbiAgICpcbiAgICogWW91IHNob3VsZCBub3QgY3JlYXRlIHN1YmNsYXNzZXMgb2YgQVYuT3Agb3IgaW5zdGFudGlhdGUgQVYuT3BcbiAgICogZGlyZWN0bHkuXG4gICAqL1xuICBBVi5PcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgXy5leHRlbmQoQVYuT3AucHJvdG90eXBlLFxuICAvKiogQGxlbmRzIEFWLk9wLnByb3RvdHlwZSAqL1xuICB7XG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uIF9pbml0aWFsaXplKCkge31cbiAgfSk7XG5cbiAgXy5leHRlbmQoQVYuT3AsIHtcbiAgICAvKipcbiAgICAgKiBUbyBjcmVhdGUgYSBuZXcgT3AsIGNhbGwgQVYuT3AuX2V4dGVuZCgpO1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2V4dGVuZDogQVYuX2V4dGVuZCxcbiAgICAvLyBBIG1hcCBvZiBfX29wIHN0cmluZyB0byBkZWNvZGVyIGZ1bmN0aW9uLlxuICAgIF9vcERlY29kZXJNYXA6IHt9LFxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgZnVuY3Rpb24gdG8gY29udmVydCBhIGpzb24gb2JqZWN0IHdpdGggYW4gX19vcCBmaWVsZCBpbnRvIGFuXG4gICAgICogaW5zdGFuY2Ugb2YgYSBzdWJjbGFzcyBvZiBBVi5PcC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWdpc3RlckRlY29kZXI6IGZ1bmN0aW9uIF9yZWdpc3RlckRlY29kZXIob3BOYW1lLCBkZWNvZGVyKSB7XG4gICAgICBBVi5PcC5fb3BEZWNvZGVyTWFwW29wTmFtZV0gPSBkZWNvZGVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIGpzb24gb2JqZWN0IGludG8gYW4gaW5zdGFuY2Ugb2YgYSBzdWJjbGFzcyBvZiBBVi5PcC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZWNvZGU6IGZ1bmN0aW9uIF9kZWNvZGUoanNvbikge1xuICAgICAgdmFyIGRlY29kZXIgPSBBVi5PcC5fb3BEZWNvZGVyTWFwW2pzb24uX19vcF07XG5cbiAgICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVyKGpzb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvKlxuICAgKiBBZGQgYSBoYW5kbGVyIGZvciBCYXRjaCBvcHMuXG4gICAqL1xuXG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignQmF0Y2gnLCBmdW5jdGlvbiAoanNvbikge1xuICAgIHZhciBvcCA9IG51bGw7XG5cbiAgICBBVi5fYXJyYXlFYWNoKGpzb24ub3BzLCBmdW5jdGlvbiAobmV4dE9wKSB7XG4gICAgICBuZXh0T3AgPSBBVi5PcC5fZGVjb2RlKG5leHRPcCk7XG4gICAgICBvcCA9IG5leHRPcC5fbWVyZ2VXaXRoUHJldmlvdXMob3ApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9wO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBIFNldCBvcGVyYXRpb24gaW5kaWNhdGVzIHRoYXQgZWl0aGVyIHRoZSBmaWVsZCB3YXMgY2hhbmdlZCB1c2luZ1xuICAgKiBBVi5PYmplY3Quc2V0LCBvciBpdCBpcyBhIG11dGFibGUgY29udGFpbmVyIHRoYXQgd2FzIGRldGVjdGVkIGFzIGJlaW5nXG4gICAqIGNoYW5nZWQuXG4gICAqL1xuXG5cbiAgQVYuT3AuU2V0ID0gQVYuT3AuX2V4dGVuZChcbiAgLyoqIEBsZW5kcyBBVi5PcC5TZXQucHJvdG90eXBlICovXG4gIHtcbiAgICBfaW5pdGlhbGl6ZTogZnVuY3Rpb24gX2luaXRpYWxpemUodmFsdWUpIHtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5ldyB2YWx1ZSBvZiB0aGlzIGZpZWxkIGFmdGVyIHRoZSBzZXQuXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIEFWLl9lbmNvZGUodGhpcy52YWx1ZSgpKTtcbiAgICB9LFxuICAgIF9tZXJnZVdpdGhQcmV2aW91czogZnVuY3Rpb24gX21lcmdlV2l0aFByZXZpb3VzKHByZXZpb3VzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24gX2VzdGltYXRlKG9sZFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZSgpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgYnkgQVYuT3AuVW5zZXQuX2VzdGltYXRlIHRvXG4gICAqIGluZGljYXRlIHRoZSBmaWVsZCBzaG91bGQgYmUgZGVsZXRlZC4gQmFzaWNhbGx5LCBpZiB5b3UgZmluZCBfVU5TRVQgYXMgYVxuICAgKiB2YWx1ZSBpbiB5b3VyIG9iamVjdCwgeW91IHNob3VsZCByZW1vdmUgdGhhdCBrZXkuXG4gICAqL1xuXG4gIEFWLk9wLl9VTlNFVCA9IHt9O1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQGNsYXNzXG4gICAqIEFuIFVuc2V0IG9wZXJhdGlvbiBpbmRpY2F0ZXMgdGhhdCB0aGlzIGZpZWxkIGhhcyBiZWVuIGRlbGV0ZWQgZnJvbSB0aGVcbiAgICogb2JqZWN0LlxuICAgKi9cblxuICBBVi5PcC5VbnNldCA9IEFWLk9wLl9leHRlbmQoXG4gIC8qKiBAbGVuZHMgQVYuT3AuVW5zZXQucHJvdG90eXBlICovXG4gIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19vcDogJ0RlbGV0ZSdcbiAgICAgIH07XG4gICAgfSxcbiAgICBfbWVyZ2VXaXRoUHJldmlvdXM6IGZ1bmN0aW9uIF9tZXJnZVdpdGhQcmV2aW91cyhwcmV2aW91cykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBfZXN0aW1hdGU6IGZ1bmN0aW9uIF9lc3RpbWF0ZShvbGRWYWx1ZSkge1xuICAgICAgcmV0dXJuIEFWLk9wLl9VTlNFVDtcbiAgICB9XG4gIH0pO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0RlbGV0ZScsIGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5VbnNldCgpO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBbiBJbmNyZW1lbnQgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgbnVtZXJpYyB2YWx1ZSBmb3IgdGhlIGZpZWxkXG4gICAqIHdpbGwgYmUgaW5jcmVhc2VkIGJ5IGEgZ2l2ZW4gYW1vdW50LlxuICAgKi9cblxuXG4gIEFWLk9wLkluY3JlbWVudCA9IEFWLk9wLl9leHRlbmQoXG4gIC8qKiBAbGVuZHMgQVYuT3AuSW5jcmVtZW50LnByb3RvdHlwZSAqL1xuICB7XG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uIF9pbml0aWFsaXplKGFtb3VudCkge1xuICAgICAgdGhpcy5fYW1vdW50ID0gYW1vdW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhbW91bnQgdG8gaW5jcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdGhlIGFtb3VudCB0byBpbmNyZW1lbnQgYnkuXG4gICAgICovXG4gICAgYW1vdW50OiBmdW5jdGlvbiBhbW91bnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYW1vdW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19vcDogJ0luY3JlbWVudCcsXG4gICAgICAgIGFtb3VudDogdGhpcy5fYW1vdW50XG4gICAgICB9O1xuICAgIH0sXG4gICAgX21lcmdlV2l0aFByZXZpb3VzOiBmdW5jdGlvbiBfbWVyZ2VXaXRoUHJldmlvdXMocHJldmlvdXMpIHtcbiAgICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5TZXQodGhpcy5hbW91bnQoKSk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuU2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHByZXZpb3VzLnZhbHVlKCkgKyB0aGlzLmFtb3VudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5JbmNyZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5JbmNyZW1lbnQodGhpcy5hbW91bnQoKSArIHByZXZpb3VzLmFtb3VudCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24gX2VzdGltYXRlKG9sZFZhbHVlKSB7XG4gICAgICBpZiAoIW9sZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFtb3VudCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2xkVmFsdWUgKyB0aGlzLmFtb3VudCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignSW5jcmVtZW50JywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLkluY3JlbWVudChqc29uLmFtb3VudCk7XG4gIH0pO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQGNsYXNzXG4gICAqIEJpdEFuZCBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIHdoZXJlIHRoZSBnaXZlbiB2YWx1ZSB3aWxsIGJlIGJpdCBhbmQgdG8gdGhlXG4gICAqIHZhbHVlIHRoYW4gaXMgc3RvcmVkIGluIHRoaXMgZmllbGQuXG4gICAqL1xuXG5cbiAgQVYuT3AuQml0QW5kID0gQVYuT3AuX2V4dGVuZChcbiAgLyoqIEBsZW5kcyBBVi5PcC5CaXRBbmQucHJvdG90eXBlICovXG4gIHtcbiAgICBfaW5pdGlhbGl6ZTogZnVuY3Rpb24gX2luaXRpYWxpemUodmFsdWUpIHtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgfSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9wZXJhdGlvbiBzdWl0YWJsZSBmb3Igc2VuZGluZyB0byBBVi5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfX29wOiAnQml0QW5kJyxcbiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUoKVxuICAgICAgfTtcbiAgICB9LFxuICAgIF9tZXJnZVdpdGhQcmV2aW91czogZnVuY3Rpb24gX21lcmdlV2l0aFByZXZpb3VzKHByZXZpb3VzKSB7XG4gICAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlVuc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KDApO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlNldCkge1xuICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldChwcmV2aW91cy52YWx1ZSgpICYgdGhpcy52YWx1ZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24gX2VzdGltYXRlKG9sZFZhbHVlKSB7XG4gICAgICByZXR1cm4gb2xkVmFsdWUgJiB0aGlzLnZhbHVlKCk7XG4gICAgfVxuICB9KTtcblxuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdCaXRBbmQnLCBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQVYuT3AuQml0QW5kKGpzb24udmFsdWUpO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBCaXRPciBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIHdoZXJlIHRoZSBnaXZlbiB2YWx1ZSB3aWxsIGJlIGJpdCBhbmQgdG8gdGhlXG4gICAqIHZhbHVlIHRoYW4gaXMgc3RvcmVkIGluIHRoaXMgZmllbGQuXG4gICAqL1xuXG5cbiAgQVYuT3AuQml0T3IgPSBBVi5PcC5fZXh0ZW5kKFxuICAvKiogQGxlbmRzIEFWLk9wLkJpdE9yLnByb3RvdHlwZSAqL1xuICB7XG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uIF9pbml0aWFsaXplKHZhbHVlKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIH0sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19vcDogJ0JpdE9yJyxcbiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUoKVxuICAgICAgfTtcbiAgICB9LFxuICAgIF9tZXJnZVdpdGhQcmV2aW91czogZnVuY3Rpb24gX21lcmdlV2l0aFByZXZpb3VzKHByZXZpb3VzKSB7XG4gICAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlVuc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHRoaXMudmFsdWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuU2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHByZXZpb3VzLnZhbHVlKCkgfCB0aGlzLnZhbHVlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcCBpcyBpbnZhbGlkIGFmdGVyIHByZXZpb3VzIG9wLicpO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2VzdGltYXRlOiBmdW5jdGlvbiBfZXN0aW1hdGUob2xkVmFsdWUpIHtcbiAgICAgIHJldHVybiBvbGRWYWx1ZSB8IHRoaXMudmFsdWUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0JpdE9yJywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLkJpdE9yKGpzb24udmFsdWUpO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBCaXRYb3IgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgZ2l2ZW4gdmFsdWUgd2lsbCBiZSBiaXQgYW5kIHRvIHRoZVxuICAgKiB2YWx1ZSB0aGFuIGlzIHN0b3JlZCBpbiB0aGlzIGZpZWxkLlxuICAgKi9cblxuXG4gIEFWLk9wLkJpdFhvciA9IEFWLk9wLl9leHRlbmQoXG4gIC8qKiBAbGVuZHMgQVYuT3AuQml0WG9yLnByb3RvdHlwZSAqL1xuICB7XG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uIF9pbml0aWFsaXplKHZhbHVlKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIH0sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19vcDogJ0JpdFhvcicsXG4gICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlKClcbiAgICAgIH07XG4gICAgfSxcbiAgICBfbWVyZ2VXaXRoUHJldmlvdXM6IGZ1bmN0aW9uIF9tZXJnZVdpdGhQcmV2aW91cyhwcmV2aW91cykge1xuICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5VbnNldCkge1xuICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLnZhbHVlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlNldCkge1xuICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldChwcmV2aW91cy52YWx1ZSgpIF4gdGhpcy52YWx1ZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24gX2VzdGltYXRlKG9sZFZhbHVlKSB7XG4gICAgICByZXR1cm4gb2xkVmFsdWUgXiB0aGlzLnZhbHVlKCk7XG4gICAgfVxuICB9KTtcblxuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdCaXRYb3InLCBmdW5jdGlvbiAoanNvbikge1xuICAgIHJldHVybiBuZXcgQVYuT3AuQml0WG9yKGpzb24udmFsdWUpO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBZGQgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgZ2l2ZW4gb2JqZWN0cyB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZVxuICAgKiBhcnJheSB0aGF0IGlzIHN0b3JlZCBpbiB0aGlzIGZpZWxkLlxuICAgKi9cblxuXG4gIEFWLk9wLkFkZCA9IEFWLk9wLl9leHRlbmQoXG4gIC8qKiBAbGVuZHMgQVYuT3AuQWRkLnByb3RvdHlwZSAqL1xuICB7XG4gICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uIF9pbml0aWFsaXplKG9iamVjdHMpIHtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBvYmplY3RzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3RzIHRvIGJlIGFkZGVkIHRvIHRoZSBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIG9iamVjdHMgdG8gYmUgYWRkZWQgdG8gdGhlIGFycmF5LlxuICAgICAqL1xuICAgIG9iamVjdHM6IGZ1bmN0aW9uIG9iamVjdHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb3BlcmF0aW9uIHN1aXRhYmxlIGZvciBzZW5kaW5nIHRvIEFWLlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9fb3A6ICdBZGQnLFxuICAgICAgICBvYmplY3RzOiBBVi5fZW5jb2RlKHRoaXMub2JqZWN0cygpKVxuICAgICAgfTtcbiAgICB9LFxuICAgIF9tZXJnZVdpdGhQcmV2aW91czogZnVuY3Rpb24gX21lcmdlV2l0aFByZXZpb3VzKHByZXZpb3VzKSB7XG4gICAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlVuc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHRoaXMub2JqZWN0cygpKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5TZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5TZXQodGhpcy5fZXN0aW1hdGUocHJldmlvdXMudmFsdWUoKSkpO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLkFkZCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5BZGQoKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQgPSBwcmV2aW91cy5vYmplY3RzKCkpLmNhbGwoX2NvbnRleHQsIHRoaXMub2JqZWN0cygpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wIGlzIGludmFsaWQgYWZ0ZXIgcHJldmlvdXMgb3AuJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBfZXN0aW1hdGU6IGZ1bmN0aW9uIF9lc3RpbWF0ZShvbGRWYWx1ZSkge1xuICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gXy5jbG9uZSh0aGlzLm9iamVjdHMoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKDAsIF9jb25jYXQuZGVmYXVsdCkob2xkVmFsdWUpLmNhbGwob2xkVmFsdWUsIHRoaXMub2JqZWN0cygpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0FkZCcsIGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5BZGQoQVYuX2RlY29kZShqc29uLm9iamVjdHMpKTtcbiAgfSk7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY2xhc3NcbiAgICogQWRkVW5pcXVlIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gd2hlcmUgdGhlIGdpdmVuIGl0ZW1zIHdpbGwgYmUgYXBwZW5kZWQgdG9cbiAgICogdGhlIGFycmF5IHRoYXQgaXMgc3RvcmVkIGluIHRoaXMgZmllbGQgb25seSBpZiB0aGV5IHdlcmUgbm90IGFscmVhZHlcbiAgICogcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gICAqL1xuXG5cbiAgQVYuT3AuQWRkVW5pcXVlID0gQVYuT3AuX2V4dGVuZChcbiAgLyoqIEBsZW5kcyBBVi5PcC5BZGRVbmlxdWUucHJvdG90eXBlICovXG4gIHtcbiAgICBfaW5pdGlhbGl6ZTogZnVuY3Rpb24gX2luaXRpYWxpemUob2JqZWN0cykge1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IF8udW5pcShvYmplY3RzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb2JqZWN0cyB0byBiZSBhZGRlZCB0byB0aGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBvYmplY3RzIHRvIGJlIGFkZGVkIHRvIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICBvYmplY3RzOiBmdW5jdGlvbiBvYmplY3RzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9wZXJhdGlvbiBzdWl0YWJsZSBmb3Igc2VuZGluZyB0byBBVi5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBfX29wOiAnQWRkVW5pcXVlJyxcbiAgICAgICAgb2JqZWN0czogQVYuX2VuY29kZSh0aGlzLm9iamVjdHMoKSlcbiAgICAgIH07XG4gICAgfSxcbiAgICBfbWVyZ2VXaXRoUHJldmlvdXM6IGZ1bmN0aW9uIF9tZXJnZVdpdGhQcmV2aW91cyhwcmV2aW91cykge1xuICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5VbnNldCkge1xuICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLm9iamVjdHMoKSk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuU2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHRoaXMuX2VzdGltYXRlKHByZXZpb3VzLnZhbHVlKCkpKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5BZGRVbmlxdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5BZGRVbmlxdWUodGhpcy5fZXN0aW1hdGUocHJldmlvdXMub2JqZWN0cygpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wIGlzIGludmFsaWQgYWZ0ZXIgcHJldmlvdXMgb3AuJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBfZXN0aW1hdGU6IGZ1bmN0aW9uIF9lc3RpbWF0ZShvbGRWYWx1ZSkge1xuICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gXy5jbG9uZSh0aGlzLm9iamVjdHMoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBjYW4ndCBqdXN0IHRha2UgdGhlIF8udW5pcShfLnVuaW9uKC4uLikpIG9mIG9sZFZhbHVlIGFuZFxuICAgICAgICAvLyB0aGlzLm9iamVjdHMsIGJlY2F1c2UgdGhlIHVuaXF1ZW5lc3MgbWF5IG5vdCBhcHBseSB0byBvbGRWYWx1ZVxuICAgICAgICAvLyAoZXNwZWNpYWxseSBpZiB0aGUgb2xkVmFsdWUgd2FzIHNldCB2aWEgLnNldCgpKVxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBfLmNsb25lKG9sZFZhbHVlKTtcblxuICAgICAgICBBVi5fYXJyYXlFYWNoKHRoaXMub2JqZWN0cygpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFWLk9iamVjdCAmJiBvYmouaWQpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ09iaiA9ICgwLCBfZmluZC5kZWZhdWx0KShfKS5jYWxsKF8sIG5ld1ZhbHVlLCBmdW5jdGlvbiAoYW5PYmopIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFuT2JqIGluc3RhbmNlb2YgQVYuT2JqZWN0ICYmIGFuT2JqLmlkID09PSBvYmouaWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFtYXRjaGluZ09iaikge1xuICAgICAgICAgICAgICBuZXdWYWx1ZS5wdXNoKG9iaik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgaW5kZXggPSAoMCwgX2luZGV4T2YuZGVmYXVsdCkoXykuY2FsbChfLCBuZXdWYWx1ZSwgbWF0Y2hpbmdPYmopO1xuICAgICAgICAgICAgICBuZXdWYWx1ZVtpbmRleF0gPSBvYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghXy5jb250YWlucyhuZXdWYWx1ZSwgb2JqKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUucHVzaChvYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignQWRkVW5pcXVlJywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLkFkZFVuaXF1ZShBVi5fZGVjb2RlKGpzb24ub2JqZWN0cykpO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBSZW1vdmUgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgZ2l2ZW4gb2JqZWN0cyB3aWxsIGJlIHJlbW92ZWQgZnJvbVxuICAgKiB0aGUgYXJyYXkgdGhhdCBpcyBzdG9yZWQgaW4gdGhpcyBmaWVsZC5cbiAgICovXG5cblxuICBBVi5PcC5SZW1vdmUgPSBBVi5PcC5fZXh0ZW5kKFxuICAvKiogQGxlbmRzIEFWLk9wLlJlbW92ZS5wcm90b3R5cGUgKi9cbiAge1xuICAgIF9pbml0aWFsaXplOiBmdW5jdGlvbiBfaW5pdGlhbGl6ZShvYmplY3RzKSB7XG4gICAgICB0aGlzLl9vYmplY3RzID0gXy51bmlxKG9iamVjdHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3RzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBvYmplY3RzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgYXJyYXkuXG4gICAgICovXG4gICAgb2JqZWN0czogZnVuY3Rpb24gb2JqZWN0cygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX19vcDogJ1JlbW92ZScsXG4gICAgICAgIG9iamVjdHM6IEFWLl9lbmNvZGUodGhpcy5vYmplY3RzKCkpXG4gICAgICB9O1xuICAgIH0sXG4gICAgX21lcmdlV2l0aFByZXZpb3VzOiBmdW5jdGlvbiBfbWVyZ2VXaXRoUHJldmlvdXMocHJldmlvdXMpIHtcbiAgICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzO1xuICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlNldCkge1xuICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLl9lc3RpbWF0ZShwcmV2aW91cy52YWx1ZSgpKSk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuUmVtb3ZlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuT3AuUmVtb3ZlKF8udW5pb24ocHJldmlvdXMub2JqZWN0cygpLCB0aGlzLm9iamVjdHMoKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcCBpcyBpbnZhbGlkIGFmdGVyIHByZXZpb3VzIG9wLicpO1xuICAgICAgfVxuICAgIH0sXG4gICAgX2VzdGltYXRlOiBmdW5jdGlvbiBfZXN0aW1hdGUob2xkVmFsdWUpIHtcbiAgICAgIGlmICghb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gXy5kaWZmZXJlbmNlKG9sZFZhbHVlLCB0aGlzLm9iamVjdHMoKSk7IC8vIElmIHRoZXJlIGFyZSBzYXZlZCBBViBPYmplY3RzIGJlaW5nIHJlbW92ZWQsIGFsc28gcmVtb3ZlIHRoZW0uXG5cblxuICAgICAgICBBVi5fYXJyYXlFYWNoKHRoaXMub2JqZWN0cygpLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFWLk9iamVjdCAmJiBvYmouaWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gXy5yZWplY3QobmV3VmFsdWUsIGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBBVi5PYmplY3QgJiYgb3RoZXIuaWQgPT09IG9iai5pZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignUmVtb3ZlJywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLlJlbW92ZShBVi5fZGVjb2RlKGpzb24ub2JqZWN0cykpO1xuICB9KTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBIFJlbGF0aW9uIG9wZXJhdGlvbiBpbmRpY2F0ZXMgdGhhdCB0aGUgZmllbGQgaXMgYW4gaW5zdGFuY2Ugb2ZcbiAgICogQVYuUmVsYXRpb24sIGFuZCBvYmplY3RzIGFyZSBiZWluZyBhZGRlZCB0bywgb3IgcmVtb3ZlZCBmcm9tLCB0aGF0XG4gICAqIHJlbGF0aW9uLlxuICAgKi9cblxuXG4gIEFWLk9wLlJlbGF0aW9uID0gQVYuT3AuX2V4dGVuZChcbiAgLyoqIEBsZW5kcyBBVi5PcC5SZWxhdGlvbi5wcm90b3R5cGUgKi9cbiAge1xuICAgIF9pbml0aWFsaXplOiBmdW5jdGlvbiBfaW5pdGlhbGl6ZShhZGRzLCByZW1vdmVzKSB7XG4gICAgICB0aGlzLl90YXJnZXRDbGFzc05hbWUgPSBudWxsO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICB2YXIgcG9pbnRlclRvSWQgPSBmdW5jdGlvbiBwb2ludGVyVG9JZChvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFWLk9iamVjdCkge1xuICAgICAgICAgIGlmICghb2JqZWN0LmlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2FuJ3QgYWRkIGFuIHVuc2F2ZWQgQVYuT2JqZWN0IHRvIGEgcmVsYXRpb24uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghc2VsZi5fdGFyZ2V0Q2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBzZWxmLl90YXJnZXRDbGFzc05hbWUgPSBvYmplY3QuY2xhc3NOYW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLl90YXJnZXRDbGFzc05hbWUgIT09IG9iamVjdC5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZWQgdG8gY3JlYXRlIGEgQVYuUmVsYXRpb24gd2l0aCAyIGRpZmZlcmVudCB0eXBlczogJyArIHNlbGYuX3RhcmdldENsYXNzTmFtZSArICcgYW5kICcgKyBvYmplY3QuY2xhc3NOYW1lICsgJy4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVsYXRpb25zVG9BZGQgPSBfLnVuaXEoKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCBhZGRzLCBwb2ludGVyVG9JZCkpO1xuICAgICAgdGhpcy5yZWxhdGlvbnNUb1JlbW92ZSA9IF8udW5pcSgoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIHJlbW92ZXMsIHBvaW50ZXJUb0lkKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdW5mZXRjaGVkIEFWLk9iamVjdCB0aGF0IGFyZSBiZWluZyBhZGRlZCB0byB0aGVcbiAgICAgKiByZWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBhZGRlZDogZnVuY3Rpb24gYWRkZWQoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCB0aGlzLnJlbGF0aW9uc1RvQWRkLCBmdW5jdGlvbiAob2JqZWN0SWQpIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IEFWLk9iamVjdC5fY3JlYXRlKHNlbGYuX3RhcmdldENsYXNzTmFtZSk7XG5cbiAgICAgICAgb2JqZWN0LmlkID0gb2JqZWN0SWQ7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiB1bmZldGNoZWQgQVYuT2JqZWN0IHRoYXQgYXJlIGJlaW5nIHJlbW92ZWQgZnJvbVxuICAgICAqIHRoZSByZWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICByZW1vdmVkOiBmdW5jdGlvbiByZW1vdmVkKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgdGhpcy5yZWxhdGlvbnNUb1JlbW92ZSwgZnVuY3Rpb24gKG9iamVjdElkKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBBVi5PYmplY3QuX2NyZWF0ZShzZWxmLl90YXJnZXRDbGFzc05hbWUpO1xuXG4gICAgICAgIG9iamVjdC5pZCA9IG9iamVjdElkO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9wZXJhdGlvbiBzdWl0YWJsZSBmb3Igc2VuZGluZyB0byBBVi5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICB2YXIgYWRkcyA9IG51bGw7XG4gICAgICB2YXIgcmVtb3ZlcyA9IG51bGw7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHZhciBpZFRvUG9pbnRlciA9IGZ1bmN0aW9uIGlkVG9Qb2ludGVyKGlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgICAgY2xhc3NOYW1lOiBzZWxmLl90YXJnZXRDbGFzc05hbWUsXG4gICAgICAgICAgb2JqZWN0SWQ6IGlkXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICB2YXIgcG9pbnRlcnMgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5yZWxhdGlvbnNUb0FkZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBvaW50ZXJzID0gKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCB0aGlzLnJlbGF0aW9uc1RvQWRkLCBpZFRvUG9pbnRlcik7XG4gICAgICAgIGFkZHMgPSB7XG4gICAgICAgICAgX19vcDogJ0FkZFJlbGF0aW9uJyxcbiAgICAgICAgICBvYmplY3RzOiBwb2ludGVyc1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5yZWxhdGlvbnNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBvaW50ZXJzID0gKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCB0aGlzLnJlbGF0aW9uc1RvUmVtb3ZlLCBpZFRvUG9pbnRlcik7XG4gICAgICAgIHJlbW92ZXMgPSB7XG4gICAgICAgICAgX19vcDogJ1JlbW92ZVJlbGF0aW9uJyxcbiAgICAgICAgICBvYmplY3RzOiBwb2ludGVyc1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoYWRkcyAmJiByZW1vdmVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX19vcDogJ0JhdGNoJyxcbiAgICAgICAgICBvcHM6IFthZGRzLCByZW1vdmVzXVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkcyB8fCByZW1vdmVzIHx8IHt9O1xuICAgIH0sXG4gICAgX21lcmdlV2l0aFByZXZpb3VzOiBmdW5jdGlvbiBfbWVyZ2VXaXRoUHJldmlvdXMocHJldmlvdXMpIHtcbiAgICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbid0IG1vZGlmeSBhIHJlbGF0aW9uIGFmdGVyIGRlbGV0aW5nIGl0LlwiKTtcbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5SZWxhdGlvbikge1xuICAgICAgICBpZiAocHJldmlvdXMuX3RhcmdldENsYXNzTmFtZSAmJiBwcmV2aW91cy5fdGFyZ2V0Q2xhc3NOYW1lICE9PSB0aGlzLl90YXJnZXRDbGFzc05hbWUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlbGF0ZWQgb2JqZWN0IG11c3QgYmUgb2YgY2xhc3MgJyArIHByZXZpb3VzLl90YXJnZXRDbGFzc05hbWUgKyAnLCBidXQgJyArIHRoaXMuX3RhcmdldENsYXNzTmFtZSArICcgd2FzIHBhc3NlZCBpbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdBZGQgPSBfLnVuaW9uKF8uZGlmZmVyZW5jZShwcmV2aW91cy5yZWxhdGlvbnNUb0FkZCwgdGhpcy5yZWxhdGlvbnNUb1JlbW92ZSksIHRoaXMucmVsYXRpb25zVG9BZGQpO1xuXG4gICAgICAgIHZhciBuZXdSZW1vdmUgPSBfLnVuaW9uKF8uZGlmZmVyZW5jZShwcmV2aW91cy5yZWxhdGlvbnNUb1JlbW92ZSwgdGhpcy5yZWxhdGlvbnNUb0FkZCksIHRoaXMucmVsYXRpb25zVG9SZW1vdmUpO1xuXG4gICAgICAgIHZhciBuZXdSZWxhdGlvbiA9IG5ldyBBVi5PcC5SZWxhdGlvbihuZXdBZGQsIG5ld1JlbW92ZSk7XG4gICAgICAgIG5ld1JlbGF0aW9uLl90YXJnZXRDbGFzc05hbWUgPSB0aGlzLl90YXJnZXRDbGFzc05hbWU7XG4gICAgICAgIHJldHVybiBuZXdSZWxhdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24gX2VzdGltYXRlKG9sZFZhbHVlLCBvYmplY3QsIGtleSkge1xuICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICB2YXIgcmVsYXRpb24gPSBuZXcgQVYuUmVsYXRpb24ob2JqZWN0LCBrZXkpO1xuICAgICAgICByZWxhdGlvbi50YXJnZXRDbGFzc05hbWUgPSB0aGlzLl90YXJnZXRDbGFzc05hbWU7XG4gICAgICB9IGVsc2UgaWYgKG9sZFZhbHVlIGluc3RhbmNlb2YgQVYuUmVsYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldENsYXNzTmFtZSkge1xuICAgICAgICAgIGlmIChvbGRWYWx1ZS50YXJnZXRDbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZS50YXJnZXRDbGFzc05hbWUgIT09IHRoaXMuX3RhcmdldENsYXNzTmFtZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlbGF0ZWQgb2JqZWN0IG11c3QgYmUgYSAnICsgb2xkVmFsdWUudGFyZ2V0Q2xhc3NOYW1lICsgJywgYnV0IGEgJyArIHRoaXMuX3RhcmdldENsYXNzTmFtZSArICcgd2FzIHBhc3NlZCBpbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2xkVmFsdWUudGFyZ2V0Q2xhc3NOYW1lID0gdGhpcy5fdGFyZ2V0Q2xhc3NOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvbGRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0FkZFJlbGF0aW9uJywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLlJlbGF0aW9uKEFWLl9kZWNvZGUoanNvbi5vYmplY3RzKSwgW10pO1xuICB9KTtcblxuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdSZW1vdmVSZWxhdGlvbicsIGZ1bmN0aW9uIChqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5SZWxhdGlvbihbXSwgQVYuX2RlY29kZShqc29uLm9iamVjdHMpKTtcbiAgfSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDQ0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NDcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDQ0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xudmFyIG1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDQ4KTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuZmluZDtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZmluZCkgPyBtZXRob2QgOiBvd247XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDQ5KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5JykuZmluZDtcblxuXG4vKioqLyB9KSxcbi8qIDQ0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyICRmaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpLmZpbmQ7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKTtcblxudmFyIEZJTkQgPSAnZmluZCc7XG52YXIgU0tJUFNfSE9MRVMgPSB0cnVlO1xuXG4vLyBTaG91bGRuJ3Qgc2tpcCBob2xlc1xuaWYgKEZJTkQgaW4gW10pIEFycmF5KDEpW0ZJTkRdKGZ1bmN0aW9uICgpIHsgU0tJUFNfSE9MRVMgPSBmYWxzZTsgfSk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZmluZGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maW5kXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBTS0lQU19IT0xFUyB9LCB7XG4gIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoY2FsbGJhY2tmbiAvKiAsIHRoYXQgPSB1bmRlZmluZWQgKi8pIHtcbiAgICByZXR1cm4gJGZpbmQodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuYWRkVG9VbnNjb3BhYmxlcyhGSU5EKTtcblxuXG4vKioqLyB9KSxcbi8qIDQ1MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFJlbGF0aW9uIGZvciB0aGUgZ2l2ZW4gcGFyZW50IG9iamVjdCBhbmQga2V5LiBUaGlzXG4gICAqIGNvbnN0cnVjdG9yIHNob3VsZCByYXJlbHkgYmUgdXNlZCBkaXJlY3RseSwgYnV0IHJhdGhlciBjcmVhdGVkIGJ5XG4gICAqIHtAbGluayBBVi5PYmplY3QjcmVsYXRpb259LlxuICAgKiBAcGFyYW0ge0FWLk9iamVjdH0gcGFyZW50IFRoZSBwYXJlbnQgb2YgdGhpcyByZWxhdGlvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGlzIHJlbGF0aW9uIG9uIHRoZSBwYXJlbnQuXG4gICAqIEBzZWUgQVYuT2JqZWN0I3JlbGF0aW9uXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKiA8cD5cbiAgICogQSBjbGFzcyB0aGF0IGlzIHVzZWQgdG8gYWNjZXNzIGFsbCBvZiB0aGUgY2hpbGRyZW4gb2YgYSBtYW55LXRvLW1hbnlcbiAgICogcmVsYXRpb25zaGlwLiAgRWFjaCBpbnN0YW5jZSBvZiBBVi5SZWxhdGlvbiBpcyBhc3NvY2lhdGVkIHdpdGggYVxuICAgKiBwYXJ0aWN1bGFyIHBhcmVudCBvYmplY3QgYW5kIGtleS5cbiAgICogPC9wPlxuICAgKi9cbiAgQVYuUmVsYXRpb24gPSBmdW5jdGlvbiAocGFyZW50LCBrZXkpIHtcbiAgICBpZiAoIV8uaXNTdHJpbmcoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigna2V5IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnRhcmdldENsYXNzTmFtZSA9IG51bGw7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcXVlcnkgdGhhdCBjYW4gYmUgdXNlZCB0byBxdWVyeSB0aGUgcGFyZW50IG9iamVjdHMgaW4gdGhpcyByZWxhdGlvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudENsYXNzIFRoZSBwYXJlbnQgY2xhc3Mgb3IgbmFtZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlbGF0aW9uS2V5IFRoZSByZWxhdGlvbiBmaWVsZCBrZXkgaW4gcGFyZW50LlxuICAgKiBAcGFyYW0ge0FWLk9iamVjdH0gY2hpbGQgVGhlIGNoaWxkIG9iamVjdC5cbiAgICogQHJldHVybiB7QVYuUXVlcnl9XG4gICAqL1xuXG5cbiAgQVYuUmVsYXRpb24ucmV2ZXJzZVF1ZXJ5ID0gZnVuY3Rpb24gKHBhcmVudENsYXNzLCByZWxhdGlvbktleSwgY2hpbGQpIHtcbiAgICB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkocGFyZW50Q2xhc3MpO1xuICAgIHF1ZXJ5LmVxdWFsVG8ocmVsYXRpb25LZXksIGNoaWxkLl90b1BvaW50ZXIoKSk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuXG4gIF8uZXh0ZW5kKEFWLlJlbGF0aW9uLnByb3RvdHlwZSxcbiAgLyoqIEBsZW5kcyBBVi5SZWxhdGlvbi5wcm90b3R5cGUgKi9cbiAge1xuICAgIC8qKlxuICAgICAqIE1ha2VzIHN1cmUgdGhhdCB0aGlzIHJlbGF0aW9uIGhhcyB0aGUgcmlnaHQgcGFyZW50IGFuZCBrZXkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZW5zdXJlUGFyZW50QW5kS2V5OiBmdW5jdGlvbiBfZW5zdXJlUGFyZW50QW5kS2V5KHBhcmVudCwga2V5KSB7XG4gICAgICB0aGlzLnBhcmVudCA9IHRoaXMucGFyZW50IHx8IHBhcmVudDtcbiAgICAgIHRoaXMua2V5ID0gdGhpcy5rZXkgfHwga2V5O1xuXG4gICAgICBpZiAodGhpcy5wYXJlbnQgIT09IHBhcmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVybmFsIEVycm9yLiBSZWxhdGlvbiByZXRyaWV2ZWQgZnJvbSB0d28gZGlmZmVyZW50IE9iamVjdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmtleSAhPT0ga2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZXJuYWwgRXJyb3IuIFJlbGF0aW9uIHJldHJpZXZlZCBmcm9tIHR3byBkaWZmZXJlbnQga2V5cy4nKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEFWLk9iamVjdCBvciBhbiBhcnJheSBvZiBBVi5PYmplY3RzIHRvIHRoZSByZWxhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5PYmplY3RbXX0gb2JqZWN0cyBUaGUgaXRlbSBvciBpdGVtcyB0byBhZGQuXG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQob2JqZWN0cykge1xuICAgICAgaWYgKCFfLmlzQXJyYXkob2JqZWN0cykpIHtcbiAgICAgICAgb2JqZWN0cyA9IFtvYmplY3RzXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5nZSA9IG5ldyBBVi5PcC5SZWxhdGlvbihvYmplY3RzLCBbXSk7XG4gICAgICB0aGlzLnBhcmVudC5zZXQodGhpcy5rZXksIGNoYW5nZSk7XG4gICAgICB0aGlzLnRhcmdldENsYXNzTmFtZSA9IGNoYW5nZS5fdGFyZ2V0Q2xhc3NOYW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgQVYuT2JqZWN0IG9yIGFuIGFycmF5IG9mIEFWLk9iamVjdHMgZnJvbSB0aGlzIHJlbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0fEFWLk9iamVjdFtdfSBvYmplY3RzIFRoZSBpdGVtIG9yIGl0ZW1zIHRvIHJlbW92ZS5cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShvYmplY3RzKSB7XG4gICAgICBpZiAoIV8uaXNBcnJheShvYmplY3RzKSkge1xuICAgICAgICBvYmplY3RzID0gW29iamVjdHNdO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbmdlID0gbmV3IEFWLk9wLlJlbGF0aW9uKFtdLCBvYmplY3RzKTtcbiAgICAgIHRoaXMucGFyZW50LnNldCh0aGlzLmtleSwgY2hhbmdlKTtcbiAgICAgIHRoaXMudGFyZ2V0Q2xhc3NOYW1lID0gY2hhbmdlLl90YXJnZXRDbGFzc05hbWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9iamVjdCBzdWl0YWJsZSBmb3Igc2F2aW5nIHRvIGRpc2suXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX190eXBlOiAnUmVsYXRpb24nLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMudGFyZ2V0Q2xhc3NOYW1lXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQVYuUXVlcnkgdGhhdCBpcyBsaW1pdGVkIHRvIG9iamVjdHMgaW4gdGhpc1xuICAgICAqIHJlbGF0aW9uLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fVxuICAgICAqL1xuICAgIHF1ZXJ5OiBmdW5jdGlvbiBxdWVyeSgpIHtcbiAgICAgIHZhciB0YXJnZXRDbGFzcztcbiAgICAgIHZhciBxdWVyeTtcblxuICAgICAgaWYgKCF0aGlzLnRhcmdldENsYXNzTmFtZSkge1xuICAgICAgICB0YXJnZXRDbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3ModGhpcy5wYXJlbnQuY2xhc3NOYW1lKTtcbiAgICAgICAgcXVlcnkgPSBuZXcgQVYuUXVlcnkodGFyZ2V0Q2xhc3MpO1xuICAgICAgICBxdWVyeS5fZGVmYXVsdFBhcmFtcy5yZWRpcmVjdENsYXNzTmFtZUZvcktleSA9IHRoaXMua2V5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Q2xhc3MgPSBBVi5PYmplY3QuX2dldFN1YmNsYXNzKHRoaXMudGFyZ2V0Q2xhc3NOYW1lKTtcbiAgICAgICAgcXVlcnkgPSBuZXcgQVYuUXVlcnkodGFyZ2V0Q2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBxdWVyeS5fYWRkQ29uZGl0aW9uKCckcmVsYXRlZFRvJywgJ29iamVjdCcsIHRoaXMucGFyZW50Ll90b1BvaW50ZXIoKSk7XG5cbiAgICAgIHF1ZXJ5Ll9hZGRDb25kaXRpb24oJyRyZWxhdGVkVG8nLCAna2V5JywgdGhpcy5rZXkpO1xuXG4gICAgICByZXR1cm4gcXVlcnk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNDUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGNvcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDUyKTtcblxudmFyIHFpbml1ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NTMpO1xuXG52YXIgczMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5OSk7XG5cbnZhciBBVkVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpLFxuICAgIHJlcXVlc3QgPSBfcmVxdWlyZS5yZXF1ZXN0LFxuICAgIEFWUmVxdWVzdCA9IF9yZXF1aXJlLl9yZXF1ZXN0O1xuXG52YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSksXG4gICAgdGFwID0gX3JlcXVpcmUyLnRhcCxcbiAgICB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMgPSBfcmVxdWlyZTIudHJhbnNmb3JtRmV0Y2hPcHRpb25zO1xuXG52YXIgZGVidWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSgnbGVhbmNsb3VkOmZpbGUnKTtcblxudmFyIHBhcnNlQmFzZTY0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MDMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChBVikge1xuICAvLyBwb3J0IGZyb20gYnJvd3NlcmlmeSBwYXRoIG1vZHVsZVxuICAvLyBzaW5jZSByZWFjdC1uYXRpdmUgcGFja2FnZXIgd29uJ3Qgc2hpbSBub2RlIG1vZHVsZXMuXG4gIHZhciBleHRuYW1lID0gZnVuY3Rpb24gZXh0bmFtZShwYXRoKSB7XG4gICAgaWYgKCFfLmlzU3RyaW5nKHBhdGgpKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIHBhdGgubWF0Y2goL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC8pWzRdO1xuICB9O1xuXG4gIHZhciBiNjREaWdpdCA9IGZ1bmN0aW9uIGI2NERpZ2l0KG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAyNikge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBudW1iZXIpO1xuICAgIH1cblxuICAgIGlmIChudW1iZXIgPCA1Mikge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTcgKyAobnVtYmVyIC0gMjYpKTtcbiAgICB9XG5cbiAgICBpZiAobnVtYmVyIDwgNjIpIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDQ4ICsgKG51bWJlciAtIDUyKSk7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlciA9PT0gNjIpIHtcbiAgICAgIHJldHVybiAnKyc7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlciA9PT0gNjMpIHtcbiAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmllZCB0byBlbmNvZGUgbGFyZ2UgZGlnaXQgJyArIG51bWJlciArICcgaW4gYmFzZTY0LicpO1xuICB9O1xuXG4gIHZhciBlbmNvZGVCYXNlNjQgPSBmdW5jdGlvbiBlbmNvZGVCYXNlNjQoYXJyYXkpIHtcbiAgICB2YXIgY2h1bmtzID0gW107XG4gICAgY2h1bmtzLmxlbmd0aCA9IE1hdGguY2VpbChhcnJheS5sZW5ndGggLyAzKTtcblxuICAgIF8udGltZXMoY2h1bmtzLmxlbmd0aCwgZnVuY3Rpb24gKGkpIHtcbiAgICAgIHZhciBiMSA9IGFycmF5W2kgKiAzXTtcbiAgICAgIHZhciBiMiA9IGFycmF5W2kgKiAzICsgMV0gfHwgMDtcbiAgICAgIHZhciBiMyA9IGFycmF5W2kgKiAzICsgMl0gfHwgMDtcbiAgICAgIHZhciBoYXMyID0gaSAqIDMgKyAxIDwgYXJyYXkubGVuZ3RoO1xuICAgICAgdmFyIGhhczMgPSBpICogMyArIDIgPCBhcnJheS5sZW5ndGg7XG4gICAgICBjaHVua3NbaV0gPSBbYjY0RGlnaXQoYjEgPj4gMiAmIDB4M2YpLCBiNjREaWdpdChiMSA8PCA0ICYgMHgzMCB8IGIyID4+IDQgJiAweDBmKSwgaGFzMiA/IGI2NERpZ2l0KGIyIDw8IDIgJiAweDNjIHwgYjMgPj4gNiAmIDB4MDMpIDogJz0nLCBoYXMzID8gYjY0RGlnaXQoYjMgJiAweDNmKSA6ICc9J10uam9pbignJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2h1bmtzLmpvaW4oJycpO1xuICB9O1xuICAvKipcbiAgICogQW4gQVYuRmlsZSBpcyBhIGxvY2FsIHJlcHJlc2VudGF0aW9uIG9mIGEgZmlsZSB0aGF0IGlzIHNhdmVkIHRvIHRoZSBBVlxuICAgKiBjbG91ZC5cbiAgICogQHBhcmFtIG5hbWUge1N0cmluZ30gVGhlIGZpbGUncyBuYW1lLiBUaGlzIHdpbGwgY2hhbmdlIHRvIGEgdW5pcXVlIHZhbHVlXG4gICAqICAgICBvbmNlIHRoZSBmaWxlIGhhcyBmaW5pc2hlZCBzYXZpbmcuXG4gICAqIEBwYXJhbSBkYXRhIHtBcnJheX0gVGhlIGRhdGEgZm9yIHRoZSBmaWxlLCBhcyBlaXRoZXI6XG4gICAqICAgICAxLiBhbiBBcnJheSBvZiBieXRlIHZhbHVlIE51bWJlcnMsIG9yXG4gICAqICAgICAyLiBhbiBPYmplY3QgbGlrZSB7IGJhc2U2NDogXCIuLi5cIiB9IHdpdGggYSBiYXNlNjQtZW5jb2RlZCBTdHJpbmcuXG4gICAqICAgICAzLiBhIEJsb2IoRmlsZSkgc2VsZWN0ZWQgd2l0aCBhIGZpbGUgdXBsb2FkIGNvbnRyb2wgaW4gYSBicm93c2VyLlxuICAgKiAgICAgNC4gYW4gT2JqZWN0IGxpa2UgeyBibG9iOiB7dXJpOiBcIi4uLlwifSB9IHRoYXQgbWltaWNzIEJsb2JcbiAgICogICAgICAgIGluIHNvbWUgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzIHN1Y2ggYXMgUmVhY3QgTmF0aXZlLlxuICAgKiAgICAgNS4gYSBCdWZmZXIgaW4gTm9kZS5qcyBydW50aW1lLlxuICAgKiAgICAgNi4gYSBTdHJlYW0gaW4gTm9kZS5qcyBydW50aW1lLlxuICAgKlxuICAgKiAgICAgICAgRm9yIGV4YW1wbGU6PHByZT5cbiAgICogdmFyIGZpbGVVcGxvYWRDb250cm9sID0gJChcIiNwcm9maWxlUGhvdG9GaWxlVXBsb2FkXCIpWzBdO1xuICAgKiBpZiAoZmlsZVVwbG9hZENvbnRyb2wuZmlsZXMubGVuZ3RoID4gMCkge1xuICAgKiAgIHZhciBmaWxlID0gZmlsZVVwbG9hZENvbnRyb2wuZmlsZXNbMF07XG4gICAqICAgdmFyIG5hbWUgPSBcInBob3RvLmpwZ1wiO1xuICAgKiAgIHZhciBmaWxlID0gbmV3IEFWLkZpbGUobmFtZSwgZmlsZSk7XG4gICAqICAgZmlsZS5zYXZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICogICAgIC8vIFRoZSBmaWxlIGhhcyBiZWVuIHNhdmVkIHRvIEFWLlxuICAgKiAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgICAvLyBUaGUgZmlsZSBlaXRoZXIgY291bGQgbm90IGJlIHJlYWQsIG9yIGNvdWxkIG5vdCBiZSBzYXZlZCB0byBBVi5cbiAgICogICB9KTtcbiAgICogfTwvcHJlPlxuICAgKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIFttaW1lVHlwZV0ge1N0cmluZ30gQ29udGVudC1UeXBlIGhlYWRlciB0byB1c2UgZm9yIHRoZSBmaWxlLiBJZlxuICAgKiAgICAgdGhpcyBpcyBvbWl0dGVkLCB0aGUgY29udGVudCB0eXBlIHdpbGwgYmUgaW5mZXJyZWQgZnJvbSB0aGUgbmFtZSdzXG4gICAqICAgICBleHRlbnNpb24uXG4gICAqL1xuXG5cbiAgQVYuRmlsZSA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhLCBtaW1lVHlwZSkge1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB1cmw6ICcnLFxuICAgICAgbWV0YURhdGE6IHt9LFxuICAgICAgLy8g55So5p2l5a2Y5YKo6L2s5o2i5ZCO6KaB5LiK5Lyg55qEIGJhc2U2NCBTdHJpbmdcbiAgICAgIGJhc2U2NDogJydcbiAgICB9O1xuXG4gICAgaWYgKF8uaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NyZWF0aW5nIGFuIEFWLkZpbGUgZnJvbSBhIFN0cmluZyBpcyBub3QgeWV0IHN1cHBvcnRlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAoXy5pc0FycmF5KGRhdGEpKSB7XG4gICAgICB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGEuc2l6ZSA9IGRhdGEubGVuZ3RoO1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgYmFzZTY0OiBlbmNvZGVCYXNlNjQoZGF0YSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5fZXh0TmFtZSA9ICcnO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3VwbG9hZEhlYWRlcnMgPSB7fTtcblxuICAgIGlmIChkYXRhICYmIGRhdGEuYmxvYiAmJiB0eXBlb2YgZGF0YS5ibG9iLnVyaSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2V4dE5hbWUgPSBleHRuYW1lKGRhdGEuYmxvYi51cmkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgIGlmIChkYXRhLnNpemUpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLm5hbWUpIHtcbiAgICAgICAgdGhpcy5fZXh0TmFtZSA9IGV4dG5hbWUoZGF0YS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgb3duZXI7XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLm93bmVyKSB7XG4gICAgICBvd25lciA9IGRhdGEub3duZXI7XG4gICAgfSBlbHNlIGlmICghQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG93bmVyID0gQVYuVXNlci5jdXJyZW50KCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoJ1NZTkNfQVBJX05PVF9BVkFJTEFCTEUnICE9PSBlcnJvci5jb2RlKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGEub3duZXIgPSBvd25lciA/IG93bmVyLmlkIDogJ3Vua25vd24nO1xuICAgIHRoaXMuc2V0KCdtaW1lX3R5cGUnLCBtaW1lVHlwZSk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnJlc2ggQVYuRmlsZSBvYmplY3Qgd2l0aCBleGlzdHMgdXJsIGZvciBzYXZpbmcgdG8gQVZPUyBDbG91ZC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgdGhlIGZpbGUgbmFtZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIHRoZSBmaWxlIHVybC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFttZXRhRGF0YV0gdGhlIGZpbGUgbWV0YWRhdGEgb2JqZWN0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3R5cGVdIENvbnRlbnQtVHlwZSBoZWFkZXIgdG8gdXNlIGZvciB0aGUgZmlsZS4gSWZcbiAgICogICAgIHRoaXMgaXMgb21pdHRlZCwgdGhlIGNvbnRlbnQgdHlwZSB3aWxsIGJlIGluZmVycmVkIGZyb20gdGhlIG5hbWUnc1xuICAgKiAgICAgZXh0ZW5zaW9uLlxuICAgKiBAcmV0dXJuIHtBVi5GaWxlfSB0aGUgZmlsZSBvYmplY3RcbiAgICovXG5cblxuICBBVi5GaWxlLndpdGhVUkwgPSBmdW5jdGlvbiAobmFtZSwgdXJsLCBtZXRhRGF0YSwgdHlwZSkge1xuICAgIGlmICghbmFtZSB8fCAhdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGZpbGUgbmFtZSBhbmQgdXJsJyk7XG4gICAgfVxuXG4gICAgdmFyIGZpbGUgPSBuZXcgQVYuRmlsZShuYW1lLCBudWxsLCB0eXBlKTsgLy9jb3B5IG1ldGFEYXRhIHByb3BlcnRpZXMgdG8gZmlsZS5cblxuICAgIGlmIChtZXRhRGF0YSkge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBtZXRhRGF0YSkge1xuICAgICAgICBpZiAoIWZpbGUuYXR0cmlidXRlcy5tZXRhRGF0YVtwcm9wXSkgZmlsZS5hdHRyaWJ1dGVzLm1ldGFEYXRhW3Byb3BdID0gbWV0YURhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmlsZS5hdHRyaWJ1dGVzLnVybCA9IHVybDsgLy9NYXJrIHRoZSBmaWxlIGlzIGZyb20gZXh0ZXJuYWwgc291cmNlLlxuXG4gICAgZmlsZS5hdHRyaWJ1dGVzLm1ldGFEYXRhLl9fc291cmNlID0gJ2V4dGVybmFsJztcbiAgICBmaWxlLmF0dHJpYnV0ZXMubWV0YURhdGEuc2l6ZSA9IDA7XG4gICAgcmV0dXJuIGZpbGU7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZmlsZSBvYmplY3Qgd2l0aCBleGlzdHMgb2JqZWN0SWQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RJZCBUaGUgb2JqZWN0SWQgc3RyaW5nXG4gICAqIEByZXR1cm4ge0FWLkZpbGV9IHRoZSBmaWxlIG9iamVjdFxuICAgKi9cblxuXG4gIEFWLkZpbGUuY3JlYXRlV2l0aG91dERhdGEgPSBmdW5jdGlvbiAob2JqZWN0SWQpIHtcbiAgICBpZiAoIW9iamVjdElkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb2JqZWN0SWQgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgIH1cblxuICAgIHZhciBmaWxlID0gbmV3IEFWLkZpbGUoKTtcbiAgICBmaWxlLmlkID0gb2JqZWN0SWQ7XG4gICAgcmV0dXJuIGZpbGU7XG4gIH07XG4gIC8qKlxuICAgKiBSZXF1ZXN0IGZpbGUgY2Vuc29yLlxuICAgKiBAc2luY2UgNC4xMy4wXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RJZFxuICAgKiBAcmV0dXJuIHtQcm9taXNlLjxzdHJpbmc+fVxuICAgKi9cblxuXG4gIEFWLkZpbGUuY2Vuc29yID0gZnVuY3Rpb24gKG9iamVjdElkKSB7XG4gICAgaWYgKCFBVi5fY29uZmlnLm1hc3RlcktleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2Vuc29yIGEgZmlsZSB3aXRob3V0IG1hc3RlcktleScpO1xuICAgIH1cblxuICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGF0aDogXCIvZmlsZXMvXCIuY29uY2F0KG9iamVjdElkLCBcIi9jZW5zb3JcIiksXG4gICAgICBhdXRoT3B0aW9uczoge1xuICAgICAgICB1c2VNYXN0ZXJLZXk6IHRydWVcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJldHVybiByZXMuY2Vuc29yUmVzdWx0O1xuICAgIH0pO1xuICB9O1xuXG4gIF8uZXh0ZW5kKEFWLkZpbGUucHJvdG90eXBlLFxuICAvKiogQGxlbmRzIEFWLkZpbGUucHJvdG90eXBlICovXG4gIHtcbiAgICBjbGFzc05hbWU6ICdfRmlsZScsXG4gICAgX3RvRnVsbEpTT046IGZ1bmN0aW9uIF90b0Z1bGxKU09OKHNlZW5PYmplY3RzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZnVsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgICAgdmFyIGpzb24gPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKGpzb24sIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgICBqc29uW2tleV0gPSBBVi5fZW5jb2RlKHZhbCwgc2Vlbk9iamVjdHMsIHVuZGVmaW5lZCwgZnVsbCk7XG4gICAgICB9KTtcblxuICAgICAgQVYuX29iamVjdEVhY2godGhpcy5fb3BlcmF0aW9ucywgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgIGpzb25ba2V5XSA9IHZhbDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoXy5oYXModGhpcywgJ2lkJykpIHtcbiAgICAgICAganNvbi5vYmplY3RJZCA9IHRoaXMuaWQ7XG4gICAgICB9XG5cbiAgICAgIFsnY3JlYXRlZEF0JywgJ3VwZGF0ZWRBdCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoXy5oYXMoX3RoaXMsIGtleSkpIHtcbiAgICAgICAgICB2YXIgdmFsID0gX3RoaXNba2V5XTtcbiAgICAgICAgICBqc29uW2tleV0gPSBfLmlzRGF0ZSh2YWwpID8gdmFsLnRvSlNPTigpIDogdmFsO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZ1bGwpIHtcbiAgICAgICAganNvbi5fX3R5cGUgPSAnRmlsZSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBqc29uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBmaWxlIHdpdGggbWV0YSBkYXRhLlxuICAgICAqIEludmVyc2UgdG8ge0BsaW5rIEFWLnBhcnNlSlNPTn1cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9GdWxsSlNPTjogZnVuY3Rpb24gdG9GdWxsSlNPTigpIHtcbiAgICAgIHZhciBzZWVuT2JqZWN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICByZXR1cm4gdGhpcy5fdG9GdWxsSlNPTihzZWVuT2JqZWN0cyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oa2V5LCBob2xkZXIpIHtcbiAgICAgIHZhciBzZWVuT2JqZWN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW3RoaXNdO1xuICAgICAgcmV0dXJuIHRoaXMuX3RvRnVsbEpTT04oc2Vlbk9iamVjdHMsIGZhbHNlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvaW50ZXIgcmVmZXJlbmNpbmcgdGhpcyBmaWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvUG9pbnRlcjogZnVuY3Rpb24gX3RvUG9pbnRlcigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICBvYmplY3RJZDogdGhpcy5pZFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgQUNMIGZvciB0aGlzIGZpbGUuXG4gICAgICogQHJldHVybnMge0FWLkFDTH0gQW4gaW5zdGFuY2Ugb2YgQVYuQUNMLlxuICAgICAqL1xuICAgIGdldEFDTDogZnVuY3Rpb24gZ2V0QUNMKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FjbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgQUNMIHRvIGJlIHVzZWQgZm9yIHRoaXMgZmlsZS5cbiAgICAgKiBAcGFyYW0ge0FWLkFDTH0gYWNsIEFuIGluc3RhbmNlIG9mIEFWLkFDTC5cbiAgICAgKi9cbiAgICBzZXRBQ0w6IGZ1bmN0aW9uIHNldEFDTChhY2wpIHtcbiAgICAgIGlmICghKGFjbCBpbnN0YW5jZW9mIEFWLkFDTCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBVkVycm9yKEFWRXJyb3IuT1RIRVJfQ0FVU0UsICdBQ0wgbXVzdCBiZSBhIEFWLkFDTC4nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fYWNsID0gYWNsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGZpbGUuIEJlZm9yZSBzYXZlIGlzIGNhbGxlZCwgdGhpcyBpcyB0aGUgZmlsZW5hbWVcbiAgICAgKiBnaXZlbiBieSB0aGUgdXNlci4gQWZ0ZXIgc2F2ZSBpcyBjYWxsZWQsIHRoYXQgbmFtZSBnZXRzIHByZWZpeGVkIHdpdGggYVxuICAgICAqIHVuaXF1ZSBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIG5hbWU6IGZ1bmN0aW9uIG5hbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ25hbWUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdXJsIG9mIHRoZSBmaWxlLiBJdCBpcyBvbmx5IGF2YWlsYWJsZSBhZnRlciB5b3Ugc2F2ZSB0aGUgZmlsZSBvclxuICAgICAqIGFmdGVyIHlvdSBnZXQgdGhlIGZpbGUgZnJvbSBhIEFWLk9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdXJsOiBmdW5jdGlvbiB1cmwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3VybCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhdHRyaWJ1dHMgb2YgdGhlIGZpbGUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBUaGUgYXR0cmlidXRlIG5hbWUgd2hpY2ggd2FudCB0byBnZXQuXG4gICAgICogQHJldHVybnMge0FueX1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChhdHRyTmFtZSkge1xuICAgICAgc3dpdGNoIChhdHRyTmFtZSkge1xuICAgICAgICBjYXNlICdvYmplY3RJZCc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG5cbiAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgIGNhc2UgJ21pbWVfdHlwZSc6XG4gICAgICAgIGNhc2UgJ21ldGFEYXRhJzpcbiAgICAgICAgY2FzZSAnY3JlYXRlZEF0JzpcbiAgICAgICAgY2FzZSAndXBkYXRlZEF0JzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2F0dHJOYW1lXTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGFbYXR0ck5hbWVdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1ldGFEYXRhIG9mIHRoZSBmaWxlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gT2JqZWN0IGlzIGFuIGtleSB2YWx1ZSBPYmplY3QgZm9yIHNldHRpbmcgbWV0YURhdGEuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgaXMgYW4gb3B0aW9uYWwgbWV0YWRhdGEga2V5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBpcyBhbiBvcHRpb25hbCBtZXRhZGF0YSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcnxBcnJheXxPYmplY3R9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHNldCA9IGZ1bmN0aW9uIHNldChhdHRyTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgc3dpdGNoIChhdHRyTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgY2FzZSAnbWltZV90eXBlJzpcbiAgICAgICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAgIGNhc2UgJ21ldGFEYXRhJzpcbiAgICAgICAgICAgIF90aGlzMi5hdHRyaWJ1dGVzW2F0dHJOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gRmlsZSDlubbpnZ7kuIDkuKogQVZPYmplY3TvvIzkuI3og73lrozlhajoh6rlrprkuYnlhbbku5blsZ7mgKfvvIzmiYDku6Xlj6rog73pg73mlL7lnKggbWV0YURhdGEg5LiK6Z2iXG4gICAgICAgICAgICBfdGhpczIuYXR0cmlidXRlcy5tZXRhRGF0YVthdHRyTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8g5Lyg5YWl5LiA5LiqIE9iamVjdFxuICAgICAgICAgIGZvciAodmFyIGsgaW4gYXJnc1swXSkge1xuICAgICAgICAgICAgc2V0KGssIGFyZ3NbMF1ba10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZXQoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBoZWFkZXIgZm9yIHRoZSB1cGxvYWQgcmVxdWVzdC5cbiAgICAgKiBGb3IgbW9yZSBpbmZvbWF0aW9uLCBnbyB0byBodHRwczovL3VybC5sZWFuYXBwLmNuL2F2ZmlsZS11cGxvYWQtaGVhZGVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBoZWFkZXIga2V5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIGhlYWRlciB2YWx1ZVxuICAgICAqIEByZXR1cm4ge0FWLkZpbGV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRVcGxvYWRIZWFkZXI6IGZ1bmN0aW9uIHNldFVwbG9hZEhlYWRlcihrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLl91cGxvYWRIZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSBmaWxlJ3MgbWV0YWRhdGEgSlNPTiBvYmplY3QgaWYgbm8gYXJndW1lbnRzIGlzIGdpdmVuLlJldHVybnMgdGhlXG4gICAgICogbWV0YWRhdGEgdmFsdWUgaWYgYSBrZXkgaXMgZ2l2ZW4uU2V0IG1ldGFkYXRhIHZhbHVlIGlmIGtleSBhbmQgdmFsdWUgYXJlIGJvdGggZ2l2ZW4uPC9wPlxuICAgICAqIDxwPjxwcmU+XG4gICAgICogIHZhciBtZXRhZGF0YSA9IGZpbGUubWV0YURhdGEoKTsgLy9HZXQgbWV0YWRhdGEgSlNPTiBvYmplY3QuXG4gICAgICogIHZhciBzaXplID0gZmlsZS5tZXRhRGF0YSgnc2l6ZScpOyAgLy8gR2V0IHRoZSBzaXplIG1ldGFkYXRhIHZhbHVlLlxuICAgICAqICBmaWxlLm1ldGFEYXRhKCdmb3JtYXQnLCAnanBlZycpOyAvL3NldCBtZXRhZGF0YSBhdHRyaWJ1dGUgYW5kIHZhbHVlLlxuICAgICAqPC9wcmU+PC9wPlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGZpbGUncyBtZXRhZGF0YSBKU09OIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBhbiBvcHRpb25hbCBtZXRhZGF0YSBrZXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIGFuIG9wdGlvbmFsIG1ldGFkYXRhIHZhbHVlLlxuICAgICAqKi9cbiAgICBtZXRhRGF0YTogZnVuY3Rpb24gbWV0YURhdGEoYXR0ciwgdmFsdWUpIHtcbiAgICAgIGlmIChhdHRyICYmIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcy5tZXRhRGF0YVthdHRyXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSBpZiAoYXR0ciAmJiAhdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5tZXRhRGF0YVthdHRyXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGE7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOWmguaenOaWh+S7tuaYr+WbvueJh++8jOiOt+WPluWbvueJh+eahOe8qeeVpeWbvlVSTOOAguWPr+S7peS8oOWFpeWuveW6puOAgemrmOW6puOAgei0qOmHj+OAgeagvOW8j+etieWPguaVsOOAglxuICAgICAqIEByZXR1cm4ge1N0cmluZ30g57yp55Wl5Zu+VVJMXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIOWuveW6pu+8jOWNleS9je+8muWDj+e0oFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlndGgg6auY5bqm77yM5Y2V5L2N77ya5YOP57SgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHF1YWxpdHkg6LSo6YeP77yMMS0xMDDnmoTmlbDlrZfvvIzpu5jorqQxMDBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVUb0ZpdCDmmK/lkKblsIblm77niYfoh6rpgILlupTlpKflsI/jgILpu5jorqTkuLp0cnVl44CCXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZtdCDmoLzlvI/vvIzpu5jorqTkuLpwbmfvvIzkuZ/lj6/ku6XkuLpqcGVnLGdpZuetieagvOW8j+OAglxuICAgICAqL1xuICAgIHRodW1ibmFpbFVSTDogZnVuY3Rpb24gdGh1bWJuYWlsVVJMKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBxdWFsaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDA7XG4gICAgICB2YXIgc2NhbGVUb0ZpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTtcbiAgICAgIHZhciBmbXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6ICdwbmcnO1xuICAgICAgdmFyIHVybCA9IHRoaXMuYXR0cmlidXRlcy51cmw7XG5cbiAgICAgIGlmICghdXJsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1cmwuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodCB8fCB3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB3aWR0aCBvciBoZWlnaHQgdmFsdWUuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxdWFsaXR5IDw9IDAgfHwgcXVhbGl0eSA+IDEwMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcXVhbGl0eSB2YWx1ZS4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1vZGUgPSBzY2FsZVRvRml0ID8gMiA6IDE7XG4gICAgICByZXR1cm4gdXJsICsgJz9pbWFnZVZpZXcvJyArIG1vZGUgKyAnL3cvJyArIHdpZHRoICsgJy9oLycgKyBoZWlnaHQgKyAnL3EvJyArIHF1YWxpdHkgKyAnL2Zvcm1hdC8nICsgZm10O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmaWxlJ3Mgc2l6ZS5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBmaWxlJ3Mgc2l6ZSBpbiBieXRlcy5cbiAgICAgKiovXG4gICAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1ldGFEYXRhKCkuc2l6ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlsZSdzIG93bmVyLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGZpbGUncyBvd25lciBpZC5cbiAgICAgKi9cbiAgICBvd25lcklkOiBmdW5jdGlvbiBvd25lcklkKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWV0YURhdGEoKS5vd25lcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgZmlsZS5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIGRlc3Ryb3lcbiAgICAgKiAgICAgY29tcGxldGVzLlxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoJ1RoZSBmaWxlIGlkIGRvZXMgbm90IGVpeHN0LicpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ2ZpbGVzJywgbnVsbCwgdGhpcy5pZCwgJ0RFTEVURScsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgUWluaXUgdXBsb2FkIHRva2VuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlZCB3aXRoIHRoZSByZXNwb25zZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbGVUb2tlbjogZnVuY3Rpb24gX2ZpbGVUb2tlbih0eXBlLCBhdXRoT3B0aW9ucykge1xuICAgICAgdmFyIG5hbWUgPSB0aGlzLmF0dHJpYnV0ZXMubmFtZTtcbiAgICAgIHZhciBleHROYW1lID0gZXh0bmFtZShuYW1lKTtcblxuICAgICAgaWYgKCFleHROYW1lICYmIHRoaXMuX2V4dE5hbWUpIHtcbiAgICAgICAgbmFtZSArPSB0aGlzLl9leHROYW1lO1xuICAgICAgICBleHROYW1lID0gdGhpcy5fZXh0TmFtZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGtlZXBfZmlsZV9uYW1lOiBhdXRoT3B0aW9ucy5rZWVwRmlsZU5hbWUsXG4gICAgICAgIGtleTogYXV0aE9wdGlvbnMua2V5LFxuICAgICAgICBBQ0w6IHRoaXMuX2FjbCxcbiAgICAgICAgbWltZV90eXBlOiB0eXBlLFxuICAgICAgICBtZXRhRGF0YTogdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhXG4gICAgICB9O1xuICAgICAgcmV0dXJuIEFWUmVxdWVzdCgnZmlsZVRva2VucycsIG51bGwsIG51bGwsICdQT1NUJywgZGF0YSwgYXV0aE9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAY2FsbGJhY2sgVXBsb2FkUHJvZ3Jlc3NDYWxsYmFja1xuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fSBldmVudCAtIFRoZSBwcm9ncmVzcyBldmVudCB3aXRoICdsb2FkZWQnIGFuZCAndG90YWwnIGF0dHJpYnV0ZXNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNhdmVzIHRoZSBmaWxlIHRvIHRoZSBBViBjbG91ZC5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbb3B0aW9uc10gQXV0aE9wdGlvbnMgcGx1czpcbiAgICAgKiBAcGFyYW0ge1VwbG9hZFByb2dyZXNzQ2FsbGJhY2t9IFtvcHRpb25zLm9ucHJvZ3Jlc3NdIOaWh+S7tuS4iuS8oOi/m+W6pu+8jOWcqCBOb2RlLmpzIOS4reaXoOaViO+8jOWbnuiwg+WPguaVsOivtOaYjuivpuingSB7QGxpbmsgVXBsb2FkUHJvZ3Jlc3NDYWxsYmFja33jgIJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtlZXBGaWxlTmFtZSA9IGZhbHNlXSDkv53nlZnkuIvovb3mlofku7bnmoTmlofku7blkI3jgIJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMua2V5XSDmjIflrprmlofku7bnmoQga2V544CC6K6+572u6K+l6YCJ6aG56ZyA6KaB5L2/55SoIG1hc3RlcktleVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBzYXZlIGZpbmlzaGVzLlxuICAgICAqL1xuICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgaXMgYWxyZWFkeSBzYXZlZC4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9wcmV2aW91c1NhdmUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICB2YXIgbWltZVR5cGUgPSB0aGlzLmdldCgnbWltZV90eXBlJyk7XG4gICAgICAgICAgdGhpcy5fcHJldmlvdXNTYXZlID0gdGhpcy5fZmlsZVRva2VuKG1pbWVUeXBlLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uICh1cGxvYWRJbmZvKSB7XG4gICAgICAgICAgICBpZiAodXBsb2FkSW5mby5taW1lX3R5cGUpIHtcbiAgICAgICAgICAgICAgbWltZVR5cGUgPSB1cGxvYWRJbmZvLm1pbWVfdHlwZTtcblxuICAgICAgICAgICAgICBfdGhpczMuc2V0KCdtaW1lX3R5cGUnLCBtaW1lVHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fdG9rZW4gPSB1cGxvYWRJbmZvLnRva2VuO1xuICAgICAgICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzMy5fZGF0YTtcblxuICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmJhc2U2NCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUJhc2U2NChkYXRhLmJhc2U2NCwgbWltZVR5cGUpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5ibG9iKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmJsb2IudHlwZSAmJiBtaW1lVHlwZSkge1xuICAgICAgICAgICAgICAgICAgZGF0YS5ibG9iLnR5cGUgPSBtaW1lVHlwZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuYmxvYi5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhLmJsb2IubmFtZSA9IF90aGlzMy5nZXQoJ25hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5ibG9iO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWFsZm9ybWVkIGZpbGUgZGF0YScpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICB2YXIgX29wdGlvbnMgPSBfLmV4dGVuZCh7fSwgb3B0aW9ucyk7IC8vIGZpbHRlciBvdXQgZG93bmxvYWQgcHJvZ3Jlc3MgZXZlbnRzXG5cblxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgX29wdGlvbnMub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRpcmVjdGlvbiA9PT0gJ2Rvd25sb2FkJykgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMub25wcm9ncmVzcyhldmVudCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHN3aXRjaCAodXBsb2FkSW5mby5wcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3MzJzpcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzMyh1cGxvYWRJbmZvLCBkYXRhLCBfdGhpczMsIF9vcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3FjbG91ZCc6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY29zKHVwbG9hZEluZm8sIGRhdGEsIF90aGlzMywgX29wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAncWluaXUnOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcWluaXUodXBsb2FkSW5mbywgZGF0YSwgX3RoaXMzLCBfb3B0aW9ucyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4odGFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICB9KSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIF90aGlzMy5fY2FsbGJhY2soZmFsc2UpO1xuXG4gICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5hdHRyaWJ1dGVzLnVybCAmJiB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGEuX19zb3VyY2UgPT09ICdleHRlcm5hbCcpIHtcbiAgICAgICAgICAvLyBleHRlcm5hbCBsaW5rIGZpbGUuXG4gICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLmF0dHJpYnV0ZXMubmFtZSxcbiAgICAgICAgICAgIEFDTDogdGhpcy5fYWNsLFxuICAgICAgICAgICAgbWV0YURhdGE6IHRoaXMuYXR0cmlidXRlcy5tZXRhRGF0YSxcbiAgICAgICAgICAgIG1pbWVfdHlwZTogdGhpcy5taW1lVHlwZSxcbiAgICAgICAgICAgIHVybDogdGhpcy5hdHRyaWJ1dGVzLnVybFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5fcHJldmlvdXNTYXZlID0gQVZSZXF1ZXN0KCdmaWxlcycsIG51bGwsIG51bGwsICdwb3N0JywgZGF0YSwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF90aGlzMy5pZCA9IHJlc3BvbnNlLm9iamVjdElkO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNTYXZlO1xuICAgIH0sXG4gICAgX2NhbGxiYWNrOiBmdW5jdGlvbiBfY2FsbGJhY2soc3VjY2Vzcykge1xuICAgICAgQVZSZXF1ZXN0KCdmaWxlQ2FsbGJhY2snLCBudWxsLCBudWxsLCAncG9zdCcsIHtcbiAgICAgICAgdG9rZW46IHRoaXMuX3Rva2VuLFxuICAgICAgICByZXN1bHQ6IHN1Y2Nlc3NcbiAgICAgIH0pLmNhdGNoKGRlYnVnKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl90b2tlbjtcbiAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBmZXRjaCB0aGUgZmlsZSBmcm9tIHNlcnZlci4gSWYgdGhlIHNlcnZlcidzIHJlcHJlc2VudGF0aW9uIG9mIHRoZVxuICAgICAqIG1vZGVsIGRpZmZlcnMgZnJvbSBpdHMgY3VycmVudCBhdHRyaWJ1dGVzLCB0aGV5IHdpbGwgYmUgb3ZlcnJpZGVuLFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmZXRjaE9wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgJ2tleXMnLFxuICAgICAqICAgICAgJ2luY2x1ZGUnIGFuZCAnaW5jbHVkZUFDTCcgb3B0aW9uLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgZmV0Y2hcbiAgICAgKiAgICAgY29tcGxldGVzLlxuICAgICAqL1xuICAgIGZldGNoOiBmdW5jdGlvbiBmZXRjaChmZXRjaE9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmZXRjaCB1bnNhdmVkIGZpbGUnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ2ZpbGVzJywgbnVsbCwgdGhpcy5pZCwgJ0dFVCcsIHRyYW5zZm9ybUZldGNoT3B0aW9ucyhmZXRjaE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4odGhpcy5fZmluaXNoRmV0Y2guYmluZCh0aGlzKSk7XG4gICAgfSxcbiAgICBfZmluaXNoRmV0Y2g6IGZ1bmN0aW9uIF9maW5pc2hGZXRjaChyZXNwb25zZSkge1xuICAgICAgdmFyIHZhbHVlID0gQVYuT2JqZWN0LnByb3RvdHlwZS5wYXJzZShyZXNwb25zZSk7XG4gICAgICB2YWx1ZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICBuYW1lOiB2YWx1ZS5uYW1lLFxuICAgICAgICB1cmw6IHZhbHVlLnVybCxcbiAgICAgICAgbWltZV90eXBlOiB2YWx1ZS5taW1lX3R5cGUsXG4gICAgICAgIGJ1Y2tldDogdmFsdWUuYnVja2V0XG4gICAgICB9O1xuICAgICAgdmFsdWUuYXR0cmlidXRlcy5tZXRhRGF0YSA9IHZhbHVlLm1ldGFEYXRhIHx8IHt9O1xuICAgICAgdmFsdWUuaWQgPSB2YWx1ZS5vYmplY3RJZDsgLy8gY2xlYW5cblxuICAgICAgZGVsZXRlIHZhbHVlLm9iamVjdElkO1xuICAgICAgZGVsZXRlIHZhbHVlLm1ldGFEYXRhO1xuICAgICAgZGVsZXRlIHZhbHVlLnVybDtcbiAgICAgIGRlbGV0ZSB2YWx1ZS5uYW1lO1xuICAgICAgZGVsZXRlIHZhbHVlLm1pbWVfdHlwZTtcbiAgICAgIGRlbGV0ZSB2YWx1ZS5idWNrZXQ7XG5cbiAgICAgIF8uZXh0ZW5kKHRoaXMsIHZhbHVlKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgZmlsZSBjZW5zb3JcbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQHJldHVybiB7UHJvbWlzZS48c3RyaW5nPn1cbiAgICAgKi9cbiAgICBjZW5zb3I6IGZ1bmN0aW9uIGNlbnNvcigpIHtcbiAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjZW5zb3IgYW4gdW5zYXZlZCBmaWxlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBBVi5GaWxlLmNlbnNvcih0aGlzLmlkKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG4vKiA0NTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCksXG4gICAgZ2V0QWRhcHRlciA9IF9yZXF1aXJlLmdldEFkYXB0ZXI7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpKCdjb3MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXBsb2FkSW5mbywgZGF0YSwgZmlsZSkge1xuICB2YXIgc2F2ZU9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICB2YXIgdXJsID0gdXBsb2FkSW5mby51cGxvYWRfdXJsICsgJz9zaWduPScgKyBlbmNvZGVVUklDb21wb25lbnQodXBsb2FkSW5mby50b2tlbik7XG4gIHZhciBmaWxlRm9ybURhdGEgPSB7XG4gICAgZmllbGQ6ICdmaWxlQ29udGVudCcsXG4gICAgZGF0YTogZGF0YSxcbiAgICBuYW1lOiBmaWxlLmF0dHJpYnV0ZXMubmFtZVxuICB9O1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBoZWFkZXJzOiBmaWxlLl91cGxvYWRIZWFkZXJzLFxuICAgIGRhdGE6IHtcbiAgICAgIG9wOiAndXBsb2FkJ1xuICAgIH0sXG4gICAgb25wcm9ncmVzczogc2F2ZU9wdGlvbnMub25wcm9ncmVzc1xuICB9O1xuICBkZWJ1ZygndXJsOiAlcywgZmlsZTogJW8sIG9wdGlvbnM6ICVvJywgdXJsLCBmaWxlRm9ybURhdGEsIG9wdGlvbnMpO1xuICB2YXIgdXBsb2FkID0gZ2V0QWRhcHRlcigndXBsb2FkJyk7XG4gIHJldHVybiB1cGxvYWQodXJsLCBmaWxlRm9ybURhdGEsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgZGVidWcocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTtcblxuICAgIGlmIChyZXNwb25zZS5vayA9PT0gZmFsc2UpIHtcbiAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXMpO1xuICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGZpbGUuYXR0cmlidXRlcy51cmwgPSB1cGxvYWRJbmZvLnVybDtcbiAgICBmaWxlLl9idWNrZXQgPSB1cGxvYWRJbmZvLmJ1Y2tldDtcbiAgICBmaWxlLmlkID0gdXBsb2FkSW5mby5vYmplY3RJZDtcbiAgICByZXR1cm4gZmlsZTtcbiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2U7XG5cbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIGRlYnVnKHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICBlcnJvci5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZS5kYXRhO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNDUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfc2xpY2VJbnN0YW5jZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXG52YXIgX0FycmF5JGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNik7XG5cbnZhciBfU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cbnZhciBfZ2V0SXRlcmF0b3JNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG5cbnZhciBfUmVmbGVjdCRjb25zdHJ1Y3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2Myk7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9pbmhlcml0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDY3KSk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDg5KSk7XG5cbnZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MSkpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0OTYpKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDk3KSk7XG5cbnZhciBfc3RyaW5naWZ5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfcHJvbWlzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO1xuXG52YXIgX3NsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSk7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9ICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KSh0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gX1JlZmxlY3QkY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIuZGVmYXVsdCkodGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIV9SZWZsZWN0JGNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoX1JlZmxlY3QkY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKF9SZWZsZWN0JGNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIF9TeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgX2dldEl0ZXJhdG9yTWV0aG9kKG8pIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgdmFyIF9jb250ZXh0ODsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gX3NsaWNlSW5zdGFuY2VQcm9wZXJ0eTIoX2NvbnRleHQ4ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKS5jYWxsKF9jb250ZXh0OCwgOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gX0FycmF5JGZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCksXG4gICAgZ2V0QWRhcHRlciA9IF9yZXF1aXJlLmdldEFkYXB0ZXI7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpKCdsZWFuY2xvdWQ6cWluaXUnKTtcblxudmFyIGFqYXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cbnZhciBidG9hID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OTgpO1xuXG52YXIgU0hBUkRfVEhSRVNIT0xEID0gMTAyNCAqIDEwMjQgKiA2NDtcbnZhciBDSFVOS19TSVpFID0gMTAyNCAqIDEwMjQgKiAxNjtcblxuZnVuY3Rpb24gdXBsb2FkKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUpIHtcbiAgdmFyIHNhdmVPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgLy8gR2V0IHRoZSB1cHRva2VuIHRvIHVwbG9hZCBmaWxlcyB0byBxaW5pdS5cbiAgdmFyIHVwdG9rZW4gPSB1cGxvYWRJbmZvLnRva2VuO1xuICB2YXIgdXJsID0gdXBsb2FkSW5mby51cGxvYWRfdXJsIHx8ICdodHRwczovL3VwbG9hZC5xaW5pdXAuY29tJztcbiAgdmFyIGZpbGVGb3JtRGF0YSA9IHtcbiAgICBmaWVsZDogJ2ZpbGUnLFxuICAgIGRhdGE6IGRhdGEsXG4gICAgbmFtZTogZmlsZS5hdHRyaWJ1dGVzLm5hbWVcbiAgfTtcbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgaGVhZGVyczogZmlsZS5fdXBsb2FkSGVhZGVycyxcbiAgICBkYXRhOiB7XG4gICAgICBuYW1lOiBmaWxlLmF0dHJpYnV0ZXMubmFtZSxcbiAgICAgIGtleTogdXBsb2FkSW5mby5rZXksXG4gICAgICB0b2tlbjogdXB0b2tlblxuICAgIH0sXG4gICAgb25wcm9ncmVzczogc2F2ZU9wdGlvbnMub25wcm9ncmVzc1xuICB9O1xuICBkZWJ1ZygndXJsOiAlcywgZmlsZTogJW8sIG9wdGlvbnM6ICVvJywgdXJsLCBmaWxlRm9ybURhdGEsIG9wdGlvbnMpO1xuICB2YXIgdXBsb2FkID0gZ2V0QWRhcHRlcigndXBsb2FkJyk7XG4gIHJldHVybiB1cGxvYWQodXJsLCBmaWxlRm9ybURhdGEsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgZGVidWcocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTtcblxuICAgIGlmIChyZXNwb25zZS5vayA9PT0gZmFsc2UpIHtcbiAgICAgIHZhciBtZXNzYWdlID0gcmVzcG9uc2Uuc3RhdHVzO1xuXG4gICAgICBpZiAocmVzcG9uc2UuZGF0YSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcikge1xuICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLmVycm9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lc3NhZ2UgPSAoMCwgX3N0cmluZ2lmeS5kZWZhdWx0KShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgZmlsZS5hdHRyaWJ1dGVzLnVybCA9IHVwbG9hZEluZm8udXJsO1xuICAgIGZpbGUuX2J1Y2tldCA9IHVwbG9hZEluZm8uYnVja2V0O1xuICAgIGZpbGUuaWQgPSB1cGxvYWRJbmZvLm9iamVjdElkO1xuICAgIHJldHVybiBmaWxlO1xuICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTtcblxuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgZGVidWcocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTtcbiAgICAgIGVycm9yLnN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1cmxTYWZlQmFzZTY0KHN0cmluZykge1xuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSkpO1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGJhc2U2NCksXG4gICAgICBfc3RlcDtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgY2ggPSBfc3RlcC52YWx1ZTtcblxuICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICByZXN1bHQgKz0gJy0nO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgIHJlc3VsdCArPSAnXyc7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXN1bHQgKz0gY2g7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3IuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvci5mKCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgU2hhcmRVcGxvYWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNoYXJkVXBsb2FkZXIodXBsb2FkSW5mbywgZGF0YSwgZmlsZSwgc2F2ZU9wdGlvbnMpIHtcbiAgICB2YXIgX2NvbnRleHQsXG4gICAgICAgIF9jb250ZXh0MixcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgU2hhcmRVcGxvYWRlcik7XG4gICAgdGhpcy51cGxvYWRJbmZvID0gdXBsb2FkSW5mbztcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gICAgdGhpcy5zaXplID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICB0aGlzLnVwbG9hZGVkQ2h1bmtzID0gMDtcbiAgICB2YXIga2V5ID0gdXJsU2FmZUJhc2U2NCh1cGxvYWRJbmZvLmtleSk7XG4gICAgdmFyIHVwbG9hZFVSTCA9IHVwbG9hZEluZm8udXBsb2FkX3VybCB8fCAnaHR0cHM6Ly91cGxvYWQucWluaXVwLmNvbSc7XG4gICAgdGhpcy5iYXNlVVJMID0gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQgPSAoMCwgX2NvbmNhdC5kZWZhdWx0KShfY29udGV4dDIgPSBcIlwiLmNvbmNhdCh1cGxvYWRVUkwsIFwiL2J1Y2tldHMvXCIpKS5jYWxsKF9jb250ZXh0MiwgdXBsb2FkSW5mby5idWNrZXQsIFwiL29iamVjdHMvXCIpKS5jYWxsKF9jb250ZXh0LCBrZXksIFwiL3VwbG9hZHNcIik7XG4gICAgdGhpcy51cFRva2VuID0gJ1VwVG9rZW4gJyArIHVwbG9hZEluZm8udG9rZW47XG4gICAgdGhpcy51cGxvYWRlZCA9IDA7XG5cbiAgICBpZiAoc2F2ZU9wdGlvbnMgJiYgc2F2ZU9wdGlvbnMub25wcm9ncmVzcykge1xuICAgICAgdGhpcy5vblByb2dyZXNzID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIGxvYWRlZCA9IF9yZWYubG9hZGVkO1xuICAgICAgICBsb2FkZWQgKz0gX3RoaXMudXBsb2FkZWRDaHVua3MgKiBDSFVOS19TSVpFO1xuXG4gICAgICAgIGlmIChsb2FkZWQgPD0gX3RoaXMudXBsb2FkZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMuc2l6ZSkge1xuICAgICAgICAgIHNhdmVPcHRpb25zLm9ucHJvZ3Jlc3Moe1xuICAgICAgICAgICAgbG9hZGVkOiBsb2FkZWQsXG4gICAgICAgICAgICB0b3RhbDogX3RoaXMuc2l6ZSxcbiAgICAgICAgICAgIHBlcmNlbnQ6IGxvYWRlZCAvIF90aGlzLnNpemUgKiAxMDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlT3B0aW9ucy5vbnByb2dyZXNzKHtcbiAgICAgICAgICAgIGxvYWRlZDogbG9hZGVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy51cGxvYWRlZCA9IGxvYWRlZDtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cblxuXG4gICgwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKFNoYXJkVXBsb2FkZXIsIFt7XG4gICAga2V5OiBcImdldFVwbG9hZElkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVwbG9hZElkKCkge1xuICAgICAgcmV0dXJuIGFqYXgoe1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJsOiB0aGlzLmJhc2VVUkwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLnVwVG9rZW5cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHJldHVybiByZXMudXBsb2FkSWQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2h1bmtcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2h1bmsoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXBsb2FkSWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFydE51bWJlclxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybnMge1Byb21pc2U8eyBwYXJ0TnVtYmVyOiBudW1iZXIsIGV0YWc6IHN0cmluZyB9Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwbG9hZFBhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBsb2FkUGFydCh1cGxvYWRJZCwgcGFydE51bWJlciwgZGF0YSkge1xuICAgICAgdmFyIF9jb250ZXh0MywgX2NvbnRleHQ0O1xuXG4gICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIHVybDogKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQzID0gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQ0ID0gXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9cIikpLmNhbGwoX2NvbnRleHQ0LCB1cGxvYWRJZCwgXCIvXCIpKS5jYWxsKF9jb250ZXh0MywgcGFydE51bWJlciksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLnVwVG9rZW5cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgb25wcm9ncmVzczogdGhpcy5vblByb2dyZXNzXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgZXRhZyA9IF9yZWYyLmV0YWc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGFydE51bWJlcjogcGFydE51bWJlcixcbiAgICAgICAgICBldGFnOiBldGFnXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcFVwbG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wVXBsb2FkKHVwbG9hZElkKSB7XG4gICAgICB2YXIgX2NvbnRleHQ1O1xuXG4gICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIHVybDogKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQ1ID0gXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9cIikpLmNhbGwoX2NvbnRleHQ1LCB1cGxvYWRJZCksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLnVwVG9rZW5cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwbG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICByZXR1cm4gdGhpcy5nZXRVcGxvYWRJZCgpLnRoZW4oZnVuY3Rpb24gKHVwbG9hZElkKSB7XG4gICAgICAgIHZhciB1cGxvYWRQYXJ0ID0gZnVuY3Rpb24gdXBsb2FkUGFydCgpIHtcbiAgICAgICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKF90aGlzMi5nZXRDaHVuaygpKS50aGVuKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgaWYgKCFjaHVuaykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJ0TnVtYmVyID0gcGFydHMubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBsb2FkUGFydCh1cGxvYWRJZCwgcGFydE51bWJlciwgY2h1bmspLnRoZW4oZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgICAgICAgcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgX3RoaXMyLnVwbG9hZGVkQ2h1bmtzKys7XG4gICAgICAgICAgICAgIHJldHVybiB1cGxvYWRQYXJ0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuc3RvcFVwbG9hZCh1cGxvYWRJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdXBsb2FkUGFydCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfY29udGV4dDY7XG5cbiAgICAgICAgICByZXR1cm4gYWpheCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQ2ID0gXCJcIi5jb25jYXQoX3RoaXMyLmJhc2VVUkwsIFwiL1wiKSkuY2FsbChfY29udGV4dDYsIHVwbG9hZElkKSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogX3RoaXMyLnVwVG9rZW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHBhcnRzOiBwYXJ0cyxcbiAgICAgICAgICAgICAgZm5hbWU6IF90aGlzMi5maWxlLmF0dHJpYnV0ZXMubmFtZSxcbiAgICAgICAgICAgICAgbWltZVR5cGU6IF90aGlzMi5maWxlLmF0dHJpYnV0ZXMubWltZV90eXBlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5maWxlLmF0dHJpYnV0ZXMudXJsID0gX3RoaXMyLnVwbG9hZEluZm8udXJsO1xuICAgICAgICBfdGhpczIuZmlsZS5fYnVja2V0ID0gX3RoaXMyLnVwbG9hZEluZm8uYnVja2V0O1xuICAgICAgICBfdGhpczIuZmlsZS5pZCA9IF90aGlzMi51cGxvYWRJbmZvLm9iamVjdElkO1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZpbGU7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNoYXJkVXBsb2FkZXI7XG59KCk7XG5cbnZhciBCbG9iVXBsb2FkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TaGFyZFVwbG9hZGVyKSB7XG4gICgwLCBfaW5oZXJpdHMyLmRlZmF1bHQpKEJsb2JVcGxvYWRlciwgX1NoYXJkVXBsb2FkZXIpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQmxvYlVwbG9hZGVyKTtcblxuICBmdW5jdGlvbiBCbG9iVXBsb2FkZXIodXBsb2FkSW5mbywgZGF0YSwgZmlsZSwgc2F2ZU9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMzO1xuXG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgQmxvYlVwbG9hZGVyKTtcbiAgICBfdGhpczMgPSBfc3VwZXIuY2FsbCh0aGlzLCB1cGxvYWRJbmZvLCBkYXRhLCBmaWxlLCBzYXZlT3B0aW9ucyk7XG4gICAgX3RoaXMzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgcmV0dXJuIF90aGlzMztcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge0Jsb2IgfCBudWxsfVxuICAgKi9cblxuXG4gICgwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKEJsb2JVcGxvYWRlciwgW3tcbiAgICBrZXk6IFwiZ2V0Q2h1bmtcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2h1bmsoKSB7XG4gICAgICB2YXIgX2NvbnRleHQ3O1xuXG4gICAgICBpZiAodGhpcy5vZmZzZXQgPj0gdGhpcy5zaXplKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2h1bmsgPSAoMCwgX3NsaWNlLmRlZmF1bHQpKF9jb250ZXh0NyA9IHRoaXMuZGF0YSkuY2FsbChfY29udGV4dDcsIHRoaXMub2Zmc2V0LCB0aGlzLm9mZnNldCArIENIVU5LX1NJWkUpO1xuICAgICAgdGhpcy5vZmZzZXQgKz0gY2h1bmsuc2l6ZTtcbiAgICAgIHJldHVybiBjaHVuaztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJsb2JVcGxvYWRlcjtcbn0oU2hhcmRVcGxvYWRlcik7XG5cbmZ1bmN0aW9uIGlzQmxvYihkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2I7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUpIHtcbiAgdmFyIHNhdmVPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcblxuICBpZiAoaXNCbG9iKGRhdGEpICYmIGRhdGEuc2l6ZSA+PSBTSEFSRF9USFJFU0hPTEQpIHtcbiAgICByZXR1cm4gbmV3IEJsb2JVcGxvYWRlcih1cGxvYWRJbmZvLCBkYXRhLCBmaWxlLCBzYXZlT3B0aW9ucykudXBsb2FkKCk7XG4gIH1cblxuICByZXR1cm4gdXBsb2FkKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUsIHNhdmVPcHRpb25zKTtcbn07XG5cbi8qKiovIH0pLFxuLyogNDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg0NTUpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXRoLkFycmF5LmZyb207XG5cblxuLyoqKi8gfSksXG4vKiA0NTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1Nik7XG52YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXG52YXIgSU5DT1JSRUNUX0lURVJBVElPTiA9ICFjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24oZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLWFycmF5LWZyb20gLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgQXJyYXkuZnJvbShpdGVyYWJsZSk7XG59KTtcblxuLy8gYEFycmF5LmZyb21gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5mcm9tXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IElOQ09SUkVDVF9JVEVSQVRJT04gfSwge1xuICBmcm9tOiBmcm9tXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDQ1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcbnZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcbnZhciBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NTcpO1xudmFyIGlzQXJyYXlJdGVyYXRvck1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU0KTtcbnZhciBpc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAzKTtcbnZhciBnZXRJdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXG52YXIgJEFycmF5ID0gQXJyYXk7XG5cbi8vIGBBcnJheS5mcm9tYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkuZnJvbVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgdmFyIElTX0NPTlNUUlVDVE9SID0gaXNDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBtYXBmbiA9IGFyZ3VtZW50c0xlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgaWYgKG1hcHBpbmcpIG1hcGZuID0gYmluZChtYXBmbiwgYXJndW1lbnRzTGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG4gIHZhciBpdGVyYXRvck1ldGhvZCA9IGdldEl0ZXJhdG9yTWV0aG9kKE8pO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yLCBuZXh0LCB2YWx1ZTtcbiAgLy8gaWYgdGhlIHRhcmdldCBpcyBub3QgaXRlcmFibGUgb3IgaXQncyBhbiBhcnJheSB3aXRoIHRoZSBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIGEgc2ltcGxlIGNhc2VcbiAgaWYgKGl0ZXJhdG9yTWV0aG9kICYmICEodGhpcyA9PT0gJEFycmF5ICYmIGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyYXRvck1ldGhvZCkpKSB7XG4gICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihPLCBpdGVyYXRvck1ldGhvZCk7XG4gICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQ7XG4gICAgcmVzdWx0ID0gSVNfQ09OU1RSVUNUT1IgPyBuZXcgdGhpcygpIDogW107XG4gICAgZm9yICg7IShzdGVwID0gY2FsbChuZXh0LCBpdGVyYXRvcikpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgIHZhbHVlID0gbWFwcGluZyA/IGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmcoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWU7XG4gICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHJlc3VsdCA9IElTX0NPTlNUUlVDVE9SID8gbmV3IHRoaXMobGVuZ3RoKSA6ICRBcnJheShsZW5ndGgpO1xuICAgIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICB2YWx1ZSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07XG4gICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0NTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG52YXIgaXRlcmF0b3JDbG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblxuLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgRU5UUklFUykge1xuICB0cnkge1xuICAgIHJldHVybiBFTlRSSUVTID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ3Rocm93JywgZXJyb3IpO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNDU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NTkpO1xuXG5cbi8qKiovIH0pLFxuLyogNDU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2MCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDYwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2MSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2Mik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA0NjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEl0ZXJhdG9yTWV0aG9kO1xuXG5cbi8qKiovIH0pLFxuLyogNDYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NjQpO1xuXG4vKioqLyB9KSxcbi8qIDQ2NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NjUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDQ2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2Nik7XG52YXIgcGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguUmVmbGVjdC5jb25zdHJ1Y3Q7XG5cblxuLyoqKi8gfSksXG4vKiA0NjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGdldEJ1aWx0SW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcbnZhciBhcHBseSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOSk7XG52YXIgYUNvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciBjcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBuYXRpdmVDb25zdHJ1Y3QgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ2NvbnN0cnVjdCcpO1xudmFyIE9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG52YXIgcHVzaCA9IFtdLnB1c2g7XG5cbi8vIGBSZWZsZWN0LmNvbnN0cnVjdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZmxlY3QuY29uc3RydWN0XG4vLyBNUyBFZGdlIHN1cHBvcnRzIG9ubHkgMiBhcmd1bWVudHMgYW5kIGFyZ3VtZW50c0xpc3QgYXJndW1lbnQgaXMgb3B0aW9uYWxcbi8vIEZGIE5pZ2h0bHkgc2V0cyB0aGlyZCBhcmd1bWVudCBhcyBgbmV3LnRhcmdldGAsIGJ1dCBkb2VzIG5vdCBjcmVhdGUgYHRoaXNgIGZyb20gaXRcbnZhciBORVdfVEFSR0VUX0JVRyA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRigpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gIShuYXRpdmVDb25zdHJ1Y3QoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCBbXSwgRikgaW5zdGFuY2VvZiBGKTtcbn0pO1xuXG52YXIgQVJHU19CVUcgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICBuYXRpdmVDb25zdHJ1Y3QoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbn0pO1xuXG52YXIgRk9SQ0VEID0gTkVXX1RBUkdFVF9CVUcgfHwgQVJHU19CVUc7XG5cbiQoeyB0YXJnZXQ6ICdSZWZsZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQsIHNoYW06IEZPUkNFRCB9LCB7XG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gY29uc3RydWN0KFRhcmdldCwgYXJncyAvKiAsIG5ld1RhcmdldCAqLykge1xuICAgIGFDb25zdHJ1Y3RvcihUYXJnZXQpO1xuICAgIGFuT2JqZWN0KGFyZ3MpO1xuICAgIHZhciBuZXdUYXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoIDwgMyA/IFRhcmdldCA6IGFDb25zdHJ1Y3Rvcihhcmd1bWVudHNbMl0pO1xuICAgIGlmIChBUkdTX0JVRyAmJiAhTkVXX1RBUkdFVF9CVUcpIHJldHVybiBuYXRpdmVDb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpO1xuICAgIGlmIChUYXJnZXQgPT0gbmV3VGFyZ2V0KSB7XG4gICAgICAvLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIG9wdGltaXphdGlvbiBmb3IgMC00IGFyZ3VtZW50c1xuICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgVGFyZ2V0KCk7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICB9XG4gICAgICAvLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIGxvdCBvZiBhcmd1bWVudHMgY2FzZVxuICAgICAgdmFyICRhcmdzID0gW251bGxdO1xuICAgICAgYXBwbHkocHVzaCwgJGFyZ3MsIGFyZ3MpO1xuICAgICAgcmV0dXJuIG5ldyAoYXBwbHkoYmluZCwgVGFyZ2V0LCAkYXJncykpKCk7XG4gICAgfVxuICAgIC8vIHdpdGggYWx0ZXJlZCBuZXdUYXJnZXQsIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGNvbnN0cnVjdG9yc1xuICAgIHZhciBwcm90byA9IG5ld1RhcmdldC5wcm90b3R5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gY3JlYXRlKGlzT2JqZWN0KHByb3RvKSA/IHByb3RvIDogT2JqZWN0UHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdWx0ID0gYXBwbHkoVGFyZ2V0LCBpbnN0YW5jZSwgYXJncyk7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiBpbnN0YW5jZTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA0NjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NjgpO1xuXG52YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblxudmFyIHNldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NzgpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIF9PYmplY3QkZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG5cbiAgaWYgKHN1cGVyQ2xhc3MpIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaW5oZXJpdHMsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqKi8gfSksXG4vKiA0NjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2OSk7XG5cbi8qKiovIH0pLFxuLyogNDY5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NzApO1xuXG5cbi8qKiovIH0pLFxuLyogNDcwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDcxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3Mik7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDcyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3Myk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDczICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNDc0KTtcbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cbnZhciBPYmplY3QgPSBwYXRoLk9iamVjdDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShQLCBEKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0NzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXG4vLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICBjcmVhdGU6IGNyZWF0ZVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA0NzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3Nik7XG5cblxuLyoqKi8gfSksXG4vKiA0NzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDc3KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA0NzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjI4KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA0NzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MCk7XG5cbnZhciBfYmluZEluc3RhbmNlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MSk7XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIHZhciBfY29udGV4dDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiA9IF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfYmluZEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQgPSBfT2JqZWN0JHNldFByb3RvdHlwZU9mKS5jYWxsKF9jb250ZXh0KSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NldFByb3RvdHlwZU9mLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNDc5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODApO1xuXG5cbi8qKiovIH0pLFxuLyogNDgwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4MSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDgxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODMpO1xuXG5cbi8qKiovIH0pLFxuLyogNDgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDg0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDg1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4Nik7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDg2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgbWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODcpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5iaW5kO1xuICByZXR1cm4gaXQgPT09IEZ1bmN0aW9uUHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEZ1bmN0aW9uUHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBGdW5jdGlvblByb3RvdHlwZS5iaW5kKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA0ODcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0ODgpO1xudmFyIGVudHJ5VmlydHVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnRnVuY3Rpb24nKS5iaW5kO1xuXG5cbi8qKiovIH0pLFxuLyogNDg4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjM5KTtcblxuLy8gYEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiQoeyB0YXJnZXQ6ICdGdW5jdGlvbicsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZ1bmN0aW9uLmJpbmQgIT09IGJpbmQgfSwge1xuICBiaW5kOiBiaW5kXG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDQ4OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX3R5cGVvZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKVtcImRlZmF1bHRcIl07XG5cbnZhciBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MCk7XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNDkwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKioqLyB9KSxcbi8qIDQ5MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjQwKTtcblxudmFyIF9iaW5kSW5zdGFuY2VQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQxKTtcblxudmFyIF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5Mik7XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIHZhciBfY29udGV4dDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZiA9IF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfYmluZEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQgPSBfT2JqZWN0JGdldFByb3RvdHlwZU9mKS5jYWxsKF9jb250ZXh0KSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqKi8gfSksXG4vKiA0OTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5Myk7XG5cbi8qKiovIH0pLFxuLyogNDkzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OTQpO1xuXG5cbi8qKiovIH0pLFxuLyogNDk0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5NSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDk1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyMSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNDk2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNDk3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblxuICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuXG4gIF9PYmplY3QkZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG5cbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzcywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKioqLyB9KSxcbi8qIDQ5OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzgpKTtcblxuLy8gYmFzZTY0IGNoYXJhY3RlciBzZXQsIHBsdXMgcGFkZGluZyBjaGFyYWN0ZXIgKD0pXG52YXIgYjY0ID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7KSB7XG4gICAgdmFyIGEgPSBzdHJpbmcuY2hhckNvZGVBdChpKyspO1xuICAgIHZhciBiID0gc3RyaW5nLmNoYXJDb2RlQXQoaSsrKTtcbiAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICBpZiAoYSA+IDI1NSB8fCBiID4gMjU1IHx8IGMgPiAyNTUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBlbmNvZGUgYmFzZTY0OiBUaGUgc3RyaW5nIHRvIGJlIGVuY29kZWQgY29udGFpbnMgY2hhcmFjdGVycyBvdXRzaWRlIG9mIHRoZSBMYXRpbjEgcmFuZ2UuJyk7XG4gICAgfVxuXG4gICAgdmFyIGJpdG1hcCA9IGEgPDwgMTYgfCBiIDw8IDggfCBjO1xuICAgIHJlc3VsdCArPSBiNjQuY2hhckF0KGJpdG1hcCA+PiAxOCAmIDYzKSArIGI2NC5jaGFyQXQoYml0bWFwID4+IDEyICYgNjMpICsgYjY0LmNoYXJBdChiaXRtYXAgPj4gNiAmIDYzKSArIGI2NC5jaGFyQXQoYml0bWFwICYgNjMpO1xuICB9IC8vIFRvIGRldGVybWluZSB0aGUgZmluYWwgcGFkZGluZ1xuXG5cbiAgdmFyIHJlc3QgPSBzdHJpbmcubGVuZ3RoICUgMzsgLy8gSWYgdGhlcmUncyBuZWVkIG9mIHBhZGRpbmcsIHJlcGxhY2UgdGhlIGxhc3QgJ0EncyB3aXRoIGVxdWFsIHNpZ25zXG5cbiAgcmV0dXJuIHJlc3QgPyAoMCwgX3NsaWNlLmRlZmF1bHQpKHJlc3VsdCkuY2FsbChyZXN1bHQsIDAsIHJlc3QgLSAzKSArICc9PT0nLnN1YnN0cmluZyhyZXN0KSA6IHJlc3VsdDtcbn07XG5cbi8qKiovIH0pLFxuLyogNDk5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGFqYXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdXBsb2FkKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUpIHtcbiAgdmFyIHNhdmVPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgcmV0dXJuIGFqYXgoe1xuICAgIHVybDogdXBsb2FkSW5mby51cGxvYWRfdXJsLFxuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgZGF0YTogZGF0YSxcbiAgICBoZWFkZXJzOiBfLmV4dGVuZCh7XG4gICAgICAnQ29udGVudC1UeXBlJzogZmlsZS5nZXQoJ21pbWVfdHlwZScpLFxuICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAncHVibGljLCBtYXgtYWdlPTMxNTM2MDAwJ1xuICAgIH0sIGZpbGUuX3VwbG9hZEhlYWRlcnMpLFxuICAgIG9ucHJvZ3Jlc3M6IHNhdmVPcHRpb25zLm9ucHJvZ3Jlc3NcbiAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgZmlsZS5hdHRyaWJ1dGVzLnVybCA9IHVwbG9hZEluZm8udXJsO1xuICAgIGZpbGUuX2J1Y2tldCA9IHVwbG9hZEluZm8uYnVja2V0O1xuICAgIGZpbGUuaWQgPSB1cGxvYWRJbmZvLm9iamVjdElkO1xuICAgIHJldHVybiBmaWxlO1xuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNTAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbihmdW5jdGlvbigpe1xyXG4gIHZhciBjcnlwdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTAxKSxcclxuICAgICAgdXRmOCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQyKS51dGY4LFxyXG4gICAgICBpc0J1ZmZlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTAyKSxcclxuICAgICAgYmluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDIpLmJpbixcclxuXHJcbiAgLy8gVGhlIGNvcmVcclxuICBtZDUgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgLy8gQ29udmVydCB0byBieXRlIGFycmF5XHJcbiAgICBpZiAobWVzc2FnZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpXHJcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RpbmcgPT09ICdiaW5hcnknKVxyXG4gICAgICAgIG1lc3NhZ2UgPSBiaW4uc3RyaW5nVG9CeXRlcyhtZXNzYWdlKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIG1lc3NhZ2UgPSB1dGY4LnN0cmluZ1RvQnl0ZXMobWVzc2FnZSk7XHJcbiAgICBlbHNlIGlmIChpc0J1ZmZlcihtZXNzYWdlKSlcclxuICAgICAgbWVzc2FnZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG1lc3NhZ2UsIDApO1xyXG4gICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZSkpXHJcbiAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvU3RyaW5nKCk7XHJcbiAgICAvLyBlbHNlLCBhc3N1bWUgYnl0ZSBhcnJheSBhbHJlYWR5XHJcblxyXG4gICAgdmFyIG0gPSBjcnlwdC5ieXRlc1RvV29yZHMobWVzc2FnZSksXHJcbiAgICAgICAgbCA9IG1lc3NhZ2UubGVuZ3RoICogOCxcclxuICAgICAgICBhID0gIDE3MzI1ODQxOTMsXHJcbiAgICAgICAgYiA9IC0yNzE3MzM4NzksXHJcbiAgICAgICAgYyA9IC0xNzMyNTg0MTk0LFxyXG4gICAgICAgIGQgPSAgMjcxNzMzODc4O1xyXG5cclxuICAgIC8vIFN3YXAgZW5kaWFuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbVtpXSA9ICgobVtpXSA8PCAgOCkgfCAobVtpXSA+Pj4gMjQpKSAmIDB4MDBGRjAwRkYgfFxyXG4gICAgICAgICAgICAgKChtW2ldIDw8IDI0KSB8IChtW2ldID4+PiAgOCkpICYgMHhGRjAwRkYwMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYWRkaW5nXHJcbiAgICBtW2wgPj4+IDVdIHw9IDB4ODAgPDwgKGwgJSAzMik7XHJcbiAgICBtWygoKGwgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gbDtcclxuXHJcbiAgICAvLyBNZXRob2Qgc2hvcnRjdXRzXHJcbiAgICB2YXIgRkYgPSBtZDUuX2ZmLFxyXG4gICAgICAgIEdHID0gbWQ1Ll9nZyxcclxuICAgICAgICBISCA9IG1kNS5faGgsXHJcbiAgICAgICAgSUkgPSBtZDUuX2lpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHtcclxuXHJcbiAgICAgIHZhciBhYSA9IGEsXHJcbiAgICAgICAgICBiYiA9IGIsXHJcbiAgICAgICAgICBjYyA9IGMsXHJcbiAgICAgICAgICBkZCA9IGQ7XHJcblxyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKyAwXSwgIDcsIC02ODA4NzY5MzYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTcsICA2MDYxMDU4MTkpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsgNF0sICA3LCAtMTc2NDE4ODk3KTtcclxuICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIG1baSsgNV0sIDEyLCAgMTIwMDA4MDQyNik7XHJcbiAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBtW2krIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKyA3XSwgMjIsIC00NTcwNTk4Myk7XHJcbiAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBtW2krIDhdLCAgNywgIDE3NzAwMzU0MTYpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE3LCAtNDIwNjMpO1xyXG4gICAgICBiID0gRkYoYiwgYywgZCwgYSwgbVtpKzExXSwgMjIsIC0xOTkwNDA0MTYyKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsxMl0sICA3LCAgMTgwNDYwMzY4Mik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krMTNdLCAxMiwgLTQwMzQxMTAxKTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krMTVdLCAyMiwgIDEyMzY1MzUzMjkpO1xyXG5cclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgMV0sICA1LCAtMTY1Nzk2NTEwKTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgNl0sICA5LCAtMTA2OTUwMTYzMik7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krMTFdLCAxNCwgIDY0MzcxNzcxMyk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7XHJcbiAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBtW2krIDVdLCAgNSwgLTcwMTU1ODY5MSk7XHJcbiAgICAgIGQgPSBHRyhkLCBhLCBiLCBjLCBtW2krMTBdLCAgOSwgIDM4MDE2MDgzKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsxNV0sIDE0LCAtNjYwNDc4MzM1KTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgOV0sICA1LCAgNTY4NDQ2NDM4KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsxNF0sICA5LCAtMTAxOTgwMzY5MCk7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XHJcbiAgICAgIGIgPSBHRyhiLCBjLCBkLCBhLCBtW2krIDhdLCAyMCwgIDExNjM1MzE1MDEpO1xyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKzEzXSwgIDUsIC0xNDQ0NjgxNDY3KTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsgMl0sICA5LCAtNTE0MDM3ODQpO1xyXG4gICAgICBjID0gR0coYywgZCwgYSwgYiwgbVtpKyA3XSwgMTQsICAxNzM1MzI4NDczKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7XHJcblxyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA1XSwgIDQsIC0zNzg1NTgpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsxMV0sIDE2LCAgMTgzOTAzMDU2Mik7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krMTRdLCAyMywgLTM1MzA5NTU2KTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsgMV0sICA0LCAtMTUzMDk5MjA2MCk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krIDRdLCAxMSwgIDEyNzI4OTMzNTMpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKzEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcclxuICAgICAgYSA9IEhIKGEsIGIsIGMsIGQsIG1baSsxM10sICA0LCAgNjgxMjc5MTc0KTtcclxuICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIG1baSsgMF0sIDExLCAtMzU4NTM3MjIyKTtcclxuICAgICAgYyA9IEhIKGMsIGQsIGEsIGIsIG1baSsgM10sIDE2LCAtNzIyNTIxOTc5KTtcclxuICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIG1baSsgNl0sIDIzLCAgNzYwMjkxODkpO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyA5XSwgIDQsIC02NDAzNjQ0ODcpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKzEyXSwgMTEsIC00MjE4MTU4MzUpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKzE1XSwgMTYsICA1MzA3NDI1MjApO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xyXG5cclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsgMF0sICA2LCAtMTk4NjMwODQ0KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsgN10sIDEwLCAgMTEyNjg5MTQxNSk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA1XSwgMjEsIC01NzQzNDA1NSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krMTJdLCAgNiwgIDE3MDA0ODU1NzEpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcclxuICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIG1baSsxMF0sIDE1LCAtMTA1MTUyMyk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xyXG4gICAgICBhID0gSUkoYSwgYiwgYywgZCwgbVtpKyA4XSwgIDYsICAxODczMzEzMzU5KTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsxNV0sIDEwLCAtMzA2MTE3NDQpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcclxuICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIG1baSsxM10sIDIxLCAgMTMwOTE1MTY0OSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krIDRdLCAgNiwgLTE0NTUyMzA3MCk7XHJcbiAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBtW2krMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKyAyXSwgMTUsICA3MTg3ODcyNTkpO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xyXG5cclxuICAgICAgYSA9IChhICsgYWEpID4+PiAwO1xyXG4gICAgICBiID0gKGIgKyBiYikgPj4+IDA7XHJcbiAgICAgIGMgPSAoYyArIGNjKSA+Pj4gMDtcclxuICAgICAgZCA9IChkICsgZGQpID4+PiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjcnlwdC5lbmRpYW4oW2EsIGIsIGMsIGRdKTtcclxuICB9O1xyXG5cclxuICAvLyBBdXhpbGlhcnkgZnVuY3Rpb25zXHJcbiAgbWQ1Ll9mZiAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBjIHwgfmIgJiBkKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9nZyAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgJiBkIHwgYyAmIH5kKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9oaCAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGIgXiBjIF4gZCkgKyAoeCA+Pj4gMCkgKyB0O1xyXG4gICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcclxuICB9O1xyXG4gIG1kNS5faWkgID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcclxuICAgIHZhciBuID0gYSArIChjIF4gKGIgfCB+ZCkpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuXHJcbiAgLy8gUGFja2FnZSBwcml2YXRlIGJsb2Nrc2l6ZVxyXG4gIG1kNS5fYmxvY2tzaXplID0gMTY7XHJcbiAgbWQ1Ll9kaWdlc3RzaXplID0gMTY7XHJcblxyXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcclxuICAgIGlmIChtZXNzYWdlID09PSB1bmRlZmluZWQgfHwgbWVzc2FnZSA9PT0gbnVsbClcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGFyZ3VtZW50ICcgKyBtZXNzYWdlKTtcclxuXHJcbiAgICB2YXIgZGlnZXN0Ynl0ZXMgPSBjcnlwdC53b3Jkc1RvQnl0ZXMobWQ1KG1lc3NhZ2UsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuYXNCeXRlcyA/IGRpZ2VzdGJ5dGVzIDpcclxuICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuYXNTdHJpbmcgPyBiaW4uYnl0ZXNUb1N0cmluZyhkaWdlc3RieXRlcykgOlxyXG4gICAgICAgIGNyeXB0LmJ5dGVzVG9IZXgoZGlnZXN0Ynl0ZXMpO1xyXG4gIH07XHJcblxyXG59KSgpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1MDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgYmFzZTY0bWFwXG4gICAgICA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJyxcblxuICBjcnlwdCA9IHtcbiAgICAvLyBCaXQtd2lzZSByb3RhdGlvbiBsZWZ0XG4gICAgcm90bDogZnVuY3Rpb24obiwgYikge1xuICAgICAgcmV0dXJuIChuIDw8IGIpIHwgKG4gPj4+ICgzMiAtIGIpKTtcbiAgICB9LFxuXG4gICAgLy8gQml0LXdpc2Ugcm90YXRpb24gcmlnaHRcbiAgICByb3RyOiBmdW5jdGlvbihuLCBiKSB7XG4gICAgICByZXR1cm4gKG4gPDwgKDMyIC0gYikpIHwgKG4gPj4+IGIpO1xuICAgIH0sXG5cbiAgICAvLyBTd2FwIGJpZy1lbmRpYW4gdG8gbGl0dGxlLWVuZGlhbiBhbmQgdmljZSB2ZXJzYVxuICAgIGVuZGlhbjogZnVuY3Rpb24obikge1xuICAgICAgLy8gSWYgbnVtYmVyIGdpdmVuLCBzd2FwIGVuZGlhblxuICAgICAgaWYgKG4uY29uc3RydWN0b3IgPT0gTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBjcnlwdC5yb3RsKG4sIDgpICYgMHgwMEZGMDBGRiB8IGNyeXB0LnJvdGwobiwgMjQpICYgMHhGRjAwRkYwMDtcbiAgICAgIH1cblxuICAgICAgLy8gRWxzZSwgYXNzdW1lIGFycmF5IGFuZCBzd2FwIGFsbCBpdGVtc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKVxuICAgICAgICBuW2ldID0gY3J5cHQuZW5kaWFuKG5baV0pO1xuICAgICAgcmV0dXJuIG47XG4gICAgfSxcblxuICAgIC8vIEdlbmVyYXRlIGFuIGFycmF5IG9mIGFueSBsZW5ndGggb2YgcmFuZG9tIGJ5dGVzXG4gICAgcmFuZG9tQnl0ZXM6IGZ1bmN0aW9uKG4pIHtcbiAgICAgIGZvciAodmFyIGJ5dGVzID0gW107IG4gPiAwOyBuLS0pXG4gICAgICAgIGJ5dGVzLnB1c2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KSk7XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGJpZy1lbmRpYW4gMzItYml0IHdvcmRzXG4gICAgYnl0ZXNUb1dvcmRzOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgZm9yICh2YXIgd29yZHMgPSBbXSwgaSA9IDAsIGIgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyssIGIgKz0gOClcbiAgICAgICAgd29yZHNbYiA+Pj4gNV0gfD0gYnl0ZXNbaV0gPDwgKDI0IC0gYiAlIDMyKTtcbiAgICAgIHJldHVybiB3b3JkcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBiaWctZW5kaWFuIDMyLWJpdCB3b3JkcyB0byBhIGJ5dGUgYXJyYXlcbiAgICB3b3Jkc1RvQnl0ZXM6IGZ1bmN0aW9uKHdvcmRzKSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBiID0gMDsgYiA8IHdvcmRzLmxlbmd0aCAqIDMyOyBiICs9IDgpXG4gICAgICAgIGJ5dGVzLnB1c2goKHdvcmRzW2IgPj4+IDVdID4+PiAoMjQgLSBiICUgMzIpKSAmIDB4RkYpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIGhleCBzdHJpbmdcbiAgICBieXRlc1RvSGV4OiBmdW5jdGlvbihieXRlcykge1xuICAgICAgZm9yICh2YXIgaGV4ID0gW10sIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaGV4LnB1c2goKGJ5dGVzW2ldID4+PiA0KS50b1N0cmluZygxNikpO1xuICAgICAgICBoZXgucHVzaCgoYnl0ZXNbaV0gJiAweEYpLnRvU3RyaW5nKDE2KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGV4LmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgaGV4IHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBoZXhUb0J5dGVzOiBmdW5jdGlvbihoZXgpIHtcbiAgICAgIGZvciAodmFyIGJ5dGVzID0gW10sIGMgPSAwOyBjIDwgaGV4Lmxlbmd0aDsgYyArPSAyKVxuICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoYywgMiksIDE2KSk7XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgYmFzZS02NCBzdHJpbmdcbiAgICBieXRlc1RvQmFzZTY0OiBmdW5jdGlvbihieXRlcykge1xuICAgICAgZm9yICh2YXIgYmFzZTY0ID0gW10sIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgdmFyIHRyaXBsZXQgPSAoYnl0ZXNbaV0gPDwgMTYpIHwgKGJ5dGVzW2kgKyAxXSA8PCA4KSB8IGJ5dGVzW2kgKyAyXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA0OyBqKyspXG4gICAgICAgICAgaWYgKGkgKiA4ICsgaiAqIDYgPD0gYnl0ZXMubGVuZ3RoICogOClcbiAgICAgICAgICAgIGJhc2U2NC5wdXNoKGJhc2U2NG1hcC5jaGFyQXQoKHRyaXBsZXQgPj4+IDYgKiAoMyAtIGopKSAmIDB4M0YpKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBiYXNlNjQucHVzaCgnPScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2U2NC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJhc2UtNjQgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIGJhc2U2NFRvQnl0ZXM6IGZ1bmN0aW9uKGJhc2U2NCkge1xuICAgICAgLy8gUmVtb3ZlIG5vbi1iYXNlLTY0IGNoYXJhY3RlcnNcbiAgICAgIGJhc2U2NCA9IGJhc2U2NC5yZXBsYWNlKC9bXkEtWjAtOStcXC9dL2lnLCAnJyk7XG5cbiAgICAgIGZvciAodmFyIGJ5dGVzID0gW10sIGkgPSAwLCBpbW9kNCA9IDA7IGkgPCBiYXNlNjQubGVuZ3RoO1xuICAgICAgICAgIGltb2Q0ID0gKytpICUgNCkge1xuICAgICAgICBpZiAoaW1vZDQgPT0gMCkgY29udGludWU7XG4gICAgICAgIGJ5dGVzLnB1c2goKChiYXNlNjRtYXAuaW5kZXhPZihiYXNlNjQuY2hhckF0KGkgLSAxKSlcbiAgICAgICAgICAgICYgKE1hdGgucG93KDIsIC0yICogaW1vZDQgKyA4KSAtIDEpKSA8PCAoaW1vZDQgKiAyKSlcbiAgICAgICAgICAgIHwgKGJhc2U2NG1hcC5pbmRleE9mKGJhc2U2NC5jaGFyQXQoaSkpID4+PiAoNiAtIGltb2Q0ICogMikpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBjcnlwdDtcbn0pKCk7XG5cblxuLyoqKi8gfSksXG4vKiA1MDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG5cblxuLyoqKi8gfSksXG4vKiA1MDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjgpKTtcblxudmFyIGRhdGFVUkl0b0Jsb2IgPSBmdW5jdGlvbiBkYXRhVVJJdG9CbG9iKGRhdGFVUkksIHR5cGUpIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIHZhciBieXRlU3RyaW5nOyAvLyDkvKDlhaXnmoQgYmFzZTY077yM5LiN5pivIGRhdGFVUkxcblxuICBpZiAoKDAsIF9pbmRleE9mLmRlZmF1bHQpKGRhdGFVUkkpLmNhbGwoZGF0YVVSSSwgJ2Jhc2U2NCcpIDwgMCkge1xuICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUkkpO1xuICB9IGVsc2UgaWYgKCgwLCBfaW5kZXhPZi5kZWZhdWx0KShfY29udGV4dCA9IGRhdGFVUkkuc3BsaXQoJywnKVswXSkuY2FsbChfY29udGV4dCwgJ2Jhc2U2NCcpID49IDApIHtcbiAgICB0eXBlID0gdHlwZSB8fCBkYXRhVVJJLnNwbGl0KCcsJylbMF0uc3BsaXQoJzonKVsxXS5zcGxpdCgnOycpWzBdO1xuICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7XG4gIH0gZWxzZSB7XG4gICAgYnl0ZVN0cmluZyA9IHVuZXNjYXBlKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7XG4gIH1cblxuICB2YXIgaWEgPSBuZXcgVWludDhBcnJheShieXRlU3RyaW5nLmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgaWFbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gIH1cblxuICByZXR1cm4gbmV3IEJsb2IoW2lhXSwge1xuICAgIHR5cGU6IHR5cGVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRhdGFVUkl0b0Jsb2I7XG5cbi8qKiovIH0pLFxuLyogNTA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MDUpKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDIpKTtcblxudmFyIF9pbmRleE9mID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfa2V5czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTMpKTtcblxudmFyIF9zdHJpbmdpZnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzcpKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNDApKTtcblxudmFyIF9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTI2KSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIEFWRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyksXG4gICAgX3JlcXVlc3QgPSBfcmVxdWlyZS5fcmVxdWVzdDtcblxudmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLFxuICAgIGlzTnVsbE9yVW5kZWZpbmVkID0gX3JlcXVpcmUyLmlzTnVsbE9yVW5kZWZpbmVkLFxuICAgIGVuc3VyZUFycmF5ID0gX3JlcXVpcmUyLmVuc3VyZUFycmF5LFxuICAgIHRyYW5zZm9ybUZldGNoT3B0aW9ucyA9IF9yZXF1aXJlMi50cmFuc2Zvcm1GZXRjaE9wdGlvbnMsXG4gICAgc2V0VmFsdWUgPSBfcmVxdWlyZTIuc2V0VmFsdWUsXG4gICAgZmluZFZhbHVlID0gX3JlcXVpcmUyLmZpbmRWYWx1ZSxcbiAgICBpc1BsYWluT2JqZWN0ID0gX3JlcXVpcmUyLmlzUGxhaW5PYmplY3QsXG4gICAgY29udGludWVXaGlsZSA9IF9yZXF1aXJlMi5jb250aW51ZVdoaWxlO1xuXG52YXIgcmVjdXJzaXZlVG9Qb2ludGVyID0gZnVuY3Rpb24gcmVjdXJzaXZlVG9Qb2ludGVyKHZhbHVlKSB7XG4gIGlmIChfLmlzQXJyYXkodmFsdWUpKSByZXR1cm4gKDAsIF9tYXAuZGVmYXVsdCkodmFsdWUpLmNhbGwodmFsdWUsIHJlY3Vyc2l2ZVRvUG9pbnRlcik7XG4gIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkgcmV0dXJuIF8ubWFwT2JqZWN0KHZhbHVlLCByZWN1cnNpdmVUb1BvaW50ZXIpO1xuICBpZiAoXy5pc09iamVjdCh2YWx1ZSkgJiYgdmFsdWUuX3RvUG9pbnRlcikgcmV0dXJuIHZhbHVlLl90b1BvaW50ZXIoKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIFJFU0VSVkVEX0tFWVMgPSBbJ29iamVjdElkJywgJ2NyZWF0ZWRBdCcsICd1cGRhdGVkQXQnXTtcblxudmFyIGNoZWNrUmVzZXJ2ZWRLZXkgPSBmdW5jdGlvbiBjaGVja1Jlc2VydmVkS2V5KGtleSkge1xuICBpZiAoKDAsIF9pbmRleE9mLmRlZmF1bHQpKFJFU0VSVkVEX0tFWVMpLmNhbGwoUkVTRVJWRURfS0VZUywga2V5KSAhPT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXlbXCIuY29uY2F0KGtleSwgXCJdIGlzIHJlc2VydmVkXCIpKTtcbiAgfVxufTtcblxudmFyIGhhbmRsZUJhdGNoUmVzdWx0cyA9IGZ1bmN0aW9uIGhhbmRsZUJhdGNoUmVzdWx0cyhyZXN1bHRzKSB7XG4gIHZhciBmaXJzdEVycm9yID0gKDAsIF9maW5kLmRlZmF1bHQpKF8pLmNhbGwoXywgcmVzdWx0cywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQgaW5zdGFuY2VvZiBFcnJvcjtcbiAgfSk7XG5cbiAgaWYgKCFmaXJzdEVycm9yKSB7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICB2YXIgZXJyb3IgPSBuZXcgQVZFcnJvcihmaXJzdEVycm9yLmNvZGUsIGZpcnN0RXJyb3IubWVzc2FnZSk7XG4gIGVycm9yLnJlc3VsdHMgPSByZXN1bHRzO1xuICB0aHJvdyBlcnJvcjtcbn07IC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgYSB2YWx1ZSBmcm9tIGEgQmFja2JvbmUgb2JqZWN0IGFzIGEgcHJvcGVydHlcbi8vIG9yIGFzIGEgZnVuY3Rpb24uXG5cblxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBwcm9wKSB7XG4gIGlmICghKG9iamVjdCAmJiBvYmplY3RbcHJvcF0pKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gXy5pc0Z1bmN0aW9uKG9iamVjdFtwcm9wXSkgPyBvYmplY3RbcHJvcF0oKSA6IG9iamVjdFtwcm9wXTtcbn0gLy8gQVYuT2JqZWN0IGlzIGFuYWxvZ291cyB0byB0aGUgSmF2YSBBVk9iamVjdC5cbi8vIEl0IGFsc28gaW1wbGVtZW50cyB0aGUgc2FtZSBpbnRlcmZhY2UgYXMgYSBCYWNrYm9uZSBtb2RlbC5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChBVikge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBtb2RlbCB3aXRoIGRlZmluZWQgYXR0cmlidXRlcy4gQSBjbGllbnQgaWQgKGNpZCkgaXNcbiAgICogYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYW5kIGFzc2lnbmVkIGZvciB5b3UuXG4gICAqXG4gICAqIDxwPllvdSB3b24ndCBub3JtYWxseSBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5LiAgSXQgaXMgcmVjb21tZW5kZWQgdGhhdFxuICAgKiB5b3UgdXNlIGEgc3ViY2xhc3Mgb2YgPGNvZGU+QVYuT2JqZWN0PC9jb2RlPiBpbnN0ZWFkLCBjcmVhdGVkIGJ5IGNhbGxpbmdcbiAgICogPGNvZGU+ZXh0ZW5kPC9jb2RlPi48L3A+XG4gICAqXG4gICAqIDxwPkhvd2V2ZXIsIGlmIHlvdSBkb24ndCB3YW50IHRvIHVzZSBhIHN1YmNsYXNzLCBvciBhcmVuJ3Qgc3VyZSB3aGljaFxuICAgKiBzdWJjbGFzcyBpcyBhcHByb3ByaWF0ZSwgeW91IGNhbiB1c2UgdGhpcyBmb3JtOjxwcmU+XG4gICAqICAgICB2YXIgb2JqZWN0ID0gbmV3IEFWLk9iamVjdChcIkNsYXNzTmFtZVwiKTtcbiAgICogPC9wcmU+XG4gICAqIFRoYXQgaXMgYmFzaWNhbGx5IGVxdWl2YWxlbnQgdG86PHByZT5cbiAgICogICAgIHZhciBNeUNsYXNzID0gQVYuT2JqZWN0LmV4dGVuZChcIkNsYXNzTmFtZVwiKTtcbiAgICogICAgIHZhciBvYmplY3QgPSBuZXcgTXlDbGFzcygpO1xuICAgKiA8L3ByZT48L3A+XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzIFRoZSBpbml0aWFsIHNldCBvZiBkYXRhIHRvIHN0b3JlIGluIHRoZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEEgc2V0IG9mIEJhY2tib25lLWxpa2Ugb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlXG4gICAqICAgICBvYmplY3QuICBUaGUgb25seSBvcHRpb24gY3VycmVudGx5IHN1cHBvcnRlZCBpcyBcImNvbGxlY3Rpb25cIi5cbiAgICogQHNlZSBBVi5PYmplY3QuZXh0ZW5kXG4gICAqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKiA8cD5UaGUgZnVuZGFtZW50YWwgdW5pdCBvZiBBViBkYXRhLCB3aGljaCBpbXBsZW1lbnRzIHRoZSBCYWNrYm9uZSBNb2RlbFxuICAgKiBpbnRlcmZhY2UuPC9wPlxuICAgKi9cbiAgQVYuT2JqZWN0ID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICAvLyBBbGxvdyBuZXcgQVYuT2JqZWN0KFwiQ2xhc3NOYW1lXCIpIGFzIGEgc2hvcnRjdXQgdG8gX2NyZWF0ZS5cbiAgICBpZiAoXy5pc1N0cmluZyhhdHRyaWJ1dGVzKSkge1xuICAgICAgcmV0dXJuIEFWLk9iamVjdC5fY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgfHwge307XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBhcnNlKSB7XG4gICAgICBhdHRyaWJ1dGVzID0gdGhpcy5wYXJzZShhdHRyaWJ1dGVzKTtcbiAgICAgIGF0dHJpYnV0ZXMgPSB0aGlzLl9tZXJnZU1hZ2ljRmllbGRzKGF0dHJpYnV0ZXMpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0cyA9IGdldFZhbHVlKHRoaXMsICdkZWZhdWx0cycpO1xuXG4gICAgaWYgKGRlZmF1bHRzKSB7XG4gICAgICBhdHRyaWJ1dGVzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbGxlY3Rpb24pIHtcbiAgICAgIHRoaXMuY29sbGVjdGlvbiA9IG9wdGlvbnMuY29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXJ2ZXJEYXRhID0ge307IC8vIFRoZSBsYXN0IGtub3duIGRhdGEgZm9yIHRoaXMgb2JqZWN0IGZyb20gY2xvdWQuXG5cbiAgICB0aGlzLl9vcFNldFF1ZXVlID0gW3t9XTsgLy8gTGlzdCBvZiBzZXRzIG9mIGNoYW5nZXMgdG8gdGhlIGRhdGEuXG5cbiAgICB0aGlzLl9mbGFncyA9IHt9O1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9OyAvLyBUaGUgYmVzdCBlc3RpbWF0ZSBvZiB0aGlzJ3MgY3VycmVudCBkYXRhLlxuXG4gICAgdGhpcy5faGFzaGVkSlNPTiA9IHt9OyAvLyBIYXNoIG9mIHZhbHVlcyBvZiBjb250YWluZXJzIGF0IGxhc3Qgc2F2ZS5cblxuICAgIHRoaXMuX2VzY2FwZWRBdHRyaWJ1dGVzID0ge307XG4gICAgdGhpcy5jaWQgPSBfLnVuaXF1ZUlkKCdjJyk7XG4gICAgdGhpcy5jaGFuZ2VkID0ge307XG4gICAgdGhpcy5fc2lsZW50ID0ge307XG4gICAgdGhpcy5fcGVuZGluZyA9IHt9O1xuICAgIHRoaXMuc2V0KGF0dHJpYnV0ZXMsIHtcbiAgICAgIHNpbGVudDogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY2hhbmdlZCA9IHt9O1xuICAgIHRoaXMuX3NpbGVudCA9IHt9O1xuICAgIHRoaXMuX3BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLl9oYXNEYXRhID0gdHJ1ZTtcbiAgICB0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMgPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG4gIC8qKlxuICAgKiBAbGVuZHMgQVYuT2JqZWN0LnByb3RvdHlwZVxuICAgKiBAcHJvcGVydHkge1N0cmluZ30gaWQgVGhlIG9iamVjdElkIG9mIHRoZSBBViBPYmplY3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTYXZlcyB0aGUgZ2l2ZW4gbGlzdCBvZiBBVi5PYmplY3QuXG4gICAqIElmIGFueSBlcnJvciBpcyBlbmNvdW50ZXJlZCwgc3RvcHMgYW5kIGNhbGxzIHRoZSBlcnJvciBoYW5kbGVyLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBBVi5PYmplY3Quc2F2ZUFsbChbb2JqZWN0MSwgb2JqZWN0MiwgLi4uXSkudGhlbihmdW5jdGlvbihsaXN0KSB7XG4gICAqICAgLy8gQWxsIHRoZSBvYmplY3RzIHdlcmUgc2F2ZWQuXG4gICAqIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2F2aW5nIG9uZSBvZiB0aGUgb2JqZWN0cy5cbiAgICogfSk7XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgQSBsaXN0IG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT4uXG4gICAqL1xuXG5cbiAgQVYuT2JqZWN0LnNhdmVBbGwgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBBVi5PYmplY3QuX2RlZXBTYXZlQXN5bmMobGlzdCwgbnVsbCwgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgZ2l2ZW4gbGlzdCBvZiBBVi5PYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7QVYuT2JqZWN0W119IG9iamVjdHMgQSBsaXN0IG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT5cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5PYmplY3RbXT59IFRoZSBnaXZlbiBsaXN0IG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT4sIHVwZGF0ZWRcbiAgICovXG5cblxuICBBVi5PYmplY3QuZmV0Y2hBbGwgPSBmdW5jdGlvbiAob2JqZWN0cywgb3B0aW9ucykge1xuICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfcmVxdWVzdCgnYmF0Y2gnLCBudWxsLCBudWxsLCAnUE9TVCcsIHtcbiAgICAgICAgcmVxdWVzdHM6ICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgb2JqZWN0cywgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIHZhciBfY29udGV4dDtcblxuICAgICAgICAgIGlmICghb2JqZWN0LmNsYXNzTmFtZSkgdGhyb3cgbmV3IEVycm9yKCdvYmplY3QgbXVzdCBoYXZlIGNsYXNzTmFtZSB0byBmZXRjaCcpO1xuICAgICAgICAgIGlmICghb2JqZWN0LmlkKSB0aHJvdyBuZXcgRXJyb3IoJ29iamVjdCBtdXN0IGhhdmUgaWQgdG8gZmV0Y2gnKTtcbiAgICAgICAgICBpZiAob2JqZWN0LmRpcnR5KCkpIHRocm93IG5ldyBFcnJvcignb2JqZWN0IGlzIG1vZGlmaWVkIGJ1dCBub3Qgc2F2ZWQnKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIHBhdGg6ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0ID0gXCIvMS4xL2NsYXNzZXMvXCIuY29uY2F0KG9iamVjdC5jbGFzc05hbWUsIFwiL1wiKSkuY2FsbChfY29udGV4dCwgb2JqZWN0LmlkKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICB9LCBvcHRpb25zKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdmFyIHJlc3VsdHMgPSAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIG9iamVjdHMsIGZ1bmN0aW9uIChvYmplY3QsIGkpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlW2ldLnN1Y2Nlc3MpIHtcbiAgICAgICAgICB2YXIgZmV0Y2hlZEF0dHJzID0gb2JqZWN0LnBhcnNlKHJlc3BvbnNlW2ldLnN1Y2Nlc3MpO1xuXG4gICAgICAgICAgb2JqZWN0Ll9jbGVhbnVwVW5zZXRLZXlzKGZldGNoZWRBdHRycyk7XG5cbiAgICAgICAgICBvYmplY3QuX2ZpbmlzaEZldGNoKGZldGNoZWRBdHRycyk7XG5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlW2ldLnN1Y2Nlc3MgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWRXJyb3IoQVZFcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQVZFcnJvcihyZXNwb25zZVtpXS5lcnJvci5jb2RlLCByZXNwb25zZVtpXS5lcnJvci5lcnJvcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBoYW5kbGVCYXRjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgfSk7XG4gIH07IC8vIEF0dGFjaCBhbGwgaW5oZXJpdGFibGUgbWV0aG9kcyB0byB0aGUgQVYuT2JqZWN0IHByb3RvdHlwZS5cblxuXG4gIF8uZXh0ZW5kKEFWLk9iamVjdC5wcm90b3R5cGUsIEFWLkV2ZW50cyxcbiAgLyoqIEBsZW5kcyBBVi5PYmplY3QucHJvdG90eXBlICovXG4gIHtcbiAgICBfZmV0Y2hXaGVuU2F2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGlzIGFuIGVtcHR5IGZ1bmN0aW9uIGJ5IGRlZmF1bHQuIE92ZXJyaWRlIGl0IHdpdGggeW91ciBvd25cbiAgICAgKiBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge30sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgd2hldGhlciB0byBlbmFibGUgZmV0Y2hXaGVuU2F2ZSBvcHRpb24gd2hlbiB1cGRhdGluZyBvYmplY3QuXG4gICAgICogV2hlbiBzZXQgdHJ1ZSwgU0RLIHdvdWxkIGZldGNoIHRoZSBsYXRlc3Qgb2JqZWN0IGFmdGVyIHNhdmluZy5cbiAgICAgKiBEZWZhdWx0IGlzIGZhbHNlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIEFWLk9iamVjdCNzYXZlIHdpdGggb3B0aW9ucy5mZXRjaFdoZW5TYXZlIGluc3RlYWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZSAgdHJ1ZSB0byBlbmFibGUgZmV0Y2hXaGVuU2F2ZSBvcHRpb24uXG4gICAgICovXG4gICAgZmV0Y2hXaGVuU2F2ZTogZnVuY3Rpb24gZmV0Y2hXaGVuU2F2ZShlbmFibGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignQVYuT2JqZWN0I2ZldGNoV2hlblNhdmUgaXMgZGVwcmVjYXRlZCwgdXNlIEFWLk9iamVjdCNzYXZlIHdpdGggb3B0aW9ucy5mZXRjaFdoZW5TYXZlIGluc3RlYWQuJyk7XG5cbiAgICAgIGlmICghXy5pc0Jvb2xlYW4oZW5hYmxlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdCBib29sZWFuIHZhbHVlIGZvciBmZXRjaFdoZW5TYXZlJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2ZldGNoV2hlblNhdmUgPSBlbmFibGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCdzIG9iamVjdElkLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIG9iamVjdElkLlxuICAgICAqL1xuICAgIGdldE9iamVjdElkOiBmdW5jdGlvbiBnZXRPYmplY3RJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QncyBjcmVhdGVkQXQgYXR0cmlidXRlLlxuICAgICAqIEByZXR1cm4ge0RhdGV9XG4gICAgICovXG4gICAgZ2V0Q3JlYXRlZEF0OiBmdW5jdGlvbiBnZXRDcmVhdGVkQXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVkQXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCdzIHVwZGF0ZWRBdCBhdHRyaWJ1dGUuXG4gICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgKi9cbiAgICBnZXRVcGRhdGVkQXQ6IGZ1bmN0aW9uIGdldFVwZGF0ZWRBdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZWRBdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihrZXksIGhvbGRlcikge1xuICAgICAgdmFyIHNlZW5PYmplY3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgICAgIHJldHVybiB0aGlzLl90b0Z1bGxKU09OKHNlZW5PYmplY3RzLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9iamVjdCB3aXRoIG1ldGEgZGF0YS5cbiAgICAgKiBJbnZlcnNlIHRvIHtAbGluayBBVi5wYXJzZUpTT059XG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvRnVsbEpTT046IGZ1bmN0aW9uIHRvRnVsbEpTT04oKSB7XG4gICAgICB2YXIgc2Vlbk9iamVjdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgICAgcmV0dXJuIHRoaXMuX3RvRnVsbEpTT04oc2Vlbk9iamVjdHMpO1xuICAgIH0sXG4gICAgX3RvRnVsbEpTT046IGZ1bmN0aW9uIF90b0Z1bGxKU09OKHNlZW5PYmplY3RzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZnVsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgICAgdmFyIGpzb24gPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XG5cbiAgICAgIGlmIChfLmlzQXJyYXkoc2Vlbk9iamVjdHMpKSB7XG4gICAgICAgIHZhciBuZXdTZWVuT2JqZWN0cyA9ICgwLCBfY29uY2F0LmRlZmF1bHQpKHNlZW5PYmplY3RzKS5jYWxsKHNlZW5PYmplY3RzLCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgQVYuX29iamVjdEVhY2goanNvbiwgZnVuY3Rpb24gKHZhbCwga2V5KSB7XG4gICAgICAgIGpzb25ba2V5XSA9IEFWLl9lbmNvZGUodmFsLCBuZXdTZWVuT2JqZWN0cywgdW5kZWZpbmVkLCBmdWxsKTtcbiAgICAgIH0pO1xuXG4gICAgICBBVi5fb2JqZWN0RWFjaCh0aGlzLl9vcGVyYXRpb25zLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAganNvbltrZXldID0gdmFsO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChfLmhhcyh0aGlzLCAnaWQnKSkge1xuICAgICAgICBqc29uLm9iamVjdElkID0gdGhpcy5pZDtcbiAgICAgIH1cblxuICAgICAgWydjcmVhdGVkQXQnLCAndXBkYXRlZEF0J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChfLmhhcyhfdGhpcywga2V5KSkge1xuICAgICAgICAgIHZhciB2YWwgPSBfdGhpc1trZXldO1xuICAgICAgICAgIGpzb25ba2V5XSA9IF8uaXNEYXRlKHZhbCkgPyB2YWwudG9KU09OKCkgOiB2YWw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZnVsbCkge1xuICAgICAgICBqc29uLl9fdHlwZSA9ICdPYmplY3QnO1xuICAgICAgICBpZiAoXy5pc0FycmF5KHNlZW5PYmplY3RzKSAmJiBzZWVuT2JqZWN0cy5sZW5ndGgpIGpzb24uX190eXBlID0gJ1BvaW50ZXInO1xuICAgICAgICBqc29uLmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ganNvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBfaGFzaGVkSlNPTiB0byByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqIEFkZHMgYW55IGNoYW5nZWQgaGFzaCB2YWx1ZXMgdG8gdGhlIHNldCBvZiBwZW5kaW5nIGNoYW5nZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVmcmVzaENhY2hlOiBmdW5jdGlvbiBfcmVmcmVzaENhY2hlKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5fcmVmcmVzaGluZ0NhY2hlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fcmVmcmVzaGluZ0NhY2hlID0gdHJ1ZTtcblxuICAgICAgQVYuX29iamVjdEVhY2godGhpcy5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICAgICAgICB2YWx1ZS5fcmVmcmVzaENhY2hlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoc2VsZi5fcmVzZXRDYWNoZUZvcktleShrZXkpKSB7XG4gICAgICAgICAgICBzZWxmLnNldChrZXksIG5ldyBBVi5PcC5TZXQodmFsdWUpLCB7XG4gICAgICAgICAgICAgIHNpbGVudDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZGVsZXRlIHNlbGYuX3JlZnJlc2hpbmdDYWNoZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IGhhcyBiZWVuIG1vZGlmaWVkIHNpbmNlIGl0cyBsYXN0XG4gICAgICogc2F2ZS9yZWZyZXNoLiAgSWYgYW4gYXR0cmlidXRlIGlzIHNwZWNpZmllZCwgaXQgcmV0dXJucyB0cnVlIG9ubHkgaWYgdGhhdFxuICAgICAqIHBhcnRpY3VsYXIgYXR0cmlidXRlIGhhcyBiZWVuIG1vZGlmaWVkIHNpbmNlIHRoZSBsYXN0IHNhdmUvcmVmcmVzaC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBBbiBhdHRyaWJ1dGUgbmFtZSAob3B0aW9uYWwpLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgZGlydHk6IGZ1bmN0aW9uIGRpcnR5KGF0dHIpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hDYWNoZSgpO1xuXG4gICAgICB2YXIgY3VycmVudENoYW5nZXMgPSBfLmxhc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG5cbiAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50Q2hhbmdlc1thdHRyXSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoKDAsIF9rZXlzMi5kZWZhdWx0KShfKS5jYWxsKF8sIGN1cnJlbnRDaGFuZ2VzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGtleXMgb2YgdGhlIG1vZGlmaWVkIGF0dHJpYnV0ZSBzaW5jZSBpdHMgbGFzdCBzYXZlL3JlZnJlc2guXG4gICAgICogQHJldHVybiB7U3RyaW5nW119XG4gICAgICovXG4gICAgZGlydHlLZXlzOiBmdW5jdGlvbiBkaXJ0eUtleXMoKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoQ2FjaGUoKTtcblxuICAgICAgdmFyIGN1cnJlbnRDaGFuZ2VzID0gXy5sYXN0KHRoaXMuX29wU2V0UXVldWUpO1xuXG4gICAgICByZXR1cm4gKDAsIF9rZXlzMi5kZWZhdWx0KShfKS5jYWxsKF8sIGN1cnJlbnRDaGFuZ2VzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvaW50ZXIgcmVmZXJlbmNpbmcgdGhpcyBPYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9Qb2ludGVyOiBmdW5jdGlvbiBfdG9Qb2ludGVyKCkge1xuICAgICAgLy8gaWYgKCF0aGlzLmlkKSB7XG4gICAgICAvLyAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHNlcmlhbGl6ZSBhbiB1bnNhdmVkIEFWLk9iamVjdFwiKTtcbiAgICAgIC8vIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMuY2xhc3NOYW1lLFxuICAgICAgICBvYmplY3RJZDogdGhpcy5pZFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBzdHJpbmcgbmFtZSBvZiBhbiBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoYXR0cikge1xuICAgICAgc3dpdGNoIChhdHRyKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdElkJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5pZDtcblxuICAgICAgICBjYXNlICdjcmVhdGVkQXQnOlxuICAgICAgICBjYXNlICd1cGRhdGVkQXQnOlxuICAgICAgICAgIHJldHVybiB0aGlzW2F0dHJdO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1thdHRyXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJlbGF0aW9uIG9uIHRoZSBnaXZlbiBjbGFzcyBmb3IgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHRvIGdldCB0aGUgcmVsYXRpb24gZm9yLlxuICAgICAqIEByZXR1cm4ge0FWLlJlbGF0aW9ufVxuICAgICAqL1xuICAgIHJlbGF0aW9uOiBmdW5jdGlvbiByZWxhdGlvbihhdHRyKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldChhdHRyKTtcblxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgQVYuUmVsYXRpb24pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsZWQgcmVsYXRpb24oKSBvbiBub24tcmVsYXRpb24gZmllbGQgJyArIGF0dHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsdWUuX2Vuc3VyZVBhcmVudEFuZEtleSh0aGlzLCBhdHRyKTtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEFWLlJlbGF0aW9uKHRoaXMsIGF0dHIpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBIVE1MLWVzY2FwZWQgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICAgICAqL1xuICAgIGVzY2FwZTogZnVuY3Rpb24gZXNjYXBlKGF0dHIpIHtcbiAgICAgIHZhciBodG1sID0gdGhpcy5fZXNjYXBlZEF0dHJpYnV0ZXNbYXR0cl07XG5cbiAgICAgIGlmIChodG1sKSB7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsID0gdGhpcy5hdHRyaWJ1dGVzW2F0dHJdO1xuICAgICAgdmFyIGVzY2FwZWQ7XG5cbiAgICAgIGlmIChpc051bGxPclVuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIGVzY2FwZWQgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVzY2FwZWQgPSBfLmVzY2FwZSh2YWwudG9TdHJpbmcoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VzY2FwZWRBdHRyaWJ1dGVzW2F0dHJdID0gZXNjYXBlZDtcbiAgICAgIHJldHVybiBlc2NhcGVkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBhdHRyaWJ1dGUgY29udGFpbnMgYSB2YWx1ZSB0aGF0IGlzIG5vdFxuICAgICAqIG51bGwgb3IgdW5kZWZpbmVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBzdHJpbmcgbmFtZSBvZiB0aGUgYXR0cmlidXRlLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzOiBmdW5jdGlvbiBoYXMoYXR0cikge1xuICAgICAgcmV0dXJuICFpc051bGxPclVuZGVmaW5lZCh0aGlzLmF0dHJpYnV0ZXNbYXR0cl0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQdWxscyBcInNwZWNpYWxcIiBmaWVsZHMgbGlrZSBvYmplY3RJZCwgY3JlYXRlZEF0LCBldGMuIG91dCBvZiBhdHRyc1xuICAgICAqIGFuZCBwdXRzIHRoZW0gb24gXCJ0aGlzXCIgZGlyZWN0bHkuICBSZW1vdmVzIHRoZW0gZnJvbSBhdHRycy5cbiAgICAgKiBAcGFyYW0gYXR0cnMgLSBBIGRpY3Rpb25hcnkgd2l0aCB0aGUgZGF0YSBmb3IgdGhpcyBBVi5PYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWVyZ2VNYWdpY0ZpZWxkczogZnVuY3Rpb24gX21lcmdlTWFnaWNGaWVsZHMoYXR0cnMpIHtcbiAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIG9mIG1hZ2ljIGZpZWxkcy5cbiAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICB2YXIgc3BlY2lhbEZpZWxkcyA9IFsnb2JqZWN0SWQnLCAnY3JlYXRlZEF0JywgJ3VwZGF0ZWRBdCddO1xuXG4gICAgICBBVi5fYXJyYXlFYWNoKHNwZWNpYWxGaWVsZHMsIGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIGlmIChhdHRyc1thdHRyXSkge1xuICAgICAgICAgIGlmIChhdHRyID09PSAnb2JqZWN0SWQnKSB7XG4gICAgICAgICAgICBtb2RlbC5pZCA9IGF0dHJzW2F0dHJdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKGF0dHIgPT09ICdjcmVhdGVkQXQnIHx8IGF0dHIgPT09ICd1cGRhdGVkQXQnKSAmJiAhXy5pc0RhdGUoYXR0cnNbYXR0cl0pKSB7XG4gICAgICAgICAgICBtb2RlbFthdHRyXSA9IEFWLl9wYXJzZURhdGUoYXR0cnNbYXR0cl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RlbFthdHRyXSA9IGF0dHJzW2F0dHJdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBhdHRyc1thdHRyXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBhdHRycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUganNvbiB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc3RhcnRTYXZlOiBmdW5jdGlvbiBfc3RhcnRTYXZlKCkge1xuICAgICAgdGhpcy5fb3BTZXRRdWV1ZS5wdXNoKHt9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSBzYXZlIGZhaWxzIGJlY2F1c2Ugb2YgYW4gZXJyb3IuIEFueSBjaGFuZ2VzIHRoYXQgd2VyZSBwYXJ0XG4gICAgICogb2YgdGhlIHNhdmUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCBjaGFuZ2VzIG1hZGUgYWZ0ZXIgdGhlIHNhdmUuIFRoaXNcbiAgICAgKiBtaWdodCB0aHJvdyBhbiBleGNlcHRpb24gaXMgeW91IGRvIGNvbmZsaWN0aW5nIG9wZXJhdGlvbnMuIEZvciBleGFtcGxlLFxuICAgICAqIGlmIHlvdSBkbzpcbiAgICAgKiAgIG9iamVjdC5zZXQoXCJmb29cIiwgXCJiYXJcIik7XG4gICAgICogICBvYmplY3Quc2V0KFwiaW52YWxpZCBmaWVsZCBuYW1lXCIsIFwiYmF6XCIpO1xuICAgICAqICAgb2JqZWN0LnNhdmUoKTtcbiAgICAgKiAgIG9iamVjdC5pbmNyZW1lbnQoXCJmb29cIik7XG4gICAgICogdGhlbiB0aGlzIHdpbGwgdGhyb3cgd2hlbiB0aGUgc2F2ZSBmYWlscyBhbmQgdGhlIGNsaWVudCB0cmllcyB0byBtZXJnZVxuICAgICAqIFwiYmFyXCIgd2l0aCB0aGUgKzEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FuY2VsU2F2ZTogZnVuY3Rpb24gX2NhbmNlbFNhdmUoKSB7XG4gICAgICB2YXIgZmFpbGVkQ2hhbmdlcyA9IF8uZmlyc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG5cbiAgICAgIHRoaXMuX29wU2V0UXVldWUgPSBfLnJlc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG5cbiAgICAgIHZhciBuZXh0Q2hhbmdlcyA9IF8uZmlyc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKGZhaWxlZENoYW5nZXMsIGZ1bmN0aW9uIChvcCwga2V5KSB7XG4gICAgICAgIHZhciBvcDEgPSBmYWlsZWRDaGFuZ2VzW2tleV07XG4gICAgICAgIHZhciBvcDIgPSBuZXh0Q2hhbmdlc1trZXldO1xuXG4gICAgICAgIGlmIChvcDEgJiYgb3AyKSB7XG4gICAgICAgICAgbmV4dENoYW5nZXNba2V5XSA9IG9wMi5fbWVyZ2VXaXRoUHJldmlvdXMob3AxKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcDEpIHtcbiAgICAgICAgICBuZXh0Q2hhbmdlc1trZXldID0gb3AxO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2F2aW5nID0gdGhpcy5fc2F2aW5nIC0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSBzYXZlIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHkuIFRoaXMgbWVyZ2VzIHRoZSBjaGFuZ2VzIHRoYXRcbiAgICAgKiB3ZXJlIHNhdmVkIGludG8gdGhlIGtub3duIHNlcnZlciBkYXRhLCBhbmQgb3ZlcnJpZGVzIGl0IHdpdGggYW55IGRhdGFcbiAgICAgKiBzZW50IGRpcmVjdGx5IGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maW5pc2hTYXZlOiBmdW5jdGlvbiBfZmluaXNoU2F2ZShzZXJ2ZXJEYXRhKSB7XG4gICAgICB2YXIgX2NvbnRleHQyO1xuXG4gICAgICAvLyBHcmFiIGEgY29weSBvZiBhbnkgb2JqZWN0IHJlZmVyZW5jZWQgYnkgdGhpcyBvYmplY3QuIFRoZXNlIGluc3RhbmNlc1xuICAgICAgLy8gbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGZldGNoZWQsIGFuZCB3ZSBkb24ndCB3YW50IHRvIGxvc2UgdGhlaXIgZGF0YS5cbiAgICAgIC8vIE5vdGUgdGhhdCBkb2luZyBpdCBsaWtlIHRoaXMgbWVhbnMgd2Ugd2lsbCB1bmlmeSBzZXBhcmF0ZSBjb3BpZXMgb2YgdGhlXG4gICAgICAvLyBzYW1lIG9iamVjdCwgYnV0IHRoYXQncyBhIHJpc2sgd2UgaGF2ZSB0byB0YWtlLlxuICAgICAgdmFyIGZldGNoZWRPYmplY3RzID0ge307XG5cbiAgICAgIEFWLl90cmF2ZXJzZSh0aGlzLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFWLk9iamVjdCAmJiBvYmplY3QuaWQgJiYgb2JqZWN0Ll9oYXNEYXRhKSB7XG4gICAgICAgICAgZmV0Y2hlZE9iamVjdHNbb2JqZWN0LmlkXSA9IG9iamVjdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBzYXZlZENoYW5nZXMgPSBfLmZpcnN0KHRoaXMuX29wU2V0UXVldWUpO1xuXG4gICAgICB0aGlzLl9vcFNldFF1ZXVlID0gXy5yZXN0KHRoaXMuX29wU2V0UXVldWUpO1xuXG4gICAgICB0aGlzLl9hcHBseU9wU2V0KHNhdmVkQ2hhbmdlcywgdGhpcy5fc2VydmVyRGF0YSk7XG5cbiAgICAgIHRoaXMuX21lcmdlTWFnaWNGaWVsZHMoc2VydmVyRGF0YSk7XG5cbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgQVYuX29iamVjdEVhY2goc2VydmVyRGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgc2VsZi5fc2VydmVyRGF0YVtrZXldID0gQVYuX2RlY29kZSh2YWx1ZSwga2V5KTsgLy8gTG9vayBmb3IgYW55IG9iamVjdHMgdGhhdCBtaWdodCBoYXZlIGJlY29tZSB1bmZldGNoZWQgYW5kIGZpeCB0aGVtXG4gICAgICAgIC8vIGJ5IHJlcGxhY2luZyB0aGVpciB2YWx1ZXMgd2l0aCB0aGUgcHJldmlvdXNseSBvYnNlcnZlZCB2YWx1ZXMuXG5cbiAgICAgICAgdmFyIGZldGNoZWQgPSBBVi5fdHJhdmVyc2Uoc2VsZi5fc2VydmVyRGF0YVtrZXldLCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFWLk9iamVjdCAmJiBmZXRjaGVkT2JqZWN0c1tvYmplY3QuaWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hlZE9iamVjdHNbb2JqZWN0LmlkXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChmZXRjaGVkKSB7XG4gICAgICAgICAgc2VsZi5fc2VydmVyRGF0YVtrZXldID0gZmV0Y2hlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3JlYnVpbGRBbGxFc3RpbWF0ZWREYXRhKCk7XG5cbiAgICAgIHZhciBvcFNldFF1ZXVlID0gKDAsIF9tYXAuZGVmYXVsdCkoX2NvbnRleHQyID0gdGhpcy5fb3BTZXRRdWV1ZSkuY2FsbChfY29udGV4dDIsIF8uY2xvbmUpO1xuXG4gICAgICB0aGlzLl9yZWZyZXNoQ2FjaGUoKTtcblxuICAgICAgdGhpcy5fb3BTZXRRdWV1ZSA9IG9wU2V0UXVldWU7XG4gICAgICB0aGlzLl9zYXZpbmcgPSB0aGlzLl9zYXZpbmcgLSAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIGZldGNoIG9yIGxvZ2luIGlzIGNvbXBsZXRlIHRvIHNldCB0aGUga25vd24gc2VydmVyIGRhdGEgdG9cbiAgICAgKiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmlzaEZldGNoOiBmdW5jdGlvbiBfZmluaXNoRmV0Y2goc2VydmVyRGF0YSwgaGFzRGF0YSkge1xuICAgICAgLy8gQ2xlYXIgb3V0IGFueSBjaGFuZ2VzIHRoZSB1c2VyIG1pZ2h0IGhhdmUgbWFkZSBwcmV2aW91c2x5LlxuICAgICAgdGhpcy5fb3BTZXRRdWV1ZSA9IFt7fV07IC8vIEJyaW5nIGluIGFsbCB0aGUgbmV3IHNlcnZlciBkYXRhLlxuXG4gICAgICB0aGlzLl9tZXJnZU1hZ2ljRmllbGRzKHNlcnZlckRhdGEpO1xuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKHNlcnZlckRhdGEsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHNlbGYuX3NlcnZlckRhdGFba2V5XSA9IEFWLl9kZWNvZGUodmFsdWUsIGtleSk7XG4gICAgICB9KTsgLy8gUmVmcmVzaCB0aGUgYXR0cmlidXRlcy5cblxuXG4gICAgICB0aGlzLl9yZWJ1aWxkQWxsRXN0aW1hdGVkRGF0YSgpOyAvLyBDbGVhciBvdXQgdGhlIGNhY2hlIG9mIG11dGFibGUgY29udGFpbmVycy5cblxuXG4gICAgICB0aGlzLl9yZWZyZXNoQ2FjaGUoKTtcblxuICAgICAgdGhpcy5fb3BTZXRRdWV1ZSA9IFt7fV07XG4gICAgICB0aGlzLl9oYXNEYXRhID0gaGFzRGF0YTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgc2V0IG9mIEFWLk9wIGluIG9wU2V0IHRvIHRoZSBvYmplY3QgdGFyZ2V0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FwcGx5T3BTZXQ6IGZ1bmN0aW9uIF9hcHBseU9wU2V0KG9wU2V0LCB0YXJnZXQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgQVYuX29iamVjdEVhY2gob3BTZXQsIGZ1bmN0aW9uIChjaGFuZ2UsIGtleSkge1xuICAgICAgICB2YXIgX2ZpbmRWYWx1ZSA9IGZpbmRWYWx1ZSh0YXJnZXQsIGtleSksXG4gICAgICAgICAgICBfZmluZFZhbHVlMiA9ICgwLCBfc2xpY2VkVG9BcnJheTIuZGVmYXVsdCkoX2ZpbmRWYWx1ZSwgMyksXG4gICAgICAgICAgICB2YWx1ZSA9IF9maW5kVmFsdWUyWzBdLFxuICAgICAgICAgICAgYWN0dWFsVGFyZ2V0ID0gX2ZpbmRWYWx1ZTJbMV0sXG4gICAgICAgICAgICBhY3R1YWxLZXkgPSBfZmluZFZhbHVlMlsyXTtcblxuICAgICAgICBzZXRWYWx1ZSh0YXJnZXQsIGtleSwgY2hhbmdlLl9lc3RpbWF0ZSh2YWx1ZSwgc2VsZiwga2V5KSk7XG5cbiAgICAgICAgaWYgKGFjdHVhbFRhcmdldCAmJiBhY3R1YWxUYXJnZXRbYWN0dWFsS2V5XSA9PT0gQVYuT3AuX1VOU0VUKSB7XG4gICAgICAgICAgZGVsZXRlIGFjdHVhbFRhcmdldFthY3R1YWxLZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgdGhlIGNhY2hlZCB2YWx1ZSBmb3Iga2V5IHdpdGggdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBuZXcgdmFsdWUgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9sZCB2YWx1ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXNldENhY2hlRm9yS2V5OiBmdW5jdGlvbiBfcmVzZXRDYWNoZUZvcktleShrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuYXR0cmlidXRlc1trZXldO1xuXG4gICAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIEFWLk9iamVjdCkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIEFWLkZpbGUpKSB7XG4gICAgICAgIHZhciBqc29uID0gKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkocmVjdXJzaXZlVG9Qb2ludGVyKHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc2hlZEpTT05ba2V5XSAhPT0ganNvbikge1xuICAgICAgICAgIHZhciB3YXNTZXQgPSAhIXRoaXMuX2hhc2hlZEpTT05ba2V5XTtcbiAgICAgICAgICB0aGlzLl9oYXNoZWRKU09OW2tleV0gPSBqc29uO1xuICAgICAgICAgIHJldHVybiB3YXNTZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZXMgYXR0cmlidXRlc1trZXldIGJ5IHN0YXJ0aW5nIHdpdGggdGhlIGxhc3Qga25vd24gZGF0YSBmcm9tIHRoZVxuICAgICAqIHNlcnZlciwgYW5kIGFwcGx5aW5nIGFsbCBvZiB0aGUgbG9jYWwgY2hhbmdlcyB0aGF0IGhhdmUgYmVlbiBtYWRlIHRvIHRoYXRcbiAgICAgKiBrZXkgc2luY2UgdGhlbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWJ1aWxkRXN0aW1hdGVkRGF0YUZvcktleTogZnVuY3Rpb24gX3JlYnVpbGRFc3RpbWF0ZWREYXRhRm9yS2V5KGtleSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgZGVsZXRlIHRoaXMuYXR0cmlidXRlc1trZXldO1xuXG4gICAgICBpZiAodGhpcy5fc2VydmVyRGF0YVtrZXldKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1trZXldID0gdGhpcy5fc2VydmVyRGF0YVtrZXldO1xuICAgICAgfVxuXG4gICAgICBBVi5fYXJyYXlFYWNoKHRoaXMuX29wU2V0UXVldWUsIGZ1bmN0aW9uIChvcFNldCkge1xuICAgICAgICB2YXIgb3AgPSBvcFNldFtrZXldO1xuXG4gICAgICAgIGlmIChvcCkge1xuICAgICAgICAgIHZhciBfZmluZFZhbHVlMyA9IGZpbmRWYWx1ZShzZWxmLmF0dHJpYnV0ZXMsIGtleSksXG4gICAgICAgICAgICAgIF9maW5kVmFsdWU0ID0gKDAsIF9zbGljZWRUb0FycmF5Mi5kZWZhdWx0KShfZmluZFZhbHVlMywgNCksXG4gICAgICAgICAgICAgIHZhbHVlID0gX2ZpbmRWYWx1ZTRbMF0sXG4gICAgICAgICAgICAgIGFjdHVhbFRhcmdldCA9IF9maW5kVmFsdWU0WzFdLFxuICAgICAgICAgICAgICBhY3R1YWxLZXkgPSBfZmluZFZhbHVlNFsyXSxcbiAgICAgICAgICAgICAgZmlyc3RLZXkgPSBfZmluZFZhbHVlNFszXTtcblxuICAgICAgICAgIHNldFZhbHVlKHNlbGYuYXR0cmlidXRlcywga2V5LCBvcC5fZXN0aW1hdGUodmFsdWUsIHNlbGYsIGtleSkpO1xuXG4gICAgICAgICAgaWYgKGFjdHVhbFRhcmdldCAmJiBhY3R1YWxUYXJnZXRbYWN0dWFsS2V5XSA9PT0gQVYuT3AuX1VOU0VUKSB7XG4gICAgICAgICAgICBkZWxldGUgYWN0dWFsVGFyZ2V0W2FjdHVhbEtleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fcmVzZXRDYWNoZUZvcktleShmaXJzdEtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZXMgYXR0cmlidXRlcyBieSBzdGFydGluZyB3aXRoIHRoZSBsYXN0IGtub3duIGRhdGEgZnJvbSB0aGVcbiAgICAgKiBzZXJ2ZXIsIGFuZCBhcHBseWluZyBhbGwgb2YgdGhlIGxvY2FsIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gbWFkZSBzaW5jZVxuICAgICAqIHRoZW4uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVidWlsZEFsbEVzdGltYXRlZERhdGE6IGZ1bmN0aW9uIF9yZWJ1aWxkQWxsRXN0aW1hdGVkRGF0YSgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdmFyIHByZXZpb3VzQXR0cmlidXRlcyA9IF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcblxuICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gXy5jbG9uZSh0aGlzLl9zZXJ2ZXJEYXRhKTtcblxuICAgICAgQVYuX2FycmF5RWFjaCh0aGlzLl9vcFNldFF1ZXVlLCBmdW5jdGlvbiAob3BTZXQpIHtcbiAgICAgICAgc2VsZi5fYXBwbHlPcFNldChvcFNldCwgc2VsZi5hdHRyaWJ1dGVzKTtcblxuICAgICAgICBBVi5fb2JqZWN0RWFjaChvcFNldCwgZnVuY3Rpb24gKG9wLCBrZXkpIHtcbiAgICAgICAgICBzZWxmLl9yZXNldENhY2hlRm9yS2V5KGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7IC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50cyBmb3IgYW55dGhpbmcgdGhhdCBjaGFuZ2VkIGJlY2F1c2Ugb2YgdGhlIGZldGNoLlxuXG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKHByZXZpb3VzQXR0cmlidXRlcywgZnVuY3Rpb24gKG9sZFZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHNlbGYuYXR0cmlidXRlc1trZXldICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgIHNlbGYudHJpZ2dlcignY2hhbmdlOicgKyBrZXksIHNlbGYsIHNlbGYuYXR0cmlidXRlc1trZXldLCB7fSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBBVi5fb2JqZWN0RWFjaCh0aGlzLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChuZXdWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghXy5oYXMocHJldmlvdXNBdHRyaWJ1dGVzLCBrZXkpKSB7XG4gICAgICAgICAgc2VsZi50cmlnZ2VyKCdjaGFuZ2U6JyArIGtleSwgc2VsZiwgbmV3VmFsdWUsIHt9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBoYXNoIG9mIG1vZGVsIGF0dHJpYnV0ZXMgb24gdGhlIG9iamVjdCwgZmlyaW5nXG4gICAgICogPGNvZGU+XCJjaGFuZ2VcIjwvY29kZT4gdW5sZXNzIHlvdSBjaG9vc2UgdG8gc2lsZW5jZSBpdC5cbiAgICAgKlxuICAgICAqIDxwPllvdSBjYW4gY2FsbCBpdCB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIGtleXMgYW5kIHZhbHVlcywgb3Igd2l0aCBvbmVcbiAgICAgKiBrZXkgYW5kIHZhbHVlLiAgRm9yIGV4YW1wbGU6PC9wPlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBnYW1lVHVybi5zZXQoe1xuICAgICAqICAgcGxheWVyOiBwbGF5ZXIxLFxuICAgICAqICAgZGljZVJvbGw6IDJcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGdhbWUuc2V0KFwiY3VycmVudFBsYXllclwiLCBwbGF5ZXIyKTtcbiAgICAgKlxuICAgICAqIGdhbWUuc2V0KFwiZmluaXNoZWRcIiwgdHJ1ZSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gZ2l2ZSBpdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaWxlbnRdXG4gICAgICogQHJldHVybiB7QVYuT2JqZWN0fSBzZWxmIGlmIHN1Y2NlZWRlZCwgdGhyb3dzIGlmIHRoZSB2YWx1ZSBpcyBub3QgdmFsaWQuXG4gICAgICogQHNlZSBBVi5PYmplY3QjdmFsaWRhdGVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgYXR0cnM7XG5cbiAgICAgIGlmIChfLmlzT2JqZWN0KGtleSkgfHwgaXNOdWxsT3JVbmRlZmluZWQoa2V5KSkge1xuICAgICAgICBhdHRycyA9IF8ubWFwT2JqZWN0KGtleSwgZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICBjaGVja1Jlc2VydmVkS2V5KGspO1xuICAgICAgICAgIHJldHVybiBBVi5fZGVjb2RlKHYsIGspO1xuICAgICAgICB9KTtcbiAgICAgICAgb3B0aW9ucyA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXR0cnMgPSB7fTtcbiAgICAgICAgY2hlY2tSZXNlcnZlZEtleShrZXkpO1xuICAgICAgICBhdHRyc1trZXldID0gQVYuX2RlY29kZSh2YWx1ZSwga2V5KTtcbiAgICAgIH0gLy8gRXh0cmFjdCBhdHRyaWJ1dGVzIGFuZCBvcHRpb25zLlxuXG5cbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICBpZiAoIWF0dHJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICAgICAgYXR0cnMgPSBhdHRycy5hdHRyaWJ1dGVzO1xuICAgICAgfSAvLyBJZiB0aGUgdW5zZXQgb3B0aW9uIGlzIHVzZWQsIGV2ZXJ5IGF0dHJpYnV0ZSBzaG91bGQgYmUgYSBVbnNldC5cblxuXG4gICAgICBpZiAob3B0aW9ucy51bnNldCkge1xuICAgICAgICBBVi5fb2JqZWN0RWFjaChhdHRycywgZnVuY3Rpb24gKHVudXNlZF92YWx1ZSwga2V5KSB7XG4gICAgICAgICAgYXR0cnNba2V5XSA9IG5ldyBBVi5PcC5VbnNldCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gLy8gQXBwbHkgYWxsIHRoZSBhdHRyaWJ1dGVzIHRvIGdldCB0aGUgZXN0aW1hdGVkIHZhbHVlcy5cblxuXG4gICAgICB2YXIgZGF0YVRvVmFsaWRhdGUgPSBfLmNsb25lKGF0dHJzKTtcblxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBBVi5fb2JqZWN0RWFjaChkYXRhVG9WYWxpZGF0ZSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQVYuT3ApIHtcbiAgICAgICAgICBkYXRhVG9WYWxpZGF0ZVtrZXldID0gdmFsdWUuX2VzdGltYXRlKHNlbGYuYXR0cmlidXRlc1trZXldLCBzZWxmLCBrZXkpO1xuXG4gICAgICAgICAgaWYgKGRhdGFUb1ZhbGlkYXRlW2tleV0gPT09IEFWLk9wLl9VTlNFVCkge1xuICAgICAgICAgICAgZGVsZXRlIGRhdGFUb1ZhbGlkYXRlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTsgLy8gUnVuIHZhbGlkYXRpb24uXG5cblxuICAgICAgdGhpcy5fdmFsaWRhdGUoYXR0cnMsIG9wdGlvbnMpO1xuXG4gICAgICBvcHRpb25zLmNoYW5nZXMgPSB7fTtcbiAgICAgIHZhciBlc2NhcGVkID0gdGhpcy5fZXNjYXBlZEF0dHJpYnV0ZXM7IC8vIFVwZGF0ZSBhdHRyaWJ1dGVzLlxuXG4gICAgICBBVi5fYXJyYXlFYWNoKCgwLCBfa2V5czIuZGVmYXVsdCkoXykuY2FsbChfLCBhdHRycyksIGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhdHRyc1thdHRyXTsgLy8gSWYgdGhpcyBpcyBhIHJlbGF0aW9uIG9iamVjdCB3ZSBuZWVkIHRvIHNldCB0aGUgcGFyZW50IGNvcnJlY3RseSxcbiAgICAgICAgLy8gc2luY2UgdGhlIGxvY2F0aW9uIHdoZXJlIGl0IHdhcyBwYXJzZWQgZG9lcyBub3QgaGF2ZSBhY2Nlc3MgdG9cbiAgICAgICAgLy8gdGhpcyBvYmplY3QuXG5cbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFWLlJlbGF0aW9uKSB7XG4gICAgICAgICAgdmFsLnBhcmVudCA9IHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISh2YWwgaW5zdGFuY2VvZiBBVi5PcCkpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgQVYuT3AuU2V0KHZhbCk7XG4gICAgICAgIH0gLy8gU2VlIGlmIHRoaXMgY2hhbmdlIHdpbGwgYWN0dWFsbHkgaGF2ZSBhbnkgZWZmZWN0LlxuXG5cbiAgICAgICAgdmFyIGlzUmVhbENoYW5nZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFWLk9wLlNldCAmJiBfLmlzRXF1YWwoc2VsZi5hdHRyaWJ1dGVzW2F0dHJdLCB2YWwudmFsdWUpKSB7XG4gICAgICAgICAgaXNSZWFsQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSZWFsQ2hhbmdlKSB7XG4gICAgICAgICAgZGVsZXRlIGVzY2FwZWRbYXR0cl07XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIHNlbGYuX3NpbGVudFthdHRyXSA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2hhbmdlc1thdHRyXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRDaGFuZ2VzID0gXy5sYXN0KHNlbGYuX29wU2V0UXVldWUpO1xuXG4gICAgICAgIGN1cnJlbnRDaGFuZ2VzW2F0dHJdID0gdmFsLl9tZXJnZVdpdGhQcmV2aW91cyhjdXJyZW50Q2hhbmdlc1thdHRyXSk7XG5cbiAgICAgICAgc2VsZi5fcmVidWlsZEVzdGltYXRlZERhdGFGb3JLZXkoYXR0cik7XG5cbiAgICAgICAgaWYgKGlzUmVhbENoYW5nZSkge1xuICAgICAgICAgIHNlbGYuY2hhbmdlZFthdHRyXSA9IHNlbGYuYXR0cmlidXRlc1thdHRyXTtcblxuICAgICAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIHNlbGYuX3BlbmRpbmdbYXR0cl0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgc2VsZi5jaGFuZ2VkW2F0dHJdO1xuICAgICAgICAgIGRlbGV0ZSBzZWxmLl9wZW5kaW5nW2F0dHJdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkge1xuICAgICAgICB0aGlzLmNoYW5nZShvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBhdHRyaWJ1dGUgZnJvbSB0aGUgbW9kZWwsIGZpcmluZyA8Y29kZT5cImNoYW5nZVwiPC9jb2RlPiB1bmxlc3NcbiAgICAgKiB5b3UgY2hvb3NlIHRvIHNpbGVuY2UgaXQuIFRoaXMgaXMgYSBub29wIGlmIHRoZSBhdHRyaWJ1dGUgZG9lc24ndFxuICAgICAqIGV4aXN0LlxuICAgICAqIEBwYXJhbSBrZXkge1N0cmluZ30gVGhlIGtleS5cbiAgICAgKi9cbiAgICB1bnNldDogZnVuY3Rpb24gdW5zZXQoYXR0ciwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICBvcHRpb25zLnVuc2V0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBudWxsLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXRvbWljYWxseSBpbmNyZW1lbnRzIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gYXR0cmlidXRlIHRoZSBuZXh0IHRpbWUgdGhlXG4gICAgICogb2JqZWN0IGlzIHNhdmVkLiBJZiBubyBhbW91bnQgaXMgc3BlY2lmaWVkLCAxIGlzIHVzZWQgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkge1N0cmluZ30gVGhlIGtleS5cbiAgICAgKiBAcGFyYW0gYW1vdW50IHtOdW1iZXJ9IFRoZSBhbW91bnQgdG8gaW5jcmVtZW50IGJ5LlxuICAgICAqL1xuICAgIGluY3JlbWVudDogZnVuY3Rpb24gaW5jcmVtZW50KGF0dHIsIGFtb3VudCkge1xuICAgICAgaWYgKF8uaXNVbmRlZmluZWQoYW1vdW50KSB8fCBfLmlzTnVsbChhbW91bnQpKSB7XG4gICAgICAgIGFtb3VudCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBuZXcgQVYuT3AuSW5jcmVtZW50KGFtb3VudCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdG9taWNhbGx5IGFkZCBhbiBvYmplY3QgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXkgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW5cbiAgICAgKiBrZXkuXG4gICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAqIEBwYXJhbSBpdGVtIHt9IFRoZSBpdGVtIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChhdHRyLCBpdGVtKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoYXR0ciwgbmV3IEFWLk9wLkFkZChlbnN1cmVBcnJheShpdGVtKSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdG9taWNhbGx5IGFkZCBhbiBvYmplY3QgdG8gdGhlIGFycmF5IGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGtleSwgb25seVxuICAgICAqIGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQgaW4gdGhlIGFycmF5LiBUaGUgcG9zaXRpb24gb2YgdGhlIGluc2VydCBpc1xuICAgICAqIG5vdCBndWFyYW50ZWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAqIEBwYXJhbSBpdGVtIHt9IFRoZSBvYmplY3QgdG8gYWRkLlxuICAgICAqL1xuICAgIGFkZFVuaXF1ZTogZnVuY3Rpb24gYWRkVW5pcXVlKGF0dHIsIGl0ZW0pIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBuZXcgQVYuT3AuQWRkVW5pcXVlKGVuc3VyZUFycmF5KGl0ZW0pKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF0b21pY2FsbHkgcmVtb3ZlIGFsbCBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IGZyb20gdGhlIGFycmF5IGFzc29jaWF0ZWRcbiAgICAgKiB3aXRoIGEgZ2l2ZW4ga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAqIEBwYXJhbSBpdGVtIHt9IFRoZSBvYmplY3QgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGF0dHIsIGl0ZW0pIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBuZXcgQVYuT3AuUmVtb3ZlKGVuc3VyZUFycmF5KGl0ZW0pKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF0b21pY2FsbHkgYXBwbHkgYSBcImJpdCBhbmRcIiBvcGVyYXRpb24gb24gdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhXG4gICAgICogZ2l2ZW4ga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAqIEBwYXJhbSB2YWx1ZSB7TnVtYmVyfSBUaGUgdmFsdWUgdG8gYXBwbHkuXG4gICAgICovXG4gICAgYml0QW5kOiBmdW5jdGlvbiBiaXRBbmQoYXR0ciwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBuZXcgQVYuT3AuQml0QW5kKHZhbHVlKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF0b21pY2FsbHkgYXBwbHkgYSBcImJpdCBvclwiIG9wZXJhdGlvbiBvbiB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGFcbiAgICAgKiBnaXZlbiBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFRoZSBrZXkuXG4gICAgICogQHBhcmFtIHZhbHVlIHtOdW1iZXJ9IFRoZSB2YWx1ZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBiaXRPcjogZnVuY3Rpb24gYml0T3IoYXR0ciwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBuZXcgQVYuT3AuQml0T3IodmFsdWUpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXRvbWljYWxseSBhcHBseSBhIFwiYml0IHhvclwiIG9wZXJhdGlvbiBvbiB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGFcbiAgICAgKiBnaXZlbiBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFRoZSBrZXkuXG4gICAgICogQHBhcmFtIHZhbHVlIHtOdW1iZXJ9IFRoZSB2YWx1ZSB0byBhcHBseS5cbiAgICAgKi9cbiAgICBiaXRYb3I6IGZ1bmN0aW9uIGJpdFhvcihhdHRyLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KGF0dHIsIG5ldyBBVi5PcC5CaXRYb3IodmFsdWUpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBhIHN1YmNsYXNzIG9mIEFWLk9wIGRlc2NyaWJpbmcgd2hhdCBraW5kIG9mXG4gICAgICogbW9kaWZpY2F0aW9uIGhhcyBiZWVuIHBlcmZvcm1lZCBvbiB0aGlzIGZpZWxkIHNpbmNlIHRoZSBsYXN0IHRpbWUgaXQgd2FzXG4gICAgICogc2F2ZWQuIEZvciBleGFtcGxlLCBhZnRlciBjYWxsaW5nIG9iamVjdC5pbmNyZW1lbnQoXCJ4XCIpLCBjYWxsaW5nXG4gICAgICogb2JqZWN0Lm9wKFwieFwiKSB3b3VsZCByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgQVYuT3AuSW5jcmVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtBVi5PcH0gVGhlIG9wZXJhdGlvbiwgb3IgdW5kZWZpbmVkIGlmIG5vbmUuXG4gICAgICovXG4gICAgb3A6IGZ1bmN0aW9uIG9wKGF0dHIpIHtcbiAgICAgIHJldHVybiBfLmxhc3QodGhpcy5fb3BTZXRRdWV1ZSlbYXR0cl07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBhdHRyaWJ1dGVzIG9uIHRoZSBtb2RlbCwgZmlyaW5nIDxjb2RlPlwiY2hhbmdlXCI8L2NvZGU+IHVubGVzc1xuICAgICAqIHlvdSBjaG9vc2UgdG8gc2lsZW5jZSBpdC5cbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICBvcHRpb25zLnVuc2V0ID0gdHJ1ZTtcblxuICAgICAgdmFyIGtleXNUb0NsZWFyID0gXy5leHRlbmQodGhpcy5hdHRyaWJ1dGVzLCB0aGlzLl9vcGVyYXRpb25zKTtcblxuICAgICAgcmV0dXJuIHRoaXMuc2V0KGtleXNUb0NsZWFyLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFueSAob3Igc3BlY2lmaWMpIGNoYW5nZXMgdG8gdGhlIG1vZGVsIG1hZGUgc2luY2UgdGhlIGxhc3Qgc2F2ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW2tleXNdIHNwZWNpZnkga2V5cyB0byByZXZlcnQuXG4gICAgICovXG4gICAgcmV2ZXJ0OiBmdW5jdGlvbiByZXZlcnQoa2V5cykge1xuICAgICAgdmFyIGxhc3RPcCA9IF8ubGFzdCh0aGlzLl9vcFNldFF1ZXVlKTtcblxuICAgICAgdmFyIF9rZXlzID0gZW5zdXJlQXJyYXkoa2V5cyB8fCAoMCwgX2tleXMyLmRlZmF1bHQpKF8pLmNhbGwoXywgbGFzdE9wKSk7XG5cbiAgICAgIF9rZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgbGFzdE9wW2tleV07XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fcmVidWlsZEFsbEVzdGltYXRlZERhdGEoKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OLWVuY29kZWQgc2V0IG9mIG9wZXJhdGlvbnMgdG8gYmUgc2VudCB3aXRoIHRoZSBuZXh0IHNhdmVcbiAgICAgKiByZXF1ZXN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFNhdmVKU09OOiBmdW5jdGlvbiBfZ2V0U2F2ZUpTT04oKSB7XG4gICAgICB2YXIganNvbiA9IF8uY2xvbmUoXy5maXJzdCh0aGlzLl9vcFNldFF1ZXVlKSk7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKGpzb24sIGZ1bmN0aW9uIChvcCwga2V5KSB7XG4gICAgICAgIGpzb25ba2V5XSA9IG9wLnRvSlNPTigpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBqc29uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3QgY2FuIGJlIHNlcmlhbGl6ZWQgZm9yIHNhdmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jYW5CZVNlcmlhbGl6ZWQ6IGZ1bmN0aW9uIF9jYW5CZVNlcmlhbGl6ZWQoKSB7XG4gICAgICByZXR1cm4gQVYuT2JqZWN0Ll9jYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZldGNoIHRoZSBtb2RlbCBmcm9tIHRoZSBzZXJ2ZXIuIElmIHRoZSBzZXJ2ZXIncyByZXByZXNlbnRhdGlvbiBvZiB0aGVcbiAgICAgKiBtb2RlbCBkaWZmZXJzIGZyb20gaXRzIGN1cnJlbnQgYXR0cmlidXRlcywgdGhleSB3aWxsIGJlIG92ZXJyaWRlbixcbiAgICAgKiB0cmlnZ2VyaW5nIGEgPGNvZGU+XCJjaGFuZ2VcIjwvY29kZT4gZXZlbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZldGNoT3B0aW9ucyBPcHRpb25hbCBvcHRpb25zIHRvIHNldCAna2V5cycsXG4gICAgICogICAgICAnaW5jbHVkZScgYW5kICdpbmNsdWRlQUNMJyBvcHRpb24uXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBmZXRjaFxuICAgICAqICAgICBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkge1xuICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmV0Y2ggdW5zYXZlZCBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICB2YXIgcmVxdWVzdCA9IF9yZXF1ZXN0KCdjbGFzc2VzJywgdGhpcy5jbGFzc05hbWUsIHRoaXMuaWQsICdHRVQnLCB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMoZmV0Y2hPcHRpb25zKSwgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBmZXRjaGVkQXR0cnMgPSBzZWxmLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICBzZWxmLl9jbGVhbnVwVW5zZXRLZXlzKGZldGNoZWRBdHRycywgKDAsIF9rZXlzMi5kZWZhdWx0KShmZXRjaE9wdGlvbnMpID8gZW5zdXJlQXJyYXkoKDAsIF9rZXlzMi5kZWZhdWx0KShmZXRjaE9wdGlvbnMpKS5qb2luKCcsJykuc3BsaXQoJywnKSA6IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgc2VsZi5fZmluaXNoRmV0Y2goZmV0Y2hlZEF0dHJzLCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgX2NsZWFudXBVbnNldEtleXM6IGZ1bmN0aW9uIF9jbGVhbnVwVW5zZXRLZXlzKGZldGNoZWRBdHRycykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBmZXRjaGVkS2V5cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogKDAsIF9rZXlzMi5kZWZhdWx0KShfKS5jYWxsKF8sIHRoaXMuX3NlcnZlckRhdGEpO1xuXG4gICAgICBfLmZvckVhY2goZmV0Y2hlZEtleXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGZldGNoZWRBdHRyc1trZXldID09PSB1bmRlZmluZWQpIGRlbGV0ZSBfdGhpczIuX3NlcnZlckRhdGFba2V5XTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBoYXNoIG9mIG1vZGVsIGF0dHJpYnV0ZXMsIGFuZCBzYXZlIHRoZSBtb2RlbCB0byB0aGUgc2VydmVyLlxuICAgICAqIHVwZGF0ZWRBdCB3aWxsIGJlIHVwZGF0ZWQgd2hlbiB0aGUgcmVxdWVzdCByZXR1cm5zLlxuICAgICAqIFlvdSBjYW4gZWl0aGVyIGNhbGwgaXQgYXM6PHByZT5cbiAgICAgKiAgIG9iamVjdC5zYXZlKCk7PC9wcmU+XG4gICAgICogb3I8cHJlPlxuICAgICAqICAgb2JqZWN0LnNhdmUobnVsbCwgb3B0aW9ucyk7PC9wcmU+XG4gICAgICogb3I8cHJlPlxuICAgICAqICAgb2JqZWN0LnNhdmUoYXR0cnMsIG9wdGlvbnMpOzwvcHJlPlxuICAgICAqIG9yPHByZT5cbiAgICAgKiAgIG9iamVjdC5zYXZlKGtleSwgdmFsdWUsIG9wdGlvbnMpOzwvcHJlPlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBnYW1lVHVybi5zYXZlKHtcbiAgICAgKiAgIHBsYXllcjogXCJKYWtlIEN1dHRlclwiLFxuICAgICAqICAgZGljZVJvbGw6IDJcbiAgICAgKiB9KS50aGVuKGZ1bmN0aW9uKGdhbWVUdXJuQWdhaW4pIHtcbiAgICAgKiAgIC8vIFRoZSBzYXZlIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICogICAvLyBUaGUgc2F2ZSBmYWlsZWQuICBFcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBBVkVycm9yLlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9ucyBBdXRoT3B0aW9ucyBwbHVzOlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5mZXRjaFdoZW5TYXZlIGZldGNoIGFuZCB1cGRhdGUgb2JqZWN0IGFmdGVyIHNhdmUgc3VjY2VlZGVkXG4gICAgICogQHBhcmFtIHtBVi5RdWVyeX0gb3B0aW9ucy5xdWVyeSBTYXZlIG9iamVjdCBvbmx5IHdoZW4gaXQgbWF0Y2hlcyB0aGUgcXVlcnlcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgc2F2ZVxuICAgICAqICAgICBjb21wbGV0ZXMuXG4gICAgICogQHNlZSBBVkVycm9yXG4gICAgICovXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICB2YXIgYXR0cnMsIGN1cnJlbnQsIG9wdGlvbnM7XG5cbiAgICAgIGlmIChfLmlzT2JqZWN0KGFyZzEpIHx8IGlzTnVsbE9yVW5kZWZpbmVkKGFyZzEpKSB7XG4gICAgICAgIGF0dHJzID0gYXJnMTtcbiAgICAgICAgb3B0aW9ucyA9IGFyZzI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRycyA9IHt9O1xuICAgICAgICBhdHRyc1thcmcxXSA9IGFyZzI7XG4gICAgICAgIG9wdGlvbnMgPSBhcmczO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gXy5jbG9uZShvcHRpb25zKSB8fCB7fTtcblxuICAgICAgaWYgKG9wdGlvbnMud2FpdCkge1xuICAgICAgICBjdXJyZW50ID0gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2V0T3B0aW9ucyA9IF8uY2xvbmUob3B0aW9ucykgfHwge307XG5cbiAgICAgIGlmIChzZXRPcHRpb25zLndhaXQpIHtcbiAgICAgICAgc2V0T3B0aW9ucy5zaWxlbnQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgdGhpcy5zZXQoYXR0cnMsIHNldE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgdmFyIHVuc2F2ZWRDaGlsZHJlbiA9IFtdO1xuICAgICAgdmFyIHVuc2F2ZWRGaWxlcyA9IFtdO1xuXG4gICAgICBBVi5PYmplY3QuX2ZpbmRVbnNhdmVkQ2hpbGRyZW4obW9kZWwsIHVuc2F2ZWRDaGlsZHJlbiwgdW5zYXZlZEZpbGVzKTtcblxuICAgICAgaWYgKHVuc2F2ZWRDaGlsZHJlbi5sZW5ndGggKyB1bnNhdmVkRmlsZXMubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4gQVYuT2JqZWN0Ll9kZWVwU2F2ZUFzeW5jKHRoaXMsIG1vZGVsLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3RhcnRTYXZlKCk7XG5cbiAgICAgIHRoaXMuX3NhdmluZyA9ICh0aGlzLl9zYXZpbmcgfHwgMCkgKyAxO1xuICAgICAgdGhpcy5fYWxsUHJldmlvdXNTYXZlcyA9IHRoaXMuX2FsbFByZXZpb3VzU2F2ZXMgfHwgX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKCk7XG4gICAgICB0aGlzLl9hbGxQcmV2aW91c1NhdmVzID0gdGhpcy5fYWxsUHJldmlvdXNTYXZlcy5jYXRjaChmdW5jdGlvbiAoZSkge30pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWV0aG9kID0gbW9kZWwuaWQgPyAnUFVUJyA6ICdQT1NUJztcblxuICAgICAgICB2YXIganNvbiA9IG1vZGVsLl9nZXRTYXZlSlNPTigpO1xuXG4gICAgICAgIHZhciBxdWVyeSA9IHt9O1xuXG4gICAgICAgIGlmIChtb2RlbC5fZmV0Y2hXaGVuU2F2ZSB8fCBvcHRpb25zLmZldGNoV2hlblNhdmUpIHtcbiAgICAgICAgICBxdWVyeVsnbmV3J10gPSAndHJ1ZSc7XG4gICAgICAgIH0gLy8gdXNlciBsb2dpbiBvcHRpb25cblxuXG4gICAgICAgIGlmIChvcHRpb25zLl9mYWlsT25Ob3RFeGlzdCkge1xuICAgICAgICAgIHF1ZXJ5LmZhaWxPbk5vdEV4aXN0ID0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucXVlcnkpIHtcbiAgICAgICAgICB2YXIgcXVlcnlQYXJhbXM7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucXVlcnkuX2dldFBhcmFtcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSBvcHRpb25zLnF1ZXJ5Ll9nZXRQYXJhbXMoKTtcblxuICAgICAgICAgICAgaWYgKHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlQYXJhbXMud2hlcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFxdWVyeS53aGVyZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdvcHRpb25zLnF1ZXJ5IGlzIG5vdCBhbiBBVi5RdWVyeScpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgXy5leHRlbmQoanNvbiwgbW9kZWwuX2ZsYWdzKTtcblxuICAgICAgICB2YXIgcm91dGUgPSAnY2xhc3Nlcyc7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBtb2RlbC5jbGFzc05hbWU7XG5cbiAgICAgICAgaWYgKG1vZGVsLmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJiAhbW9kZWwuaWQpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsLWNhc2UgdXNlciBzaWduLXVwLlxuICAgICAgICAgIHJvdXRlID0gJ3VzZXJzJztcbiAgICAgICAgICBjbGFzc05hbWUgPSBudWxsO1xuICAgICAgICB9IC8vaG9vayBtYWtlUmVxdWVzdCBpbiBvcHRpb25zLlxuXG5cbiAgICAgICAgdmFyIG1ha2VSZXF1ZXN0ID0gb3B0aW9ucy5fbWFrZVJlcXVlc3QgfHwgX3JlcXVlc3Q7XG4gICAgICAgIHZhciByZXF1ZXN0UHJvbWlzZSA9IG1ha2VSZXF1ZXN0KHJvdXRlLCBjbGFzc05hbWUsIG1vZGVsLmlkLCBtZXRob2QsIGpzb24sIG9wdGlvbnMsIHF1ZXJ5KTtcbiAgICAgICAgcmVxdWVzdFByb21pc2UgPSByZXF1ZXN0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgdmFyIHNlcnZlckF0dHJzID0gbW9kZWwucGFyc2UocmVzcCk7XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy53YWl0KSB7XG4gICAgICAgICAgICBzZXJ2ZXJBdHRycyA9IF8uZXh0ZW5kKGF0dHJzIHx8IHt9LCBzZXJ2ZXJBdHRycyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbW9kZWwuX2ZpbmlzaFNhdmUoc2VydmVyQXR0cnMpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMud2FpdCkge1xuICAgICAgICAgICAgbW9kZWwuc2V0KGN1cnJlbnQsIHNldE9wdGlvbnMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgbW9kZWwuX2NhbmNlbFNhdmUoKTtcblxuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RQcm9taXNlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWxsUHJldmlvdXNTYXZlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIG1vZGVsIG9uIHRoZSBzZXJ2ZXIgaWYgaXQgd2FzIGFscmVhZHkgcGVyc2lzdGVkLlxuICAgICAqIE9wdGltaXN0aWNhbGx5IHJlbW92ZXMgdGhlIG1vZGVsIGZyb20gaXRzIGNvbGxlY3Rpb24sIGlmIGl0IGhhcyBvbmUuXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9ucyBBdXRoT3B0aW9ucyBwbHVzOlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2FpdF0gd2FpdCBmb3IgdGhlIHNlcnZlciB0byByZXNwb25kXG4gICAgICogYmVmb3JlIHJlbW92YWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgZGVzdHJveVxuICAgICAqICAgICBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG5cbiAgICAgIHZhciB0cmlnZ2VyRGVzdHJveSA9IGZ1bmN0aW9uIHRyaWdnZXJEZXN0cm95KCkge1xuICAgICAgICBtb2RlbC50cmlnZ2VyKCdkZXN0cm95JywgbW9kZWwsIG1vZGVsLmNvbGxlY3Rpb24sIG9wdGlvbnMpO1xuICAgICAgfTtcblxuICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgIHJldHVybiB0cmlnZ2VyRGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW9wdGlvbnMud2FpdCkge1xuICAgICAgICB0cmlnZ2VyRGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVxdWVzdCA9IF9yZXF1ZXN0KCdjbGFzc2VzJywgdGhpcy5jbGFzc05hbWUsIHRoaXMuaWQsICdERUxFVEUnLCB0aGlzLl9mbGFncywgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0aW9ucy53YWl0KSB7XG4gICAgICAgICAgdHJpZ2dlckRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHJlc3BvbnNlIGludG8gdGhlIGhhc2ggb2YgYXR0cmlidXRlcyB0byBiZSBzZXQgb24gdGhlIG1vZGVsLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UocmVzcCkge1xuICAgICAgdmFyIG91dHB1dCA9IF8uY2xvbmUocmVzcCk7XG5cbiAgICAgIFsnY3JlYXRlZEF0JywgJ3VwZGF0ZWRBdCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAob3V0cHV0W2tleV0pIHtcbiAgICAgICAgICBvdXRwdXRba2V5XSA9IEFWLl9wYXJzZURhdGUob3V0cHV0W2tleV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKG91dHB1dC5jcmVhdGVkQXQgJiYgIW91dHB1dC51cGRhdGVkQXQpIHtcbiAgICAgICAgb3V0cHV0LnVwZGF0ZWRBdCA9IG91dHB1dC5jcmVhdGVkQXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbW9kZWwgd2l0aCBpZGVudGljYWwgYXR0cmlidXRlcyB0byB0aGlzIG9uZS5cbiAgICAgKiBAcmV0dXJuIHtBVi5PYmplY3R9XG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG9iamVjdCBoYXMgbmV2ZXIgYmVlbiBzYXZlZCB0byBBVi5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzTmV3OiBmdW5jdGlvbiBpc05ldygpIHtcbiAgICAgIHJldHVybiAhdGhpcy5pZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBtYW51YWxseSBmaXJlIGEgYFwiY2hhbmdlXCJgIGV2ZW50IGZvciB0aGlzIG1vZGVsIGFuZFxuICAgICAqIGEgYFwiY2hhbmdlOmF0dHJpYnV0ZVwiYCBldmVudCBmb3IgZWFjaCBjaGFuZ2VkIGF0dHJpYnV0ZS5cbiAgICAgKiBDYWxsaW5nIHRoaXMgd2lsbCBjYXVzZSBhbGwgb2JqZWN0cyBvYnNlcnZpbmcgdGhlIG1vZGVsIHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBjaGFuZ2luZyA9IHRoaXMuX2NoYW5naW5nO1xuICAgICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlOyAvLyBTaWxlbnQgY2hhbmdlcyBiZWNvbWUgcGVuZGluZyBjaGFuZ2VzLlxuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuX3NpbGVudCwgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgc2VsZi5fcGVuZGluZ1thdHRyXSA9IHRydWU7XG4gICAgICB9KTsgLy8gU2lsZW50IGNoYW5nZXMgYXJlIHRyaWdnZXJlZC5cblxuXG4gICAgICB2YXIgY2hhbmdlcyA9IF8uZXh0ZW5kKHt9LCBvcHRpb25zLmNoYW5nZXMsIHRoaXMuX3NpbGVudCk7XG5cbiAgICAgIHRoaXMuX3NpbGVudCA9IHt9O1xuXG4gICAgICBBVi5fb2JqZWN0RWFjaChjaGFuZ2VzLCBmdW5jdGlvbiAodW51c2VkX3ZhbHVlLCBhdHRyKSB7XG4gICAgICAgIHNlbGYudHJpZ2dlcignY2hhbmdlOicgKyBhdHRyLCBzZWxmLCBzZWxmLmdldChhdHRyKSwgb3B0aW9ucyk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGNoYW5naW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSAvLyBUaGlzIGlzIHRvIGdldCBhcm91bmQgbGludCBub3QgbGV0dGluZyB1cyBtYWtlIGEgZnVuY3Rpb24gaW4gYSBsb29wLlxuXG5cbiAgICAgIHZhciBkZWxldGVDaGFuZ2VkID0gZnVuY3Rpb24gZGVsZXRlQ2hhbmdlZCh2YWx1ZSwgYXR0cikge1xuICAgICAgICBpZiAoIXNlbGYuX3BlbmRpbmdbYXR0cl0gJiYgIXNlbGYuX3NpbGVudFthdHRyXSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmLmNoYW5nZWRbYXR0cl07XG4gICAgICAgIH1cbiAgICAgIH07IC8vIENvbnRpbnVlIGZpcmluZyBgXCJjaGFuZ2VcImAgZXZlbnRzIHdoaWxlIHRoZXJlIGFyZSBwZW5kaW5nIGNoYW5nZXMuXG5cblxuICAgICAgd2hpbGUgKCFfLmlzRW1wdHkodGhpcy5fcGVuZGluZykpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZyA9IHt9O1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIHRoaXMsIG9wdGlvbnMpOyAvLyBQZW5kaW5nIGFuZCBzaWxlbnQgY2hhbmdlcyBzdGlsbCByZW1haW4uXG5cbiAgICAgICAgQVYuX29iamVjdEVhY2godGhpcy5jaGFuZ2VkLCBkZWxldGVDaGFuZ2VkKTtcblxuICAgICAgICBzZWxmLl9wcmV2aW91c0F0dHJpYnV0ZXMgPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NoYW5naW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJldmlvdXMgdmFsdWUgb2YgYW4gYXR0cmlidXRlLCByZWNvcmRlZCBhdCB0aGUgdGltZSB0aGUgbGFzdFxuICAgICAqIDxjb2RlPlwiY2hhbmdlXCI8L2NvZGU+IGV2ZW50IHdhcyBmaXJlZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZ2V0LlxuICAgICAqL1xuICAgIHByZXZpb3VzOiBmdW5jdGlvbiBwcmV2aW91cyhhdHRyKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGggfHwgIXRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlc1thdHRyXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIG1vZGVsIGF0IHRoZSB0aW1lIG9mIHRoZSBwcmV2aW91c1xuICAgICAqIDxjb2RlPlwiY2hhbmdlXCI8L2NvZGU+IGV2ZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBwcmV2aW91c0F0dHJpYnV0ZXM6IGZ1bmN0aW9uIHByZXZpb3VzQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBfLmNsb25lKHRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgbW9kZWwgaXMgY3VycmVudGx5IGluIGEgdmFsaWQgc3RhdGUuIEl0J3Mgb25seSBwb3NzaWJsZSB0b1xuICAgICAqIGdldCBpbnRvIGFuICppbnZhbGlkKiBzdGF0ZSBpZiB5b3UncmUgdXNpbmcgc2lsZW50IGNoYW5nZXMuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCBub3QgY2FsbCB0aGlzIGZ1bmN0aW9uIGRpcmVjdGx5IHVubGVzcyB5b3Ugc3ViY2xhc3NcbiAgICAgKiA8Y29kZT5BVi5PYmplY3Q8L2NvZGU+LCBpbiB3aGljaCBjYXNlIHlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2RcbiAgICAgKiB0byBwcm92aWRlIGFkZGl0aW9uYWwgdmFsaWRhdGlvbiBvbiA8Y29kZT5zZXQ8L2NvZGU+IGFuZFxuICAgICAqIDxjb2RlPnNhdmU8L2NvZGU+LiAgWW91ciBpbXBsZW1lbnRhdGlvbiBzaG91bGQgdGhyb3cgYW4gRXJyb3IgaWZcbiAgICAgKiB0aGUgYXR0cnMgaXMgaW52YWxpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIFRoZSBjdXJyZW50IGRhdGEgdG8gdmFsaWRhdGUuXG4gICAgICogQHNlZSBBVi5PYmplY3Qjc2V0XG4gICAgICovXG4gICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGF0dHJzKSB7XG4gICAgICBpZiAoXy5oYXMoYXR0cnMsICdBQ0wnKSAmJiAhKGF0dHJzLkFDTCBpbnN0YW5jZW9mIEFWLkFDTCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgJ0FDTCBtdXN0IGJlIGEgQVYuQUNMLicpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSdW4gdmFsaWRhdGlvbiBhZ2FpbnN0IGEgc2V0IG9mIGluY29taW5nIGF0dHJpYnV0ZXMsIHJldHVybmluZyBgdHJ1ZWBcbiAgICAgKiBpZiBhbGwgaXMgd2VsbC4gSWYgYSBzcGVjaWZpYyBgZXJyb3JgIGNhbGxiYWNrIGhhcyBiZWVuIHBhc3NlZCxcbiAgICAgKiBjYWxsIHRoYXQgaW5zdGVhZCBvZiBmaXJpbmcgdGhlIGdlbmVyYWwgYFwiZXJyb3JcImAgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdmFsaWRhdGU6IGZ1bmN0aW9uIF92YWxpZGF0ZShhdHRycywgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuc2lsZW50IHx8ICF0aGlzLnZhbGlkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXR0cnMgPSBfLmV4dGVuZCh7fSwgdGhpcy5hdHRyaWJ1dGVzLCBhdHRycyk7XG4gICAgICB0aGlzLnZhbGlkYXRlKGF0dHJzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgQUNMIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7QVYuQUNMfSBBbiBpbnN0YW5jZSBvZiBBVi5BQ0wuXG4gICAgICogQHNlZSBBVi5PYmplY3QjZ2V0XG4gICAgICovXG4gICAgZ2V0QUNMOiBmdW5jdGlvbiBnZXRBQ0woKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ0FDTCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBBQ0wgdG8gYmUgdXNlZCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtBVi5BQ0x9IGFjbCBBbiBpbnN0YW5jZSBvZiBBVi5BQ0wuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQmFja2JvbmUtbGlrZSBvcHRpb25zIG9iamVjdCB0byBiZVxuICAgICAqICAgICBwYXNzZWQgaW4gdG8gc2V0LlxuICAgICAqIEByZXR1cm4ge0FWLk9iamVjdH0gc2VsZlxuICAgICAqIEBzZWUgQVYuT2JqZWN0I3NldFxuICAgICAqL1xuICAgIHNldEFDTDogZnVuY3Rpb24gc2V0QUNMKGFjbCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdBQ0wnLCBhY2wsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZGlzYWJsZUJlZm9yZUhvb2s6IGZ1bmN0aW9uIGRpc2FibGVCZWZvcmVIb29rKCkge1xuICAgICAgdGhpcy5pZ25vcmVIb29rKCdiZWZvcmVTYXZlJyk7XG4gICAgICB0aGlzLmlnbm9yZUhvb2soJ2JlZm9yZVVwZGF0ZScpO1xuICAgICAgdGhpcy5pZ25vcmVIb29rKCdiZWZvcmVEZWxldGUnKTtcbiAgICB9LFxuICAgIGRpc2FibGVBZnRlckhvb2s6IGZ1bmN0aW9uIGRpc2FibGVBZnRlckhvb2soKSB7XG4gICAgICB0aGlzLmlnbm9yZUhvb2soJ2FmdGVyU2F2ZScpO1xuICAgICAgdGhpcy5pZ25vcmVIb29rKCdhZnRlclVwZGF0ZScpO1xuICAgICAgdGhpcy5pZ25vcmVIb29rKCdhZnRlckRlbGV0ZScpO1xuICAgIH0sXG4gICAgaWdub3JlSG9vazogZnVuY3Rpb24gaWdub3JlSG9vayhob29rTmFtZSkge1xuICAgICAgaWYgKCFfLmNvbnRhaW5zKFsnYmVmb3JlU2F2ZScsICdhZnRlclNhdmUnLCAnYmVmb3JlVXBkYXRlJywgJ2FmdGVyVXBkYXRlJywgJ2JlZm9yZURlbGV0ZScsICdhZnRlckRlbGV0ZSddLCBob29rTmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBob29rTmFtZTogJyArIGhvb2tOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFBVi5ob29rS2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaWdub3JlSG9vayByZXF1aXJlZCBob29rS2V5Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fZmxhZ3MuX19pZ25vcmVfaG9va3MpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MuX19pZ25vcmVfaG9va3MgPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZmxhZ3MuX19pZ25vcmVfaG9va3MucHVzaChob29rTmFtZSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBzdWJjbGFzcyBvZiBBVi5PYmplY3QgZm9yIHRoZSBnaXZlIGNsYXNzbmFtZVxuICAgKiBhbmQgaWQuXG4gICAqIEBwYXJhbSAge1N0cmluZ3xGdW5jdGlvbn0gY2xhc3MgdGhlIGNsYXNzTmFtZSBvciBhIHN1YmNsYXNzIG9mIEFWLk9iamVjdC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIFRoZSBvYmplY3QgaWQgb2YgdGhpcyBtb2RlbC5cbiAgICogQHJldHVybiB7QVYuT2JqZWN0fSBBIG5ldyBzdWJjbGFzcyBpbnN0YW5jZSBvZiBBVi5PYmplY3QuXG4gICAqL1xuXG5cbiAgQVYuT2JqZWN0LmNyZWF0ZVdpdGhvdXREYXRhID0gZnVuY3Rpb24gKGtsYXNzLCBpZCwgaGFzRGF0YSkge1xuICAgIHZhciBfa2xhc3M7XG5cbiAgICBpZiAoXy5pc1N0cmluZyhrbGFzcykpIHtcbiAgICAgIF9rbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3Moa2xhc3MpO1xuICAgIH0gZWxzZSBpZiAoa2xhc3MucHJvdG90eXBlICYmIGtsYXNzLnByb3RvdHlwZSBpbnN0YW5jZW9mIEFWLk9iamVjdCkge1xuICAgICAgX2tsYXNzID0ga2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xhc3MgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN1YmNsYXNzIG9mIEFWLk9iamVjdC4nKTtcbiAgICB9XG5cbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb2JqZWN0SWQgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgIH1cblxuICAgIHZhciBvYmplY3QgPSBuZXcgX2tsYXNzKCk7XG4gICAgb2JqZWN0LmlkID0gaWQ7XG4gICAgb2JqZWN0Ll9oYXNEYXRhID0gaGFzRGF0YTtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xuICAvKipcbiAgICogRGVsZXRlIG9iamVjdHMgaW4gYmF0Y2guXG4gICAqIEBwYXJhbSB7QVYuT2JqZWN0W119IG9iamVjdHMgVGhlIDxjb2RlPkFWLk9iamVjdDwvY29kZT4gYXJyYXkgdG8gYmUgZGVsZXRlZC5cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgc2F2ZVxuICAgKiAgICAgY29tcGxldGVzLlxuICAgKi9cblxuXG4gIEFWLk9iamVjdC5kZXN0cm95QWxsID0gZnVuY3Rpb24gKG9iamVjdHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICBpZiAoIW9iamVjdHMgfHwgb2JqZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB2YXIgb2JqZWN0c0J5Q2xhc3NOYW1lQW5kRmxhZ3MgPSBfLmdyb3VwQnkob2JqZWN0cywgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuICgwLCBfc3RyaW5naWZ5LmRlZmF1bHQpKHtcbiAgICAgICAgY2xhc3NOYW1lOiBvYmplY3QuY2xhc3NOYW1lLFxuICAgICAgICBmbGFnczogb2JqZWN0Ll9mbGFnc1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgYm9keSA9IHtcbiAgICAgIHJlcXVlc3RzOiAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIG9iamVjdHNCeUNsYXNzTmFtZUFuZEZsYWdzLCBmdW5jdGlvbiAob2JqZWN0cykge1xuICAgICAgICB2YXIgX2NvbnRleHQzO1xuXG4gICAgICAgIHZhciBpZHMgPSAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIG9iamVjdHMsICdpZCcpLmpvaW4oJywnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIHBhdGg6ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0MyA9IFwiLzEuMS9jbGFzc2VzL1wiLmNvbmNhdChvYmplY3RzWzBdLmNsYXNzTmFtZSwgXCIvXCIpKS5jYWxsKF9jb250ZXh0MywgaWRzKSxcbiAgICAgICAgICBib2R5OiBvYmplY3RzWzBdLl9mbGFnc1xuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9O1xuICAgIHJldHVybiBfcmVxdWVzdCgnYmF0Y2gnLCBudWxsLCBudWxsLCAnUE9TVCcsIGJvZHksIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgZmlyc3RFcnJvciA9ICgwLCBfZmluZC5kZWZhdWx0KShfKS5jYWxsKF8sIHJlc3BvbnNlLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiAhcmVzdWx0LnN1Y2Nlc3M7XG4gICAgICB9KTtcbiAgICAgIGlmIChmaXJzdEVycm9yKSB0aHJvdyBuZXcgQVZFcnJvcihmaXJzdEVycm9yLmVycm9yLmNvZGUsIGZpcnN0RXJyb3IuZXJyb3IuZXJyb3IpO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFwcHJvcHJpYXRlIHN1YmNsYXNzIGZvciBtYWtpbmcgbmV3IGluc3RhbmNlcyBvZiB0aGUgZ2l2ZW5cbiAgICogY2xhc3NOYW1lIHN0cmluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBBVi5PYmplY3QuX2dldFN1YmNsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIGlmICghXy5pc1N0cmluZyhjbGFzc05hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLk9iamVjdC5fZ2V0U3ViY2xhc3MgcmVxdWlyZXMgYSBzdHJpbmcgYXJndW1lbnQuJyk7XG4gICAgfVxuXG4gICAgdmFyIE9iamVjdENsYXNzID0gQVYuT2JqZWN0Ll9jbGFzc01hcFtjbGFzc05hbWVdO1xuXG4gICAgaWYgKCFPYmplY3RDbGFzcykge1xuICAgICAgT2JqZWN0Q2xhc3MgPSBBVi5PYmplY3QuZXh0ZW5kKGNsYXNzTmFtZSk7XG4gICAgICBBVi5PYmplY3QuX2NsYXNzTWFwW2NsYXNzTmFtZV0gPSBPYmplY3RDbGFzcztcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0Q2xhc3M7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgc3ViY2xhc3Mgb2YgQVYuT2JqZWN0IGZvciB0aGUgZ2l2ZW4gY2xhc3NuYW1lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEFWLk9iamVjdC5fY3JlYXRlID0gZnVuY3Rpb24gKGNsYXNzTmFtZSwgYXR0cmlidXRlcywgb3B0aW9ucykge1xuICAgIHZhciBPYmplY3RDbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3MoY2xhc3NOYW1lKTtcblxuICAgIHJldHVybiBuZXcgT2JqZWN0Q2xhc3MoYXR0cmlidXRlcywgb3B0aW9ucyk7XG4gIH07IC8vIFNldCB1cCBhIG1hcCBvZiBjbGFzc05hbWUgdG8gY2xhc3Mgc28gdGhhdCB3ZSBjYW4gY3JlYXRlIG5ldyBpbnN0YW5jZXMgb2ZcbiAgLy8gQVYgT2JqZWN0cyBmcm9tIEpTT04gYXV0b21hdGljYWxseS5cblxuXG4gIEFWLk9iamVjdC5fY2xhc3NNYXAgPSB7fTtcbiAgQVYuT2JqZWN0Ll9leHRlbmQgPSBBVi5fZXh0ZW5kO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBtb2RlbCB3aXRoIGRlZmluZWQgYXR0cmlidXRlcyxcbiAgICogSXQncyB0aGUgc2FtZSB3aXRoXG4gICAqIDxwcmU+XG4gICAqICAgbmV3IEFWLk9iamVjdChhdHRyaWJ1dGVzLCBvcHRpb25zKTtcbiAgICogIDwvcHJlPlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBUaGUgaW5pdGlhbCBzZXQgb2YgZGF0YSB0byBzdG9yZSBpbiB0aGUgb2JqZWN0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIHNldCBvZiBCYWNrYm9uZS1saWtlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZVxuICAgKiAgICAgb2JqZWN0LiAgVGhlIG9ubHkgb3B0aW9uIGN1cnJlbnRseSBzdXBwb3J0ZWQgaXMgXCJjb2xsZWN0aW9uXCIuXG4gICAqIEByZXR1cm4ge0FWLk9iamVjdH1cbiAgICogQHNpbmNlIHYwLjQuNFxuICAgKiBAc2VlIEFWLk9iamVjdFxuICAgKiBAc2VlIEFWLk9iamVjdC5leHRlbmRcbiAgICovXG5cbiAgQVYuT2JqZWN0WyduZXcnXSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PYmplY3QoYXR0cmlidXRlcywgb3B0aW9ucyk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHN1YmNsYXNzIG9mIEFWLk9iamVjdCBmb3IgdGhlIGdpdmVuIEFWIGNsYXNzIG5hbWUuXG4gICAqXG4gICAqIDxwPkV2ZXJ5IGV4dGVuc2lvbiBvZiBhIEFWIGNsYXNzIHdpbGwgaW5oZXJpdCBmcm9tIHRoZSBtb3N0IHJlY2VudFxuICAgKiBwcmV2aW91cyBleHRlbnNpb24gb2YgdGhhdCBjbGFzcy4gV2hlbiBhIEFWLk9iamVjdCBpcyBhdXRvbWF0aWNhbGx5XG4gICAqIGNyZWF0ZWQgYnkgcGFyc2luZyBKU09OLCBpdCB3aWxsIHVzZSB0aGUgbW9zdCByZWNlbnQgZXh0ZW5zaW9uIG9mIHRoYXRcbiAgICogY2xhc3MuPC9wPlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgTXlDbGFzcyA9IEFWLk9iamVjdC5leHRlbmQoXCJNeUNsYXNzXCIsIHtcbiAgICogICAgIC8vIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICogfSwge1xuICAgKiAgICAgLy8gQ2xhc3MgcHJvcGVydGllc1xuICAgKiB9KTtcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZSBUaGUgbmFtZSBvZiB0aGUgQVYgY2xhc3MgYmFja2luZyB0aGlzIG1vZGVsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG9Qcm9wcyBJbnN0YW5jZSBwcm9wZXJ0aWVzIHRvIGFkZCB0byBpbnN0YW5jZXMgb2YgdGhlXG4gICAqICAgICBjbGFzcyByZXR1cm5lZCBmcm9tIHRoaXMgbWV0aG9kLlxuICAgKiBAcGFyYW0ge09iamVjdH0gY2xhc3NQcm9wcyBDbGFzcyBwcm9wZXJ0aWVzIHRvIGFkZCB0aGUgY2xhc3MgcmV0dXJuZWQgZnJvbVxuICAgKiAgICAgdGhpcyBtZXRob2QuXG4gICAqIEByZXR1cm4ge0NsYXNzfSBBIG5ldyBzdWJjbGFzcyBvZiBBVi5PYmplY3QuXG4gICAqL1xuXG5cbiAgQVYuT2JqZWN0LmV4dGVuZCA9IGZ1bmN0aW9uIChjbGFzc05hbWUsIHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpIHtcbiAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2l0aCBvbmx5IHR3byBhcmdzLlxuICAgIGlmICghXy5pc1N0cmluZyhjbGFzc05hbWUpKSB7XG4gICAgICBpZiAoY2xhc3NOYW1lICYmIF8uaGFzKGNsYXNzTmFtZSwgJ2NsYXNzTmFtZScpKSB7XG4gICAgICAgIHJldHVybiBBVi5PYmplY3QuZXh0ZW5kKGNsYXNzTmFtZS5jbGFzc05hbWUsIGNsYXNzTmFtZSwgcHJvdG9Qcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBVi5PYmplY3QuZXh0ZW5kJ3MgZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIHRoZSBjbGFzc05hbWUuXCIpO1xuICAgICAgfVxuICAgIH0gLy8gSWYgc29tZW9uZSB0cmllcyB0byBzdWJjbGFzcyBcIlVzZXJcIiwgY29lcmNlIGl0IHRvIHRoZSByaWdodCB0eXBlLlxuXG5cbiAgICBpZiAoY2xhc3NOYW1lID09PSAnVXNlcicpIHtcbiAgICAgIGNsYXNzTmFtZSA9ICdfVXNlcic7XG4gICAgfVxuXG4gICAgdmFyIE5ld0NsYXNzT2JqZWN0ID0gbnVsbDtcblxuICAgIGlmIChfLmhhcyhBVi5PYmplY3QuX2NsYXNzTWFwLCBjbGFzc05hbWUpKSB7XG4gICAgICB2YXIgT2xkQ2xhc3NPYmplY3QgPSBBVi5PYmplY3QuX2NsYXNzTWFwW2NsYXNzTmFtZV07IC8vIFRoaXMgbmV3IHN1YmNsYXNzIGhhcyBiZWVuIHRvbGQgdG8gZXh0ZW5kIGJvdGggZnJvbSBcInRoaXNcIiBhbmQgZnJvbVxuICAgICAgLy8gT2xkQ2xhc3NPYmplY3QuIFRoaXMgaXMgbXVsdGlwbGUgaW5oZXJpdGFuY2UsIHdoaWNoIGlzbid0IHN1cHBvcnRlZC5cbiAgICAgIC8vIEZvciBub3csIGxldCdzIGp1c3QgcGljayBvbmUuXG5cbiAgICAgIGlmIChwcm90b1Byb3BzIHx8IGNsYXNzUHJvcHMpIHtcbiAgICAgICAgTmV3Q2xhc3NPYmplY3QgPSBPbGRDbGFzc09iamVjdC5fZXh0ZW5kKHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9sZENsYXNzT2JqZWN0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwcm90b1Byb3BzID0gcHJvdG9Qcm9wcyB8fCB7fTtcbiAgICAgIHByb3RvUHJvcHMuX2NsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgIE5ld0NsYXNzT2JqZWN0ID0gdGhpcy5fZXh0ZW5kKHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpO1xuICAgIH0gLy8gRXh0ZW5kaW5nIGEgc3ViY2xhc3Mgc2hvdWxkIHJldXNlIHRoZSBjbGFzc25hbWUgYXV0b21hdGljYWxseS5cblxuXG4gICAgTmV3Q2xhc3NPYmplY3QuZXh0ZW5kID0gZnVuY3Rpb24gKGFyZzApIHtcbiAgICAgIHZhciBfY29udGV4dDQ7XG5cbiAgICAgIGlmIChfLmlzU3RyaW5nKGFyZzApIHx8IGFyZzAgJiYgXy5oYXMoYXJnMCwgJ2NsYXNzTmFtZScpKSB7XG4gICAgICAgIHJldHVybiBBVi5PYmplY3QuZXh0ZW5kLmFwcGx5KE5ld0NsYXNzT2JqZWN0LCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3QXJndW1lbnRzID0gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQ0ID0gW2NsYXNzTmFtZV0pLmNhbGwoX2NvbnRleHQ0LCBfLnRvQXJyYXkoYXJndW1lbnRzKSk7XG4gICAgICByZXR1cm4gQVYuT2JqZWN0LmV4dGVuZC5hcHBseShOZXdDbGFzc09iamVjdCwgbmV3QXJndW1lbnRzKTtcbiAgICB9OyAvLyBBZGQgdGhlIHF1ZXJ5IHByb3BlcnR5IGRlc2NyaXB0b3IuXG5cblxuICAgICgwLCBfZGVmaW5lUHJvcGVydHkuZGVmYXVsdCkoTmV3Q2xhc3NPYmplY3QsICdxdWVyeScsICgwLCBfZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLmRlZmF1bHQpKEFWLk9iamVjdCwgJ3F1ZXJ5JykpO1xuXG4gICAgTmV3Q2xhc3NPYmplY3RbJ25ldyddID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBuZXcgTmV3Q2xhc3NPYmplY3QoYXR0cmlidXRlcywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIEFWLk9iamVjdC5fY2xhc3NNYXBbY2xhc3NOYW1lXSA9IE5ld0NsYXNzT2JqZWN0O1xuICAgIHJldHVybiBOZXdDbGFzc09iamVjdDtcbiAgfTsgLy8gRVM2IGNsYXNzIHN5bnRheCBzdXBwb3J0XG5cblxuICAoMCwgX2RlZmluZVByb3BlcnR5LmRlZmF1bHQpKEFWLk9iamVjdC5wcm90b3R5cGUsICdjbGFzc05hbWUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5fY2xhc3NOYW1lIHx8IHRoaXMuY29uc3RydWN0b3IuX0xDQ2xhc3NOYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZTsgLy8gSWYgc29tZW9uZSB0cmllcyB0byBzdWJjbGFzcyBcIlVzZXJcIiwgY29lcmNlIGl0IHRvIHRoZSByaWdodCB0eXBlLlxuXG4gICAgICBpZiAoY2xhc3NOYW1lID09PSAnVXNlcicpIHtcbiAgICAgICAgcmV0dXJuICdfVXNlcic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjbGFzc05hbWU7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY2xhc3MuXG4gICAqIElmIGEgc3ViY2xhc3Mgb2YgPGNvZGU+QVYuT2JqZWN0PC9jb2RlPiBpcyBkZWZpbmVkIHdpdGggeW91ciBvd24gaW1wbGVtZW50XG4gICAqIHJhdGhlciB0aGVuIDxjb2RlPkFWLk9iamVjdC5leHRlbmQ8L2NvZGU+LCB0aGUgc3ViY2xhc3MgbXVzdCBiZSByZWdpc3RlcmVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrbGFzcyBBIHN1YmNsYXNzIG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSBTcGVjaWZ5IHRoZSBuYW1lIG9mIHRoZSBjbGFzcy4gVXNlZnVsIHdoZW4gdGhlIGNsYXNzIG1pZ2h0IGJlIHVnbGlmaWVkLlxuICAgKiBAZXhhbXBsZVxuICAgKiBjbGFzcyBQZXJzb24gZXh0ZW5kIEFWLk9iamVjdCB7fVxuICAgKiBBVi5PYmplY3QucmVnaXN0ZXIoUGVyc29uKTtcbiAgICovXG5cbiAgQVYuT2JqZWN0LnJlZ2lzdGVyID0gZnVuY3Rpb24gKGtsYXNzLCBuYW1lKSB7XG4gICAgaWYgKCEoa2xhc3MucHJvdG90eXBlIGluc3RhbmNlb2YgQVYuT2JqZWN0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWdpc3RlcmVkIGNsYXNzIGlzIG5vdCBhIHN1YmNsYXNzIG9mIEFWLk9iamVjdCcpO1xuICAgIH1cblxuICAgIHZhciBjbGFzc05hbWUgPSBuYW1lIHx8IGtsYXNzLm5hbWU7XG5cbiAgICBpZiAoIWNsYXNzTmFtZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVnaXN0ZXJlZCBjbGFzcyBtdXN0IGJlIG5hbWVkJyk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGtsYXNzLl9MQ0NsYXNzTmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgQVYuT2JqZWN0Ll9jbGFzc01hcFtjbGFzc05hbWVdID0ga2xhc3M7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYSBuZXcgUXVlcnkgb2YgdGhlIGN1cnJlbnQgY2xhc3NcbiAgICogQG5hbWUgcXVlcnlcbiAgICogQG1lbWJlcm9mIEFWLk9iamVjdFxuICAgKiBAdHlwZSBBVi5RdWVyeVxuICAgKiBAcmVhZG9ubHlcbiAgICogQHNpbmNlIHYzLjEuMFxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBQb3N0ID0gQVYuT2JqZWN0LmV4dGVuZCgnUG9zdCcpO1xuICAgKiBQb3N0LnF1ZXJ5LmVxdWFsVG8oJ2F1dGhvcicsICdsZWFuY2xvdWQnKS5maW5kKCkudGhlbigpO1xuICAgKi9cblxuXG4gICgwLCBfZGVmaW5lUHJvcGVydHkuZGVmYXVsdCkoQVYuT2JqZWN0LCAncXVlcnknLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IEFWLlF1ZXJ5KHRoaXMucHJvdG90eXBlLmNsYXNzTmFtZSk7XG4gICAgfVxuICB9KTtcblxuICBBVi5PYmplY3QuX2ZpbmRVbnNhdmVkQ2hpbGRyZW4gPSBmdW5jdGlvbiAob2JqZWN0cywgY2hpbGRyZW4sIGZpbGVzKSB7XG4gICAgQVYuX3RyYXZlcnNlKG9iamVjdHMsIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdC5kaXJ0eSgpKSB7XG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChvYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuRmlsZSkge1xuICAgICAgICBpZiAoIW9iamVjdC5pZCkge1xuICAgICAgICAgIGZpbGVzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBBVi5PYmplY3QuX2NhbkJlU2VyaWFsaXplZEFzVmFsdWUgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGNhbkJlU2VyaWFsaXplZEFzVmFsdWUgPSB0cnVlO1xuXG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFWLk9iamVjdCB8fCBvYmplY3QgaW5zdGFuY2VvZiBBVi5GaWxlKSB7XG4gICAgICBjYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlID0gISFvYmplY3QuaWQ7XG4gICAgfSBlbHNlIGlmIChfLmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgQVYuX2FycmF5RWFjaChvYmplY3QsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoIUFWLk9iamVjdC5fY2FuQmVTZXJpYWxpemVkQXNWYWx1ZShjaGlsZCkpIHtcbiAgICAgICAgICBjYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdChvYmplY3QpKSB7XG4gICAgICBBVi5fb2JqZWN0RWFjaChvYmplY3QsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoIUFWLk9iamVjdC5fY2FuQmVTZXJpYWxpemVkQXNWYWx1ZShjaGlsZCkpIHtcbiAgICAgICAgICBjYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlO1xuICB9O1xuXG4gIEFWLk9iamVjdC5fZGVlcFNhdmVBc3luYyA9IGZ1bmN0aW9uIChvYmplY3QsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuc2F2ZWRDaGlsZHJlbiA9IFtdO1xuICAgIHZhciB1bnNhdmVkRmlsZXMgPSBbXTtcblxuICAgIEFWLk9iamVjdC5fZmluZFVuc2F2ZWRDaGlsZHJlbihvYmplY3QsIHVuc2F2ZWRDaGlsZHJlbiwgdW5zYXZlZEZpbGVzKTtcblxuICAgIHVuc2F2ZWRGaWxlcyA9IF8udW5pcSh1bnNhdmVkRmlsZXMpO1xuXG4gICAgdmFyIHByb21pc2UgPSBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKTtcblxuICAgIF8uZWFjaCh1bnNhdmVkRmlsZXMsIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZpbGUuc2F2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgb2JqZWN0cyA9IF8udW5pcSh1bnNhdmVkQ2hpbGRyZW4pO1xuXG4gICAgdmFyIHJlbWFpbmluZyA9IF8udW5pcShvYmplY3RzKTtcblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNvbnRpbnVlV2hpbGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVtYWluaW5nLmxlbmd0aCA+IDA7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEdhdGhlciB1cCBhbGwgdGhlIG9iamVjdHMgdGhhdCBjYW4gYmUgc2F2ZWQgaW4gdGhpcyBiYXRjaC5cbiAgICAgICAgdmFyIGJhdGNoID0gW107XG4gICAgICAgIHZhciBuZXdSZW1haW5pbmcgPSBbXTtcblxuICAgICAgICBBVi5fYXJyYXlFYWNoKHJlbWFpbmluZywgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIGlmIChvYmplY3QuX2NhbkJlU2VyaWFsaXplZCgpKSB7XG4gICAgICAgICAgICBiYXRjaC5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1JlbWFpbmluZy5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZW1haW5pbmcgPSBuZXdSZW1haW5pbmc7IC8vIElmIHdlIGNhbid0IHNhdmUgYW55IG9iamVjdHMsIHRoZXJlIG11c3QgYmUgYSBjaXJjdWxhciByZWZlcmVuY2UuXG5cbiAgICAgICAgaWYgKGJhdGNoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlamVjdChuZXcgQVZFcnJvcihBVkVycm9yLk9USEVSX0NBVVNFLCAnVHJpZWQgdG8gc2F2ZSBhIGJhdGNoIHdpdGggYSBjeWNsZS4nKSk7XG4gICAgICAgIH0gLy8gUmVzZXJ2ZSBhIHNwb3QgaW4gZXZlcnkgb2JqZWN0J3Mgc2F2ZSBxdWV1ZS5cblxuXG4gICAgICAgIHZhciByZWFkeVRvU3RhcnQgPSBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCBiYXRjaCwgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiBvYmplY3QuX2FsbFByZXZpb3VzU2F2ZXMgfHwgX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKCk7XG4gICAgICAgIH0pKTsgLy8gU2F2ZSBhIHNpbmdsZSBiYXRjaCwgd2hldGhlciBwcmV2aW91cyBzYXZlcyBzdWNjZWVkZWQgb3IgZmFpbGVkLlxuXG5cbiAgICAgICAgdmFyIGJhdGhTYXZlUHJvbWlzZSA9IHJlYWR5VG9TdGFydC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3JlcXVlc3QoJ2JhdGNoJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCB7XG4gICAgICAgICAgICByZXF1ZXN0czogKDAsIF9tYXAuZGVmYXVsdCkoXykuY2FsbChfLCBiYXRjaCwgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gb2JqZWN0LmlkID8gJ1BVVCcgOiAnUE9TVCc7XG5cbiAgICAgICAgICAgICAgdmFyIGpzb24gPSBvYmplY3QuX2dldFNhdmVKU09OKCk7XG5cbiAgICAgICAgICAgICAgXy5leHRlbmQoanNvbiwgb2JqZWN0Ll9mbGFncyk7XG5cbiAgICAgICAgICAgICAgdmFyIHJvdXRlID0gJ2NsYXNzZXMnO1xuICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gb2JqZWN0LmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgdmFyIHBhdGggPSBcIi9cIi5jb25jYXQocm91dGUsIFwiL1wiKS5jb25jYXQoY2xhc3NOYW1lKTtcblxuICAgICAgICAgICAgICBpZiAob2JqZWN0LmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJiAhb2JqZWN0LmlkKSB7XG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbC1jYXNlIHVzZXIgc2lnbi11cC5cbiAgICAgICAgICAgICAgICBwYXRoID0gJy91c2Vycyc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgcGF0aCA9IFwiLzEuMVwiLmNvbmNhdChwYXRoKTtcblxuICAgICAgICAgICAgICBpZiAob2JqZWN0LmlkKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGggKyAnLycgKyBvYmplY3QuaWQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvYmplY3QuX3N0YXJ0U2F2ZSgpO1xuXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICBib2R5OiBqc29uLFxuICAgICAgICAgICAgICAgIHBhcmFtczogb3B0aW9ucyAmJiBvcHRpb25zLmZldGNoV2hlblNhdmUgPyB7XG4gICAgICAgICAgICAgICAgICBmZXRjaFdoZW5TYXZlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIGJhdGNoLCBmdW5jdGlvbiAob2JqZWN0LCBpKSB7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZVtpXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0Ll9maW5pc2hTYXZlKG9iamVjdC5wYXJzZShyZXNwb25zZVtpXS5zdWNjZXNzKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2JqZWN0Ll9jYW5jZWxTYXZlKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBVkVycm9yKHJlc3BvbnNlW2ldLmVycm9yLmNvZGUsIHJlc3BvbnNlW2ldLmVycm9yLmVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUJhdGNoUmVzdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQVYuX2FycmF5RWFjaChiYXRjaCwgZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIG9iamVjdC5fYWxsUHJldmlvdXNTYXZlcyA9IGJhdGhTYXZlUHJvbWlzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGJhdGhTYXZlUHJvbWlzZTtcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8qKiovIH0pLFxuLyogNTA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhcnJheVdpdGhIb2xlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNTA2KTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheUxpbWl0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MTQpO1xuXG52YXIgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxNSk7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyNSk7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXksIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqKi8gfSksXG4vKiA1MDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9BcnJheSRpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MDcpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChfQXJyYXkkaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlcywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKioqLyB9KSxcbi8qIDUwNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTA4KTtcblxuLyoqKi8gfSksXG4vKiA1MDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwOSk7XG5cblxuLyoqKi8gfSksXG4vKiA1MDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEwKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTExKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg1MTMpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXRoLkFycmF5LmlzQXJyYXk7XG5cblxuLyoqKi8gfSksXG4vKiA1MTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxuLy8gYEFycmF5LmlzQXJyYXlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5pc2FycmF5XG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBzdGF0OiB0cnVlIH0sIHtcbiAgaXNBcnJheTogaXNBcnJheVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA1MTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyOSk7XG5cbnZhciBfZ2V0SXRlcmF0b3JNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIF9TeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgX2dldEl0ZXJhdG9yTWV0aG9kKGFycikgfHwgYXJyW1wiQEBpdGVyYXRvclwiXTtcblxuICBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcblxuICB2YXIgX3MsIF9lO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheUxpbWl0LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNTE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfc2xpY2VJbnN0YW5jZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MTYpO1xuXG52YXIgX0FycmF5JGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyMCk7XG5cbnZhciBhcnJheUxpa2VUb0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MjQpO1xuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIHZhciBfY29udGV4dDtcblxuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuXG4gIHZhciBuID0gX3NsaWNlSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dCA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSkuY2FsbChfY29udGV4dCwgOCwgLTEpO1xuXG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBfQXJyYXkkZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNTE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MTcpO1xuXG4vKioqLyB9KSxcbi8qIDUxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTE4KTtcblxuXG4vKioqLyB9KSxcbi8qIDUxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MTkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDUxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGFyZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMjcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDUyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIxKTtcblxuLyoqKi8gfSksXG4vKiA1MjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyMik7XG5cblxuLyoqKi8gfSksXG4vKiA1MjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTIzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjM3KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNTI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlUmVzdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKioqLyB9KSxcbi8qIDUyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTI3KTtcblxuLyoqKi8gfSksXG4vKiA1MjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTI4KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg1MjkpO1xudmFyIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIE9iamVjdCA9IHBhdGguT2JqZWN0O1xuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KTtcbn07XG5cbmlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLnNoYW0pIGdldE93blByb3BlcnR5RGVzY3JpcHRvci5zaGFtID0gdHJ1ZTtcblxuXG4vKioqLyB9KSxcbi8qIDUyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xudmFyIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpLmY7XG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblxudmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSBmYWlscyhmdW5jdGlvbiAoKSB7IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcigxKTsgfSk7XG52YXIgRk9SQ0VEID0gIURFU0NSSVBUT1JTIHx8IEZBSUxTX09OX1BSSU1JVElWRVM7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VELCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gICAgcmV0dXJuIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0luZGV4ZWRPYmplY3QoaXQpLCBrZXkpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcbi8qIDUzMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBBVkVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIEFWLlJvbGUgPSBBVi5PYmplY3QuZXh0ZW5kKCdfUm9sZScsXG4gIC8qKiBAbGVuZHMgQVYuUm9sZS5wcm90b3R5cGUgKi9cbiAge1xuICAgIC8vIEluc3RhbmNlIE1ldGhvZHNcblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBSb2xlIG9uIHRoZSBBViBzZXJ2ZXIuIFJvbGVzIHJlcHJlc2VudCBncm91cGluZ3Mgb2ZcbiAgICAgKiBVc2VycyBmb3IgdGhlIHB1cnBvc2VzIG9mIGdyYW50aW5nIHBlcm1pc3Npb25zIChlLmcuIHNwZWNpZnlpbmcgYW4gQUNMXG4gICAgICogZm9yIGFuIE9iamVjdCkuIFJvbGVzIGFyZSBzcGVjaWZpZWQgYnkgdGhlaXIgc2V0cyBvZiBjaGlsZCB1c2VycyBhbmRcbiAgICAgKiBjaGlsZCByb2xlcywgYWxsIG9mIHdoaWNoIGFyZSBncmFudGVkIGFueSBwZXJtaXNzaW9ucyB0aGF0IHRoZSBwYXJlbnRcbiAgICAgKiByb2xlIGhhcy5cbiAgICAgKlxuICAgICAqIDxwPlJvbGVzIG11c3QgaGF2ZSBhIG5hbWUgKHdoaWNoIGNhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uIG9mIHRoZVxuICAgICAqIHJvbGUpLCBhbmQgbXVzdCBzcGVjaWZ5IGFuIEFDTC48L3A+XG4gICAgICogQW4gQVYuUm9sZSBpcyBhIGxvY2FsIHJlcHJlc2VudGF0aW9uIG9mIGEgcm9sZSBwZXJzaXN0ZWQgdG8gdGhlIEFWXG4gICAgICogY2xvdWQuXG4gICAgICogQGNsYXNzIEFWLlJvbGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgUm9sZSB0byBjcmVhdGUuXG4gICAgICogQHBhcmFtIHtBVi5BQ0x9IGFjbCBUaGUgQUNMIGZvciB0aGlzIHJvbGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIGNvbnN0cnVjdG9yKG5hbWUsIGFjbCkge1xuICAgICAgaWYgKF8uaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgICAgQVYuT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgICB0aGlzLnNldE5hbWUobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBBVi5PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbmFtZSwgYWNsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjbCkge1xuICAgICAgICBpZiAoIShhY2wgaW5zdGFuY2VvZiBBVi5BQ0wpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYWNsIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgQVYuQUNMJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRBQ0woYWNsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSByb2xlLiAgWW91IGNhbiBhbHRlcm5hdGl2ZWx5IGNhbGwgcm9sZS5nZXQoXCJuYW1lXCIpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBuYW1lIG9mIHRoZSByb2xlLlxuICAgICAqL1xuICAgIGdldE5hbWU6IGZ1bmN0aW9uIGdldE5hbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ25hbWUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmFtZSBmb3IgYSByb2xlLiBUaGlzIHZhbHVlIG11c3QgYmUgc2V0IGJlZm9yZSB0aGUgcm9sZSBoYXNcbiAgICAgKiBiZWVuIHNhdmVkIHRvIHRoZSBzZXJ2ZXIsIGFuZCBjYW5ub3QgYmUgc2V0IG9uY2UgdGhlIHJvbGUgaGFzIGJlZW5cbiAgICAgKiBzYXZlZC5cbiAgICAgKlxuICAgICAqIDxwPlxuICAgICAqICAgQSByb2xlJ3MgbmFtZSBjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCBfLCAtLCBhbmRcbiAgICAgKiAgIHNwYWNlcy5cbiAgICAgKiA8L3A+XG4gICAgICpcbiAgICAgKiA8cD5UaGlzIGlzIGVxdWl2YWxlbnQgdG8gY2FsbGluZyByb2xlLnNldChcIm5hbWVcIiwgbmFtZSk8L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgcm9sZS5cbiAgICAgKi9cbiAgICBzZXROYW1lOiBmdW5jdGlvbiBzZXROYW1lKG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnbmFtZScsIG5hbWUsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBBVi5SZWxhdGlvbiBmb3IgdGhlIEFWLlVzZXJzIHRoYXQgYXJlIGRpcmVjdFxuICAgICAqIGNoaWxkcmVuIG9mIHRoaXMgcm9sZS4gVGhlc2UgdXNlcnMgYXJlIGdyYW50ZWQgYW55IHByaXZpbGVnZXMgdGhhdCB0aGlzXG4gICAgICogcm9sZSBoYXMgYmVlbiBncmFudGVkIChlLmcuIHJlYWQgb3Igd3JpdGUgYWNjZXNzIHRocm91Z2ggQUNMcykuIFlvdSBjYW5cbiAgICAgKiBhZGQgb3IgcmVtb3ZlIHVzZXJzIGZyb20gdGhlIHJvbGUgdGhyb3VnaCB0aGlzIHJlbGF0aW9uLlxuICAgICAqXG4gICAgICogPHA+VGhpcyBpcyBlcXVpdmFsZW50IHRvIGNhbGxpbmcgcm9sZS5yZWxhdGlvbihcInVzZXJzXCIpPC9wPlxuICAgICAqXG4gICAgICogQHJldHVybiB7QVYuUmVsYXRpb259IHRoZSByZWxhdGlvbiBmb3IgdGhlIHVzZXJzIGJlbG9uZ2luZyB0byB0aGlzXG4gICAgICogICAgIHJvbGUuXG4gICAgICovXG4gICAgZ2V0VXNlcnM6IGZ1bmN0aW9uIGdldFVzZXJzKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVsYXRpb24oJ3VzZXJzJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEFWLlJlbGF0aW9uIGZvciB0aGUgQVYuUm9sZXMgdGhhdCBhcmUgZGlyZWN0XG4gICAgICogY2hpbGRyZW4gb2YgdGhpcyByb2xlLiBUaGVzZSByb2xlcycgdXNlcnMgYXJlIGdyYW50ZWQgYW55IHByaXZpbGVnZXMgdGhhdFxuICAgICAqIHRoaXMgcm9sZSBoYXMgYmVlbiBncmFudGVkIChlLmcuIHJlYWQgb3Igd3JpdGUgYWNjZXNzIHRocm91Z2ggQUNMcykuIFlvdVxuICAgICAqIGNhbiBhZGQgb3IgcmVtb3ZlIGNoaWxkIHJvbGVzIGZyb20gdGhpcyByb2xlIHRocm91Z2ggdGhpcyByZWxhdGlvbi5cbiAgICAgKlxuICAgICAqIDxwPlRoaXMgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHJvbGUucmVsYXRpb24oXCJyb2xlc1wiKTwvcD5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FWLlJlbGF0aW9ufSB0aGUgcmVsYXRpb24gZm9yIHRoZSByb2xlcyBiZWxvbmdpbmcgdG8gdGhpc1xuICAgICAqICAgICByb2xlLlxuICAgICAqL1xuICAgIGdldFJvbGVzOiBmdW5jdGlvbiBnZXRSb2xlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbGF0aW9uKCdyb2xlcycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGF0dHJzLCBvcHRpb25zKSB7XG4gICAgICBpZiAoJ25hbWUnIGluIGF0dHJzICYmIGF0dHJzLm5hbWUgIT09IHRoaXMuZ2V0TmFtZSgpKSB7XG4gICAgICAgIHZhciBuZXdOYW1lID0gYXR0cnMubmFtZTtcblxuICAgICAgICBpZiAodGhpcy5pZCAmJiB0aGlzLmlkICE9PSBhdHRycy5vYmplY3RJZCkge1xuICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgb2JqZWN0SWQgYmVpbmcgc2V0IG1hdGNoZXMgdGhpcy5pZC5cbiAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgZHVyaW5nIGEgZmV0Y2ggLS0gdGhlIGlkIGlzIHNldCBiZWZvcmUgY2FsbGluZyBmZXRjaC5cbiAgICAgICAgICAvLyBMZXQgdGhlIG5hbWUgYmUgc2V0IGluIHRoaXMgY2FzZS5cbiAgICAgICAgICByZXR1cm4gbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgXCJBIHJvbGUncyBuYW1lIGNhbiBvbmx5IGJlIHNldCBiZWZvcmUgaXQgaGFzIGJlZW4gc2F2ZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFfLmlzU3RyaW5nKG5ld05hbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVkVycm9yKEFWRXJyb3IuT1RIRVJfQ0FVU0UsIFwiQSByb2xlJ3MgbmFtZSBtdXN0IGJlIGEgU3RyaW5nLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghL15bMC05YS16QS1aXFwtXyBdKyQvLnRlc3QobmV3TmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgXCJBIHJvbGUncyBuYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMsIF8sXCIgKyAnIC0sIGFuZCBzcGFjZXMuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFWLk9iamVjdC5wcm90b3R5cGUudmFsaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIEFWLk9iamVjdC5wcm90b3R5cGUudmFsaWRhdGUuY2FsbCh0aGlzLCBhdHRycywgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG4vKiA1MzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MzIpKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSk7XG5cbnZhciBfZmluZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpKTtcblxudmFyIF9zdHJpbmdpZnkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzcpKTtcblxudmFyIF8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgdXVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjE5KTtcblxudmFyIEFWRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyksXG4gICAgQVZSZXF1ZXN0ID0gX3JlcXVpcmUuX3JlcXVlc3QsXG4gICAgcmVxdWVzdCA9IF9yZXF1aXJlLnJlcXVlc3Q7XG5cbnZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSxcbiAgICBnZXRBZGFwdGVyID0gX3JlcXVpcmUyLmdldEFkYXB0ZXI7XG5cbnZhciBQTEFURk9STV9BTk9OWU1PVVMgPSAnYW5vbnltb3VzJztcbnZhciBQTEFURk9STV9RUUFQUCA9ICdsY19xcWFwcCc7XG5cbnZhciBtZXJnZVVuaW9uRGF0YUludG9BdXRoRGF0YSA9IGZ1bmN0aW9uIG1lcmdlVW5pb25EYXRhSW50b0F1dGhEYXRhKCkge1xuICB2YXIgZGVmYXVsdFVuaW9uSWRQbGF0Zm9ybSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ3dlaXhpbic7XG4gIHJldHVybiBmdW5jdGlvbiAoYXV0aERhdGEsIHVuaW9uSWQpIHtcbiAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge30sXG4gICAgICAgIF9yZWYkdW5pb25JZFBsYXRmb3JtID0gX3JlZi51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgIHVuaW9uSWRQbGF0Zm9ybSA9IF9yZWYkdW5pb25JZFBsYXRmb3JtID09PSB2b2lkIDAgPyBkZWZhdWx0VW5pb25JZFBsYXRmb3JtIDogX3JlZiR1bmlvbklkUGxhdGZvcm0sXG4gICAgICAgIF9yZWYkYXNNYWluQWNjb3VudCA9IF9yZWYuYXNNYWluQWNjb3VudCxcbiAgICAgICAgYXNNYWluQWNjb3VudCA9IF9yZWYkYXNNYWluQWNjb3VudCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGFzTWFpbkFjY291bnQ7XG5cbiAgICBpZiAodHlwZW9mIHVuaW9uSWQgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgQVZFcnJvcihBVkVycm9yLk9USEVSX0NBVVNFLCAndW5pb25JZCBpcyBub3QgYSBzdHJpbmcnKTtcbiAgICBpZiAodHlwZW9mIHVuaW9uSWRQbGF0Zm9ybSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBBVkVycm9yKEFWRXJyb3IuT1RIRVJfQ0FVU0UsICd1bmlvbklkUGxhdGZvcm0gaXMgbm90IGEgc3RyaW5nJyk7XG4gICAgcmV0dXJuIF8uZXh0ZW5kKHt9LCBhdXRoRGF0YSwge1xuICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgIHVuaW9uaWQ6IHVuaW9uSWQsXG4gICAgICBtYWluX2FjY291bnQ6IEJvb2xlYW4oYXNNYWluQWNjb3VudClcbiAgICB9KTtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogPHA+QW4gQVYuVXNlciBvYmplY3QgaXMgYSBsb2NhbCByZXByZXNlbnRhdGlvbiBvZiBhIHVzZXIgcGVyc2lzdGVkIHRvIHRoZVxuICAgKiBMZWFuQ2xvdWQgc2VydmVyLiBUaGlzIGNsYXNzIGlzIGEgc3ViY2xhc3Mgb2YgYW4gQVYuT2JqZWN0LCBhbmQgcmV0YWlucyB0aGVcbiAgICogc2FtZSBmdW5jdGlvbmFsaXR5IG9mIGFuIEFWLk9iamVjdCwgYnV0IGFsc28gZXh0ZW5kcyBpdCB3aXRoIHZhcmlvdXNcbiAgICogdXNlciBzcGVjaWZpYyBtZXRob2RzLCBsaWtlIGF1dGhlbnRpY2F0aW9uLCBzaWduaW5nIHVwLCBhbmQgdmFsaWRhdGlvbiBvZlxuICAgKiB1bmlxdWVuZXNzLjwvcD5cbiAgICovXG4gIEFWLlVzZXIgPSBBVi5PYmplY3QuZXh0ZW5kKCdfVXNlcicsXG4gIC8qKiBAbGVuZHMgQVYuVXNlci5wcm90b3R5cGUgKi9cbiAge1xuICAgIC8vIEluc3RhbmNlIFZhcmlhYmxlc1xuICAgIF9pc0N1cnJlbnRVc2VyOiBmYWxzZSxcbiAgICAvLyBJbnN0YW5jZSBNZXRob2RzXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdG8gaGFuZGxlIHNwZWNpYWwgZmllbGRzIGluIGEgX1VzZXIgcmVzcG9uc2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWVyZ2VNYWdpY0ZpZWxkczogZnVuY3Rpb24gX21lcmdlTWFnaWNGaWVsZHMoYXR0cnMpIHtcbiAgICAgIGlmIChhdHRycy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgdGhpcy5fc2Vzc2lvblRva2VuID0gYXR0cnMuc2Vzc2lvblRva2VuO1xuICAgICAgICBkZWxldGUgYXR0cnMuc2Vzc2lvblRva2VuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQVYuVXNlci5fX3N1cGVyX18uX21lcmdlTWFnaWNGaWVsZHMuY2FsbCh0aGlzLCBhdHRycyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbnVsbCB2YWx1ZXMgZnJvbSBhdXRoRGF0YSAod2hpY2ggZXhpc3QgdGVtcG9yYXJpbHkgZm9yXG4gICAgICogdW5saW5raW5nKVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NsZWFudXBBdXRoRGF0YTogZnVuY3Rpb24gX2NsZWFudXBBdXRoRGF0YSgpIHtcbiAgICAgIGlmICghdGhpcy5pc0N1cnJlbnQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhdXRoRGF0YSA9IHRoaXMuZ2V0KCdhdXRoRGF0YScpO1xuXG4gICAgICBpZiAoIWF1dGhEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgQVYuX29iamVjdEVhY2godGhpcy5nZXQoJ2F1dGhEYXRhJyksIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICghYXV0aERhdGFba2V5XSkge1xuICAgICAgICAgIGRlbGV0ZSBhdXRoRGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIGF1dGhEYXRhIGZvciBhbGwgcHJvdmlkZXJzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3N5bmNocm9uaXplQWxsQXV0aERhdGE6IGZ1bmN0aW9uIF9zeW5jaHJvbml6ZUFsbEF1dGhEYXRhKCkge1xuICAgICAgdmFyIGF1dGhEYXRhID0gdGhpcy5nZXQoJ2F1dGhEYXRhJyk7XG5cbiAgICAgIGlmICghYXV0aERhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuZ2V0KCdhdXRoRGF0YScpLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICBzZWxmLl9zeW5jaHJvbml6ZUF1dGhEYXRhKGtleSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIGF1dGggZGF0YSBmb3IgYSBwcm92aWRlciAoZS5nLiBwdXRzIHRoZSBhY2Nlc3MgdG9rZW4gaW4gdGhlXG4gICAgICogcmlnaHQgcGxhY2UgdG8gYmUgdXNlZCBieSB0aGUgRmFjZWJvb2sgU0RLKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zeW5jaHJvbml6ZUF1dGhEYXRhOiBmdW5jdGlvbiBfc3luY2hyb25pemVBdXRoRGF0YShwcm92aWRlcikge1xuICAgICAgaWYgKCF0aGlzLmlzQ3VycmVudCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGF1dGhUeXBlO1xuXG4gICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgYXV0aFR5cGUgPSBwcm92aWRlcjtcbiAgICAgICAgcHJvdmlkZXIgPSBBVi5Vc2VyLl9hdXRoUHJvdmlkZXJzW2F1dGhUeXBlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dGhUeXBlID0gcHJvdmlkZXIuZ2V0QXV0aFR5cGUoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGF1dGhEYXRhID0gdGhpcy5nZXQoJ2F1dGhEYXRhJyk7XG5cbiAgICAgIGlmICghYXV0aERhdGEgfHwgIXByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN1Y2Nlc3MgPSBwcm92aWRlci5yZXN0b3JlQXV0aGVudGljYXRpb24oYXV0aERhdGFbYXV0aFR5cGVdKTtcblxuICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIHRoaXMuZGlzc29jaWF0ZUF1dGhEYXRhKHByb3ZpZGVyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIF9oYW5kbGVTYXZlUmVzdWx0OiBmdW5jdGlvbiBfaGFuZGxlU2F2ZVJlc3VsdChtYWtlQ3VycmVudCkge1xuICAgICAgLy8gQ2xlYW4gdXAgYW5kIHN5bmNocm9uaXplIHRoZSBhdXRoRGF0YSBvYmplY3QsIHJlbW92aW5nIGFueSB1bnNldCB2YWx1ZXNcbiAgICAgIGlmIChtYWtlQ3VycmVudCAmJiAhQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIpIHtcbiAgICAgICAgdGhpcy5faXNDdXJyZW50VXNlciA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NsZWFudXBBdXRoRGF0YSgpO1xuXG4gICAgICB0aGlzLl9zeW5jaHJvbml6ZUFsbEF1dGhEYXRhKCk7IC8vIERvbid0IGtlZXAgdGhlIHBhc3N3b3JkIGFyb3VuZC5cblxuXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmVyRGF0YS5wYXNzd29yZDtcblxuICAgICAgdGhpcy5fcmVidWlsZEVzdGltYXRlZERhdGFGb3JLZXkoJ3Bhc3N3b3JkJyk7XG5cbiAgICAgIHRoaXMuX3JlZnJlc2hDYWNoZSgpO1xuXG4gICAgICBpZiAoKG1ha2VDdXJyZW50IHx8IHRoaXMuaXNDdXJyZW50KCkpICYmICFBVi5fY29uZmlnLmRpc2FibGVDdXJyZW50VXNlcikge1xuICAgICAgICAvLyBTb21lIG9sZCB2ZXJzaW9uIG9mIGxlYW5lbmdpbmUtbm9kZS1zZGsgd2lsbCBvdmVyd3JpdGVcbiAgICAgICAgLy8gQVYuVXNlci5fc2F2ZUN1cnJlbnRVc2VyIHdoaWNoIHJldHVybnMgbm8gUHJvbWlzZS5cbiAgICAgICAgLy8gU28gd2UgbmVlZCBhIFByb21pc2Ugd3JhcHBlci5cbiAgICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZShBVi5Vc2VyLl9zYXZlQ3VycmVudFVzZXIodGhpcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmxpa2UgaW4gdGhlIEFuZHJvaWQvaU9TIFNES3MsIGxvZ0luV2l0aCBpcyB1bm5lY2Vzc2FyeSwgc2luY2UgeW91IGNhblxuICAgICAqIGNhbGwgbGlua1dpdGggb24gdGhlIHVzZXIgKGV2ZW4gaWYgaXQgZG9lc24ndCBleGlzdCB5ZXQgb24gdGhlIHNlcnZlcikuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbGlua1dpdGg6IGZ1bmN0aW9uIF9saW5rV2l0aChwcm92aWRlciwgZGF0YSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fSxcbiAgICAgICAgICBfcmVmMiRmYWlsT25Ob3RFeGlzdCA9IF9yZWYyLmZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gX3JlZjIkZmFpbE9uTm90RXhpc3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgdXNlTWFzdGVyS2V5ID0gX3JlZjIudXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IF9yZWYyLnNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyID0gX3JlZjIudXNlcjtcblxuICAgICAgdmFyIGF1dGhUeXBlO1xuXG4gICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgYXV0aFR5cGUgPSBwcm92aWRlcjtcbiAgICAgICAgcHJvdmlkZXIgPSBBVi5Vc2VyLl9hdXRoUHJvdmlkZXJzW3Byb3ZpZGVyXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dGhUeXBlID0gcHJvdmlkZXIuZ2V0QXV0aFR5cGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZSh7XG4gICAgICAgICAgYXV0aERhdGE6ICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHt9LCBhdXRoVHlwZSwgZGF0YSlcbiAgICAgICAgfSwge1xuICAgICAgICAgIHVzZU1hc3RlcktleTogdXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbjogc2Vzc2lvblRva2VuLFxuICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgZmV0Y2hXaGVuU2F2ZTogISF0aGlzLmdldCgnYXV0aERhdGEnKSxcbiAgICAgICAgICBfZmFpbE9uTm90RXhpc3Q6IGZhaWxPbk5vdEV4aXN0XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZGVsLl9oYW5kbGVTYXZlUmVzdWx0KHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwcm92aWRlci5hdXRoZW50aWNhdGUoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuX2xpbmtXaXRoKHByb3ZpZGVyLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlIHRoZSB1c2VyIHdpdGggYSB0aGlyZCBwYXJ0eSBhdXRoRGF0YS5cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXV0aERhdGEgVGhlIHJlc3BvbnNlIGpzb24gZGF0YSByZXR1cm5lZCBmcm9tIHRoaXJkIHBhcnR5IHRva2VuLCBtYXliZSBsaWtlIHsgb3BlbmlkOiAnYWJjMTIzJywgYWNjZXNzX3Rva2VuOiAnMTIzYWJjJywgZXhwaXJlc19pbjogMTM4MjY4NjQ5NiB9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsYXRmb3JtIEF2YWlsYWJsZSBwbGF0Zm9ybSBmb3Igc2lnbiB1cC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuIGNvbXBsZXRlZC5cbiAgICAgKiBAZXhhbXBsZSB1c2VyLmFzc29jaWF0ZVdpdGhBdXRoRGF0YSh7XG4gICAgICogICBvcGVuaWQ6ICdhYmMxMjMnLFxuICAgICAqICAgYWNjZXNzX3Rva2VuOiAnMTIzYWJjJyxcbiAgICAgKiAgIGV4cGlyZXNfaW46IDEzODI2ODY0OTZcbiAgICAgKiB9LCAnd2VpeGluJykudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICogICAvL0FjY2VzcyB1c2VyIGhlcmVcbiAgICAgKiB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAqICAgLy9jb25zb2xlLmVycm9yKFwiZXJyb3I6IFwiLCBlcnJvcik7XG4gICAgICogfSk7XG4gICAgICovXG4gICAgYXNzb2NpYXRlV2l0aEF1dGhEYXRhOiBmdW5jdGlvbiBhc3NvY2lhdGVXaXRoQXV0aERhdGEoYXV0aERhdGEsIHBsYXRmb3JtKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGlua1dpdGgocGxhdGZvcm0sIGF1dGhEYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlIHRoZSB1c2VyIHdpdGggYSB0aGlyZCBwYXJ0eSBhdXRoRGF0YSBhbmQgdW5pb25JZC5cbiAgICAgKiBAc2luY2UgMy41LjBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXV0aERhdGEgVGhlIHJlc3BvbnNlIGpzb24gZGF0YSByZXR1cm5lZCBmcm9tIHRoaXJkIHBhcnR5IHRva2VuLCBtYXliZSBsaWtlIHsgb3BlbmlkOiAnYWJjMTIzJywgYWNjZXNzX3Rva2VuOiAnMTIzYWJjJywgZXhwaXJlc19pbjogMTM4MjY4NjQ5NiB9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsYXRmb3JtIEF2YWlsYWJsZSBwbGF0Zm9ybSBmb3Igc2lnbiB1cC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pb25JZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdW5pb25Mb2dpbk9wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bmlvbkxvZ2luT3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAnd2VpeGluJ10gdW5pb25JZCBwbGF0Zm9ybVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaW9uTG9naW5PcHRpb25zLmFzTWFpbkFjY291bnQgPSBmYWxzZV0gSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBVi5Vc2VyPn0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHVzZXIgd2hlbiBjb21wbGV0ZWQuXG4gICAgICogQGV4YW1wbGUgdXNlci5hc3NvY2lhdGVXaXRoQXV0aERhdGFBbmRVbmlvbklkKHtcbiAgICAgKiAgIG9wZW5pZDogJ2FiYzEyMycsXG4gICAgICogICBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLFxuICAgICAqICAgZXhwaXJlc19pbjogMTM4MjY4NjQ5NlxuICAgICAqIH0sICd3ZWl4aW4nLCAndW5pb24xMjMnLCB7XG4gICAgICogICB1bmlvbklkUGxhdGZvcm06ICd3ZWl4aW4nLFxuICAgICAqICAgYXNNYWluQWNjb3VudDogdHJ1ZSxcbiAgICAgKiB9KS50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgKiAgIC8vQWNjZXNzIHVzZXIgaGVyZVxuICAgICAqIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICogICAvL2NvbnNvbGUuZXJyb3IoXCJlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBhc3NvY2lhdGVXaXRoQXV0aERhdGFBbmRVbmlvbklkOiBmdW5jdGlvbiBhc3NvY2lhdGVXaXRoQXV0aERhdGFBbmRVbmlvbklkKGF1dGhEYXRhLCBwbGF0Zm9ybSwgdW5pb25JZCwgdW5pb25PcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGlua1dpdGgocGxhdGZvcm0sIG1lcmdlVW5pb25EYXRhSW50b0F1dGhEYXRhKCkoYXV0aERhdGEsIHVuaW9uSWQsIHVuaW9uT3B0aW9ucykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGUgdGhlIHVzZXIgd2l0aCB0aGUgaWRlbnRpdHkgb2YgdGhlIGN1cnJlbnQgbWluaS1hcHAuXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFthdXRoSW5mb11cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbl1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb24uZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhJbmZvLmF1dGhEYXRhIGV4aXN0cy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGFzc29jaWF0ZVdpdGhNaW5pQXBwOiBmdW5jdGlvbiBhc3NvY2lhdGVXaXRoTWluaUFwcChhdXRoSW5mbywgb3B0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKCkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLl9saW5rV2l0aChhdXRoSW5mby5wcm92aWRlciwgYXV0aEluZm8uYXV0aERhdGEsIG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fbGlua1dpdGgoYXV0aEluZm8ucHJvdmlkZXIsIGF1dGhJbmZvLmF1dGhEYXRhLCBvcHRpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDlsIbnlKjmiLfkuI4gUVEg5bCP56iL5bqP55So5oi36L+b6KGM5YWz6IGU44CC6YCC55So5LqO5Li65bey57uP5Zyo55So5oi357O757uf5Lit5a2Y5Zyo55qE55So5oi35YWz6IGU5b2T5YmN5L2/55SoIFFRIOWwj+eoi+W6j+eahOW+ruS/oeW4kOWPt+OAglxuICAgICAqIOS7heWcqCBRUSDlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjYXNzb2NpYXRlV2l0aE1pbmlBcHB9XG4gICAgICogQHNpbmNlIDQuMi4wXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlZmVyVW5pb25JZCA9IGZhbHNlXSDlpoLmnpzmnI3liqHnq6/lnKjnmbvlvZXml7bojrflj5bliLDkuobnlKjmiLfnmoQgVW5pb25JZO+8jOaYr+WQpuWwhiBVbmlvbklkIOS/neWtmOWcqOeUqOaIt+i0puWPt+S4reOAglxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAncXEnXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFzTWFpbkFjY291bnQgPSB0cnVlXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuVXNlcj59XG4gICAgICovXG4gICAgYXNzb2NpYXRlV2l0aFFRQXBwOiBmdW5jdGlvbiBhc3NvY2lhdGVXaXRoUVFBcHAoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBfcmVmMyRwcmVmZXJVbmlvbklkID0gX3JlZjMucHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBwcmVmZXJVbmlvbklkID0gX3JlZjMkcHJlZmVyVW5pb25JZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMyRwcmVmZXJVbmlvbklkLFxuICAgICAgICAgIF9yZWYzJHVuaW9uSWRQbGF0Zm9ybSA9IF9yZWYzLnVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSBfcmVmMyR1bmlvbklkUGxhdGZvcm0gPT09IHZvaWQgMCA/ICdxcScgOiBfcmVmMyR1bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgX3JlZjMkYXNNYWluQWNjb3VudCA9IF9yZWYzLmFzTWFpbkFjY291bnQsXG4gICAgICAgICAgYXNNYWluQWNjb3VudCA9IF9yZWYzJGFzTWFpbkFjY291bnQgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmMyRhc01haW5BY2NvdW50O1xuXG4gICAgICB2YXIgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgcHJlZmVyVW5pb25JZDogcHJlZmVyVW5pb25JZCxcbiAgICAgICAgYXNNYWluQWNjb3VudDogYXNNYWluQWNjb3VudCxcbiAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgYXV0aEluZm8ucHJvdmlkZXIgPSBQTEFURk9STV9RUUFQUDtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5hc3NvY2lhdGVXaXRoTWluaUFwcChhdXRoSW5mbyk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog5bCG55So5oi35LiO5b6u5L+h5bCP56iL5bqP55So5oi36L+b6KGM5YWz6IGU44CC6YCC55So5LqO5Li65bey57uP5Zyo55So5oi357O757uf5Lit5a2Y5Zyo55qE55So5oi35YWz6IGU5b2T5YmN5L2/55So5b6u5L+h5bCP56iL5bqP55qE5b6u5L+h5biQ5Y+344CCXG4gICAgICog5LuF5Zyo5b6u5L+h5bCP56iL5bqP5Lit5Y+v55So44CCXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyI2Fzc29jaWF0ZVdpdGhNaW5pQXBwfVxuICAgICAqIEBzaW5jZSAzLjEzLjBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVmZXJVbmlvbklkID0gZmFsc2VdIOW9k+eUqOaIt+a7oei2syB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9vcGVuLWFiaWxpdHkvdW5pb24taWQuaHRtbCDojrflj5YgVW5pb25JZCDnmoTmnaHku7Z9IOaXtu+8jOaYr+WQpuWwhiBVbmlvbklkIOS/neWtmOWcqOeUqOaIt+i0puWPt+S4reOAglxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAnd2VpeGluJ10gKG9ubHkgdGFrZSBlZmZlY3Qgd2hlbiBwcmVmZXJVbmlvbklkKSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hc01haW5BY2NvdW50ID0gdHJ1ZV0gKG9ubHkgdGFrZSBlZmZlY3Qgd2hlbiBwcmVmZXJVbmlvbklkKSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGFzc29jaWF0ZVdpdGhXZWFwcDogZnVuY3Rpb24gYXNzb2NpYXRlV2l0aFdlYXBwKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBfcmVmNCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZjQkcHJlZmVyVW5pb25JZCA9IF9yZWY0LnByZWZlclVuaW9uSWQsXG4gICAgICAgICAgcHJlZmVyVW5pb25JZCA9IF9yZWY0JHByZWZlclVuaW9uSWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjQkcHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBfcmVmNCR1bmlvbklkUGxhdGZvcm0gPSBfcmVmNC51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gX3JlZjQkdW5pb25JZFBsYXRmb3JtID09PSB2b2lkIDAgPyAnd2VpeGluJyA6IF9yZWY0JHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICBfcmVmNCRhc01haW5BY2NvdW50ID0gX3JlZjQuYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBhc01haW5BY2NvdW50ID0gX3JlZjQkYXNNYWluQWNjb3VudCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWY0JGFzTWFpbkFjY291bnQ7XG5cbiAgICAgIHZhciBnZXRBdXRoSW5mbyA9IGdldEFkYXB0ZXIoJ2dldEF1dGhJbmZvJyk7XG4gICAgICByZXR1cm4gZ2V0QXV0aEluZm8oe1xuICAgICAgICBwcmVmZXJVbmlvbklkOiBwcmVmZXJVbmlvbklkLFxuICAgICAgICBhc01haW5BY2NvdW50OiBhc01haW5BY2NvdW50LFxuICAgICAgICBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChhdXRoSW5mbykge1xuICAgICAgICByZXR1cm4gX3RoaXM0LmFzc29jaWF0ZVdpdGhNaW5pQXBwKGF1dGhJbmZvKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCByZW5hbWVkIHRvIHtAbGluayBBVi5Vc2VyI2Fzc29jaWF0ZVdpdGhXZWFwcH1cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGxpbmtXaXRoV2VhcHA6IGZ1bmN0aW9uIGxpbmtXaXRoV2VhcHAob3B0aW9ucykge1xuICAgICAgY29uc29sZS53YXJuKCdERVBSRUNBVEVEOiBVc2VyI2xpbmtXaXRoV2VhcHAg5bey5bqf5byD77yM6K+35L2/55SoIFVzZXIjYXNzb2NpYXRlV2l0aFdlYXBwIOS7o+abvycpO1xuICAgICAgcmV0dXJuIHRoaXMuYXNzb2NpYXRlV2l0aFdlYXBwKG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDlsIbnlKjmiLfkuI4gUVEg5bCP56iL5bqP55So5oi36L+b6KGM5YWz6IGU44CC6YCC55So5LqO5Li65bey57uP5Zyo55So5oi357O757uf5Lit5a2Y5Zyo55qE55So5oi35YWz6IGU5b2T5YmN5L2/55SoIFFRIOWwj+eoi+W6j+eahCBRUSDluJDlj7fjgIJcbiAgICAgKiDku4XlnKggUVEg5bCP56iL5bqP5Lit5Y+v55So44CCXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyI2Fzc29jaWF0ZVdpdGhNaW5pQXBwfVxuICAgICAqIEBzaW5jZSA0LjIuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlvbklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFt1bmlvbk9wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bmlvbk9wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3FxJ10gdW5pb25JZCBwbGF0Zm9ybVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaW9uT3B0aW9ucy5hc01haW5BY2NvdW50ID0gZmFsc2VdIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuVXNlcj59XG4gICAgICovXG4gICAgYXNzb2NpYXRlV2l0aFFRQXBwV2l0aFVuaW9uSWQ6IGZ1bmN0aW9uIGFzc29jaWF0ZVdpdGhRUUFwcFdpdGhVbmlvbklkKHVuaW9uSWQpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB2YXIgX3JlZjUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgICAgIF9yZWY1JHVuaW9uSWRQbGF0Zm9ybSA9IF9yZWY1LnVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSBfcmVmNSR1bmlvbklkUGxhdGZvcm0gPT09IHZvaWQgMCA/ICdxcScgOiBfcmVmNSR1bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgX3JlZjUkYXNNYWluQWNjb3VudCA9IF9yZWY1LmFzTWFpbkFjY291bnQsXG4gICAgICAgICAgYXNNYWluQWNjb3VudCA9IF9yZWY1JGFzTWFpbkFjY291bnQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjUkYXNNYWluQWNjb3VudDtcblxuICAgICAgdmFyIGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgIHJldHVybiBnZXRBdXRoSW5mbyh7XG4gICAgICAgIHBsYXRmb3JtOiB1bmlvbklkUGxhdGZvcm1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGF1dGhJbmZvKSB7XG4gICAgICAgIGF1dGhJbmZvID0gQVYuVXNlci5tZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQsIHtcbiAgICAgICAgICBhc01haW5BY2NvdW50OiBhc01haW5BY2NvdW50XG4gICAgICAgIH0pO1xuICAgICAgICBhdXRoSW5mby5wcm92aWRlciA9IFBMQVRGT1JNX1FRQVBQO1xuICAgICAgICByZXR1cm4gX3RoaXM1LmFzc29jaWF0ZVdpdGhNaW5pQXBwKGF1dGhJbmZvKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDlsIbnlKjmiLfkuI7lvq7kv6HlsI/nqIvluo/nlKjmiLfov5vooYzlhbPogZTjgILpgILnlKjkuo7kuLrlt7Lnu4/lnKjnlKjmiLfns7vnu5/kuK3lrZjlnKjnmoTnlKjmiLflhbPogZTlvZPliY3kvb/nlKjlvq7kv6HlsI/nqIvluo/nmoTlvq7kv6HluJDlj7fjgIJcbiAgICAgKiDku4XlnKjlvq7kv6HlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjYXNzb2NpYXRlV2l0aE1pbmlBcHB9XG4gICAgICogQHNpbmNlIDMuMTMuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlvbklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFt1bmlvbk9wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bmlvbk9wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbk9wdGlvbnMuYXNNYWluQWNjb3VudCA9IGZhbHNlXSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGFzc29jaWF0ZVdpdGhXZWFwcFdpdGhVbmlvbklkOiBmdW5jdGlvbiBhc3NvY2lhdGVXaXRoV2VhcHBXaXRoVW5pb25JZCh1bmlvbklkKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdmFyIF9yZWY2ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgICAgICBfcmVmNiR1bmlvbklkUGxhdGZvcm0gPSBfcmVmNi51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gX3JlZjYkdW5pb25JZFBsYXRmb3JtID09PSB2b2lkIDAgPyAnd2VpeGluJyA6IF9yZWY2JHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICBfcmVmNiRhc01haW5BY2NvdW50ID0gX3JlZjYuYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBhc01haW5BY2NvdW50ID0gX3JlZjYkYXNNYWluQWNjb3VudCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNiRhc01haW5BY2NvdW50O1xuXG4gICAgICB2YXIgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgYXV0aEluZm8gPSBBVi5Vc2VyLm1lcmdlVW5pb25JZChhdXRoSW5mbywgdW5pb25JZCwge1xuICAgICAgICAgIGFzTWFpbkFjY291bnQ6IGFzTWFpbkFjY291bnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpczYuYXNzb2NpYXRlV2l0aE1pbmlBcHAoYXV0aEluZm8pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVubGlua3MgYSB1c2VyIGZyb20gYSBzZXJ2aWNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF0Zm9ybVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuVXNlcj59XG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICovXG4gICAgZGlzc29jaWF0ZUF1dGhEYXRhOiBmdW5jdGlvbiBkaXNzb2NpYXRlQXV0aERhdGEocHJvdmlkZXIpIHtcbiAgICAgIHRoaXMudW5zZXQoXCJhdXRoRGF0YS5cIi5jb25jYXQocHJvdmlkZXIpKTtcbiAgICAgIHJldHVybiB0aGlzLnNhdmUoKS50aGVuKGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICByZXR1cm4gbW9kZWwuX2hhbmRsZVNhdmVSZXN1bHQodHJ1ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgX3VubGlua0Zyb206IGZ1bmN0aW9uIF91bmxpbmtGcm9tKHByb3ZpZGVyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQ6IFVzZXIjX3VubGlua0Zyb20g5bey5bqf5byD77yM6K+35L2/55SoIFVzZXIjZGlzc29jaWF0ZUF1dGhEYXRhIOS7o+abvycpO1xuICAgICAgcmV0dXJuIHRoaXMuZGlzc29jaWF0ZUF1dGhEYXRhKHByb3ZpZGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYSB1c2VyIGlzIGxpbmtlZCB0byBhIHNlcnZpY2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNMaW5rZWQ6IGZ1bmN0aW9uIF9pc0xpbmtlZChwcm92aWRlcikge1xuICAgICAgdmFyIGF1dGhUeXBlO1xuXG4gICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgYXV0aFR5cGUgPSBwcm92aWRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dGhUeXBlID0gcHJvdmlkZXIuZ2V0QXV0aFR5cGUoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGF1dGhEYXRhID0gdGhpcy5nZXQoJ2F1dGhEYXRhJykgfHwge307XG4gICAgICByZXR1cm4gISFhdXRoRGF0YVthdXRoVHlwZV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGEgdXNlciBpcyBhbm9ueW1vdXMuXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0Fub255bW91czogZnVuY3Rpb24gaXNBbm9ueW1vdXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNMaW5rZWQoUExBVEZPUk1fQU5PTllNT1VTKTtcbiAgICB9LFxuICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KCkge1xuICAgICAgdGhpcy5fbG9nT3V0V2l0aEFsbCgpO1xuXG4gICAgICB0aGlzLl9pc0N1cnJlbnRVc2VyID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlYXV0aGVudGljYXRlcyBhbGwgcHJvdmlkZXJzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xvZ091dFdpdGhBbGw6IGZ1bmN0aW9uIF9sb2dPdXRXaXRoQWxsKCkge1xuICAgICAgdmFyIGF1dGhEYXRhID0gdGhpcy5nZXQoJ2F1dGhEYXRhJyk7XG5cbiAgICAgIGlmICghYXV0aERhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuZ2V0KCdhdXRoRGF0YScpLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICBzZWxmLl9sb2dPdXRXaXRoKGtleSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVhdXRoZW50aWNhdGVzIGEgc2luZ2xlIHByb3ZpZGVyIChlLmcuIHJlbW92aW5nIGFjY2VzcyB0b2tlbnMgZnJvbSB0aGVcbiAgICAgKiBGYWNlYm9vayBTREspLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xvZ091dFdpdGg6IGZ1bmN0aW9uIF9sb2dPdXRXaXRoKHByb3ZpZGVyKSB7XG4gICAgICBpZiAoIXRoaXMuaXNDdXJyZW50KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgcHJvdmlkZXIgPSBBVi5Vc2VyLl9hdXRoUHJvdmlkZXJzW3Byb3ZpZGVyXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3ZpZGVyICYmIHByb3ZpZGVyLmRlYXV0aGVudGljYXRlKSB7XG4gICAgICAgIHByb3ZpZGVyLmRlYXV0aGVudGljYXRlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNpZ25zIHVwIGEgbmV3IHVzZXIuIFlvdSBzaG91bGQgY2FsbCB0aGlzIGluc3RlYWQgb2Ygc2F2ZSBmb3JcbiAgICAgKiBuZXcgQVYuVXNlcnMuIFRoaXMgd2lsbCBjcmVhdGUgYSBuZXcgQVYuVXNlciBvbiB0aGUgc2VydmVyLCBhbmRcbiAgICAgKiBhbHNvIHBlcnNpc3QgdGhlIHNlc3Npb24gb24gZGlzayBzbyB0aGF0IHlvdSBjYW4gYWNjZXNzIHRoZSB1c2VyIHVzaW5nXG4gICAgICogPGNvZGU+Y3VycmVudDwvY29kZT4uXG4gICAgICpcbiAgICAgKiA8cD5BIHVzZXJuYW1lIGFuZCBwYXNzd29yZCBtdXN0IGJlIHNldCBiZWZvcmUgY2FsbGluZyBzaWduVXAuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIEV4dHJhIGZpZWxkcyB0byBzZXQgb24gdGhlIG5ldyB1c2VyLCBvciBudWxsLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgc2lnbnVwXG4gICAgICogICAgIGZpbmlzaGVzLlxuICAgICAqIEBzZWUgQVYuVXNlci5zaWduVXBcbiAgICAgKi9cbiAgICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcChhdHRycywgb3B0aW9ucykge1xuICAgICAgdmFyIGVycm9yO1xuICAgICAgdmFyIHVzZXJuYW1lID0gYXR0cnMgJiYgYXR0cnMudXNlcm5hbWUgfHwgdGhpcy5nZXQoJ3VzZXJuYW1lJyk7XG5cbiAgICAgIGlmICghdXNlcm5hbWUgfHwgdXNlcm5hbWUgPT09ICcnKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgJ0Nhbm5vdCBzaWduIHVwIHVzZXIgd2l0aCBhbiBlbXB0eSBuYW1lLicpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhc3N3b3JkID0gYXR0cnMgJiYgYXR0cnMucGFzc3dvcmQgfHwgdGhpcy5nZXQoJ3Bhc3N3b3JkJyk7XG5cbiAgICAgIGlmICghcGFzc3dvcmQgfHwgcGFzc3dvcmQgPT09ICcnKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgJ0Nhbm5vdCBzaWduIHVwIHVzZXIgd2l0aCBhbiBlbXB0eSBwYXNzd29yZC4nKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnNhdmUoYXR0cnMsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgIGlmIChtb2RlbC5pc0Fub255bW91cygpKSB7XG4gICAgICAgICAgbW9kZWwudW5zZXQoXCJhdXRoRGF0YS5cIi5jb25jYXQoUExBVEZPUk1fQU5PTllNT1VTKSk7XG4gICAgICAgICAgbW9kZWwuX29wU2V0UXVldWUgPSBbe31dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vZGVsLl9oYW5kbGVTYXZlUmVzdWx0KHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2lnbnMgdXAgYSBuZXcgdXNlciB3aXRoIG1vYmlsZSBwaG9uZSBhbmQgc21zIGNvZGUuXG4gICAgICogWW91IHNob3VsZCBjYWxsIHRoaXMgaW5zdGVhZCBvZiBzYXZlIGZvclxuICAgICAqIG5ldyBBVi5Vc2Vycy4gVGhpcyB3aWxsIGNyZWF0ZSBhIG5ldyBBVi5Vc2VyIG9uIHRoZSBzZXJ2ZXIsIGFuZFxuICAgICAqIGFsc28gcGVyc2lzdCB0aGUgc2Vzc2lvbiBvbiBkaXNrIHNvIHRoYXQgeW91IGNhbiBhY2Nlc3MgdGhlIHVzZXIgdXNpbmdcbiAgICAgKiA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgKlxuICAgICAqIDxwPkEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIG11c3QgYmUgc2V0IGJlZm9yZSBjYWxsaW5nIHNpZ25VcC48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgRXh0cmEgZmllbGRzIHRvIHNldCBvbiB0aGUgbmV3IHVzZXIsIG9yIG51bGwuXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBzaWdudXBcbiAgICAgKiAgICAgZmluaXNoZXMuXG4gICAgICogQHNlZSBBVi5Vc2VyLnNpZ25VcE9ybG9nSW5XaXRoTW9iaWxlUGhvbmVcbiAgICAgKiBAc2VlIEFWLkNsb3VkLnJlcXVlc3RTbXNDb2RlXG4gICAgICovXG4gICAgc2lnblVwT3Jsb2dJbldpdGhNb2JpbGVQaG9uZTogZnVuY3Rpb24gc2lnblVwT3Jsb2dJbldpdGhNb2JpbGVQaG9uZShhdHRycykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIGVycm9yO1xuICAgICAgdmFyIG1vYmlsZVBob25lTnVtYmVyID0gYXR0cnMgJiYgYXR0cnMubW9iaWxlUGhvbmVOdW1iZXIgfHwgdGhpcy5nZXQoJ21vYmlsZVBob25lTnVtYmVyJyk7XG5cbiAgICAgIGlmICghbW9iaWxlUGhvbmVOdW1iZXIgfHwgbW9iaWxlUGhvbmVOdW1iZXIgPT09ICcnKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgJ0Nhbm5vdCBzaWduIHVwIG9yIGxvZ2luIHVzZXIgYnkgbW9iaWxlUGhvbmVOdW1iZXIgJyArICd3aXRoIGFuIGVtcHR5IG1vYmlsZVBob25lTnVtYmVyLicpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNtc0NvZGUgPSBhdHRycyAmJiBhdHRycy5zbXNDb2RlIHx8IHRoaXMuZ2V0KCdzbXNDb2RlJyk7XG5cbiAgICAgIGlmICghc21zQ29kZSB8fCBzbXNDb2RlID09PSAnJykge1xuICAgICAgICBlcnJvciA9IG5ldyBBVkVycm9yKEFWRXJyb3IuT1RIRVJfQ0FVU0UsICdDYW5ub3Qgc2lnbiB1cCBvciBsb2dpbiB1c2VyIGJ5IG1vYmlsZVBob25lTnVtYmVyICAnICsgJ3dpdGggYW4gZW1wdHkgc21zQ29kZS4nKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMuX21ha2VSZXF1ZXN0ID0gZnVuY3Rpb24gKHJvdXRlLCBjbGFzc05hbWUsIGlkLCBtZXRob2QsIGpzb24pIHtcbiAgICAgICAgcmV0dXJuIEFWUmVxdWVzdCgndXNlcnNCeU1vYmlsZVBob25lJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBqc29uKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB0aGlzLnNhdmUoYXR0cnMsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgIGRlbGV0ZSBtb2RlbC5hdHRyaWJ1dGVzLnNtc0NvZGU7XG4gICAgICAgIGRlbGV0ZSBtb2RlbC5fc2VydmVyRGF0YS5zbXNDb2RlO1xuICAgICAgICByZXR1cm4gbW9kZWwuX2hhbmRsZVNhdmVSZXN1bHQodHJ1ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2FtZSB3aXRoIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aEF1dGhEYXRhfSwgZXhjZXB0IHRoYXQgeW91IGNhbiBzZXQgYXR0cmlidXRlcyBiZWZvcmUgbG9naW4uXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICovXG4gICAgbG9naW5XaXRoQXV0aERhdGE6IGZ1bmN0aW9uIGxvZ2luV2l0aEF1dGhEYXRhKGF1dGhEYXRhLCBwbGF0Zm9ybSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX2xpbmtXaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkfSwgZXhjZXB0IHRoYXQgeW91IGNhbiBzZXQgYXR0cmlidXRlcyBiZWZvcmUgbG9naW4uXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICovXG4gICAgbG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkOiBmdW5jdGlvbiBsb2dpbldpdGhBdXRoRGF0YUFuZFVuaW9uSWQoYXV0aERhdGEsIHBsYXRmb3JtLCB1bmlvbklkLCB1bmlvbkxvZ2luT3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoQXV0aERhdGEobWVyZ2VVbmlvbkRhdGFJbnRvQXV0aERhdGEoKShhdXRoRGF0YSwgdW5pb25JZCwgdW5pb25Mb2dpbk9wdGlvbnMpLCBwbGF0Zm9ybSwgdW5pb25Mb2dpbk9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2FtZSB3aXRoIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aFdlYXBwfSwgZXhjZXB0IHRoYXQgeW91IGNhbiBzZXQgYXR0cmlidXRlcyBiZWZvcmUgbG9naW4uXG4gICAgICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSB7QGxpbmsgQVYuVXNlciNsb2dpbldpdGhNaW5pQXBwfVxuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoRGF0YSBleGlzdHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVmZXJVbmlvbklkXSDlvZPnlKjmiLfmu6HotrMge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlwcm9ncmFtL2Rldi9mcmFtZXdvcmsvb3Blbi1hYmlsaXR5L3VuaW9uLWlkLmh0bWwg6I635Y+WIFVuaW9uSWQg55qE5p2h5Lu2fSDml7bvvIzmmK/lkKbkvb/nlKggVW5pb25JZCDnmbvlvZXjgILvvIhzaW5jZSAzLjEzLjDvvIlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgdW5pb25JZCBwbGF0Zm9ybVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXNNYWluQWNjb3VudCA9IHRydWVdIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBVi5Vc2VyPn1cbiAgICAgKi9cbiAgICBsb2dpbldpdGhXZWFwcDogZnVuY3Rpb24gbG9naW5XaXRoV2VhcHAoKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdmFyIF9yZWY3ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBfcmVmNyRwcmVmZXJVbmlvbklkID0gX3JlZjcucHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBwcmVmZXJVbmlvbklkID0gX3JlZjckcHJlZmVyVW5pb25JZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNyRwcmVmZXJVbmlvbklkLFxuICAgICAgICAgIF9yZWY3JHVuaW9uSWRQbGF0Zm9ybSA9IF9yZWY3LnVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSBfcmVmNyR1bmlvbklkUGxhdGZvcm0gPT09IHZvaWQgMCA/ICd3ZWl4aW4nIDogX3JlZjckdW5pb25JZFBsYXRmb3JtLFxuICAgICAgICAgIF9yZWY3JGFzTWFpbkFjY291bnQgPSBfcmVmNy5hc01haW5BY2NvdW50LFxuICAgICAgICAgIGFzTWFpbkFjY291bnQgPSBfcmVmNyRhc01haW5BY2NvdW50ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjckYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBfcmVmNyRmYWlsT25Ob3RFeGlzdCA9IF9yZWY3LmZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gX3JlZjckZmFpbE9uTm90RXhpc3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjckZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgdXNlTWFzdGVyS2V5ID0gX3JlZjcudXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IF9yZWY3LnNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyID0gX3JlZjcudXNlcjtcblxuICAgICAgdmFyIGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgIHJldHVybiBnZXRBdXRoSW5mbyh7XG4gICAgICAgIHByZWZlclVuaW9uSWQ6IHByZWZlclVuaW9uSWQsXG4gICAgICAgIGFzTWFpbkFjY291bnQ6IGFzTWFpbkFjY291bnQsXG4gICAgICAgIHBsYXRmb3JtOiB1bmlvbklkUGxhdGZvcm1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGF1dGhJbmZvKSB7XG4gICAgICAgIHJldHVybiBfdGhpczcubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoV2VhcHBXaXRoVW5pb25JZH0sIGV4Y2VwdCB0aGF0IHlvdSBjYW4gc2V0IGF0dHJpYnV0ZXMgYmVmb3JlIGxvZ2luLlxuICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjbG9naW5XaXRoTWluaUFwcH1cbiAgICAgKiBAc2luY2UgMy4xMy4wXG4gICAgICovXG4gICAgbG9naW5XaXRoV2VhcHBXaXRoVW5pb25JZDogZnVuY3Rpb24gbG9naW5XaXRoV2VhcHBXaXRoVW5pb25JZCh1bmlvbklkKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIF9yZWY4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgICAgICBfcmVmOCR1bmlvbklkUGxhdGZvcm0gPSBfcmVmOC51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gX3JlZjgkdW5pb25JZFBsYXRmb3JtID09PSB2b2lkIDAgPyAnd2VpeGluJyA6IF9yZWY4JHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICBfcmVmOCRhc01haW5BY2NvdW50ID0gX3JlZjguYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBhc01haW5BY2NvdW50ID0gX3JlZjgkYXNNYWluQWNjb3VudCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmOCRhc01haW5BY2NvdW50LFxuICAgICAgICAgIF9yZWY4JGZhaWxPbk5vdEV4aXN0ID0gX3JlZjguZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgZmFpbE9uTm90RXhpc3QgPSBfcmVmOCRmYWlsT25Ob3RFeGlzdCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmOCRmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXkgPSBfcmVmOC51c2VNYXN0ZXJLZXksXG4gICAgICAgICAgc2Vzc2lvblRva2VuID0gX3JlZjguc2Vzc2lvblRva2VuLFxuICAgICAgICAgIHVzZXIgPSBfcmVmOC51c2VyO1xuXG4gICAgICB2YXIgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgYXV0aEluZm8gPSBBVi5Vc2VyLm1lcmdlVW5pb25JZChhdXRoSW5mbywgdW5pb25JZCwge1xuICAgICAgICAgIGFzTWFpbkFjY291bnQ6IGFzTWFpbkFjY291bnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpczgubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoUVFBcHB9LCBleGNlcHQgdGhhdCB5b3UgY2FuIHNldCBhdHRyaWJ1dGVzIGJlZm9yZSBsb2dpbi5cbiAgICAgKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyI2xvZ2luV2l0aE1pbmlBcHB9XG4gICAgICogQHNpbmNlIDQuMi4wXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhEYXRhIGV4aXN0cy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZWZlclVuaW9uSWRdIOWmguaenOacjeWKoeerr+WcqOeZu+W9leaXtuiOt+WPluWIsOS6hueUqOaIt+eahCBVbmlvbklk77yM5piv5ZCm5bCGIFVuaW9uSWQg5L+d5a2Y5Zyo55So5oi36LSm5Y+35Lit44CCXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVuaW9uSWRQbGF0Zm9ybSA9ICdxcSddIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgdW5pb25JZCBwbGF0Zm9ybVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXNNYWluQWNjb3VudCA9IHRydWVdIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICovXG4gICAgbG9naW5XaXRoUVFBcHA6IGZ1bmN0aW9uIGxvZ2luV2l0aFFRQXBwKCkge1xuICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgIHZhciBfcmVmOSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZjkkcHJlZmVyVW5pb25JZCA9IF9yZWY5LnByZWZlclVuaW9uSWQsXG4gICAgICAgICAgcHJlZmVyVW5pb25JZCA9IF9yZWY5JHByZWZlclVuaW9uSWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjkkcHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBfcmVmOSR1bmlvbklkUGxhdGZvcm0gPSBfcmVmOS51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gX3JlZjkkdW5pb25JZFBsYXRmb3JtID09PSB2b2lkIDAgPyAncXEnIDogX3JlZjkkdW5pb25JZFBsYXRmb3JtLFxuICAgICAgICAgIF9yZWY5JGFzTWFpbkFjY291bnQgPSBfcmVmOS5hc01haW5BY2NvdW50LFxuICAgICAgICAgIGFzTWFpbkFjY291bnQgPSBfcmVmOSRhc01haW5BY2NvdW50ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjkkYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBfcmVmOSRmYWlsT25Ob3RFeGlzdCA9IF9yZWY5LmZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gX3JlZjkkZmFpbE9uTm90RXhpc3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjkkZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgdXNlTWFzdGVyS2V5ID0gX3JlZjkudXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IF9yZWY5LnNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyID0gX3JlZjkudXNlcjtcblxuICAgICAgdmFyIGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgIHJldHVybiBnZXRBdXRoSW5mbyh7XG4gICAgICAgIHByZWZlclVuaW9uSWQ6IHByZWZlclVuaW9uSWQsXG4gICAgICAgIGFzTWFpbkFjY291bnQ6IGFzTWFpbkFjY291bnQsXG4gICAgICAgIHBsYXRmb3JtOiB1bmlvbklkUGxhdGZvcm1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGF1dGhJbmZvKSB7XG4gICAgICAgIGF1dGhJbmZvLnByb3ZpZGVyID0gUExBVEZPUk1fUVFBUFA7XG4gICAgICAgIHJldHVybiBfdGhpczkubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoUVFBcHBXaXRoVW5pb25JZH0sIGV4Y2VwdCB0aGF0IHlvdSBjYW4gc2V0IGF0dHJpYnV0ZXMgYmVmb3JlIGxvZ2luLlxuICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjbG9naW5XaXRoTWluaUFwcH1cbiAgICAgKiBAc2luY2UgNC4yLjBcbiAgICAgKi9cbiAgICBsb2dpbldpdGhRUUFwcFdpdGhVbmlvbklkOiBmdW5jdGlvbiBsb2dpbldpdGhRUUFwcFdpdGhVbmlvbklkKHVuaW9uSWQpIHtcbiAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYxMCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICAgICAgX3JlZjEwJHVuaW9uSWRQbGF0Zm9yID0gX3JlZjEwLnVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSBfcmVmMTAkdW5pb25JZFBsYXRmb3IgPT09IHZvaWQgMCA/ICdxcScgOiBfcmVmMTAkdW5pb25JZFBsYXRmb3IsXG4gICAgICAgICAgX3JlZjEwJGFzTWFpbkFjY291bnQgPSBfcmVmMTAuYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBhc01haW5BY2NvdW50ID0gX3JlZjEwJGFzTWFpbkFjY291bnQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjEwJGFzTWFpbkFjY291bnQsXG4gICAgICAgICAgX3JlZjEwJGZhaWxPbk5vdEV4aXN0ID0gX3JlZjEwLmZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gX3JlZjEwJGZhaWxPbk5vdEV4aXN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMCRmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXkgPSBfcmVmMTAudXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IF9yZWYxMC5zZXNzaW9uVG9rZW4sXG4gICAgICAgICAgdXNlciA9IF9yZWYxMC51c2VyO1xuXG4gICAgICB2YXIgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgYXV0aEluZm8gPSBBVi5Vc2VyLm1lcmdlVW5pb25JZChhdXRoSW5mbywgdW5pb25JZCwge1xuICAgICAgICAgIGFzTWFpbkFjY291bnQ6IGFzTWFpbkFjY291bnRcbiAgICAgICAgfSk7XG4gICAgICAgIGF1dGhJbmZvLnByb3ZpZGVyID0gUExBVEZPUk1fUVFBUFA7XG4gICAgICAgIHJldHVybiBfdGhpczEwLmxvZ2luV2l0aE1pbmlBcHAoYXV0aEluZm8sIHtcbiAgICAgICAgICBmYWlsT25Ob3RFeGlzdDogZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgdXNlTWFzdGVyS2V5OiB1c2VNYXN0ZXJLZXksXG4gICAgICAgICAgc2Vzc2lvblRva2VuOiBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgdXNlcjogdXNlclxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2FtZSB3aXRoIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aE1pbmlBcHB9LCBleGNlcHQgdGhhdCB5b3UgY2FuIHNldCBhdHRyaWJ1dGVzIGJlZm9yZSBsb2dpbi5cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKi9cbiAgICBsb2dpbldpdGhNaW5pQXBwOiBmdW5jdGlvbiBsb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCBvcHRpb24pIHtcbiAgICAgIHZhciBfdGhpczExID0gdGhpcztcblxuICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKCkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxMS5sb2dpbldpdGhBdXRoRGF0YShhdXRoSW5mby5hdXRoRGF0YSwgYXV0aEluZm8ucHJvdmlkZXIsIG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YShhdXRoSW5mby5hdXRoRGF0YSwgYXV0aEluZm8ucHJvdmlkZXIsIG9wdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvZ3MgaW4gYSBBVi5Vc2VyLiBPbiBzdWNjZXNzLCB0aGlzIHNhdmVzIHRoZSBzZXNzaW9uIHRvIGxvY2FsU3RvcmFnZSxcbiAgICAgKiBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIgdXNpbmdcbiAgICAgKiA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgKlxuICAgICAqIDxwPkEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIG11c3QgYmUgc2V0IGJlZm9yZSBjYWxsaW5nIGxvZ0luLjwvcD5cbiAgICAgKlxuICAgICAqIEBzZWUgQVYuVXNlci5sb2dJblxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW5cbiAgICAgKiAgICAgdGhlIGxvZ2luIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIGxvZ0luOiBmdW5jdGlvbiBsb2dJbigpIHtcbiAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdCgnbG9naW4nLCBudWxsLCBudWxsLCAnUE9TVCcsIHRoaXMudG9KU09OKCkpO1xuICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICB2YXIgc2VydmVyQXR0cnMgPSBtb2RlbC5wYXJzZShyZXNwKTtcblxuICAgICAgICBtb2RlbC5fZmluaXNoRmV0Y2goc2VydmVyQXR0cnMpO1xuXG4gICAgICAgIHJldHVybiBtb2RlbC5faGFuZGxlU2F2ZVJlc3VsdCh0cnVlKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXNlcnZlckF0dHJzLnNtc0NvZGUpIGRlbGV0ZSBtb2RlbC5hdHRyaWJ1dGVzWydzbXNDb2RlJ107XG4gICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAc2VlIEFWLk9iamVjdCNzYXZlXG4gICAgICovXG4gICAgc2F2ZTogZnVuY3Rpb24gc2F2ZShhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICB2YXIgYXR0cnMsIG9wdGlvbnM7XG5cbiAgICAgIGlmIChfLmlzT2JqZWN0KGFyZzEpIHx8IF8uaXNOdWxsKGFyZzEpIHx8IF8uaXNVbmRlZmluZWQoYXJnMSkpIHtcbiAgICAgICAgYXR0cnMgPSBhcmcxO1xuICAgICAgICBvcHRpb25zID0gYXJnMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF0dHJzID0ge307XG4gICAgICAgIGF0dHJzW2FyZzFdID0gYXJnMjtcbiAgICAgICAgb3B0aW9ucyA9IGFyZzM7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgcmV0dXJuIEFWLk9iamVjdC5wcm90b3R5cGUuc2F2ZS5jYWxsKHRoaXMsIGF0dHJzLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICByZXR1cm4gbW9kZWwuX2hhbmRsZVNhdmVSZXN1bHQoZmFsc2UpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRm9sbG93IGEgdXNlclxuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgQVYuVXNlciB8IFN0cmluZ30gb3B0aW9ucyBpZiBhbiBBVi5Vc2VyIG9yIHN0cmluZyBpcyBnaXZlbiwgaXQgd2lsbCBiZSB1c2VkIGFzIHRoZSB0YXJnZXQgdXNlci5cbiAgICAgKiBAcGFyYW0ge0FWLlVzZXIgfCBTdHJpbmd9IG9wdGlvbnMudXNlciBUaGUgdGFyZ2V0IHVzZXIgb3IgdXNlcidzIG9iamVjdElkIHRvIGZvbGxvdy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuYXR0cmlidXRlc10ga2V5LXZhbHVlIGF0dHJpYnV0ZXMgZGljdGlvbmFyeSB0byBiZSB1c2VkIGFzXG4gICAgICogIGNvbmRpdGlvbnMgb2YgZm9sbG93ZXJRdWVyeS9mb2xsb3dlZVF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKi9cbiAgICBmb2xsb3c6IGZ1bmN0aW9uIGZvbGxvdyhvcHRpb25zLCBhdXRoT3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbi4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHVzZXI7XG4gICAgICB2YXIgYXR0cmlidXRlcztcblxuICAgICAgaWYgKG9wdGlvbnMudXNlcikge1xuICAgICAgICB1c2VyID0gb3B0aW9ucy51c2VyO1xuICAgICAgICBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlciA9IG9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHZhciB1c2VyT2JqZWN0SWQgPSBfLmlzU3RyaW5nKHVzZXIpID8gdXNlciA6IHVzZXIuaWQ7XG5cbiAgICAgIGlmICghdXNlck9iamVjdElkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXJnZXQgdXNlci4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJvdXRlID0gJ3VzZXJzLycgKyB0aGlzLmlkICsgJy9mcmllbmRzaGlwLycgKyB1c2VyT2JqZWN0SWQ7XG4gICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdChyb3V0ZSwgbnVsbCwgbnVsbCwgJ1BPU1QnLCBBVi5fZW5jb2RlKGF0dHJpYnV0ZXMpLCBhdXRoT3B0aW9ucyk7XG4gICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5mb2xsb3cgYSB1c2VyLlxuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgQVYuVXNlciB8IFN0cmluZ30gb3B0aW9ucyBpZiBhbiBBVi5Vc2VyIG9yIHN0cmluZyBpcyBnaXZlbiwgaXQgd2lsbCBiZSB1c2VkIGFzIHRoZSB0YXJnZXQgdXNlci5cbiAgICAgKiBAcGFyYW0ge0FWLlVzZXIgfCBTdHJpbmd9IG9wdGlvbnMudXNlciBUaGUgdGFyZ2V0IHVzZXIgb3IgdXNlcidzIG9iamVjdElkIHRvIHVuZm9sbG93LlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKi9cbiAgICB1bmZvbGxvdzogZnVuY3Rpb24gdW5mb2xsb3cob3B0aW9ucywgYXV0aE9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4uJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB1c2VyO1xuXG4gICAgICBpZiAob3B0aW9ucy51c2VyKSB7XG4gICAgICAgIHVzZXIgPSBvcHRpb25zLnVzZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyID0gb3B0aW9ucztcbiAgICAgIH1cblxuICAgICAgdmFyIHVzZXJPYmplY3RJZCA9IF8uaXNTdHJpbmcodXNlcikgPyB1c2VyIDogdXNlci5pZDtcblxuICAgICAgaWYgKCF1c2VyT2JqZWN0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhcmdldCB1c2VyLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcm91dGUgPSAndXNlcnMvJyArIHRoaXMuaWQgKyAnL2ZyaWVuZHNoaXAvJyArIHVzZXJPYmplY3RJZDtcbiAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KHJvdXRlLCBudWxsLCBudWxsLCAnREVMRVRFJywgbnVsbCwgYXV0aE9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdXNlcidzIGZvbGxvd2VycyBhbmQgZm9sbG93ZWVzLlxuICAgICAqIEBzaW5jZSA0LjguMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc2tpcF1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGltaXRdXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgICAqL1xuICAgIGdldEZvbGxvd2Vyc0FuZEZvbGxvd2VlczogZnVuY3Rpb24gZ2V0Rm9sbG93ZXJzQW5kRm9sbG93ZWVzKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2lnbmluLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6IFwiL3VzZXJzL1wiLmNvbmNhdCh0aGlzLmlkLCBcIi9mb2xsb3dlcnNBbmRGb2xsb3dlZXNcIiksXG4gICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgc2tpcDogb3B0aW9ucyAmJiBvcHRpb25zLnNraXAsXG4gICAgICAgICAgbGltaXQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5saW1pdCxcbiAgICAgICAgICBpbmNsdWRlOiAnZm9sbG93ZXIsZm9sbG93ZWUnLFxuICAgICAgICAgIGtleXM6ICdmb2xsb3dlcixmb2xsb3dlZSdcbiAgICAgICAgfSxcbiAgICAgICAgYXV0aE9wdGlvbnM6IGF1dGhPcHRpb25zXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMTEpIHtcbiAgICAgICAgdmFyIGZvbGxvd2VycyA9IF9yZWYxMS5mb2xsb3dlcnMsXG4gICAgICAgICAgICBmb2xsb3dlZXMgPSBfcmVmMTEuZm9sbG93ZWVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZvbGxvd2VyczogKDAsIF9tYXAuZGVmYXVsdCkoZm9sbG93ZXJzKS5jYWxsKGZvbGxvd2VycywgZnVuY3Rpb24gKF9yZWYxMikge1xuICAgICAgICAgICAgdmFyIGZvbGxvd2VyID0gX3JlZjEyLmZvbGxvd2VyO1xuICAgICAgICAgICAgcmV0dXJuIEFWLl9kZWNvZGUoZm9sbG93ZXIpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGZvbGxvd2VlczogKDAsIF9tYXAuZGVmYXVsdCkoZm9sbG93ZWVzKS5jYWxsKGZvbGxvd2VlcywgZnVuY3Rpb24gKF9yZWYxMykge1xuICAgICAgICAgICAgdmFyIGZvbGxvd2VlID0gX3JlZjEzLmZvbGxvd2VlO1xuICAgICAgICAgICAgcmV0dXJuIEFWLl9kZWNvZGUoZm9sbG93ZWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpDcmVhdGUgYSBmb2xsb3dlciBxdWVyeSB0byBxdWVyeSB0aGUgdXNlcidzIGZvbGxvd2Vycy5cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAc2VlIEFWLlVzZXIjZm9sbG93ZXJRdWVyeVxuICAgICAqL1xuICAgIGZvbGxvd2VyUXVlcnk6IGZ1bmN0aW9uIGZvbGxvd2VyUXVlcnkoKSB7XG4gICAgICByZXR1cm4gQVYuVXNlci5mb2xsb3dlclF1ZXJ5KHRoaXMuaWQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKkNyZWF0ZSBhIGZvbGxvd2VlIHF1ZXJ5IHRvIHF1ZXJ5IHRoZSB1c2VyJ3MgZm9sbG93ZWVzLlxuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBzZWUgQVYuVXNlciNmb2xsb3dlZVF1ZXJ5XG4gICAgICovXG4gICAgZm9sbG93ZWVRdWVyeTogZnVuY3Rpb24gZm9sbG93ZWVRdWVyeSgpIHtcbiAgICAgIHJldHVybiBBVi5Vc2VyLmZvbGxvd2VlUXVlcnkodGhpcy5pZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBzZWUgQVYuT2JqZWN0I2ZldGNoXG4gICAgICovXG4gICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKGZldGNoT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIEFWLk9iamVjdC5wcm90b3R5cGUuZmV0Y2guY2FsbCh0aGlzLCBmZXRjaE9wdGlvbnMsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgIHJldHVybiBtb2RlbC5faGFuZGxlU2F2ZVJlc3VsdChmYWxzZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdXNlcidzIG5ldyBwYXNzd29yZCBzYWZlbHkgYmFzZWQgb24gb2xkIHBhc3N3b3JkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvbGRQYXNzd29yZCB0aGUgb2xkIHBhc3N3b3JkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdQYXNzd29yZCB0aGUgbmV3IHBhc3N3b3JkLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKi9cbiAgICB1cGRhdGVQYXNzd29yZDogZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmQob2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7XG5cbiAgICAgIHZhciByb3V0ZSA9ICd1c2Vycy8nICsgdGhpcy5pZCArICcvdXBkYXRlUGFzc3dvcmQnO1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgb2xkX3Bhc3N3b3JkOiBvbGRQYXNzd29yZCxcbiAgICAgICAgbmV3X3Bhc3N3b3JkOiBuZXdQYXNzd29yZFxuICAgICAgfTtcbiAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KHJvdXRlLCBudWxsLCBudWxsLCAnUFVUJywgcGFyYW1zLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgX3RoaXMxMi5fZmluaXNoRmV0Y2goX3RoaXMxMi5wYXJzZShyZXNwKSk7XG5cbiAgICAgICAgcmV0dXJuIF90aGlzMTIuX2hhbmRsZVNhdmVSZXN1bHQodHJ1ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3A7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiA8Y29kZT5jdXJyZW50PC9jb2RlPiB3b3VsZCByZXR1cm4gdGhpcyB1c2VyLlxuICAgICAqIEBzZWUgQVYuVXNlciNjdXJyZW50XG4gICAgICovXG4gICAgaXNDdXJyZW50OiBmdW5jdGlvbiBpc0N1cnJlbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNDdXJyZW50VXNlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBnZXQoXCJ1c2VybmFtZVwiKS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICogQHNlZSBBVi5PYmplY3QjZ2V0XG4gICAgICovXG4gICAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uIGdldFVzZXJuYW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VybmFtZScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGdldChcIm1vYmlsZVBob25lTnVtYmVyXCIpLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKiBAc2VlIEFWLk9iamVjdCNnZXRcbiAgICAgKi9cbiAgICBnZXRNb2JpbGVQaG9uZU51bWJlcjogZnVuY3Rpb24gZ2V0TW9iaWxlUGhvbmVOdW1iZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ21vYmlsZVBob25lTnVtYmVyJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxzIHNldChcIm1vYmlsZVBob25lTnVtYmVyXCIsIHBob25lTnVtYmVyLCBvcHRpb25zKSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZU51bWJlclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBBVi5PYmplY3Qjc2V0XG4gICAgICovXG4gICAgc2V0TW9iaWxlUGhvbmVOdW1iZXI6IGZ1bmN0aW9uIHNldE1vYmlsZVBob25lTnVtYmVyKHBob25lLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ21vYmlsZVBob25lTnVtYmVyJywgcGhvbmUsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyBzZXQoXCJ1c2VybmFtZVwiLCB1c2VybmFtZSwgb3B0aW9ucykgYW5kIHJldHVybnMgdGhlIHJlc3VsdC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqIEBzZWUgQVYuT2JqZWN0I3NldFxuICAgICAqL1xuICAgIHNldFVzZXJuYW1lOiBmdW5jdGlvbiBzZXRVc2VybmFtZSh1c2VybmFtZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCd1c2VybmFtZScsIHVzZXJuYW1lLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgc2V0KFwicGFzc3dvcmRcIiwgcGFzc3dvcmQsIG9wdGlvbnMpIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiBAc2VlIEFWLk9iamVjdCNzZXRcbiAgICAgKi9cbiAgICBzZXRQYXNzd29yZDogZnVuY3Rpb24gc2V0UGFzc3dvcmQocGFzc3dvcmQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgncGFzc3dvcmQnLCBwYXNzd29yZCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZ2V0KFwiZW1haWxcIikuXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqIEBzZWUgQVYuT2JqZWN0I2dldFxuICAgICAqL1xuICAgIGdldEVtYWlsOiBmdW5jdGlvbiBnZXRFbWFpbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnZW1haWwnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgc2V0KFwiZW1haWxcIiwgZW1haWwsIG9wdGlvbnMpIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGVtYWlsXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICogQHNlZSBBVi5PYmplY3Qjc2V0XG4gICAgICovXG4gICAgc2V0RW1haWw6IGZ1bmN0aW9uIHNldEVtYWlsKGVtYWlsLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2VtYWlsJywgZW1haWwsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgaGFzIGJlZW4gYXV0aGVudGljYXRlZC5cbiAgICAgKiBAZGVwcmVjYXRlZCDlpoLmnpzopoHliKTmlq3lvZPliY3nlKjmiLfnmoTnmbvlvZXnirbmgIHmmK/lkKbmnInmlYjvvIzor7fkvb/nlKggY3VycmVudFVzZXIuaXNBdXRoZW50aWNhdGVkKCkudGhlbigp77yMXG4gICAgICog5aaC5p6c6KaB5Yik5pat6K+l55So5oi35piv5ZCm5piv5b2T5YmN55m75b2V55So5oi377yM6K+35L2/55SoIHVzZXIuaWQgPT09IGN1cnJlbnRVc2VyLmlkXG4gICAgICogQHJldHVybiAoQm9vbGVhbikgd2hldGhlciB0aGlzIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgaXMgbG9nZ2VkIGluLlxuICAgICAqL1xuICAgIGF1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQ6IOWmguaenOimgeWIpOaWreW9k+WJjeeUqOaIt+eahOeZu+W9leeKtuaAgeaYr+WQpuacieaViO+8jOivt+S9v+eUqCBjdXJyZW50VXNlci5pc0F1dGhlbnRpY2F0ZWQoKS50aGVuKCnvvIzlpoLmnpzopoHliKTmlq3or6XnlKjmiLfmmK/lkKbmmK/lvZPliY3nmbvlvZXnlKjmiLfvvIzor7fkvb/nlKggdXNlci5pZCA9PT0gY3VycmVudFVzZXIuaWTjgIInKTtcbiAgICAgIHJldHVybiAhIXRoaXMuX3Nlc3Npb25Ub2tlbiAmJiAhQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIgJiYgQVYuVXNlci5jdXJyZW50KCkgJiYgQVYuVXNlci5jdXJyZW50KCkuaWQgPT09IHRoaXMuaWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVjdHMgaWYgY3VycmVudCBzZXNzaW9uVG9rZW4gaXMgdmFsaWQuXG4gICAgICpcbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIFByb21pc2UuPEJvb2xlYW4+XG4gICAgICovXG4gICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhX3RoaXMxMy5fc2Vzc2lvblRva2VuICYmIEFWLlVzZXIuX2ZldGNoVXNlckJ5U2Vzc2lvblRva2VuKF90aGlzMTMuX3Nlc3Npb25Ub2tlbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAyMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHNlc3Npb25Ub2tlbiBvZiBjdXJyZW50IHVzZXIuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzZXNzaW9uVG9rZW5cbiAgICAgKi9cbiAgICBnZXRTZXNzaW9uVG9rZW46IGZ1bmN0aW9uIGdldFNlc3Npb25Ub2tlbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uVG9rZW47XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggc2Vzc2lvblRva2VuIG9mIGN1cnJlbnQgdXNlci5cbiAgICAgKiBAc2luY2UgMi4xLjBcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5Vc2VyPn0gdXNlciB3aXRoIHJlZnJlc2hlZCBzZXNzaW9uVG9rZW5cbiAgICAgKi9cbiAgICByZWZyZXNoU2Vzc2lvblRva2VuOiBmdW5jdGlvbiByZWZyZXNoU2Vzc2lvblRva2VuKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpczE0ID0gdGhpcztcblxuICAgICAgcmV0dXJuIEFWUmVxdWVzdChcInVzZXJzL1wiLmNvbmNhdCh0aGlzLmlkLCBcIi9yZWZyZXNoU2Vzc2lvblRva2VuXCIpLCBudWxsLCBudWxsLCAnUFVUJywgbnVsbCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgX3RoaXMxNC5fZmluaXNoRmV0Y2gocmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiBfdGhpczE0Ll9oYW5kbGVTYXZlUmVzdWx0KHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczE0O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhpcyB1c2VyJ3MgUm9sZXMuXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZS48QVYuUm9sZVtdPn0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHJvbGVzIHdoZW5cbiAgICAgKiAgICAgdGhlIHF1ZXJ5IGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIGdldFJvbGVzOiBmdW5jdGlvbiBnZXRSb2xlcyhvcHRpb25zKSB7XG4gICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgIHJldHVybiAoMCwgX2ZpbmQuZGVmYXVsdCkoX2NvbnRleHQgPSBBVi5SZWxhdGlvbi5yZXZlcnNlUXVlcnkoJ19Sb2xlJywgJ3VzZXJzJywgdGhpcykpLmNhbGwoX2NvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgLyoqIEBsZW5kcyBBVi5Vc2VyICovXG4gIHtcbiAgICAvLyBDbGFzcyBWYXJpYWJsZXNcbiAgICAvLyBUaGUgY3VycmVudGx5IGxvZ2dlZC1pbiB1c2VyLlxuICAgIF9jdXJyZW50VXNlcjogbnVsbCxcbiAgICAvLyBXaGV0aGVyIGN1cnJlbnRVc2VyIGlzIGtub3duIHRvIG1hdGNoIHRoZSBzZXJpYWxpemVkIHZlcnNpb24gb24gZGlzay5cbiAgICAvLyBUaGlzIGlzIHVzZWZ1bCBmb3Igc2F2aW5nIGEgbG9jYWxzdG9yYWdlIGNoZWNrIGlmIHlvdSB0cnkgdG8gbG9hZFxuICAgIC8vIF9jdXJyZW50VXNlciBmcmVxdWVudGx5IHdoaWxlIHRoZXJlIGlzIG5vbmUgc3RvcmVkLlxuICAgIF9jdXJyZW50VXNlck1hdGNoZXNEaXNrOiBmYWxzZSxcbiAgICAvLyBUaGUgbG9jYWxTdG9yYWdlIGtleSBzdWZmaXggdGhhdCB0aGUgY3VycmVudCB1c2VyIGlzIHN0b3JlZCB1bmRlci5cbiAgICBfQ1VSUkVOVF9VU0VSX0tFWTogJ2N1cnJlbnRVc2VyJyxcbiAgICAvLyBUaGUgbWFwcGluZyBvZiBhdXRoIHByb3ZpZGVyIG5hbWVzIHRvIGFjdHVhbCBwcm92aWRlcnNcbiAgICBfYXV0aFByb3ZpZGVyczoge30sXG4gICAgLy8gQ2xhc3MgTWV0aG9kc1xuXG4gICAgLyoqXG4gICAgICogU2lnbnMgdXAgYSBuZXcgdXNlciB3aXRoIGEgdXNlcm5hbWUgKG9yIGVtYWlsKSBhbmQgcGFzc3dvcmQuXG4gICAgICogVGhpcyB3aWxsIGNyZWF0ZSBhIG5ldyBBVi5Vc2VyIG9uIHRoZSBzZXJ2ZXIsIGFuZCBhbHNvIHBlcnNpc3QgdGhlXG4gICAgICogc2Vzc2lvbiBpbiBsb2NhbFN0b3JhZ2Ugc28gdGhhdCB5b3UgY2FuIGFjY2VzcyB0aGUgdXNlciB1c2luZ1xuICAgICAqIHtAbGluayAjY3VycmVudH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWUgVGhlIHVzZXJuYW1lIChvciBlbWFpbCkgdG8gc2lnbiB1cCB3aXRoLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgdG8gc2lnbiB1cCB3aXRoLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cnNdIEV4dHJhIGZpZWxkcyB0byBzZXQgb24gdGhlIG5ldyB1c2VyLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW5cbiAgICAgKiAgICAgdGhlIHNpZ251cCBjb21wbGV0ZXMuXG4gICAgICogQHNlZSBBVi5Vc2VyI3NpZ25VcFxuICAgICAqL1xuICAgIHNpZ25VcDogZnVuY3Rpb24gc2lnblVwKHVzZXJuYW1lLCBwYXNzd29yZCwgYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgIGF0dHJzID0gYXR0cnMgfHwge307XG4gICAgICBhdHRycy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgYXR0cnMucGFzc3dvcmQgPSBwYXNzd29yZDtcblxuICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcblxuICAgICAgcmV0dXJuIHVzZXIuc2lnblVwKGF0dHJzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTG9ncyBpbiBhIHVzZXIgd2l0aCBhIHVzZXJuYW1lIChvciBlbWFpbCkgYW5kIHBhc3N3b3JkLiBPbiBzdWNjZXNzLCB0aGlzXG4gICAgICogc2F2ZXMgdGhlIHNlc3Npb24gdG8gZGlzaywgc28geW91IGNhbiByZXRyaWV2ZSB0aGUgY3VycmVudGx5IGxvZ2dlZCBpblxuICAgICAqIHVzZXIgdXNpbmcgPGNvZGU+Y3VycmVudDwvY29kZT4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWUgVGhlIHVzZXJuYW1lIChvciBlbWFpbCkgdG8gbG9nIGluIHdpdGguXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byBsb2cgaW4gd2l0aC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICogICAgIHRoZSBsb2dpbiBjb21wbGV0ZXMuXG4gICAgICogQHNlZSBBVi5Vc2VyI2xvZ0luXG4gICAgICovXG4gICAgbG9nSW46IGZ1bmN0aW9uIGxvZ0luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcblxuICAgICAgdXNlci5fZmluaXNoRmV0Y2goe1xuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1c2VyLmxvZ0luKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvZ3MgaW4gYSB1c2VyIHdpdGggYSBzZXNzaW9uIHRva2VuLiBPbiBzdWNjZXNzLCB0aGlzIHNhdmVzIHRoZSBzZXNzaW9uXG4gICAgICogdG8gZGlzaywgc28geW91IGNhbiByZXRyaWV2ZSB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiB1c2VyIHVzaW5nXG4gICAgICogPGNvZGU+Y3VycmVudDwvY29kZT4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2Vzc2lvblRva2VuIFRoZSBzZXNzaW9uVG9rZW4gdG8gbG9nIGluIHdpdGguXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHVzZXIgd2hlblxuICAgICAqICAgICB0aGUgbG9naW4gY29tcGxldGVzLlxuICAgICAqL1xuICAgIGJlY29tZTogZnVuY3Rpb24gYmVjb21lKHNlc3Npb25Ub2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoVXNlckJ5U2Vzc2lvblRva2VuKHNlc3Npb25Ub2tlbikudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlci5faGFuZGxlU2F2ZVJlc3VsdCh0cnVlKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIF9mZXRjaFVzZXJCeVNlc3Npb25Ub2tlbjogZnVuY3Rpb24gX2ZldGNoVXNlckJ5U2Vzc2lvblRva2VuKHNlc3Npb25Ub2tlbikge1xuICAgICAgaWYgKHNlc3Npb25Ub2tlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoJ1RoZSBzZXNzaW9uVG9rZW4gY2Fubm90IGJlIHVuZGVmaW5lZCcpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcblxuICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiAnL3VzZXJzL21lJyxcbiAgICAgICAgYXV0aE9wdGlvbnM6IHtcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlblxuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgIHZhciBzZXJ2ZXJBdHRycyA9IHVzZXIucGFyc2UocmVzcCk7XG5cbiAgICAgICAgdXNlci5fZmluaXNoRmV0Y2goc2VydmVyQXR0cnMpO1xuXG4gICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvZ3MgaW4gYSB1c2VyIHdpdGggYSBtb2JpbGUgcGhvbmUgbnVtYmVyIGFuZCBzbXMgY29kZSBzZW50IGJ5XG4gICAgICogQVYuVXNlci5yZXF1ZXN0TG9naW5TbXNDb2RlLk9uIHN1Y2Nlc3MsIHRoaXNcbiAgICAgKiBzYXZlcyB0aGUgc2Vzc2lvbiB0byBkaXNrLCBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluXG4gICAgICogdXNlciB1c2luZyA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZSBUaGUgdXNlcidzIG1vYmlsZVBob25lTnVtYmVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNtc0NvZGUgVGhlIHNtcyBjb2RlIHNlbnQgYnkgQVYuVXNlci5yZXF1ZXN0TG9naW5TbXNDb2RlXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHVzZXIgd2hlblxuICAgICAqICAgICB0aGUgbG9naW4gY29tcGxldGVzLlxuICAgICAqIEBzZWUgQVYuVXNlciNsb2dJblxuICAgICAqL1xuICAgIGxvZ0luV2l0aE1vYmlsZVBob25lU21zQ29kZTogZnVuY3Rpb24gbG9nSW5XaXRoTW9iaWxlUGhvbmVTbXNDb2RlKG1vYmlsZVBob25lLCBzbXNDb2RlKSB7XG4gICAgICB2YXIgdXNlciA9IEFWLk9iamVjdC5fY3JlYXRlKCdfVXNlcicpO1xuXG4gICAgICB1c2VyLl9maW5pc2hGZXRjaCh7XG4gICAgICAgIG1vYmlsZVBob25lTnVtYmVyOiBtb2JpbGVQaG9uZSxcbiAgICAgICAgc21zQ29kZTogc21zQ29kZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1c2VyLmxvZ0luKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNpZ25zIHVwIG9yIGxvZ3MgaW4gYSB1c2VyIHdpdGggYSBtb2JpbGVQaG9uZU51bWJlciBhbmQgc21zQ29kZS5cbiAgICAgKiBPbiBzdWNjZXNzLCB0aGlzIHNhdmVzIHRoZSBzZXNzaW9uIHRvIGRpc2ssIHNvIHlvdSBjYW4gcmV0cmlldmUgdGhlIGN1cnJlbnRseVxuICAgICAqIGxvZ2dlZCBpbiB1c2VyIHVzaW5nIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1vYmlsZVBob25lTnVtYmVyIFRoZSB1c2VyJ3MgbW9iaWxlUGhvbmVOdW1iZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNtc0NvZGUgVGhlIHNtcyBjb2RlIHNlbnQgYnkgQVYuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyAgVGhlIHVzZXIncyBvdGhlciBhdHRyaWJ1dGVzIHN1Y2ggYXMgdXNlcm5hbWUgZXRjLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICogICAgIHRoZSBsb2dpbiBjb21wbGV0ZXMuXG4gICAgICogQHNlZSBBVi5Vc2VyI3NpZ25VcE9ybG9nSW5XaXRoTW9iaWxlUGhvbmVcbiAgICAgKiBAc2VlIEFWLkNsb3VkLnJlcXVlc3RTbXNDb2RlXG4gICAgICovXG4gICAgc2lnblVwT3Jsb2dJbldpdGhNb2JpbGVQaG9uZTogZnVuY3Rpb24gc2lnblVwT3Jsb2dJbldpdGhNb2JpbGVQaG9uZShtb2JpbGVQaG9uZU51bWJlciwgc21zQ29kZSwgYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgIGF0dHJzID0gYXR0cnMgfHwge307XG4gICAgICBhdHRycy5tb2JpbGVQaG9uZU51bWJlciA9IG1vYmlsZVBob25lTnVtYmVyO1xuICAgICAgYXR0cnMuc21zQ29kZSA9IHNtc0NvZGU7XG5cbiAgICAgIHZhciB1c2VyID0gQVYuT2JqZWN0Ll9jcmVhdGUoJ19Vc2VyJyk7XG5cbiAgICAgIHJldHVybiB1c2VyLnNpZ25VcE9ybG9nSW5XaXRoTW9iaWxlUGhvbmUoYXR0cnMsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2dzIGluIGEgdXNlciB3aXRoIGEgbW9iaWxlIHBob25lIG51bWJlciBhbmQgcGFzc3dvcmQuIE9uIHN1Y2Nlc3MsIHRoaXNcbiAgICAgKiBzYXZlcyB0aGUgc2Vzc2lvbiB0byBkaXNrLCBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluXG4gICAgICogdXNlciB1c2luZyA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZSBUaGUgdXNlcidzIG1vYmlsZVBob25lTnVtYmVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byBsb2cgaW4gd2l0aC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICogICAgIHRoZSBsb2dpbiBjb21wbGV0ZXMuXG4gICAgICogQHNlZSBBVi5Vc2VyI2xvZ0luXG4gICAgICovXG4gICAgbG9nSW5XaXRoTW9iaWxlUGhvbmU6IGZ1bmN0aW9uIGxvZ0luV2l0aE1vYmlsZVBob25lKG1vYmlsZVBob25lLCBwYXNzd29yZCkge1xuICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcblxuICAgICAgdXNlci5fZmluaXNoRmV0Y2goe1xuICAgICAgICBtb2JpbGVQaG9uZU51bWJlcjogbW9iaWxlUGhvbmUsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1c2VyLmxvZ0luKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvZ3MgaW4gYSB1c2VyIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkLlxuICAgICAqXG4gICAgICogQHNpbmNlIDMuMTMuMFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbCBUaGUgdXNlcidzIGVtYWlsLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgdG8gbG9nIGluIHdpdGguXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHVzZXIgd2hlblxuICAgICAqICAgICB0aGUgbG9naW4gY29tcGxldGVzLlxuICAgICAqL1xuICAgIGxvZ2luV2l0aEVtYWlsOiBmdW5jdGlvbiBsb2dpbldpdGhFbWFpbChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgIHZhciB1c2VyID0gQVYuT2JqZWN0Ll9jcmVhdGUoJ19Vc2VyJyk7XG5cbiAgICAgIHVzZXIuX2ZpbmlzaEZldGNoKHtcbiAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdXNlci5sb2dJbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTaWducyB1cCBvciBsb2dzIGluIGEgdXNlciB3aXRoIGEgdGhpcmQgcGFydHkgYXV0aCBkYXRhKEFjY2Vzc1Rva2VuKS5cbiAgICAgKiBPbiBzdWNjZXNzLCB0aGlzIHNhdmVzIHRoZSBzZXNzaW9uIHRvIGRpc2ssIHNvIHlvdSBjYW4gcmV0cmlldmUgdGhlIGN1cnJlbnRseVxuICAgICAqIGxvZ2dlZCBpbiB1c2VyIHVzaW5nIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAqXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF1dGhEYXRhIFRoZSByZXNwb25zZSBqc29uIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGlyZCBwYXJ0eSB0b2tlbiwgbWF5YmUgbGlrZSB7IG9wZW5pZDogJ2FiYzEyMycsIGFjY2Vzc190b2tlbjogJzEyM2FiYycsIGV4cGlyZXNfaW46IDEzODI2ODY0OTYgfVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF0Zm9ybSBBdmFpbGFibGUgcGxhdGZvcm0gZm9yIHNpZ24gdXAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhEYXRhIGV4aXN0cy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICogICAgIHRoZSBsb2dpbiBjb21wbGV0ZXMuXG4gICAgICogQGV4YW1wbGUgQVYuVXNlci5sb2dpbldpdGhBdXRoRGF0YSh7XG4gICAgICogICBvcGVuaWQ6ICdhYmMxMjMnLFxuICAgICAqICAgYWNjZXNzX3Rva2VuOiAnMTIzYWJjJyxcbiAgICAgKiAgIGV4cGlyZXNfaW46IDEzODI2ODY0OTZcbiAgICAgKiB9LCAnd2VpeGluJykudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICogICAvL0FjY2VzcyB1c2VyIGhlcmVcbiAgICAgKiB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAqICAgLy9jb25zb2xlLmVycm9yKFwiZXJyb3I6IFwiLCBlcnJvcik7XG4gICAgICogfSk7XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9qc19ndWlkZS5odG1sI+e7keWumuesrOS4ieaWueW5s+WPsOi0puaIt31cbiAgICAgKi9cbiAgICBsb2dpbldpdGhBdXRoRGF0YTogZnVuY3Rpb24gbG9naW5XaXRoQXV0aERhdGEoYXV0aERhdGEsIHBsYXRmb3JtLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gQVYuVXNlci5fbG9nSW5XaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHJlbmFtZWQgdG8ge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGF9XG4gICAgICovXG4gICAgc2lnblVwT3Jsb2dJbldpdGhBdXRoRGF0YTogZnVuY3Rpb24gc2lnblVwT3Jsb2dJbldpdGhBdXRoRGF0YSgpIHtcbiAgICAgIGNvbnNvbGUud2FybignREVQUkVDQVRFRDogVXNlci5zaWduVXBPcmxvZ0luV2l0aEF1dGhEYXRhIOW3suW6n+W8g++8jOivt+S9v+eUqCBVc2VyI2xvZ2luV2l0aEF1dGhEYXRhIOS7o+abvycpO1xuICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoQXV0aERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2lnbnMgdXAgb3IgbG9ncyBpbiBhIHVzZXIgd2l0aCBhIHRoaXJkIHBhcnR5IGF1dGhEYXRhIGFuZCB1bmlvbklkLlxuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoRGF0YSBUaGUgcmVzcG9uc2UganNvbiBkYXRhIHJldHVybmVkIGZyb20gdGhpcmQgcGFydHkgdG9rZW4sIG1heWJlIGxpa2UgeyBvcGVuaWQ6ICdhYmMxMjMnLCBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLCBleHBpcmVzX2luOiAxMzgyNjg2NDk2IH1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhdGZvcm0gQXZhaWxhYmxlIHBsYXRmb3JtIGZvciBzaWduIHVwLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlvbklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFt1bmlvbkxvZ2luT3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VuaW9uTG9naW5PcHRpb25zLnVuaW9uSWRQbGF0Zm9ybSA9ICd3ZWl4aW4nXSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdW5pb25Mb2dpbk9wdGlvbnMuYXNNYWluQWNjb3VudCA9IGZhbHNlXSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbkxvZ2luT3B0aW9ucy5mYWlsT25Ob3RFeGlzdF0gSWYgdHJ1ZSwgdGhlIGxvZ2luIHJlcXVlc3Qgd2lsbCBmYWlsIHdoZW4gbm8gdXNlciBtYXRjaGVzIHRoaXMgYXV0aERhdGEgZXhpc3RzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuVXNlcj59IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW4gY29tcGxldGVkLlxuICAgICAqIEBleGFtcGxlIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkKHtcbiAgICAgKiAgIG9wZW5pZDogJ2FiYzEyMycsXG4gICAgICogICBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLFxuICAgICAqICAgZXhwaXJlc19pbjogMTM4MjY4NjQ5NlxuICAgICAqIH0sICd3ZWl4aW4nLCAndW5pb24xMjMnLCB7XG4gICAgICogICB1bmlvbklkUGxhdGZvcm06ICd3ZWl4aW4nLFxuICAgICAqICAgYXNNYWluQWNjb3VudDogdHJ1ZSxcbiAgICAgKiB9KS50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgKiAgIC8vQWNjZXNzIHVzZXIgaGVyZVxuICAgICAqIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICogICAvL2NvbnNvbGUuZXJyb3IoXCJlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBsb2dpbldpdGhBdXRoRGF0YUFuZFVuaW9uSWQ6IGZ1bmN0aW9uIGxvZ2luV2l0aEF1dGhEYXRhQW5kVW5pb25JZChhdXRoRGF0YSwgcGxhdGZvcm0sIHVuaW9uSWQsIHVuaW9uTG9naW5PcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YShtZXJnZVVuaW9uRGF0YUludG9BdXRoRGF0YSgpKGF1dGhEYXRhLCB1bmlvbklkLCB1bmlvbkxvZ2luT3B0aW9ucyksIHBsYXRmb3JtLCB1bmlvbkxvZ2luT3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHJlbmFtZWQgdG8ge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkfVxuICAgICAqIEBzaW5jZSAzLjUuMFxuICAgICAqL1xuICAgIHNpZ25VcE9ybG9nSW5XaXRoQXV0aERhdGFBbmRVbmlvbklkOiBmdW5jdGlvbiBzaWduVXBPcmxvZ0luV2l0aEF1dGhEYXRhQW5kVW5pb25JZCgpIHtcbiAgICAgIGNvbnNvbGUud2FybignREVQUkVDQVRFRDogVXNlci5zaWduVXBPcmxvZ0luV2l0aEF1dGhEYXRhQW5kVW5pb25JZCDlt7Llup/lvIPvvIzor7fkvb/nlKggVXNlciNsb2dpbldpdGhBdXRoRGF0YUFuZFVuaW9uSWQg5Luj5pu/Jyk7XG4gICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YUFuZFVuaW9uSWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWVyZ2UgdW5pb25JZCBpbnRvIGF1dGhJbmZvLlxuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoSW5mb1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bmlvbklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFt1bmlvbklkT3B0aW9uXVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3VuaW9uSWRPcHRpb24uYXNNYWluQWNjb3VudF0gSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICovXG4gICAgbWVyZ2VVbmlvbklkOiBmdW5jdGlvbiBtZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQpIHtcbiAgICAgIHZhciBfcmVmMTQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9LFxuICAgICAgICAgIF9yZWYxNCRhc01haW5BY2NvdW50ID0gX3JlZjE0LmFzTWFpbkFjY291bnQsXG4gICAgICAgICAgYXNNYWluQWNjb3VudCA9IF9yZWYxNCRhc01haW5BY2NvdW50ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNCRhc01haW5BY2NvdW50O1xuXG4gICAgICBhdXRoSW5mbyA9IEpTT04ucGFyc2UoKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkoYXV0aEluZm8pKTtcbiAgICAgIHZhciBfYXV0aEluZm8gPSBhdXRoSW5mbyxcbiAgICAgICAgICBhdXRoRGF0YSA9IF9hdXRoSW5mby5hdXRoRGF0YSxcbiAgICAgICAgICBwbGF0Zm9ybSA9IF9hdXRoSW5mby5wbGF0Zm9ybTtcbiAgICAgIGF1dGhEYXRhLnBsYXRmb3JtID0gcGxhdGZvcm07XG4gICAgICBhdXRoRGF0YS5tYWluX2FjY291bnQgPSBhc01haW5BY2NvdW50O1xuICAgICAgYXV0aERhdGEudW5pb25pZCA9IHVuaW9uSWQ7XG4gICAgICByZXR1cm4gYXV0aEluZm87XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOS9v+eUqOW9k+WJjeS9v+eUqOW+ruS/oeWwj+eoi+W6j+eahOW+ruS/oeeUqOaIt+i6q+S7veazqOWGjOaIlueZu+W9le+8jOaIkOWKn+WQjueUqOaIt+eahCBzZXNzaW9uIOS8muWcqOiuvuWkh+S4iuaMgeS5heWMluS/neWtmO+8jOS5i+WQjuWPr+S7peS9v+eUqCBBVi5Vc2VyLmN1cnJlbnQoKSDojrflj5blvZPliY3nmbvlvZXnlKjmiLfjgIJcbiAgICAgKiDku4XlnKjlvq7kv6HlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoTWluaUFwcH1cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVmZXJVbmlvbklkXSDlvZPnlKjmiLfmu6HotrMge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlwcm9ncmFtL2Rldi9mcmFtZXdvcmsvb3Blbi1hYmlsaXR5L3VuaW9uLWlkLmh0bWwg6I635Y+WIFVuaW9uSWQg55qE5p2h5Lu2fSDml7bvvIzmmK/lkKbkvb/nlKggVW5pb25JZCDnmbvlvZXjgILvvIhzaW5jZSAzLjEzLjDvvIlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgdW5pb25JZCBwbGF0Zm9ybVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXNNYWluQWNjb3VudCA9IHRydWVdIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWlsT25Ob3RFeGlzdF0gSWYgdHJ1ZSwgdGhlIGxvZ2luIHJlcXVlc3Qgd2lsbCBmYWlsIHdoZW4gbm8gdXNlciBtYXRjaGVzIHRoaXMgYXV0aERhdGEgZXhpc3RzLiAoc2luY2UgdjMuNy4wKVxuICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGxvZ2luV2l0aFdlYXBwOiBmdW5jdGlvbiBsb2dpbldpdGhXZWFwcCgpIHtcbiAgICAgIHZhciBfdGhpczE1ID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYxNSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZjE1JHByZWZlclVuaW9uSWQgPSBfcmVmMTUucHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBwcmVmZXJVbmlvbklkID0gX3JlZjE1JHByZWZlclVuaW9uSWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE1JHByZWZlclVuaW9uSWQsXG4gICAgICAgICAgX3JlZjE1JHVuaW9uSWRQbGF0Zm9yID0gX3JlZjE1LnVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSBfcmVmMTUkdW5pb25JZFBsYXRmb3IgPT09IHZvaWQgMCA/ICd3ZWl4aW4nIDogX3JlZjE1JHVuaW9uSWRQbGF0Zm9yLFxuICAgICAgICAgIF9yZWYxNSRhc01haW5BY2NvdW50ID0gX3JlZjE1LmFzTWFpbkFjY291bnQsXG4gICAgICAgICAgYXNNYWluQWNjb3VudCA9IF9yZWYxNSRhc01haW5BY2NvdW50ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjE1JGFzTWFpbkFjY291bnQsXG4gICAgICAgICAgX3JlZjE1JGZhaWxPbk5vdEV4aXN0ID0gX3JlZjE1LmZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gX3JlZjE1JGZhaWxPbk5vdEV4aXN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNSRmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXkgPSBfcmVmMTUudXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IF9yZWYxNS5zZXNzaW9uVG9rZW4sXG4gICAgICAgICAgdXNlciA9IF9yZWYxNS51c2VyO1xuXG4gICAgICB2YXIgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgcHJlZmVyVW5pb25JZDogcHJlZmVyVW5pb25JZCxcbiAgICAgICAgYXNNYWluQWNjb3VudDogYXNNYWluQWNjb3VudCxcbiAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMTUubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOS9v+eUqOW9k+WJjeS9v+eUqOW+ruS/oeWwj+eoi+W6j+eahOW+ruS/oeeUqOaIt+i6q+S7veazqOWGjOaIlueZu+W9le+8jFxuICAgICAqIOS7heWcqOW+ruS/oeWwj+eoi+W6j+S4reWPr+eUqOOAglxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSB7QGxpbmsgQVYuVXNlci5sb2dpbldpdGhNaW5pQXBwfVxuICAgICAqIEBzaW5jZSAzLjEzLjBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3VuaW9uTG9naW5PcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pb25Mb2dpbk9wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbkxvZ2luT3B0aW9ucy5hc01haW5BY2NvdW50ID0gZmFsc2VdIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaW9uTG9naW5PcHRpb25zLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoRGF0YSBleGlzdHMuICAgICAgICogQHJldHVybiB7UHJvbWlzZS48QVYuVXNlcj59XG4gICAgICovXG4gICAgbG9naW5XaXRoV2VhcHBXaXRoVW5pb25JZDogZnVuY3Rpb24gbG9naW5XaXRoV2VhcHBXaXRoVW5pb25JZCh1bmlvbklkKSB7XG4gICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcmVmMTYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgICAgIF9yZWYxNiR1bmlvbklkUGxhdGZvciA9IF9yZWYxNi51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gX3JlZjE2JHVuaW9uSWRQbGF0Zm9yID09PSB2b2lkIDAgPyAnd2VpeGluJyA6IF9yZWYxNiR1bmlvbklkUGxhdGZvcixcbiAgICAgICAgICBfcmVmMTYkYXNNYWluQWNjb3VudCA9IF9yZWYxNi5hc01haW5BY2NvdW50LFxuICAgICAgICAgIGFzTWFpbkFjY291bnQgPSBfcmVmMTYkYXNNYWluQWNjb3VudCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTYkYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBfcmVmMTYkZmFpbE9uTm90RXhpc3QgPSBfcmVmMTYuZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgZmFpbE9uTm90RXhpc3QgPSBfcmVmMTYkZmFpbE9uTm90RXhpc3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE2JGZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIHVzZU1hc3RlcktleSA9IF9yZWYxNi51c2VNYXN0ZXJLZXksXG4gICAgICAgICAgc2Vzc2lvblRva2VuID0gX3JlZjE2LnNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyID0gX3JlZjE2LnVzZXI7XG5cbiAgICAgIHZhciBnZXRBdXRoSW5mbyA9IGdldEFkYXB0ZXIoJ2dldEF1dGhJbmZvJyk7XG4gICAgICByZXR1cm4gZ2V0QXV0aEluZm8oe1xuICAgICAgICBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChhdXRoSW5mbykge1xuICAgICAgICBhdXRoSW5mbyA9IEFWLlVzZXIubWVyZ2VVbmlvbklkKGF1dGhJbmZvLCB1bmlvbklkLCB7XG4gICAgICAgICAgYXNNYWluQWNjb3VudDogYXNNYWluQWNjb3VudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzMTYubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOS9v+eUqOW9k+WJjeS9v+eUqCBRUSDlsI/nqIvluo/nmoQgUVEg55So5oi36Lqr5Lu95rOo5YaM5oiW55m75b2V77yM5oiQ5Yqf5ZCO55So5oi355qEIHNlc3Npb24g5Lya5Zyo6K6+5aSH5LiK5oyB5LmF5YyW5L+d5a2Y77yM5LmL5ZCO5Y+v5Lul5L2/55SoIEFWLlVzZXIuY3VycmVudCgpIOiOt+WPluW9k+WJjeeZu+W9leeUqOaIt+OAglxuICAgICAqIOS7heWcqCBRUSDlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoTWluaUFwcH1cbiAgICAgKiBAc2luY2UgNC4yLjBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVmZXJVbmlvbklkXSDlpoLmnpzmnI3liqHnq6/lnKjnmbvlvZXml7bojrflj5bliLDkuobnlKjmiLfnmoQgVW5pb25JZO+8jOaYr+WQpuWwhiBVbmlvbklkIOS/neWtmOWcqOeUqOaIt+i0puWPt+S4reOAglxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAncXEnXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFzTWFpbkFjY291bnQgPSB0cnVlXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhEYXRhIGV4aXN0cy4gKHNpbmNlIHYzLjcuMClcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5Vc2VyPn1cbiAgICAgKi9cbiAgICBsb2dpbldpdGhRUUFwcDogZnVuY3Rpb24gbG9naW5XaXRoUVFBcHAoKSB7XG4gICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7XG5cbiAgICAgIHZhciBfcmVmMTcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWYxNyRwcmVmZXJVbmlvbklkID0gX3JlZjE3LnByZWZlclVuaW9uSWQsXG4gICAgICAgICAgcHJlZmVyVW5pb25JZCA9IF9yZWYxNyRwcmVmZXJVbmlvbklkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNyRwcmVmZXJVbmlvbklkLFxuICAgICAgICAgIF9yZWYxNyR1bmlvbklkUGxhdGZvciA9IF9yZWYxNy51bmlvbklkUGxhdGZvcm0sXG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gX3JlZjE3JHVuaW9uSWRQbGF0Zm9yID09PSB2b2lkIDAgPyAncXEnIDogX3JlZjE3JHVuaW9uSWRQbGF0Zm9yLFxuICAgICAgICAgIF9yZWYxNyRhc01haW5BY2NvdW50ID0gX3JlZjE3LmFzTWFpbkFjY291bnQsXG4gICAgICAgICAgYXNNYWluQWNjb3VudCA9IF9yZWYxNyRhc01haW5BY2NvdW50ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjE3JGFzTWFpbkFjY291bnQsXG4gICAgICAgICAgX3JlZjE3JGZhaWxPbk5vdEV4aXN0ID0gX3JlZjE3LmZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gX3JlZjE3JGZhaWxPbk5vdEV4aXN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNyRmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXkgPSBfcmVmMTcudXNlTWFzdGVyS2V5LFxuICAgICAgICAgIHNlc3Npb25Ub2tlbiA9IF9yZWYxNy5zZXNzaW9uVG9rZW4sXG4gICAgICAgICAgdXNlciA9IF9yZWYxNy51c2VyO1xuXG4gICAgICB2YXIgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgcHJlZmVyVW5pb25JZDogcHJlZmVyVW5pb25JZCxcbiAgICAgICAgYXNNYWluQWNjb3VudDogYXNNYWluQWNjb3VudCxcbiAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgYXV0aEluZm8ucHJvdmlkZXIgPSBQTEFURk9STV9RUUFQUDtcbiAgICAgICAgcmV0dXJuIF90aGlzMTcubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOS9v+eUqOW9k+WJjeS9v+eUqCBRUSDlsI/nqIvluo/nmoQgUVEg55So5oi36Lqr5Lu95rOo5YaM5oiW55m75b2V77yMXG4gICAgICog5LuF5ZyoIFFRIOWwj+eoi+W6j+S4reWPr+eUqOOAglxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSB7QGxpbmsgQVYuVXNlci5sb2dpbldpdGhNaW5pQXBwfVxuICAgICAqIEBzaW5jZSA0LjIuMFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdW5pb25Mb2dpbk9wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bmlvbkxvZ2luT3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAncXEnXSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdW5pb25Mb2dpbk9wdGlvbnMuYXNNYWluQWNjb3VudCA9IGZhbHNlXSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbkxvZ2luT3B0aW9ucy5mYWlsT25Ob3RFeGlzdF0gSWYgdHJ1ZSwgdGhlIGxvZ2luIHJlcXVlc3Qgd2lsbCBmYWlsIHdoZW4gbm8gdXNlciBtYXRjaGVzIHRoaXMgYXV0aERhdGEgZXhpc3RzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGxvZ2luV2l0aFFRQXBwV2l0aFVuaW9uSWQ6IGZ1bmN0aW9uIGxvZ2luV2l0aFFRQXBwV2l0aFVuaW9uSWQodW5pb25JZCkge1xuICAgICAgdmFyIF90aGlzMTggPSB0aGlzO1xuXG4gICAgICB2YXIgX3JlZjE4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgICAgICBfcmVmMTgkdW5pb25JZFBsYXRmb3IgPSBfcmVmMTgudW5pb25JZFBsYXRmb3JtLFxuICAgICAgICAgIHVuaW9uSWRQbGF0Zm9ybSA9IF9yZWYxOCR1bmlvbklkUGxhdGZvciA9PT0gdm9pZCAwID8gJ3FxJyA6IF9yZWYxOCR1bmlvbklkUGxhdGZvcixcbiAgICAgICAgICBfcmVmMTgkYXNNYWluQWNjb3VudCA9IF9yZWYxOC5hc01haW5BY2NvdW50LFxuICAgICAgICAgIGFzTWFpbkFjY291bnQgPSBfcmVmMTgkYXNNYWluQWNjb3VudCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTgkYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBfcmVmMTgkZmFpbE9uTm90RXhpc3QgPSBfcmVmMTguZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgZmFpbE9uTm90RXhpc3QgPSBfcmVmMTgkZmFpbE9uTm90RXhpc3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE4JGZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgIHVzZU1hc3RlcktleSA9IF9yZWYxOC51c2VNYXN0ZXJLZXksXG4gICAgICAgICAgc2Vzc2lvblRva2VuID0gX3JlZjE4LnNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyID0gX3JlZjE4LnVzZXI7XG5cbiAgICAgIHZhciBnZXRBdXRoSW5mbyA9IGdldEFkYXB0ZXIoJ2dldEF1dGhJbmZvJyk7XG4gICAgICByZXR1cm4gZ2V0QXV0aEluZm8oe1xuICAgICAgICBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChhdXRoSW5mbykge1xuICAgICAgICBhdXRoSW5mbyA9IEFWLlVzZXIubWVyZ2VVbmlvbklkKGF1dGhJbmZvLCB1bmlvbklkLCB7XG4gICAgICAgICAgYXNNYWluQWNjb3VudDogYXNNYWluQWNjb3VudFxuICAgICAgICB9KTtcbiAgICAgICAgYXV0aEluZm8ucHJvdmlkZXIgPSBQTEFURk9STV9RUUFQUDtcbiAgICAgICAgcmV0dXJuIF90aGlzMTgubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgIGZhaWxPbk5vdEV4aXN0OiBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXk6IHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIG9yIGxvZ2luIHVzaW5nIHRoZSBpZGVudGl0eSBvZiB0aGUgY3VycmVudCBtaW5pLWFwcC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXV0aEluZm9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbl1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb24uZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhJbmZvLmF1dGhEYXRhIGV4aXN0cy5cbiAgICAgKi9cbiAgICBsb2dpbldpdGhNaW5pQXBwOiBmdW5jdGlvbiBsb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCBvcHRpb24pIHtcbiAgICAgIHZhciBfdGhpczE5ID0gdGhpcztcblxuICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKCkudGhlbihmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMxOS5sb2dpbldpdGhBdXRoRGF0YShhdXRoSW5mby5hdXRoRGF0YSwgYXV0aEluZm8ucHJvdmlkZXIsIG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YShhdXRoSW5mby5hdXRoRGF0YSwgYXV0aEluZm8ucHJvdmlkZXIsIG9wdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9ubHkgdXNlIGZvciBESSBpbiB0ZXN0cyB0byBwcm9kdWNlIGRldGVybWluaXN0aWMgSURzLlxuICAgICAqL1xuICAgIF9nZW5JZDogZnVuY3Rpb24gX2dlbklkKCkge1xuICAgICAgcmV0dXJuIHV1aWQoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhbm9ueW1vdXMgdXNlci5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fVxuICAgICAqL1xuICAgIGxvZ2luQW5vbnltb3VzbHk6IGZ1bmN0aW9uIGxvZ2luQW5vbnltb3VzbHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YSh7XG4gICAgICAgIGlkOiBBVi5Vc2VyLl9nZW5JZCgpXG4gICAgICB9LCAnYW5vbnltb3VzJyk7XG4gICAgfSxcbiAgICBhc3NvY2lhdGVXaXRoQXV0aERhdGE6IGZ1bmN0aW9uIGFzc29jaWF0ZVdpdGhBdXRoRGF0YSh1c2VyT2JqLCBwbGF0Zm9ybSwgYXV0aERhdGEpIHtcbiAgICAgIGNvbnNvbGUud2FybignREVQUkVDQVRFRDogVXNlci5hc3NvY2lhdGVXaXRoQXV0aERhdGEg5bey5bqf5byD77yM6K+35L2/55SoIFVzZXIjYXNzb2NpYXRlV2l0aEF1dGhEYXRhIOS7o+abvycpO1xuICAgICAgcmV0dXJuIHVzZXJPYmouX2xpbmtXaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvZ3Mgb3V0IHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIgc2Vzc2lvbi4gVGhpcyB3aWxsIHJlbW92ZSB0aGVcbiAgICAgKiBzZXNzaW9uIGZyb20gZGlzaywgbG9nIG91dCBvZiBsaW5rZWQgc2VydmljZXMsIGFuZCBmdXR1cmUgY2FsbHMgdG9cbiAgICAgKiA8Y29kZT5jdXJyZW50PC9jb2RlPiB3aWxsIHJldHVybiA8Y29kZT5udWxsPC9jb2RlPi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KCkge1xuICAgICAgaWYgKEFWLl9jb25maWcuZGlzYWJsZUN1cnJlbnRVc2VyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQVYuVXNlci5jdXJyZW50KCkgd2FzIGRpc2FibGVkIGluIG11bHRpLXVzZXIgZW52aXJvbm1lbnQsIGNhbGwgbG9nT3V0KCkgZnJvbSB1c2VyIG9iamVjdCBpbnN0ZWFkIGh0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvbGVhbmVuZ2luZS1ub2RlLXNkay11cGdyYWRlLTEuaHRtbCcpO1xuICAgICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKG51bGwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoQVYuVXNlci5fY3VycmVudFVzZXIgIT09IG51bGwpIHtcbiAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX2xvZ091dFdpdGhBbGwoKTtcblxuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5faXNDdXJyZW50VXNlciA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlck1hdGNoZXNEaXNrID0gdHJ1ZTtcbiAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyID0gbnVsbDtcbiAgICAgIHJldHVybiBBVi5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbUFzeW5jKEFWLl9nZXRBVlBhdGgoQVYuVXNlci5fQ1VSUkVOVF9VU0VSX0tFWSkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQVYuX3JlZnJlc2hTdWJzY3JpcHRpb25JZCgpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqQ3JlYXRlIGEgZm9sbG93ZXIgcXVlcnkgZm9yIHNwZWNpYWwgdXNlciB0byBxdWVyeSB0aGUgdXNlcidzIGZvbGxvd2Vycy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlck9iamVjdElkIFRoZSB1c2VyIG9iamVjdCBpZC5cbiAgICAgKiBAcmV0dXJuIHtBVi5GcmllbmRTaGlwUXVlcnl9XG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICovXG4gICAgZm9sbG93ZXJRdWVyeTogZnVuY3Rpb24gZm9sbG93ZXJRdWVyeSh1c2VyT2JqZWN0SWQpIHtcbiAgICAgIGlmICghdXNlck9iamVjdElkIHx8ICFfLmlzU3RyaW5nKHVzZXJPYmplY3RJZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVzZXIgb2JqZWN0IGlkLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcXVlcnkgPSBuZXcgQVYuRnJpZW5kU2hpcFF1ZXJ5KCdfRm9sbG93ZXInKTtcbiAgICAgIHF1ZXJ5Ll9mcmllbmRzaGlwVGFnID0gJ2ZvbGxvd2VyJztcbiAgICAgIHF1ZXJ5LmVxdWFsVG8oJ3VzZXInLCBBVi5PYmplY3QuY3JlYXRlV2l0aG91dERhdGEoJ19Vc2VyJywgdXNlck9iamVjdElkKSk7XG4gICAgICByZXR1cm4gcXVlcnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqQ3JlYXRlIGEgZm9sbG93ZWUgcXVlcnkgZm9yIHNwZWNpYWwgdXNlciB0byBxdWVyeSB0aGUgdXNlcidzIGZvbGxvd2Vlcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlck9iamVjdElkIFRoZSB1c2VyIG9iamVjdCBpZC5cbiAgICAgKiBAcmV0dXJuIHtBVi5GcmllbmRTaGlwUXVlcnl9XG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICovXG4gICAgZm9sbG93ZWVRdWVyeTogZnVuY3Rpb24gZm9sbG93ZWVRdWVyeSh1c2VyT2JqZWN0SWQpIHtcbiAgICAgIGlmICghdXNlck9iamVjdElkIHx8ICFfLmlzU3RyaW5nKHVzZXJPYmplY3RJZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVzZXIgb2JqZWN0IGlkLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcXVlcnkgPSBuZXcgQVYuRnJpZW5kU2hpcFF1ZXJ5KCdfRm9sbG93ZWUnKTtcbiAgICAgIHF1ZXJ5Ll9mcmllbmRzaGlwVGFnID0gJ2ZvbGxvd2VlJztcbiAgICAgIHF1ZXJ5LmVxdWFsVG8oJ3VzZXInLCBBVi5PYmplY3QuY3JlYXRlV2l0aG91dERhdGEoJ19Vc2VyJywgdXNlck9iamVjdElkKSk7XG4gICAgICByZXR1cm4gcXVlcnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGEgcGFzc3dvcmQgcmVzZXQgZW1haWwgdG8gYmUgc2VudCB0byB0aGUgc3BlY2lmaWVkIGVtYWlsIGFkZHJlc3NcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgYWNjb3VudC4gVGhpcyBlbWFpbCBhbGxvd3MgdGhlIHVzZXIgdG8gc2VjdXJlbHlcbiAgICAgKiByZXNldCB0aGVpciBwYXNzd29yZCBvbiB0aGUgQVYgc2l0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbCBUaGUgZW1haWwgYWRkcmVzcyBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgdGhhdFxuICAgICAqICAgICBmb3Jnb3QgdGhlaXIgcGFzc3dvcmQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICByZXF1ZXN0UGFzc3dvcmRSZXNldDogZnVuY3Rpb24gcmVxdWVzdFBhc3N3b3JkUmVzZXQoZW1haWwpIHtcbiAgICAgIHZhciBqc29uID0ge1xuICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgIH07XG4gICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdCgncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCBudWxsLCBudWxsLCAnUE9TVCcsIGpzb24pO1xuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGEgdmVyaWZ5IGVtYWlsIHRvIGJlIHNlbnQgdG8gdGhlIHNwZWNpZmllZCBlbWFpbCBhZGRyZXNzXG4gICAgICogYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyIGFjY291bnQuIFRoaXMgZW1haWwgYWxsb3dzIHRoZSB1c2VyIHRvIHNlY3VyZWx5XG4gICAgICogdmVyaWZ5IHRoZWlyIGVtYWlsIGFkZHJlc3Mgb24gdGhlIEFWIHNpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW1haWwgVGhlIGVtYWlsIGFkZHJlc3MgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyIHRoYXRcbiAgICAgKiAgICAgZG9lc24ndCB2ZXJpZnkgdGhlaXIgZW1haWwgYWRkcmVzcy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHJlcXVlc3RFbWFpbFZlcmlmeTogZnVuY3Rpb24gcmVxdWVzdEVtYWlsVmVyaWZ5KGVtYWlsKSB7XG4gICAgICB2YXIganNvbiA9IHtcbiAgICAgICAgZW1haWw6IGVtYWlsXG4gICAgICB9O1xuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3JlcXVlc3RFbWFpbFZlcmlmeScsIG51bGwsIG51bGwsICdQT1NUJywganNvbik7XG4gICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYSB2ZXJpZnkgc21zIGNvZGUgdG8gYmUgc2VudCB0byB0aGUgc3BlY2lmaWVkIG1vYmlsZSBwaG9uZVxuICAgICAqIG51bWJlciBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgYWNjb3VudC4gVGhpcyBzbXMgY29kZSBhbGxvd3MgdGhlIHVzZXIgdG9cbiAgICAgKiB2ZXJpZnkgdGhlaXIgbW9iaWxlIHBob25lIG51bWJlciBieSBjYWxsaW5nIEFWLlVzZXIudmVyaWZ5TW9iaWxlUGhvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZU51bWJlciBUaGUgbW9iaWxlIHBob25lIG51bWJlciBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogICAgICAgICAgICAgICAgICB1c2VyIHRoYXQgZG9lc24ndCB2ZXJpZnkgdGhlaXIgbW9iaWxlIHBob25lIG51bWJlci5cbiAgICAgKiBAcGFyYW0ge1NNU0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHJlcXVlc3RNb2JpbGVQaG9uZVZlcmlmeTogZnVuY3Rpb24gcmVxdWVzdE1vYmlsZVBob25lVmVyaWZ5KG1vYmlsZVBob25lTnVtYmVyKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgbW9iaWxlUGhvbmVOdW1iZXI6IG1vYmlsZVBob25lTnVtYmVyXG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucy52YWxpZGF0ZVRva2VuKSB7XG4gICAgICAgIGRhdGEudmFsaWRhdGVfdG9rZW4gPSBvcHRpb25zLnZhbGlkYXRlVG9rZW47XG4gICAgICB9XG5cbiAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KCdyZXF1ZXN0TW9iaWxlUGhvbmVWZXJpZnknLCBudWxsLCBudWxsLCAnUE9TVCcsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGEgcmVzZXQgcGFzc3dvcmQgc21zIGNvZGUgdG8gYmUgc2VudCB0byB0aGUgc3BlY2lmaWVkIG1vYmlsZSBwaG9uZVxuICAgICAqIG51bWJlciBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgYWNjb3VudC4gVGhpcyBzbXMgY29kZSBhbGxvd3MgdGhlIHVzZXIgdG9cbiAgICAgKiByZXNldCB0aGVpciBhY2NvdW50J3MgcGFzc3dvcmQgYnkgY2FsbGluZyBBVi5Vc2VyLnJlc2V0UGFzc3dvcmRCeVNtc0NvZGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZU51bWJlciBUaGUgbW9iaWxlIHBob25lIG51bWJlciAgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgdXNlciB0aGF0IGRvZXNuJ3QgdmVyaWZ5IHRoZWlyIG1vYmlsZSBwaG9uZSBudW1iZXIuXG4gICAgICogQHBhcmFtIHtTTVNBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICByZXF1ZXN0UGFzc3dvcmRSZXNldEJ5U21zQ29kZTogZnVuY3Rpb24gcmVxdWVzdFBhc3N3b3JkUmVzZXRCeVNtc0NvZGUobW9iaWxlUGhvbmVOdW1iZXIpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBtb2JpbGVQaG9uZU51bWJlcjogbW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgIH07XG5cbiAgICAgIGlmIChvcHRpb25zLnZhbGlkYXRlVG9rZW4pIHtcbiAgICAgICAgZGF0YS52YWxpZGF0ZV90b2tlbiA9IG9wdGlvbnMudmFsaWRhdGVUb2tlbjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3JlcXVlc3RQYXNzd29yZFJlc2V0QnlTbXNDb2RlJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhIGNoYW5nZSBtb2JpbGUgcGhvbmUgbnVtYmVyIHNtcyBjb2RlIHRvIGJlIHNlbnQgdG8gdGhlIG1vYmlsZVBob25lTnVtYmVyLlxuICAgICAqIFRoaXMgc21zIGNvZGUgYWxsb3dzIGN1cnJlbnQgdXNlciB0byByZXNldCBpdCdzIG1vYmlsZVBob25lTnVtYmVyIGJ5XG4gICAgICogY2FsbGluZyB7QGxpbmsgQVYuVXNlci5jaGFuZ2VQaG9uZU51bWJlcn1cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3R0bF0gdHRsIG9mIHNtcyBjb2RlIChkZWZhdWx0IGlzIDYgbWludXRlcylcbiAgICAgKiBAcGFyYW0ge1NNU0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHJlcXVlc3RDaGFuZ2VQaG9uZU51bWJlcjogZnVuY3Rpb24gcmVxdWVzdENoYW5nZVBob25lTnVtYmVyKG1vYmlsZVBob25lTnVtYmVyLCB0dGwsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBtb2JpbGVQaG9uZU51bWJlcjogbW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgIH07XG5cbiAgICAgIGlmICh0dGwpIHtcbiAgICAgICAgZGF0YS50dGwgPSBvcHRpb25zLnR0bDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZVRva2VuKSB7XG4gICAgICAgIGRhdGEudmFsaWRhdGVfdG9rZW4gPSBvcHRpb25zLnZhbGlkYXRlVG9rZW47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBBVlJlcXVlc3QoJ3JlcXVlc3RDaGFuZ2VQaG9uZU51bWJlcicsIG51bGwsIG51bGwsICdQT1NUJywgZGF0YSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgY2FsbCB0byByZXNldCB1c2VyJ3MgYWNjb3VudCBtb2JpbGVQaG9uZU51bWJlciBieSBzbXMgY29kZS5cbiAgICAgKiBUaGUgc21zIGNvZGUgaXMgc2VudCBieSB7QGxpbmsgQVYuVXNlci5yZXF1ZXN0Q2hhbmdlUGhvbmVOdW1iZXJ9XG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1vYmlsZVBob25lTnVtYmVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGUgVGhlIHNtcyBjb2RlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG4gICAgY2hhbmdlUGhvbmVOdW1iZXI6IGZ1bmN0aW9uIGNoYW5nZVBob25lTnVtYmVyKG1vYmlsZVBob25lTnVtYmVyLCBjb2RlKSB7XG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgbW9iaWxlUGhvbmVOdW1iZXI6IG1vYmlsZVBob25lTnVtYmVyLFxuICAgICAgICBjb2RlOiBjb2RlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIEFWUmVxdWVzdCgnY2hhbmdlUGhvbmVOdW1iZXInLCBudWxsLCBudWxsLCAnUE9TVCcsIGRhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIGNhbGwgdG8gcmVzZXQgdXNlcidzIGFjY291bnQgcGFzc3dvcmQgYnkgc21zIGNvZGUgYW5kIG5ldyBwYXNzd29yZC5cbiAgICAgKiBUaGUgc21zIGNvZGUgaXMgc2VudCBieSBBVi5Vc2VyLnJlcXVlc3RQYXNzd29yZFJlc2V0QnlTbXNDb2RlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIFRoZSBzbXMgY29kZSBzZW50IGJ5IEFWLlVzZXIuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmQgVGhlIG5ldyBwYXNzd29yZC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAqIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICByZXNldFBhc3N3b3JkQnlTbXNDb2RlOiBmdW5jdGlvbiByZXNldFBhc3N3b3JkQnlTbXNDb2RlKGNvZGUsIHBhc3N3b3JkKSB7XG4gICAgICB2YXIganNvbiA9IHtcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgICB9O1xuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3Jlc2V0UGFzc3dvcmRCeVNtc0NvZGUnLCBudWxsLCBjb2RlLCAnUFVUJywganNvbik7XG4gICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBjYWxsIHRvIHZlcmlmeSBzbXMgY29kZSB0aGF0IHNlbnQgYnkgQVYuVXNlci5DbG91ZC5yZXF1ZXN0U21zQ29kZVxuICAgICAqIElmIHZlcmlmeSBzdWNjZXNzZnVsbHksdGhlIHVzZXIgbW9iaWxlUGhvbmVWZXJpZmllZCBhdHRyaWJ1dGUgd2lsbCBiZSB0cnVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIFRoZSBzbXMgY29kZSBzZW50IGJ5IEFWLlVzZXIuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAqIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2ZXJpZnlNb2JpbGVQaG9uZTogZnVuY3Rpb24gdmVyaWZ5TW9iaWxlUGhvbmUoY29kZSkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3ZlcmlmeU1vYmlsZVBob25lJywgbnVsbCwgY29kZSwgJ1BPU1QnLCBudWxsKTtcbiAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhIGxvZ0luIHNtcyBjb2RlIHRvIGJlIHNlbnQgdG8gdGhlIHNwZWNpZmllZCBtb2JpbGUgcGhvbmVcbiAgICAgKiBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyIGFjY291bnQuIFRoaXMgc21zIGNvZGUgYWxsb3dzIHRoZSB1c2VyIHRvXG4gICAgICogbG9naW4gYnkgQVYuVXNlci5sb2dJbldpdGhNb2JpbGVQaG9uZVNtc0NvZGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmVOdW1iZXIgVGhlIG1vYmlsZSBwaG9uZSBudW1iZXIgIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICAgKiAgICAgICAgICAgdXNlciB0aGF0IHdhbnQgdG8gbG9naW4gYnkgQVYuVXNlci5sb2dJbldpdGhNb2JpbGVQaG9uZVNtc0NvZGVcbiAgICAgKiBAcGFyYW0ge1NNU0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHJlcXVlc3RMb2dpblNtc0NvZGU6IGZ1bmN0aW9uIHJlcXVlc3RMb2dpblNtc0NvZGUobW9iaWxlUGhvbmVOdW1iZXIpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICBtb2JpbGVQaG9uZU51bWJlcjogbW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgIH07XG5cbiAgICAgIGlmIChvcHRpb25zLnZhbGlkYXRlVG9rZW4pIHtcbiAgICAgICAgZGF0YS52YWxpZGF0ZV90b2tlbiA9IG9wdGlvbnMudmFsaWRhdGVUb2tlbjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3JlcXVlc3RMb2dpblNtc0NvZGUnLCBudWxsLCBudWxsLCAnUE9TVCcsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiBBVlVzZXIgd2l0aCBhIHZhbGlkIHNlc3Npb24sXG4gICAgICogZWl0aGVyIGZyb20gbWVtb3J5IG9yIGxvY2FsU3RvcmFnZSwgaWYgbmVjZXNzYXJ5LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fSByZXNvbHZlZCB3aXRoIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIEFWLlVzZXIuXG4gICAgICovXG4gICAgY3VycmVudEFzeW5jOiBmdW5jdGlvbiBjdXJyZW50QXN5bmMoKSB7XG4gICAgICBpZiAoQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBVi5Vc2VyLmN1cnJlbnRBc3luYygpIHdhcyBkaXNhYmxlZCBpbiBtdWx0aS11c2VyIGVudmlyb25tZW50LCBhY2Nlc3MgdXNlciBmcm9tIHJlcXVlc3QgaW5zdGVhZCBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL2xlYW5lbmdpbmUtbm9kZS1zZGstdXBncmFkZS0xLmh0bWwnKTtcbiAgICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZShudWxsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKEFWLlVzZXIuX2N1cnJlbnRVc2VyKSB7XG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoQVYuVXNlci5fY3VycmVudFVzZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoQVYuVXNlci5fY3VycmVudFVzZXJNYXRjaGVzRGlzaykge1xuICAgICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKEFWLlVzZXIuX2N1cnJlbnRVc2VyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEFWLmxvY2FsU3RvcmFnZS5nZXRJdGVtQXN5bmMoQVYuX2dldEFWUGF0aChBVi5Vc2VyLl9DVVJSRU5UX1VTRVJfS0VZKSkudGhlbihmdW5jdGlvbiAodXNlckRhdGEpIHtcbiAgICAgICAgaWYgKCF1c2VyRGF0YSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IC8vIExvYWQgdGhlIHVzZXIgZnJvbSBsb2NhbCBzdG9yYWdlLlxuXG5cbiAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXJNYXRjaGVzRGlzayA9IHRydWU7XG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyID0gQVYuT2JqZWN0Ll9jcmVhdGUoJ19Vc2VyJyk7XG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9pc0N1cnJlbnRVc2VyID0gdHJ1ZTtcbiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHVzZXJEYXRhKTtcbiAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuaWQgPSBqc29uLl9pZDtcbiAgICAgICAgZGVsZXRlIGpzb24uX2lkO1xuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc2Vzc2lvblRva2VuID0ganNvbi5fc2Vzc2lvblRva2VuO1xuICAgICAgICBkZWxldGUganNvbi5fc2Vzc2lvblRva2VuO1xuXG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9maW5pc2hGZXRjaChqc29uKTsgLy9BVi5Vc2VyLl9jdXJyZW50VXNlci5zZXQoanNvbik7XG5cblxuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc3luY2hyb25pemVBbGxBdXRoRGF0YSgpO1xuXG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9yZWZyZXNoQ2FjaGUoKTtcblxuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fb3BTZXRRdWV1ZSA9IFt7fV07XG4gICAgICAgIHJldHVybiBBVi5Vc2VyLl9jdXJyZW50VXNlcjtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gQVZVc2VyIHdpdGggYSB2YWxpZCBzZXNzaW9uLFxuICAgICAqIGVpdGhlciBmcm9tIG1lbW9yeSBvciBsb2NhbFN0b3JhZ2UsIGlmIG5lY2Vzc2FyeS5cbiAgICAgKiBAcmV0dXJuIHtBVi5Vc2VyfSBUaGUgY3VycmVudGx5IGxvZ2dlZCBpbiBBVi5Vc2VyLlxuICAgICAqL1xuICAgIGN1cnJlbnQ6IGZ1bmN0aW9uIGN1cnJlbnQoKSB7XG4gICAgICBpZiAoQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBVi5Vc2VyLmN1cnJlbnQoKSB3YXMgZGlzYWJsZWQgaW4gbXVsdGktdXNlciBlbnZpcm9ubWVudCwgYWNjZXNzIHVzZXIgZnJvbSByZXF1ZXN0IGluc3RlYWQgaHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9sZWFuZW5naW5lLW5vZGUtc2RrLXVwZ3JhZGUtMS5odG1sJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoQVYubG9jYWxTdG9yYWdlLmFzeW5jKSB7XG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcignU3luY2hyb25vdXMgQVBJIFVzZXIuY3VycmVudCgpIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBydW50aW1lLiBVc2UgVXNlci5jdXJyZW50QXN5bmMoKSBpbnN0ZWFkLicpO1xuICAgICAgICBlcnJvci5jb2RlID0gJ1NZTkNfQVBJX05PVF9BVkFJTEFCTEUnO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKEFWLlVzZXIuX2N1cnJlbnRVc2VyKSB7XG4gICAgICAgIHJldHVybiBBVi5Vc2VyLl9jdXJyZW50VXNlcjtcbiAgICAgIH1cblxuICAgICAgaWYgKEFWLlVzZXIuX2N1cnJlbnRVc2VyTWF0Y2hlc0Rpc2spIHtcbiAgICAgICAgcmV0dXJuIEFWLlVzZXIuX2N1cnJlbnRVc2VyO1xuICAgICAgfSAvLyBMb2FkIHRoZSB1c2VyIGZyb20gbG9jYWwgc3RvcmFnZS5cblxuXG4gICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlck1hdGNoZXNEaXNrID0gdHJ1ZTtcbiAgICAgIHZhciB1c2VyRGF0YSA9IEFWLmxvY2FsU3RvcmFnZS5nZXRJdGVtKEFWLl9nZXRBVlBhdGgoQVYuVXNlci5fQ1VSUkVOVF9VU0VSX0tFWSkpO1xuXG4gICAgICBpZiAoIXVzZXJEYXRhKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlciA9IEFWLk9iamVjdC5fY3JlYXRlKCdfVXNlcicpO1xuICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX2lzQ3VycmVudFVzZXIgPSB0cnVlO1xuICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHVzZXJEYXRhKTtcbiAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLmlkID0ganNvbi5faWQ7XG4gICAgICBkZWxldGUganNvbi5faWQ7XG4gICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc2Vzc2lvblRva2VuID0ganNvbi5fc2Vzc2lvblRva2VuO1xuICAgICAgZGVsZXRlIGpzb24uX3Nlc3Npb25Ub2tlbjtcblxuICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX2ZpbmlzaEZldGNoKGpzb24pOyAvL0FWLlVzZXIuX2N1cnJlbnRVc2VyLnNldChqc29uKTtcblxuXG4gICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc3luY2hyb25pemVBbGxBdXRoRGF0YSgpO1xuXG4gICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fcmVmcmVzaENhY2hlKCk7XG5cbiAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9vcFNldFF1ZXVlID0gW3t9XTtcbiAgICAgIHJldHVybiBBVi5Vc2VyLl9jdXJyZW50VXNlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGVyc2lzdHMgYSB1c2VyIGFzIGN1cnJlbnRVc2VyIHRvIGxvY2FsU3RvcmFnZSwgYW5kIGludG8gdGhlIHNpbmdsZXRvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zYXZlQ3VycmVudFVzZXI6IGZ1bmN0aW9uIF9zYXZlQ3VycmVudFVzZXIodXNlcikge1xuICAgICAgdmFyIHByb21pc2U7XG5cbiAgICAgIGlmIChBVi5Vc2VyLl9jdXJyZW50VXNlciAhPT0gdXNlcikge1xuICAgICAgICBwcm9taXNlID0gQVYuVXNlci5sb2dPdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2UgPSBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHVzZXIuX2lzQ3VycmVudFVzZXIgPSB0cnVlO1xuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlciA9IHVzZXI7XG5cbiAgICAgICAgdmFyIGpzb24gPSB1c2VyLl90b0Z1bGxKU09OKCk7XG5cbiAgICAgICAganNvbi5faWQgPSB1c2VyLmlkO1xuICAgICAgICBqc29uLl9zZXNzaW9uVG9rZW4gPSB1c2VyLl9zZXNzaW9uVG9rZW47XG4gICAgICAgIHJldHVybiBBVi5sb2NhbFN0b3JhZ2Uuc2V0SXRlbUFzeW5jKEFWLl9nZXRBVlBhdGgoQVYuVXNlci5fQ1VSUkVOVF9VU0VSX0tFWSksICgwLCBfc3RyaW5naWZ5LmRlZmF1bHQpKGpzb24pKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlck1hdGNoZXNEaXNrID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gQVYuX3JlZnJlc2hTdWJzY3JpcHRpb25JZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgX3JlZ2lzdGVyQXV0aGVudGljYXRpb25Qcm92aWRlcjogZnVuY3Rpb24gX3JlZ2lzdGVyQXV0aGVudGljYXRpb25Qcm92aWRlcihwcm92aWRlcikge1xuICAgICAgQVYuVXNlci5fYXV0aFByb3ZpZGVyc1twcm92aWRlci5nZXRBdXRoVHlwZSgpXSA9IHByb3ZpZGVyOyAvLyBTeW5jaHJvbml6ZSB0aGUgY3VycmVudCB1c2VyIHdpdGggdGhlIGF1dGggcHJvdmlkZXIuXG5cbiAgICAgIGlmICghQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIgJiYgQVYuVXNlci5jdXJyZW50KCkpIHtcbiAgICAgICAgQVYuVXNlci5jdXJyZW50KCkuX3N5bmNocm9uaXplQXV0aERhdGEocHJvdmlkZXIuZ2V0QXV0aFR5cGUoKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBfbG9nSW5XaXRoOiBmdW5jdGlvbiBfbG9nSW5XaXRoKHByb3ZpZGVyLCBhdXRoRGF0YSwgb3B0aW9ucykge1xuICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcblxuICAgICAgcmV0dXJuIHVzZXIuX2xpbmtXaXRoKHByb3ZpZGVyLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNTMyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKiovIH0pLFxuLyogNTMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9tYXAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDIpKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MykpO1xuXG52YXIgX3N0cmluZ2lmeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuXG52YXIgX2ZpbmQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTA3KSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSkoJ2xlYW5jbG91ZDpxdWVyeScpO1xuXG52YXIgQVZFcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSxcbiAgICBfcmVxdWVzdCA9IF9yZXF1aXJlLl9yZXF1ZXN0LFxuICAgIHJlcXVlc3QgPSBfcmVxdWlyZS5yZXF1ZXN0O1xuXG52YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSksXG4gICAgZW5zdXJlQXJyYXkgPSBfcmVxdWlyZTIuZW5zdXJlQXJyYXksXG4gICAgdHJhbnNmb3JtRmV0Y2hPcHRpb25zID0gX3JlcXVpcmUyLnRyYW5zZm9ybUZldGNoT3B0aW9ucyxcbiAgICBjb250aW51ZVdoaWxlID0gX3JlcXVpcmUyLmNvbnRpbnVlV2hpbGU7XG5cbnZhciByZXF1aXJlcyA9IGZ1bmN0aW9uIHJlcXVpcmVzKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59OyAvLyBBVi5RdWVyeSBpcyBhIHdheSB0byBjcmVhdGUgYSBsaXN0IG9mIEFWLk9iamVjdHMuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQVYuUXVlcnkgZm9yIHRoZSBnaXZlbiBBVi5PYmplY3Qgc3ViY2xhc3MuXG4gICAqIEBwYXJhbSB7Q2xhc3N8U3RyaW5nfSBvYmplY3RDbGFzcyBBbiBpbnN0YW5jZSBvZiBhIHN1YmNsYXNzIG9mIEFWLk9iamVjdCwgb3IgYSBBViBjbGFzc05hbWUgc3RyaW5nLlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogPHA+QVYuUXVlcnkgZGVmaW5lcyBhIHF1ZXJ5IHRoYXQgaXMgdXNlZCB0byBmZXRjaCBBVi5PYmplY3RzLiBUaGVcbiAgICogbW9zdCBjb21tb24gdXNlIGNhc2UgaXMgZmluZGluZyBhbGwgb2JqZWN0cyB0aGF0IG1hdGNoIGEgcXVlcnkgdGhyb3VnaCB0aGVcbiAgICogPGNvZGU+ZmluZDwvY29kZT4gbWV0aG9kLiBGb3IgZXhhbXBsZSwgdGhpcyBzYW1wbGUgY29kZSBmZXRjaGVzIGFsbCBvYmplY3RzXG4gICAqIG9mIGNsYXNzIDxjb2RlPk15Q2xhc3M8L2NvZGU+LiBJdCBjYWxscyBhIGRpZmZlcmVudCBmdW5jdGlvbiBkZXBlbmRpbmcgb25cbiAgICogd2hldGhlciB0aGUgZmV0Y2ggc3VjY2VlZGVkIG9yIG5vdC5cbiAgICpcbiAgICogPHByZT5cbiAgICogdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KE15Q2xhc3MpO1xuICAgKiBxdWVyeS5maW5kKCkudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAqICAgLy8gcmVzdWx0cyBpcyBhbiBhcnJheSBvZiBBVi5PYmplY3QuXG4gICAqIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgLy8gZXJyb3IgaXMgYW4gaW5zdGFuY2Ugb2YgQVZFcnJvci5cbiAgICogfSk7PC9wcmU+PC9wPlxuICAgKlxuICAgKiA8cD5BbiBBVi5RdWVyeSBjYW4gYWxzbyBiZSB1c2VkIHRvIHJldHJpZXZlIGEgc2luZ2xlIG9iamVjdCB3aG9zZSBpZCBpc1xuICAgKiBrbm93biwgdGhyb3VnaCB0aGUgZ2V0IG1ldGhvZC4gRm9yIGV4YW1wbGUsIHRoaXMgc2FtcGxlIGNvZGUgZmV0Y2hlcyBhblxuICAgKiBvYmplY3Qgb2YgY2xhc3MgPGNvZGU+TXlDbGFzczwvY29kZT4gYW5kIGlkIDxjb2RlPm15SWQ8L2NvZGU+LiBJdCBjYWxscyBhXG4gICAqIGRpZmZlcmVudCBmdW5jdGlvbiBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgZmV0Y2ggc3VjY2VlZGVkIG9yIG5vdC5cbiAgICpcbiAgICogPHByZT5cbiAgICogdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KE15Q2xhc3MpO1xuICAgKiBxdWVyeS5nZXQobXlJZCkudGhlbihmdW5jdGlvbihvYmplY3QpIHtcbiAgICogICAvLyBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgQVYuT2JqZWN0LlxuICAgKiB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgKiAgIC8vIGVycm9yIGlzIGFuIGluc3RhbmNlIG9mIEFWRXJyb3IuXG4gICAqIH0pOzwvcHJlPjwvcD5cbiAgICpcbiAgICogPHA+QW4gQVYuUXVlcnkgY2FuIGFsc28gYmUgdXNlZCB0byBjb3VudCB0aGUgbnVtYmVyIG9mIG9iamVjdHMgdGhhdCBtYXRjaFxuICAgKiB0aGUgcXVlcnkgd2l0aG91dCByZXRyaWV2aW5nIGFsbCBvZiB0aG9zZSBvYmplY3RzLiBGb3IgZXhhbXBsZSwgdGhpc1xuICAgKiBzYW1wbGUgY29kZSBjb3VudHMgdGhlIG51bWJlciBvZiBvYmplY3RzIG9mIHRoZSBjbGFzcyA8Y29kZT5NeUNsYXNzPC9jb2RlPlxuICAgKiA8cHJlPlxuICAgKiB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkoTXlDbGFzcyk7XG4gICAqIHF1ZXJ5LmNvdW50KCkudGhlbihmdW5jdGlvbihudW1iZXIpIHtcbiAgICogICAvLyBUaGVyZSBhcmUgbnVtYmVyIGluc3RhbmNlcyBvZiBNeUNsYXNzLlxuICAgKiB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgKiAgIC8vIGVycm9yIGlzIGFuIGluc3RhbmNlIG9mIEFWRXJyb3IuXG4gICAqIH0pOzwvcHJlPjwvcD5cbiAgICovXG4gIEFWLlF1ZXJ5ID0gZnVuY3Rpb24gKG9iamVjdENsYXNzKSB7XG4gICAgaWYgKF8uaXNTdHJpbmcob2JqZWN0Q2xhc3MpKSB7XG4gICAgICBvYmplY3RDbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3Mob2JqZWN0Q2xhc3MpO1xuICAgIH1cblxuICAgIHRoaXMub2JqZWN0Q2xhc3MgPSBvYmplY3RDbGFzcztcbiAgICB0aGlzLmNsYXNzTmFtZSA9IG9iamVjdENsYXNzLnByb3RvdHlwZS5jbGFzc05hbWU7XG4gICAgdGhpcy5fd2hlcmUgPSB7fTtcbiAgICB0aGlzLl9pbmNsdWRlID0gW107XG4gICAgdGhpcy5fc2VsZWN0ID0gW107XG4gICAgdGhpcy5fbGltaXQgPSAtMTsgLy8gbmVnYXRpdmUgbGltaXQgbWVhbnMsIGRvIG5vdCBzZW5kIGEgbGltaXRcblxuICAgIHRoaXMuX3NraXAgPSAwO1xuICAgIHRoaXMuX2RlZmF1bHRQYXJhbXMgPSB7fTtcbiAgfTtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBBVi5RdWVyeSB0aGF0IGlzIHRoZSBPUiBvZiB0aGUgcGFzc2VkIGluIHF1ZXJpZXMuICBGb3JcbiAgICogZXhhbXBsZTpcbiAgICogPHByZT52YXIgY29tcG91bmRRdWVyeSA9IEFWLlF1ZXJ5Lm9yKHF1ZXJ5MSwgcXVlcnkyLCBxdWVyeTMpOzwvcHJlPlxuICAgKlxuICAgKiB3aWxsIGNyZWF0ZSBhIGNvbXBvdW5kUXVlcnkgdGhhdCBpcyBhbiBvciBvZiB0aGUgcXVlcnkxLCBxdWVyeTIsIGFuZFxuICAgKiBxdWVyeTMuXG4gICAqIEBwYXJhbSB7Li4uQVYuUXVlcnl9IHZhcl9hcmdzIFRoZSBsaXN0IG9mIHF1ZXJpZXMgdG8gT1IuXG4gICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBUaGUgcXVlcnkgdGhhdCBpcyB0aGUgT1Igb2YgdGhlIHBhc3NlZCBpbiBxdWVyaWVzLlxuICAgKi9cblxuXG4gIEFWLlF1ZXJ5Lm9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBxdWVyaWVzID0gXy50b0FycmF5KGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gbnVsbDtcblxuICAgIEFWLl9hcnJheUVhY2gocXVlcmllcywgZnVuY3Rpb24gKHEpIHtcbiAgICAgIGlmIChfLmlzTnVsbChjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IHEuY2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2xhc3NOYW1lICE9PSBxLmNsYXNzTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBxdWVyaWVzIG11c3QgYmUgZm9yIHRoZSBzYW1lIGNsYXNzJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkoY2xhc3NOYW1lKTtcblxuICAgIHF1ZXJ5Ll9vclF1ZXJ5KHF1ZXJpZXMpO1xuXG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIEFWLlF1ZXJ5IHRoYXQgaXMgdGhlIEFORCBvZiB0aGUgcGFzc2VkIGluIHF1ZXJpZXMuICBGb3JcbiAgICogZXhhbXBsZTpcbiAgICogPHByZT52YXIgY29tcG91bmRRdWVyeSA9IEFWLlF1ZXJ5LmFuZChxdWVyeTEsIHF1ZXJ5MiwgcXVlcnkzKTs8L3ByZT5cbiAgICpcbiAgICogd2lsbCBjcmVhdGUgYSBjb21wb3VuZFF1ZXJ5IHRoYXQgaXMgYW4gJ2FuZCcgb2YgdGhlIHF1ZXJ5MSwgcXVlcnkyLCBhbmRcbiAgICogcXVlcnkzLlxuICAgKiBAcGFyYW0gey4uLkFWLlF1ZXJ5fSB2YXJfYXJncyBUaGUgbGlzdCBvZiBxdWVyaWVzIHRvIEFORC5cbiAgICogQHJldHVybiB7QVYuUXVlcnl9IFRoZSBxdWVyeSB0aGF0IGlzIHRoZSBBTkQgb2YgdGhlIHBhc3NlZCBpbiBxdWVyaWVzLlxuICAgKi9cblxuXG4gIEFWLlF1ZXJ5LmFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcXVlcmllcyA9IF8udG9BcnJheShhcmd1bWVudHMpO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XG5cbiAgICBBVi5fYXJyYXlFYWNoKHF1ZXJpZXMsIGZ1bmN0aW9uIChxKSB7XG4gICAgICBpZiAoXy5pc051bGwoY2xhc3NOYW1lKSkge1xuICAgICAgICBjbGFzc05hbWUgPSBxLmNsYXNzTmFtZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNsYXNzTmFtZSAhPT0gcS5jbGFzc05hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgcXVlcmllcyBtdXN0IGJlIGZvciB0aGUgc2FtZSBjbGFzcycpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KGNsYXNzTmFtZSk7XG5cbiAgICBxdWVyeS5fYW5kUXVlcnkocXVlcmllcyk7XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIEFWT2JqZWN0cyB0aGF0IHNhdGlzZnkgdGhlIENRTC5cbiAgICogQ1FMIHN5bnRheCBwbGVhc2Ugc2VlIHtAbGluayBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL2NxbF9ndWlkZS5odG1sIENRTCBHdWlkZX0uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjcWwgQSBDUUwgc3RyaW5nLCBzZWUge0BsaW5rIGh0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvY3FsX2d1aWRlLmh0bWwgQ1FMIEd1aWRlfS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHZhbHVlcyBBbiBhcnJheSBjb250YWlucyBwbGFjZWhvbGRlciB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0cyB3aGVuXG4gICAqIHRoZSBxdWVyeSBjb21wbGV0ZXMuXG4gICAqL1xuXG5cbiAgQVYuUXVlcnkuZG9DbG91ZFF1ZXJ5ID0gZnVuY3Rpb24gKGNxbCwgcHZhbHVlcywgb3B0aW9ucykge1xuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBjcWw6IGNxbFxuICAgIH07XG5cbiAgICBpZiAoXy5pc0FycmF5KHB2YWx1ZXMpKSB7XG4gICAgICBwYXJhbXMucHZhbHVlcyA9IHB2YWx1ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSBwdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gX3JlcXVlc3QoJ2Nsb3VkUXVlcnknLCBudWxsLCBudWxsLCAnR0VUJywgcGFyYW1zLCBvcHRpb25zKTtcblxuICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAvL3F1ZXJ5IHRvIHByb2Nlc3MgcmVzdWx0cy5cbiAgICAgIHZhciBxdWVyeSA9IG5ldyBBVi5RdWVyeShyZXNwb25zZS5jbGFzc05hbWUpO1xuICAgICAgdmFyIHJlc3VsdHMgPSAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIHJlc3BvbnNlLnJlc3VsdHMsIGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHZhciBvYmogPSBxdWVyeS5fbmV3T2JqZWN0KHJlc3BvbnNlKTtcblxuICAgICAgICBpZiAob2JqLl9maW5pc2hGZXRjaCkge1xuICAgICAgICAgIG9iai5fZmluaXNoRmV0Y2gocXVlcnkuX3Byb2Nlc3NSZXN1bHQoanNvbiksIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgY291bnQ6IHJlc3BvbnNlLmNvdW50LFxuICAgICAgICBjbGFzc05hbWU6IHJlc3BvbnNlLmNsYXNzTmFtZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybiBhIHF1ZXJ5IHdpdGggY29uZGl0aW9ucyBmcm9tIGpzb24uXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB0byBzZW5kIGEgcXVlcnkgZnJvbSBzZXJ2ZXIgc2lkZSB0byBjbGllbnQgc2lkZS5cbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uIGZyb20ge0BsaW5rIEFWLlF1ZXJ5I3RvSlNPTn1cbiAgICogQHJldHVybiB7QVYuUXVlcnl9XG4gICAqL1xuXG5cbiAgQVYuUXVlcnkuZnJvbUpTT04gPSBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgICAgd2hlcmUgPSBfcmVmLndoZXJlLFxuICAgICAgICBpbmNsdWRlID0gX3JlZi5pbmNsdWRlLFxuICAgICAgICBzZWxlY3QgPSBfcmVmLnNlbGVjdCxcbiAgICAgICAgaW5jbHVkZUFDTCA9IF9yZWYuaW5jbHVkZUFDTCxcbiAgICAgICAgbGltaXQgPSBfcmVmLmxpbWl0LFxuICAgICAgICBza2lwID0gX3JlZi5za2lwLFxuICAgICAgICBvcmRlciA9IF9yZWYub3JkZXI7XG5cbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgUXVlcnkgSlNPTiwgY2xhc3NOYW1lIG11c3QgYmUgYSBTdHJpbmcuJyk7XG4gICAgfVxuXG4gICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KGNsYXNzTmFtZSk7XG5cbiAgICBfLmV4dGVuZChxdWVyeSwge1xuICAgICAgX3doZXJlOiB3aGVyZSxcbiAgICAgIF9pbmNsdWRlOiBpbmNsdWRlLFxuICAgICAgX3NlbGVjdDogc2VsZWN0LFxuICAgICAgX2luY2x1ZGVBQ0w6IGluY2x1ZGVBQ0wsXG4gICAgICBfbGltaXQ6IGxpbWl0LFxuICAgICAgX3NraXA6IHNraXAsXG4gICAgICBfb3JkZXI6IG9yZGVyXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH07XG5cbiAgQVYuUXVlcnkuX2V4dGVuZCA9IEFWLl9leHRlbmQ7XG5cbiAgXy5leHRlbmQoQVYuUXVlcnkucHJvdG90eXBlLFxuICAvKiogQGxlbmRzIEFWLlF1ZXJ5LnByb3RvdHlwZSAqL1xuICB7XG4gICAgLy9ob29rIHRvIGl0ZXJhdGUgcmVzdWx0LiBBZGRlZCBieSBkZW5uaXM8eHpodWFuZ0Bhdm9zY2xvdWQuY29tPi5cbiAgICBfcHJvY2Vzc1Jlc3VsdDogZnVuY3Rpb24gX3Byb2Nlc3NSZXN1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGFuIEFWLk9iamVjdCB3aG9zZSBpZCBpcyBhbHJlYWR5IGtub3duIGJ5IGZldGNoaW5nIGRhdGEgZnJvbVxuICAgICAqIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqZWN0SWQgVGhlIGlkIG9mIHRoZSBvYmplY3QgdG8gYmUgZmV0Y2hlZC5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UHJvbWlzZS48QVYuT2JqZWN0Pn1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChvYmplY3RJZCwgb3B0aW9ucykge1xuICAgICAgaWYgKCFfLmlzU3RyaW5nKG9iamVjdElkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29iamVjdElkIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9iamVjdElkID09PSAnJykge1xuICAgICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZWplY3QobmV3IEFWRXJyb3IoQVZFcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmogPSB0aGlzLl9uZXdPYmplY3QoKTtcblxuICAgICAgb2JqLmlkID0gb2JqZWN0SWQ7XG5cbiAgICAgIHZhciBxdWVyeUpTT04gPSB0aGlzLl9nZXRQYXJhbXMoKTtcblxuICAgICAgdmFyIGZldGNoT3B0aW9ucyA9IHt9O1xuICAgICAgaWYgKCgwLCBfa2V5cy5kZWZhdWx0KShxdWVyeUpTT04pKSBmZXRjaE9wdGlvbnMua2V5cyA9ICgwLCBfa2V5cy5kZWZhdWx0KShxdWVyeUpTT04pO1xuICAgICAgaWYgKHF1ZXJ5SlNPTi5pbmNsdWRlKSBmZXRjaE9wdGlvbnMuaW5jbHVkZSA9IHF1ZXJ5SlNPTi5pbmNsdWRlO1xuICAgICAgaWYgKHF1ZXJ5SlNPTi5pbmNsdWRlQUNMKSBmZXRjaE9wdGlvbnMuaW5jbHVkZUFDTCA9IHF1ZXJ5SlNPTi5pbmNsdWRlQUNMO1xuICAgICAgcmV0dXJuIF9yZXF1ZXN0KCdjbGFzc2VzJywgdGhpcy5jbGFzc05hbWUsIG9iamVjdElkLCAnR0VUJywgdHJhbnNmb3JtRmV0Y2hPcHRpb25zKGZldGNoT3B0aW9ucyksIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChfLmlzRW1wdHkocmVzcG9uc2UpKSB0aHJvdyBuZXcgQVZFcnJvcihBVkVycm9yLk9CSkVDVF9OT1RfRk9VTkQsICdPYmplY3Qgbm90IGZvdW5kLicpO1xuXG4gICAgICAgIG9iai5fZmluaXNoRmV0Y2gob2JqLnBhcnNlKHJlc3BvbnNlKSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHF1ZXJ5LlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICB3aGVyZSA9IHRoaXMuX3doZXJlLFxuICAgICAgICAgIGluY2x1ZGUgPSB0aGlzLl9pbmNsdWRlLFxuICAgICAgICAgIHNlbGVjdCA9IHRoaXMuX3NlbGVjdCxcbiAgICAgICAgICBpbmNsdWRlQUNMID0gdGhpcy5faW5jbHVkZUFDTCxcbiAgICAgICAgICBsaW1pdCA9IHRoaXMuX2xpbWl0LFxuICAgICAgICAgIHNraXAgPSB0aGlzLl9za2lwLFxuICAgICAgICAgIG9yZGVyID0gdGhpcy5fb3JkZXI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgd2hlcmU6IHdoZXJlLFxuICAgICAgICBpbmNsdWRlOiBpbmNsdWRlLFxuICAgICAgICBzZWxlY3Q6IHNlbGVjdCxcbiAgICAgICAgaW5jbHVkZUFDTDogaW5jbHVkZUFDTCxcbiAgICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgICBza2lwOiBza2lwLFxuICAgICAgICBvcmRlcjogb3JkZXJcbiAgICAgIH07XG4gICAgfSxcbiAgICBfZ2V0UGFyYW1zOiBmdW5jdGlvbiBfZ2V0UGFyYW1zKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IF8uZXh0ZW5kKHt9LCB0aGlzLl9kZWZhdWx0UGFyYW1zLCB7XG4gICAgICAgIHdoZXJlOiB0aGlzLl93aGVyZVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLl9pbmNsdWRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGFyYW1zLmluY2x1ZGUgPSB0aGlzLl9pbmNsdWRlLmpvaW4oJywnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3NlbGVjdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhcmFtcy5rZXlzID0gdGhpcy5fc2VsZWN0LmpvaW4oJywnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2luY2x1ZGVBQ0wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJhbXMucmV0dXJuQUNMID0gdGhpcy5faW5jbHVkZUFDTDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2xpbWl0ID49IDApIHtcbiAgICAgICAgcGFyYW1zLmxpbWl0ID0gdGhpcy5fbGltaXQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9za2lwID4gMCkge1xuICAgICAgICBwYXJhbXMuc2tpcCA9IHRoaXMuX3NraXA7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9vcmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBhcmFtcy5vcmRlciA9IHRoaXMuX29yZGVyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH0sXG4gICAgX25ld09iamVjdDogZnVuY3Rpb24gX25ld09iamVjdChyZXNwb25zZSkge1xuICAgICAgdmFyIG9iajtcblxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmNsYXNzTmFtZSkge1xuICAgICAgICBvYmogPSBuZXcgQVYuT2JqZWN0KHJlc3BvbnNlLmNsYXNzTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSBuZXcgdGhpcy5vYmplY3RDbGFzcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgX2NyZWF0ZVJlcXVlc3Q6IGZ1bmN0aW9uIF9jcmVhdGVSZXF1ZXN0KCkge1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5fZ2V0UGFyYW1zKCk7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFwiL2NsYXNzZXMvXCIuY29uY2F0KHRoaXMuY2xhc3NOYW1lKTtcblxuICAgICAgaWYgKGVuY29kZVVSSUNvbXBvbmVudCgoMCwgX3N0cmluZ2lmeS5kZWZhdWx0KShwYXJhbXMpKS5sZW5ndGggPiAyMDAwKSB7XG4gICAgICAgIHZhciBib2R5ID0ge1xuICAgICAgICAgIHJlcXVlc3RzOiBbe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIHBhdGg6IFwiLzEuMVwiLmNvbmNhdChwYXRoKSxcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6ICcvYmF0Y2gnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGRhdGE6IGJvZHksXG4gICAgICAgICAgYXV0aE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2VbMF07XG5cbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuc3VjY2VzcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgQVZFcnJvcihyZXN1bHQuZXJyb3IuY29kZSwgcmVzdWx0LmVycm9yLmVycm9yIHx8ICdVbmtub3duIGJhdGNoIGVycm9yJyk7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIHF1ZXJ5OiBwYXJhbXMsXG4gICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zXG4gICAgICB9KTtcbiAgICB9LFxuICAgIF9wYXJzZVJlc3BvbnNlOiBmdW5jdGlvbiBfcGFyc2VSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgcmV0dXJuICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgcmVzcG9uc2UucmVzdWx0cywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgdmFyIG9iaiA9IF90aGlzLl9uZXdPYmplY3QocmVzcG9uc2UpO1xuXG4gICAgICAgIGlmIChvYmouX2ZpbmlzaEZldGNoKSB7XG4gICAgICAgICAgb2JqLl9maW5pc2hGZXRjaChfdGhpcy5fcHJvY2Vzc1Jlc3VsdChqc29uKSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgQVZPYmplY3RzIHRoYXQgc2F0aXNmeSB0aGlzIHF1ZXJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdHMgd2hlblxuICAgICAqIHRoZSBxdWVyeSBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgZmluZDogZnVuY3Rpb24gZmluZChvcHRpb25zKSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuX2NyZWF0ZVJlcXVlc3QodW5kZWZpbmVkLCBvcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbih0aGlzLl9wYXJzZVJlc3BvbnNlLmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYm90aCBBVk9iamVjdHMgYW5kIHRvdGFsIGNvdW50LlxuICAgICAqXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHR1cGxlIGNvbnRhaW5zIHJlc3VsdHMgYW5kIGNvdW50LlxuICAgICAqL1xuICAgIGZpbmRBbmRDb3VudDogZnVuY3Rpb24gZmluZEFuZENvdW50KG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFyYW1zID0gdGhpcy5fZ2V0UGFyYW1zKCk7XG5cbiAgICAgIHBhcmFtcy5jb3VudCA9IDE7XG5cbiAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fY3JlYXRlUmVxdWVzdChwYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICByZXR1cm4gcmVxdWVzdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gW190aGlzMi5fcGFyc2VSZXNwb25zZShyZXNwb25zZSksIHJlc3BvbnNlLmNvdW50XTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzY2FuIGEgUXVlcnkuIG1hc3RlcktleSByZXF1aXJlZC5cbiAgICAgKlxuICAgICAqIEBzaW5jZSAyLjEuMFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3JkZXJlZEJ5XSBzcGVjaWZ5IHRoZSBrZXkgdG8gc29ydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYXRjaFNpemVdIHNwZWNpZnkgdGhlIGJhdGNoIHNpemUgZm9yIGVhY2ggcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtBc3luY0l0ZXJhdG9yLjxBVi5PYmplY3Q+fVxuICAgICAqIEBleGFtcGxlIGNvbnN0IHRlc3RJdGVyYXRvciA9IHtcbiAgICAgKiAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICogICAgIHJldHVybiBuZXcgUXVlcnkoJ1Rlc3QnKS5zY2FuKHVuZGVmaW5lZCwgeyB1c2VNYXN0ZXJLZXk6IHRydWUgfSk7XG4gICAgICogICB9LFxuICAgICAqIH07XG4gICAgICogZm9yIGF3YWl0IChjb25zdCB0ZXN0IG9mIHRlc3RJdGVyYXRvcikge1xuICAgICAqICAgY29uc29sZS5sb2codGVzdC5pZCk7XG4gICAgICogfVxuICAgICAqL1xuICAgIHNjYW46IGZ1bmN0aW9uIHNjYW4oKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBvcmRlcmVkQnkgPSBfcmVmMi5vcmRlcmVkQnksXG4gICAgICAgICAgYmF0Y2hTaXplID0gX3JlZjIuYmF0Y2hTaXplO1xuXG4gICAgICB2YXIgYXV0aE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMuX2dldFBhcmFtcygpO1xuXG4gICAgICBkZWJ1Zygnc2NhbiAlTycsIGNvbmRpdGlvbik7XG5cbiAgICAgIGlmIChjb25kaXRpb24ub3JkZXIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgb3JkZXIgb2YgdGhlIHF1ZXJ5IGlzIGlnbm9yZWQgZm9yIFF1ZXJ5I3NjYW4uIENoZWNrb3V0IHRoZSBvcmRlcmVkQnkgb3B0aW9uIG9mIFF1ZXJ5I3NjYW4uJyk7XG4gICAgICAgIGRlbGV0ZSBjb25kaXRpb24ub3JkZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25kaXRpb24uc2tpcCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBza2lwIG9wdGlvbiBvZiB0aGUgcXVlcnkgaXMgaWdub3JlZCBmb3IgUXVlcnkjc2Nhbi4nKTtcbiAgICAgICAgZGVsZXRlIGNvbmRpdGlvbi5za2lwO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uZGl0aW9uLmxpbWl0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIGxpbWl0IG9wdGlvbiBvZiB0aGUgcXVlcnkgaXMgaWdub3JlZCBmb3IgUXVlcnkjc2Nhbi4nKTtcbiAgICAgICAgZGVsZXRlIGNvbmRpdGlvbi5saW1pdDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9yZGVyZWRCeSkgY29uZGl0aW9uLnNjYW5fa2V5ID0gb3JkZXJlZEJ5O1xuICAgICAgaWYgKGJhdGNoU2l6ZSkgY29uZGl0aW9uLmxpbWl0ID0gYmF0Y2hTaXplO1xuICAgICAgdmFyIGN1cnNvcjtcbiAgICAgIHZhciByZW1haW5SZXN1bHRzID0gW107XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIGlmIChyZW1haW5SZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICB2YWx1ZTogcmVtYWluUmVzdWx0cy5zaGlmdCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZXF1ZXN0KCdzY2FuL2NsYXNzZXMnLCBfdGhpczMuY2xhc3NOYW1lLCBudWxsLCAnR0VUJywgY3Vyc29yID8gXy5leHRlbmQoe30sIGNvbmRpdGlvbiwge1xuICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3JcbiAgICAgICAgICB9KSA6IGNvbmRpdGlvbiwgYXV0aE9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjdXJzb3IgPSByZXNwb25zZS5jdXJzb3I7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IF90aGlzMy5fcGFyc2VSZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtYWluUmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3Vyc29yID09PSBudWxsICYmIHJlbWFpblJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgdmFsdWU6IHJlbWFpblJlc3VsdHMuc2hpZnQoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIG9iamVjdHMgcmV0cmlldmVkIGJ5IHRoaXMgcXVlcnkuXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBzYXZlXG4gICAgICogICAgIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBkZXN0cm95QWxsOiBmdW5jdGlvbiBkZXN0cm95QWxsKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiAoMCwgX2ZpbmQuZGVmYXVsdCkoc2VsZikuY2FsbChzZWxmLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChvYmplY3RzKSB7XG4gICAgICAgIHJldHVybiBBVi5PYmplY3QuZGVzdHJveUFsbChvYmplY3RzLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiBvYmplY3RzIHRoYXQgbWF0Y2ggdGhpcyBxdWVyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aXRoIHRoZSBjb3VudCB3aGVuXG4gICAgICogdGhlIHF1ZXJ5IGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBjb3VudDogZnVuY3Rpb24gY291bnQob3B0aW9ucykge1xuICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuX2dldFBhcmFtcygpO1xuXG4gICAgICBwYXJhbXMubGltaXQgPSAwO1xuICAgICAgcGFyYW1zLmNvdW50ID0gMTtcblxuICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLl9jcmVhdGVSZXF1ZXN0KHBhcmFtcywgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5jb3VudDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYXQgbW9zdCBvbmUgQVYuT2JqZWN0IHRoYXQgc2F0aXNmaWVzIHRoaXMgcXVlcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgb2JqZWN0IHdoZW5cbiAgICAgKiB0aGUgcXVlcnkgY29tcGxldGVzLlxuICAgICAqL1xuICAgIGZpcnN0OiBmdW5jdGlvbiBmaXJzdChvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLl9nZXRQYXJhbXMoKTtcblxuICAgICAgcGFyYW1zLmxpbWl0ID0gMTtcblxuICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLl9jcmVhdGVSZXF1ZXN0KHBhcmFtcywgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiAoMCwgX21hcC5kZWZhdWx0KShfKS5jYWxsKF8sIHJlc3BvbnNlLnJlc3VsdHMsIGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHNlbGYuX25ld09iamVjdCgpO1xuXG4gICAgICAgICAgaWYgKG9iai5fZmluaXNoRmV0Y2gpIHtcbiAgICAgICAgICAgIG9iai5fZmluaXNoRmV0Y2goc2VsZi5fcHJvY2Vzc1Jlc3VsdChqc29uKSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSlbMF07XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcCBiZWZvcmUgcmV0dXJuaW5nIGFueSByZXN1bHRzLlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBwYWdpbmF0aW9uLlxuICAgICAqIERlZmF1bHQgaXMgdG8gc2tpcCB6ZXJvIHJlc3VsdHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHNraXAuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBza2lwOiBmdW5jdGlvbiBza2lwKG4pIHtcbiAgICAgIHJlcXVpcmVzKG4sICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgc2tpcCB2YWx1ZScpO1xuICAgICAgdGhpcy5fc2tpcCA9IG47XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gVGhlIGRlZmF1bHQgbGltaXQgaXNcbiAgICAgKiAxMDAsIHdpdGggYSBtYXhpbXVtIG9mIDEwMDAgcmVzdWx0cyBiZWluZyByZXR1cm5lZCBhdCBhIHRpbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIGxpbWl0IHRvLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgbGltaXQ6IGZ1bmN0aW9uIGxpbWl0KG4pIHtcbiAgICAgIHJlcXVpcmVzKG4sICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgbGltaXQgdmFsdWUnKTtcbiAgICAgIHRoaXMuX2xpbWl0ID0gbjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXkncyB2YWx1ZSB0b1xuICAgICAqIGJlIGVxdWFsIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHRoZSBBVi5PYmplY3QgbXVzdCBjb250YWluLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgZXF1YWxUbzogZnVuY3Rpb24gZXF1YWxUbyhrZXksIHZhbHVlKSB7XG4gICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICByZXF1aXJlcyh2YWx1ZSwgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCB2YWx1ZScpO1xuICAgICAgdGhpcy5fd2hlcmVba2V5XSA9IEFWLl9lbmNvZGUodmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmb3IgY29uZGl0aW9uIHF1ZXJpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRDb25kaXRpb246IGZ1bmN0aW9uIF9hZGRDb25kaXRpb24oa2V5LCBjb25kaXRpb24sIHZhbHVlKSB7XG4gICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgY29uZGl0aW9uIGtleScpO1xuICAgICAgcmVxdWlyZXMoY29uZGl0aW9uLCAndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGNvbmRpdGlvbicpO1xuICAgICAgcmVxdWlyZXModmFsdWUsICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgY29uZGl0aW9uIHZhbHVlJyk7IC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGNvbmRpdGlvblxuXG4gICAgICBpZiAoIXRoaXMuX3doZXJlW2tleV0pIHtcbiAgICAgICAgdGhpcy5fd2hlcmVba2V5XSA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLl93aGVyZVtrZXldW2NvbmRpdGlvbl0gPSBBVi5fZW5jb2RlKHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhclxuICAgICAqIDxzdHJvbmc+YXJyYXk8L3N0cm9uZz4ga2V5J3MgbGVuZ3RoIHRvIGJlIGVxdWFsIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBhcnJheSBrZXkgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBsZW5ndGggdmFsdWUuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBzaXplRXF1YWxUbzogZnVuY3Rpb24gc2l6ZUVxdWFsVG8oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRzaXplJywgdmFsdWUpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgKiBiZSBub3QgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgbXVzdCBub3QgYmUgZXF1YWxsZWQuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBub3RFcXVhbFRvOiBmdW5jdGlvbiBub3RFcXVhbFRvKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckbmUnLCB2YWx1ZSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXkncyB2YWx1ZSB0b1xuICAgICAqIGJlIGxlc3MgdGhhbiB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCBwcm92aWRlcyBhbiB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGxlc3NUaGFuOiBmdW5jdGlvbiBsZXNzVGhhbihrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGx0JywgdmFsdWUpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgKiBiZSBncmVhdGVyIHRoYW4gdGhlIHByb3ZpZGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgcHJvdmlkZXMgYW4gbG93ZXIgYm91bmQuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBncmVhdGVyVGhhbjogZnVuY3Rpb24gZ3JlYXRlclRoYW4oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRndCcsIHZhbHVlKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHF1ZXJ5IHRoYXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyIGtleSdzIHZhbHVlIHRvXG4gICAgICogYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHByb3ZpZGVzIGFuIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgbGVzc1RoYW5PckVxdWFsVG86IGZ1bmN0aW9uIGxlc3NUaGFuT3JFcXVhbFRvKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckbHRlJywgdmFsdWUpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgKiBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgcHJvdmlkZXMgYW4gbG93ZXIgYm91bmQuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBncmVhdGVyVGhhbk9yRXF1YWxUbzogZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsVG8oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRndGUnLCB2YWx1ZSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXkncyB2YWx1ZSB0b1xuICAgICAqIGJlIGNvbnRhaW5lZCBpbiB0aGUgcHJvdmlkZWQgbGlzdCBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRoYXQgd2lsbCBtYXRjaC5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGNvbnRhaW5lZEluOiBmdW5jdGlvbiBjb250YWluZWRJbihrZXksIHZhbHVlcykge1xuICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRpbicsIHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXkncyB2YWx1ZSB0b1xuICAgICAqIG5vdCBiZSBjb250YWluZWQgaW4gdGhlIHByb3ZpZGVkIGxpc3Qgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0aGF0IHdpbGwgbm90IG1hdGNoLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgbm90Q29udGFpbmVkSW46IGZ1bmN0aW9uIG5vdENvbnRhaW5lZEluKGtleSwgdmFsdWVzKSB7XG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJG5pbicsIHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXkncyB2YWx1ZSB0b1xuICAgICAqIGNvbnRhaW4gZWFjaCBvbmUgb2YgdGhlIHByb3ZpZGVkIGxpc3Qgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay4gIFRoaXMga2V5J3MgdmFsdWUgbXVzdCBiZSBhbiBhcnJheS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0aGF0IHdpbGwgbWF0Y2guXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBjb250YWluc0FsbDogZnVuY3Rpb24gY29udGFpbnNBbGwoa2V5LCB2YWx1ZXMpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckYWxsJywgdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgb2JqZWN0cyB0aGF0IGNvbnRhaW4gdGhlIGdpdmVuIGtleS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCBzaG91bGQgZXhpc3QuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBleGlzdHM6IGZ1bmN0aW9uIGV4aXN0cyhrZXkpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckZXhpc3RzJywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IGZvciBmaW5kaW5nIG9iamVjdHMgdGhhdCBkbyBub3QgY29udGFpbiBhIGdpdmVuIGtleS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCBzaG91bGQgbm90IGV4aXN0XG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBkb2VzTm90RXhpc3Q6IGZ1bmN0aW9uIGRvZXNOb3RFeGlzdChrZXkpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckZXhpc3RzJywgZmFsc2UpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgcmVndWxhciBleHByZXNzaW9uIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgc3RyaW5nIHZhbHVlcyB0aGF0IG1hdGNoXG4gICAgICogdGhlIHByb3ZpZGVkIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICAgKiBUaGlzIG1heSBiZSBzbG93IGZvciBsYXJnZSBkYXRhc2V0cy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgc3RyaW5nIHRvIG1hdGNoIGlzIHN0b3JlZCBpbi5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gcmVnZXggVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgbWF0Y2hlczogZnVuY3Rpb24gbWF0Y2hlcyhrZXksIHJlZ2V4LCBtb2RpZmllcnMpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckcmVnZXgnLCByZWdleCk7XG5cbiAgICAgIGlmICghbW9kaWZpZXJzKSB7XG4gICAgICAgIG1vZGlmaWVycyA9ICcnO1xuICAgICAgfSAvLyBKYXZhc2NyaXB0IHJlZ2V4IG9wdGlvbnMgc3VwcG9ydCBtaWcgYXMgaW5saW5lIG9wdGlvbnMgYnV0IHN0b3JlIHRoZW1cbiAgICAgIC8vIGFzIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdC4gV2Ugc3VwcG9ydCBtaSAmIHNob3VsZCBtaWdyYXRlIHRoZW0gdG9cbiAgICAgIC8vIG1vZGlmaWVyc1xuXG5cbiAgICAgIGlmIChyZWdleC5pZ25vcmVDYXNlKSB7XG4gICAgICAgIG1vZGlmaWVycyArPSAnaSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWdleC5tdWx0aWxpbmUpIHtcbiAgICAgICAgbW9kaWZpZXJzICs9ICdtJztcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZGlmaWVycyAmJiBtb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckb3B0aW9ucycsIG1vZGlmaWVycyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRoYXQgcmVxdWlyZXMgdGhhdCBhIGtleSdzIHZhbHVlIG1hdGNoZXMgYSBBVi5RdWVyeVxuICAgICAqIGNvbnN0cmFpbnQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRoYXQgdGhlIGNvbnRhaW5zIHRoZSBvYmplY3QgdG8gbWF0Y2ggdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FWLlF1ZXJ5fSBxdWVyeSBUaGUgcXVlcnkgdGhhdCBzaG91bGQgbWF0Y2guXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBtYXRjaGVzUXVlcnk6IGZ1bmN0aW9uIG1hdGNoZXNRdWVyeShrZXksIHF1ZXJ5KSB7XG4gICAgICB2YXIgcXVlcnlKU09OID0gcXVlcnkuX2dldFBhcmFtcygpO1xuXG4gICAgICBxdWVyeUpTT04uY2xhc3NOYW1lID0gcXVlcnkuY2xhc3NOYW1lO1xuXG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGluUXVlcnknLCBxdWVyeUpTT04pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY29uc3RyYWludCB0aGF0IHJlcXVpcmVzIHRoYXQgYSBrZXkncyB2YWx1ZSBub3QgbWF0Y2hlcyBhXG4gICAgICogQVYuUXVlcnkgY29uc3RyYWludC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgY29udGFpbnMgdGhlIG9iamVjdCB0byBtYXRjaCB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QVYuUXVlcnl9IHF1ZXJ5IFRoZSBxdWVyeSB0aGF0IHNob3VsZCBub3QgbWF0Y2guXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBkb2VzTm90TWF0Y2hRdWVyeTogZnVuY3Rpb24gZG9lc05vdE1hdGNoUXVlcnkoa2V5LCBxdWVyeSkge1xuICAgICAgdmFyIHF1ZXJ5SlNPTiA9IHF1ZXJ5Ll9nZXRQYXJhbXMoKTtcblxuICAgICAgcXVlcnlKU09OLmNsYXNzTmFtZSA9IHF1ZXJ5LmNsYXNzTmFtZTtcblxuICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRub3RJblF1ZXJ5JywgcXVlcnlKU09OKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdGhhdCByZXF1aXJlcyB0aGF0IGEga2V5J3MgdmFsdWUgbWF0Y2hlcyBhIHZhbHVlIGluXG4gICAgICogYW4gb2JqZWN0IHJldHVybmVkIGJ5IGEgZGlmZmVyZW50IEFWLlF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSB0aGF0IGlzIGJlaW5nXG4gICAgICogICAgICAgICAgICAgICAgICAgICBtYXRjaGVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBxdWVyeUtleSBUaGUga2V5IGluIHRoZSBvYmplY3RzIHJldHVybmVkIGJ5IHRoZSBxdWVyeSB0b1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSB7QVYuUXVlcnl9IHF1ZXJ5IFRoZSBxdWVyeSB0byBydW4uXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBtYXRjaGVzS2V5SW5RdWVyeTogZnVuY3Rpb24gbWF0Y2hlc0tleUluUXVlcnkoa2V5LCBxdWVyeUtleSwgcXVlcnkpIHtcbiAgICAgIHZhciBxdWVyeUpTT04gPSBxdWVyeS5fZ2V0UGFyYW1zKCk7XG5cbiAgICAgIHF1ZXJ5SlNPTi5jbGFzc05hbWUgPSBxdWVyeS5jbGFzc05hbWU7XG5cbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckc2VsZWN0Jywge1xuICAgICAgICBrZXk6IHF1ZXJ5S2V5LFxuICAgICAgICBxdWVyeTogcXVlcnlKU09OXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdGhhdCByZXF1aXJlcyB0aGF0IGEga2V5J3MgdmFsdWUgbm90IG1hdGNoIGEgdmFsdWUgaW5cbiAgICAgKiBhbiBvYmplY3QgcmV0dXJuZWQgYnkgYSBkaWZmZXJlbnQgQVYuUXVlcnkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRoYXQgY29udGFpbnMgdGhlIHZhbHVlIHRoYXQgaXMgYmVpbmdcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBxdWVyeUtleSBUaGUga2V5IGluIHRoZSBvYmplY3RzIHJldHVybmVkIGJ5IHRoZSBxdWVyeSB0b1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSB7QVYuUXVlcnl9IHF1ZXJ5IFRoZSBxdWVyeSB0byBydW4uXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBkb2VzTm90TWF0Y2hLZXlJblF1ZXJ5OiBmdW5jdGlvbiBkb2VzTm90TWF0Y2hLZXlJblF1ZXJ5KGtleSwgcXVlcnlLZXksIHF1ZXJ5KSB7XG4gICAgICB2YXIgcXVlcnlKU09OID0gcXVlcnkuX2dldFBhcmFtcygpO1xuXG4gICAgICBxdWVyeUpTT04uY2xhc3NOYW1lID0gcXVlcnkuY2xhc3NOYW1lO1xuXG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGRvbnRTZWxlY3QnLCB7XG4gICAgICAgIGtleTogcXVlcnlLZXksXG4gICAgICAgIHF1ZXJ5OiBxdWVyeUpTT05cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGNvbnN0cmFpbnQgdGhhdCBhdCBsZWFzdCBvbmUgb2YgdGhlIHBhc3NlZCBpbiBxdWVyaWVzIG1hdGNoZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcXVlcmllc1xuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb3JRdWVyeTogZnVuY3Rpb24gX29yUXVlcnkocXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5SlNPTiA9ICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgcXVlcmllcywgZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgcmV0dXJuIHEuX2dldFBhcmFtcygpLndoZXJlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl93aGVyZS4kb3IgPSBxdWVyeUpTT047XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGNvbnN0cmFpbnQgdGhhdCBib3RoIG9mIHRoZSBwYXNzZWQgaW4gcXVlcmllcyBtYXRjaGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHF1ZXJpZXNcbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FuZFF1ZXJ5OiBmdW5jdGlvbiBfYW5kUXVlcnkocXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5SlNPTiA9ICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgcXVlcmllcywgZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgcmV0dXJuIHEuX2dldFBhcmFtcygpLndoZXJlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl93aGVyZS4kYW5kID0gcXVlcnlKU09OO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgc3RyaW5nIGludG8gYSByZWdleCB0aGF0IG1hdGNoZXMgaXQuXG4gICAgICogU3Vycm91bmRpbmcgd2l0aCBcXFEgLi4gXFxFIGRvZXMgdGhpcywgd2UganVzdCBuZWVkIHRvIGVzY2FwZSBcXEUncyBpblxuICAgICAqIHRoZSB0ZXh0IHNlcGFyYXRlbHkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcXVvdGU6IGZ1bmN0aW9uIF9xdW90ZShzKSB7XG4gICAgICByZXR1cm4gJ1xcXFxRJyArIHMucmVwbGFjZSgnXFxcXEUnLCAnXFxcXEVcXFxcXFxcXEVcXFxcUScpICsgJ1xcXFxFJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY29uc3RyYWludCBmb3IgZmluZGluZyBzdHJpbmcgdmFsdWVzIHRoYXQgY29udGFpbiBhIHByb3ZpZGVkXG4gICAgICogc3RyaW5nLiAgVGhpcyBtYXkgYmUgc2xvdyBmb3IgbGFyZ2UgZGF0YXNldHMuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRoYXQgdGhlIHN0cmluZyB0byBtYXRjaCBpcyBzdG9yZWQgaW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1YnN0cmluZyBUaGUgc3Vic3RyaW5nIHRoYXQgdGhlIHZhbHVlIG11c3QgY29udGFpbi5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyhrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJHJlZ2V4JywgdGhpcy5fcXVvdGUodmFsdWUpKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgc3RyaW5nIHZhbHVlcyB0aGF0IHN0YXJ0IHdpdGggYSBwcm92aWRlZFxuICAgICAqIHN0cmluZy4gIFRoaXMgcXVlcnkgd2lsbCB1c2UgdGhlIGJhY2tlbmQgaW5kZXgsIHNvIGl0IHdpbGwgYmUgZmFzdCBldmVuXG4gICAgICogZm9yIGxhcmdlIGRhdGFzZXRzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBzdHJpbmcgdG8gbWF0Y2ggaXMgc3RvcmVkIGluLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcmVmaXggVGhlIHN1YnN0cmluZyB0aGF0IHRoZSB2YWx1ZSBtdXN0IHN0YXJ0IHdpdGguXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBzdGFydHNXaXRoOiBmdW5jdGlvbiBzdGFydHNXaXRoKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckcmVnZXgnLCAnXicgKyB0aGlzLl9xdW90ZSh2YWx1ZSkpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY29uc3RyYWludCBmb3IgZmluZGluZyBzdHJpbmcgdmFsdWVzIHRoYXQgZW5kIHdpdGggYSBwcm92aWRlZFxuICAgICAqIHN0cmluZy4gIFRoaXMgd2lsbCBiZSBzbG93IGZvciBsYXJnZSBkYXRhc2V0cy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgc3RyaW5nIHRvIG1hdGNoIGlzIHN0b3JlZCBpbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4IFRoZSBzdWJzdHJpbmcgdGhhdCB0aGUgdmFsdWUgbXVzdCBlbmQgd2l0aC5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGVuZHNXaXRoOiBmdW5jdGlvbiBlbmRzV2l0aChrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJHJlZ2V4JywgdGhpcy5fcXVvdGUodmFsdWUpICsgJyQnKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNvcnRzIHRoZSByZXN1bHRzIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgYXNjZW5kaW5nOiBmdW5jdGlvbiBhc2NlbmRpbmcoa2V5KSB7XG4gICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICB0aGlzLl9vcmRlciA9IGtleTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBbHNvIHNvcnRzIHRoZSByZXN1bHRzIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LiBUaGUgcHJldmlvdXMgc29ydCBrZXlzIGhhdmVcbiAgICAgKiBwcmVjZWRlbmNlIG92ZXIgdGhpcyBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gb3JkZXIgYnlcbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnkgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgYWRkQXNjZW5kaW5nOiBmdW5jdGlvbiBhZGRBc2NlbmRpbmcoa2V5KSB7XG4gICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICBpZiAodGhpcy5fb3JkZXIpIHRoaXMuX29yZGVyICs9ICcsJyArIGtleTtlbHNlIHRoaXMuX29yZGVyID0ga2V5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNvcnRzIHRoZSByZXN1bHRzIGluIGRlc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBvcmRlciBieS5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGRlc2NlbmRpbmc6IGZ1bmN0aW9uIGRlc2NlbmRpbmcoa2V5KSB7XG4gICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICB0aGlzLl9vcmRlciA9ICctJyArIGtleTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBbHNvIHNvcnRzIHRoZSByZXN1bHRzIGluIGRlc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS4gVGhlIHByZXZpb3VzIHNvcnQga2V5cyBoYXZlXG4gICAgICogcHJlY2VkZW5jZSBvdmVyIHRoaXMga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5XG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5IHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGFkZERlc2NlbmRpbmc6IGZ1bmN0aW9uIGFkZERlc2NlbmRpbmcoa2V5KSB7XG4gICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICBpZiAodGhpcy5fb3JkZXIpIHRoaXMuX29yZGVyICs9ICcsLScgKyBrZXk7ZWxzZSB0aGlzLl9vcmRlciA9ICctJyArIGtleTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwcm94aW1pdHkgYmFzZWQgY29uc3RyYWludCBmb3IgZmluZGluZyBvYmplY3RzIHdpdGgga2V5IHBvaW50XG4gICAgICogdmFsdWVzIG5lYXIgdGhlIHBvaW50IGdpdmVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBBVi5HZW9Qb2ludCBpcyBzdG9yZWQgaW4uXG4gICAgICogQHBhcmFtIHtBVi5HZW9Qb2ludH0gcG9pbnQgVGhlIHJlZmVyZW5jZSBBVi5HZW9Qb2ludCB0aGF0IGlzIHVzZWQuXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBuZWFyOiBmdW5jdGlvbiBuZWFyKGtleSwgcG9pbnQpIHtcbiAgICAgIGlmICghKHBvaW50IGluc3RhbmNlb2YgQVYuR2VvUG9pbnQpKSB7XG4gICAgICAgIC8vIFRyeSB0byBjYXN0IGl0IHRvIGEgR2VvUG9pbnQsIHNvIHRoYXQgbmVhcihcImxvY1wiLCBbMjAsMzBdKSB3b3Jrcy5cbiAgICAgICAgcG9pbnQgPSBuZXcgQVYuR2VvUG9pbnQocG9pbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJG5lYXJTcGhlcmUnLCBwb2ludCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwcm94aW1pdHkgYmFzZWQgY29uc3RyYWludCBmb3IgZmluZGluZyBvYmplY3RzIHdpdGgga2V5IHBvaW50XG4gICAgICogdmFsdWVzIG5lYXIgdGhlIHBvaW50IGdpdmVuIGFuZCB3aXRoaW4gdGhlIG1heGltdW0gZGlzdGFuY2UgZ2l2ZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRoYXQgdGhlIEFWLkdlb1BvaW50IGlzIHN0b3JlZCBpbi5cbiAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBwb2ludCBUaGUgcmVmZXJlbmNlIEFWLkdlb1BvaW50IHRoYXQgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0gbWF4RGlzdGFuY2UgTWF4aW11bSBkaXN0YW5jZSAoaW4gcmFkaWFucykgb2YgcmVzdWx0cyB0byByZXR1cm4uXG4gICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICB3aXRoaW5SYWRpYW5zOiBmdW5jdGlvbiB3aXRoaW5SYWRpYW5zKGtleSwgcG9pbnQsIGRpc3RhbmNlKSB7XG4gICAgICB0aGlzLm5lYXIoa2V5LCBwb2ludCk7XG5cbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckbWF4RGlzdGFuY2UnLCBkaXN0YW5jZSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwcm94aW1pdHkgYmFzZWQgY29uc3RyYWludCBmb3IgZmluZGluZyBvYmplY3RzIHdpdGgga2V5IHBvaW50XG4gICAgICogdmFsdWVzIG5lYXIgdGhlIHBvaW50IGdpdmVuIGFuZCB3aXRoaW4gdGhlIG1heGltdW0gZGlzdGFuY2UgZ2l2ZW4uXG4gICAgICogUmFkaXVzIG9mIGVhcnRoIHVzZWQgaXMgMzk1OC44IG1pbGVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBBVi5HZW9Qb2ludCBpcyBzdG9yZWQgaW4uXG4gICAgICogQHBhcmFtIHtBVi5HZW9Qb2ludH0gcG9pbnQgVGhlIHJlZmVyZW5jZSBBVi5HZW9Qb2ludCB0aGF0IGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERpc3RhbmNlIE1heGltdW0gZGlzdGFuY2UgKGluIG1pbGVzKSBvZiByZXN1bHRzIHRvXG4gICAgICogICAgIHJldHVybi5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIHdpdGhpbk1pbGVzOiBmdW5jdGlvbiB3aXRoaW5NaWxlcyhrZXksIHBvaW50LCBkaXN0YW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMud2l0aGluUmFkaWFucyhrZXksIHBvaW50LCBkaXN0YW5jZSAvIDM5NTguOCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHByb3hpbWl0eSBiYXNlZCBjb25zdHJhaW50IGZvciBmaW5kaW5nIG9iamVjdHMgd2l0aCBrZXkgcG9pbnRcbiAgICAgKiB2YWx1ZXMgbmVhciB0aGUgcG9pbnQgZ2l2ZW4gYW5kIHdpdGhpbiB0aGUgbWF4aW11bSBkaXN0YW5jZSBnaXZlbi5cbiAgICAgKiBSYWRpdXMgb2YgZWFydGggdXNlZCBpcyA2MzcxLjAga2lsb21ldGVycy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgQVYuR2VvUG9pbnQgaXMgc3RvcmVkIGluLlxuICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IHBvaW50IFRoZSByZWZlcmVuY2UgQVYuR2VvUG9pbnQgdGhhdCBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0YW5jZSBNYXhpbXVtIGRpc3RhbmNlIChpbiBraWxvbWV0ZXJzKSBvZiByZXN1bHRzXG4gICAgICogICAgIHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIHdpdGhpbktpbG9tZXRlcnM6IGZ1bmN0aW9uIHdpdGhpbktpbG9tZXRlcnMoa2V5LCBwb2ludCwgZGlzdGFuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLndpdGhpblJhZGlhbnMoa2V5LCBwb2ludCwgZGlzdGFuY2UgLyA2MzcxLjApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXknc1xuICAgICAqIGNvb3JkaW5hdGVzIGJlIGNvbnRhaW5lZCB3aXRoaW4gYSBnaXZlbiByZWN0YW5ndWxhciBnZW9ncmFwaGljIGJvdW5kaW5nXG4gICAgICogYm94LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBiZSBjb25zdHJhaW5lZC5cbiAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBzb3V0aHdlc3RcbiAgICAgKiAgICAgVGhlIGxvd2VyLWxlZnQgaW5jbHVzaXZlIGNvcm5lciBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IG5vcnRoZWFzdFxuICAgICAqICAgICBUaGUgdXBwZXItcmlnaHQgaW5jbHVzaXZlIGNvcm5lciBvZiB0aGUgYm94LlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgd2l0aGluR2VvQm94OiBmdW5jdGlvbiB3aXRoaW5HZW9Cb3goa2V5LCBzb3V0aHdlc3QsIG5vcnRoZWFzdCkge1xuICAgICAgaWYgKCEoc291dGh3ZXN0IGluc3RhbmNlb2YgQVYuR2VvUG9pbnQpKSB7XG4gICAgICAgIHNvdXRod2VzdCA9IG5ldyBBVi5HZW9Qb2ludChzb3V0aHdlc3QpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIShub3J0aGVhc3QgaW5zdGFuY2VvZiBBVi5HZW9Qb2ludCkpIHtcbiAgICAgICAgbm9ydGhlYXN0ID0gbmV3IEFWLkdlb1BvaW50KG5vcnRoZWFzdCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckd2l0aGluJywge1xuICAgICAgICAkYm94OiBbc291dGh3ZXN0LCBub3J0aGVhc3RdXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluY2x1ZGUgbmVzdGVkIEFWLk9iamVjdHMgZm9yIHRoZSBwcm92aWRlZCBrZXkuICBZb3UgY2FuIHVzZSBkb3RcbiAgICAgKiBub3RhdGlvbiB0byBzcGVjaWZ5IHdoaWNoIGZpZWxkcyBpbiB0aGUgaW5jbHVkZWQgb2JqZWN0IGFyZSBhbHNvIGZldGNoLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGtleXMgVGhlIG5hbWUgb2YgdGhlIGtleSB0byBpbmNsdWRlLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgaW5jbHVkZTogZnVuY3Rpb24gaW5jbHVkZShrZXlzKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgcmVxdWlyZXMoa2V5cywgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBrZXknKTtcblxuICAgICAgXy5mb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0O1xuXG4gICAgICAgIF90aGlzNC5faW5jbHVkZSA9ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0ID0gX3RoaXM0Ll9pbmNsdWRlKS5jYWxsKF9jb250ZXh0LCBlbnN1cmVBcnJheShrZXlzKSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluY2x1ZGUgdGhlIEFDTC5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt2YWx1ZT10cnVlXSBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIEFDTFxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgaW5jbHVkZUFDTDogZnVuY3Rpb24gaW5jbHVkZUFDTCgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgICAgIHRoaXMuX2luY2x1ZGVBQ0wgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXN0cmljdCB0aGUgZmllbGRzIG9mIHRoZSByZXR1cm5lZCBBVi5PYmplY3RzIHRvIGluY2x1ZGUgb25seSB0aGVcbiAgICAgKiBwcm92aWRlZCBrZXlzLiAgSWYgdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHRoZW4gYWxsIG9mIHRoZSBrZXlzXG4gICAgICogc3BlY2lmaWVkIGluIGVhY2ggb2YgdGhlIGNhbGxzIHdpbGwgYmUgaW5jbHVkZWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0ga2V5cyBUaGUgbmFtZXMgb2YgdGhlIGtleXMgdG8gaW5jbHVkZS5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGtleXMpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICByZXF1aXJlcyhrZXlzLCAndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGtleScpO1xuXG4gICAgICBfLmZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICB2YXIgX2NvbnRleHQyO1xuXG4gICAgICAgIF90aGlzNS5fc2VsZWN0ID0gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQyID0gX3RoaXM1Ll9zZWxlY3QpLmNhbGwoX2NvbnRleHQyLCBlbnN1cmVBcnJheShrZXlzKSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWFjaCByZXN1bHQgb2YgYSBxdWVyeSwgY2FsbGluZyBhIGNhbGxiYWNrIGZvciBlYWNoIG9uZS4gSWZcbiAgICAgKiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHByb21pc2UsIHRoZSBpdGVyYXRpb24gd2lsbCBub3QgY29udGludWUgdW50aWxcbiAgICAgKiB0aGF0IHByb21pc2UgaGFzIGJlZW4gZnVsZmlsbGVkLiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHJlamVjdGVkXG4gICAgICogcHJvbWlzZSwgdGhlbiBpdGVyYXRpb24gd2lsbCBzdG9wIHdpdGggdGhhdCBlcnJvci4gVGhlIGl0ZW1zIGFyZVxuICAgICAqIHByb2Nlc3NlZCBpbiBhbiB1bnNwZWNpZmllZCBvcmRlci4gVGhlIHF1ZXJ5IG1heSBub3QgaGF2ZSBhbnkgc29ydCBvcmRlcixcbiAgICAgKiBhbmQgbWF5IG5vdCB1c2UgbGltaXQgb3Igc2tpcC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufSBDYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCByZXN1bHRcbiAgICAgKiAgICAgb2YgdGhlIHF1ZXJ5LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIG9uY2UgdGhlXG4gICAgICogICAgIGl0ZXJhdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGVhY2g6IGZ1bmN0aW9uIGVhY2goY2FsbGJhY2spIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgaWYgKHRoaXMuX29yZGVyIHx8IHRoaXMuX3NraXAgfHwgdGhpcy5fbGltaXQgPj0gMCkge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ0Nhbm5vdCBpdGVyYXRlIG9uIGEgcXVlcnkgd2l0aCBzb3J0LCBza2lwLCBvciBsaW1pdC4nKTtcbiAgICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVqZWN0KGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KHRoaXMub2JqZWN0Q2xhc3MpOyAvLyBXZSBjYW4gb3ZlcnJpZGUgdGhlIGJhdGNoIHNpemUgZnJvbSB0aGUgb3B0aW9ucy5cbiAgICAgIC8vIFRoaXMgaXMgdW5kb2N1bWVudGVkLCBidXQgdXNlZnVsIGZvciB0ZXN0aW5nLlxuXG4gICAgICBxdWVyeS5fbGltaXQgPSBvcHRpb25zLmJhdGNoU2l6ZSB8fCAxMDA7XG4gICAgICBxdWVyeS5fd2hlcmUgPSBfLmNsb25lKHRoaXMuX3doZXJlKTtcbiAgICAgIHF1ZXJ5Ll9pbmNsdWRlID0gXy5jbG9uZSh0aGlzLl9pbmNsdWRlKTtcbiAgICAgIHF1ZXJ5LmFzY2VuZGluZygnb2JqZWN0SWQnKTtcbiAgICAgIHZhciBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGNvbnRpbnVlV2hpbGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIWZpbmlzaGVkO1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKDAsIF9maW5kLmRlZmF1bHQpKHF1ZXJ5KS5jYWxsKHF1ZXJ5LCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrc0RvbmUgPSBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUoKTtcblxuICAgICAgICAgIF8uZWFjaChyZXN1bHRzLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjYWxsYmFja3NEb25lID0gY2FsbGJhY2tzRG9uZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBjYWxsYmFja3NEb25lLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID49IHF1ZXJ5Ll9saW1pdCkge1xuICAgICAgICAgICAgICBxdWVyeS5ncmVhdGVyVGhhbignb2JqZWN0SWQnLCByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV0uaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIGNoYW5nZXMgb2YgdGhpcyBxdWVyeS5cbiAgICAgKlxuICAgICAqIExpdmVRdWVyeSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGRlZmF1bHQgYnVuZGxlOiB7QGxpbmsgaHR0cHM6Ly91cmwubGVhbmFwcC5jbi9lbmFibGUtbGl2ZS1xdWVyeX0uXG4gICAgICpcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAcmV0dXJuIHtBVi5MaXZlUXVlcnl9IEFuIGV2ZW50ZW1pdHRlciB3aGljaCBjYW4gYmUgdXNlZCB0byBnZXQgTGl2ZVF1ZXJ5IHVwZGF0ZXM7XG4gICAgICovXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob3B0aW9ucykge1xuICAgICAgcmV0dXJuIEFWLkxpdmVRdWVyeS5pbml0KHRoaXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG5cbiAgQVYuRnJpZW5kU2hpcFF1ZXJ5ID0gQVYuUXVlcnkuX2V4dGVuZCh7XG4gICAgX25ld09iamVjdDogZnVuY3Rpb24gX25ld09iamVjdCgpIHtcbiAgICAgIHZhciBVc2VyQ2xhc3MgPSBBVi5PYmplY3QuX2dldFN1YmNsYXNzKCdfVXNlcicpO1xuXG4gICAgICByZXR1cm4gbmV3IFVzZXJDbGFzcygpO1xuICAgIH0sXG4gICAgX3Byb2Nlc3NSZXN1bHQ6IGZ1bmN0aW9uIF9wcm9jZXNzUmVzdWx0KGpzb24pIHtcbiAgICAgIGlmIChqc29uICYmIGpzb25bdGhpcy5fZnJpZW5kc2hpcFRhZ10pIHtcbiAgICAgICAgdmFyIHVzZXIgPSBqc29uW3RoaXMuX2ZyaWVuZHNoaXBUYWddO1xuXG4gICAgICAgIGlmICh1c2VyLl9fdHlwZSA9PT0gJ1BvaW50ZXInICYmIHVzZXIuY2xhc3NOYW1lID09PSAnX1VzZXInKSB7XG4gICAgICAgICAgZGVsZXRlIHVzZXIuX190eXBlO1xuICAgICAgICAgIGRlbGV0ZSB1c2VyLmNsYXNzTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNTM0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg1MykpO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyMyk7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLFxuICAgIGluaGVyaXRzID0gX3JlcXVpcmUuaW5oZXJpdHM7XG5cbnZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSxcbiAgICByZXF1ZXN0ID0gX3JlcXVpcmUyLnJlcXVlc3Q7XG5cbnZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUocXVlcnlKU09OLCBzdWJzY3JpcHRpb25JZCkge1xuICByZXR1cm4gcmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgcGF0aDogJy9MaXZlUXVlcnkvc3Vic2NyaWJlJyxcbiAgICBkYXRhOiB7XG4gICAgICBxdWVyeTogcXVlcnlKU09OLFxuICAgICAgaWQ6IHN1YnNjcmlwdGlvbklkXG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIHZhciByZXF1aXJlUmVhbHRpbWUgPSBmdW5jdGlvbiByZXF1aXJlUmVhbHRpbWUoKSB7XG4gICAgaWYgKCFBVi5fY29uZmlnLnJlYWx0aW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpdmVRdWVyeSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHRoZSBMaXZlUXVlcnkgYnVuZGxlLiBodHRwczovL3VybC5sZWFuYXBwLmNuL2VuYWJsZS1saXZlLXF1ZXJ5Jyk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEEgTGl2ZVF1ZXJ5LCBjcmVhdGVkIGJ5IHtAbGluayBBVi5RdWVyeSNzdWJzY3JpYmV9IGlzIGFuIEV2ZW50RW1pdHRlciBub3RpZmllcyBjaGFuZ2VzIG9mIHRoZSBRdWVyeS5cbiAgICogQHNpbmNlIDMuMC4wXG4gICAqL1xuXG5cbiAgQVYuTGl2ZVF1ZXJ5ID0gaW5oZXJpdHMoRXZlbnRFbWl0dGVyLFxuICAvKiogQGxlbmRzIEFWLkxpdmVRdWVyeS5wcm90b3R5cGUgKi9cbiAge1xuICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBjb25zdHJ1Y3RvcihpZCwgY2xpZW50LCBxdWVyeUpTT04sIHN1YnNjcmlwdGlvbklkKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBFdmVudEVtaXR0ZXIuYXBwbHkodGhpcyk7XG4gICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG5cbiAgICAgIHRoaXMuX2NsaWVudC5yZWdpc3Rlcih0aGlzKTtcblxuICAgICAgdGhpcy5fcXVlcnlKU09OID0gcXVlcnlKU09OO1xuICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uSWQgPSBzdWJzY3JpcHRpb25JZDtcbiAgICAgIHRoaXMuX29uTWVzc2FnZSA9IHRoaXMuX2Rpc3BhdGNoLmJpbmQodGhpcyk7XG5cbiAgICAgIHRoaXMuX29uUmVjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzdWJzY3JpYmUoX3RoaXMuX3F1ZXJ5SlNPTiwgX3RoaXMuX3N1YnNjcmlwdGlvbklkKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihcIkxpdmVRdWVyeSByZXN1YnNjcmliZSBlcnJvcjogXCIuY29uY2F0KGVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjbGllbnQub24oJ21lc3NhZ2UnLCB0aGlzLl9vbk1lc3NhZ2UpO1xuICAgICAgY2xpZW50Lm9uKCdyZWNvbm5lY3QnLCB0aGlzLl9vblJlY29ubmVjdCk7XG4gICAgfSxcbiAgICBfZGlzcGF0Y2g6IGZ1bmN0aW9uIF9kaXNwYXRjaChtZXNzYWdlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgbWVzc2FnZS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBvcCA9IF9yZWYub3AsXG4gICAgICAgICAgICBvYmplY3QgPSBfcmVmLm9iamVjdCxcbiAgICAgICAgICAgIHF1ZXJ5SWQgPSBfcmVmLnF1ZXJ5X2lkLFxuICAgICAgICAgICAgdXBkYXRlZEtleXMgPSBfcmVmLnVwZGF0ZWRLZXlzO1xuICAgICAgICBpZiAocXVlcnlJZCAhPT0gX3RoaXMyLmlkKSByZXR1cm47XG4gICAgICAgIHZhciB0YXJnZXQgPSBBVi5wYXJzZUpTT04oXy5leHRlbmQoe1xuICAgICAgICAgIF9fdHlwZTogb2JqZWN0LmNsYXNzTmFtZSA9PT0gJ19GaWxlJyA/ICdGaWxlJyA6ICdPYmplY3QnXG4gICAgICAgIH0sIG9iamVjdCkpO1xuXG4gICAgICAgIGlmICh1cGRhdGVkS2V5cykge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFuIGV4aXN0aW5nIEFWLk9iamVjdCB3aGljaCBmdWxmaWxscyB0aGUgUXVlcnkgeW91IHN1YnNjcmliZSBpcyB1cGRhdGVkLlxuICAgICAgICAgICAqIEBldmVudCBBVi5MaXZlUXVlcnkjdXBkYXRlXG4gICAgICAgICAgICogQHBhcmFtIHtBVi5PYmplY3R8QVYuRmlsZX0gdGFyZ2V0IHVwZGF0ZWQgb2JqZWN0XG4gICAgICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0gdXBkYXRlZEtleXMgdXBkYXRlZCBrZXlzXG4gICAgICAgICAgICovXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBbiBleGlzdGluZyBBVi5PYmplY3Qgd2hpY2ggZG9lc24ndCBmdWxmaWxsIHRoZSBRdWVyeSBpcyB1cGRhdGVkIGFuZCBub3cgaXQgZnVsZmlsbHMgdGhlIFF1ZXJ5LlxuICAgICAgICAgICAqIEBldmVudCBBVi5MaXZlUXVlcnkjZW50ZXJcbiAgICAgICAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5GaWxlfSB0YXJnZXQgdXBkYXRlZCBvYmplY3RcbiAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSB1cGRhdGVkS2V5cyB1cGRhdGVkIGtleXNcbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFuIGV4aXN0aW5nIEFWLk9iamVjdCB3aGljaCBmdWxmaWxscyB0aGUgUXVlcnkgaXMgdXBkYXRlZCBhbmQgbm93IGl0IGRvZXNuJ3QgZnVsZmlsbCB0aGUgUXVlcnkuXG4gICAgICAgICAgICogQGV2ZW50IEFWLkxpdmVRdWVyeSNsZWF2ZVxuICAgICAgICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0fEFWLkZpbGV9IHRhcmdldCB1cGRhdGVkIG9iamVjdFxuICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHVwZGF0ZWRLZXlzIHVwZGF0ZWQga2V5c1xuICAgICAgICAgICAqL1xuICAgICAgICAgIF90aGlzMi5lbWl0KG9wLCB0YXJnZXQsIHVwZGF0ZWRLZXlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBIG5ldyBBVi5PYmplY3Qgd2hpY2ggZnVsZmlsbHMgdGhlIFF1ZXJ5IHlvdSBzdWJzY3JpYmUgaXMgY3JlYXRlZC5cbiAgICAgICAgICAgKiBAZXZlbnQgQVYuTGl2ZVF1ZXJ5I2NyZWF0ZVxuICAgICAgICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0fEFWLkZpbGV9IHRhcmdldCB1cGRhdGVkIG9iamVjdFxuICAgICAgICAgICAqL1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQW4gZXhpc3RpbmcgQVYuT2JqZWN0IHdoaWNoIGZ1bGZpbGxzIHRoZSBRdWVyeSB5b3Ugc3Vic2NyaWJlIGlzIGRlbGV0ZWQuXG4gICAgICAgICAgICogQGV2ZW50IEFWLkxpdmVRdWVyeSNkZWxldGVcbiAgICAgICAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5GaWxlfSB0YXJnZXQgdXBkYXRlZCBvYmplY3RcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBfdGhpczIuZW1pdChvcCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuc3Vic2NyaWJlIHRoZSBxdWVyeVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICB2YXIgY2xpZW50ID0gdGhpcy5fY2xpZW50O1xuICAgICAgY2xpZW50Lm9mZignbWVzc2FnZScsIHRoaXMuX29uTWVzc2FnZSk7XG4gICAgICBjbGllbnQub2ZmKCdyZWNvbm5lY3QnLCB0aGlzLl9vblJlY29ubmVjdCk7XG4gICAgICBjbGllbnQuZGVyZWdpc3Rlcih0aGlzKTtcbiAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6ICcvTGl2ZVF1ZXJ5L3Vuc3Vic2NyaWJlJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiBjbGllbnQuaWQsXG4gICAgICAgICAgcXVlcnlfaWQ6IHRoaXMuaWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvKiogQGxlbmRzIEFWLkxpdmVRdWVyeSAqL1xuICB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChxdWVyeSkge1xuICAgICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgICAgICBfcmVmMiRzdWJzY3JpcHRpb25JZCA9IF9yZWYyLnN1YnNjcmlwdGlvbklkLFxuICAgICAgICAgIHVzZXJEZWZpbmVkU3Vic2NyaXB0aW9uSWQgPSBfcmVmMiRzdWJzY3JpcHRpb25JZCA9PT0gdm9pZCAwID8gQVYuX2dldFN1YnNjcmlwdGlvbklkKCkgOiBfcmVmMiRzdWJzY3JpcHRpb25JZDtcblxuICAgICAgcmVxdWlyZVJlYWx0aW1lKCk7XG4gICAgICBpZiAoIShxdWVyeSBpbnN0YW5jZW9mIEFWLlF1ZXJ5KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignTGl2ZVF1ZXJ5IG11c3QgYmUgaW5pdGVkIHdpdGggYSBRdWVyeScpO1xuICAgICAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSh1c2VyRGVmaW5lZFN1YnNjcmlwdGlvbklkKS50aGVuKGZ1bmN0aW9uIChzdWJzY3JpcHRpb25JZCkge1xuICAgICAgICByZXR1cm4gQVYuX2NvbmZpZy5yZWFsdGltZS5jcmVhdGVMaXZlUXVlcnlDbGllbnQoc3Vic2NyaXB0aW9uSWQpLnRoZW4oZnVuY3Rpb24gKGxpdmVRdWVyeUNsaWVudCkge1xuICAgICAgICAgIHZhciBfcXVlcnkkX2dldFBhcmFtcyA9IHF1ZXJ5Ll9nZXRQYXJhbXMoKSxcbiAgICAgICAgICAgICAgd2hlcmUgPSBfcXVlcnkkX2dldFBhcmFtcy53aGVyZSxcbiAgICAgICAgICAgICAga2V5cyA9ICgwLCBfa2V5cy5kZWZhdWx0KShfcXVlcnkkX2dldFBhcmFtcyksXG4gICAgICAgICAgICAgIHJldHVybkFDTCA9IF9xdWVyeSRfZ2V0UGFyYW1zLnJldHVybkFDTDtcblxuICAgICAgICAgIHZhciBxdWVyeUpTT04gPSB7XG4gICAgICAgICAgICB3aGVyZTogd2hlcmUsXG4gICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgcmV0dXJuQUNMOiByZXR1cm5BQ0wsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHF1ZXJ5LmNsYXNzTmFtZVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmUocXVlcnlKU09OLCBzdWJzY3JpcHRpb25JZCkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeUlkID0gX3JlZjMucXVlcnlfaWQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFWLkxpdmVRdWVyeShxdWVyeUlkLCBsaXZlUXVlcnlDbGllbnQsIHF1ZXJ5SlNPTiwgc3Vic2NyaXB0aW9uSWQpO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGl2ZVF1ZXJ5Q2xpZW50LmRlcmVnaXN0ZXIocHJvbWlzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGl2ZVF1ZXJ5Q2xpZW50LnJlZ2lzdGVyKHByb21pc2UpO1xuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgTGl2ZVF1ZXJ5IGNvbm5lY3Rpb24uIFRoaXMgaXMgdXNlZnVsIHRvIGRlYWN0aXZhdGUgdGhlIFNESyB3aGVuIHRoZSBhcHAgaXMgc3d0aWNoZWQgdG8gYmFja2dyb3VuZC5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgcmVxdWlyZVJlYWx0aW1lKCk7XG4gICAgICByZXR1cm4gQVYuX2NvbmZpZy5yZWFsdGltZS5wYXVzZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXN1bWUgdGhlIExpdmVRdWVyeSBjb25uZWN0aW9uLiBBbGwgc3Vic2NyaXB0aW9ucyB3aWxsIGJlIHJlc3RvcmVkIGFmdGVyIHJlY29ubmVjdGlvbi5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICByZXF1aXJlUmVhbHRpbWUoKTtcbiAgICAgIHJldHVybiBBVi5fY29uZmlnLnJlYWx0aW1lLnJlc3VtZSgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDUzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLFxuICAgIHRhcCA9IF9yZXF1aXJlLnRhcDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAZXhhbXBsZVxuICAgKiBBVi5DYXB0Y2hhLnJlcXVlc3QoKS50aGVuKGNhcHRjaGEgPT4ge1xuICAgKiAgIGNhcHRjaGEuYmluZCh7XG4gICAqICAgICB0ZXh0SW5wdXQ6ICdjb2RlJywgLy8gdGhlIGlkIGZvciB0ZXh0SW5wdXRcbiAgICogICAgIGltYWdlOiAnY2FwdGNoYScsXG4gICAqICAgICB2ZXJpZnlCdXR0b246ICd2ZXJpZnknLFxuICAgKiAgIH0sIHtcbiAgICogICAgIHN1Y2Nlc3M6ICh2YWxpZGF0ZUNvZGUpID0+IHt9LCAvLyBuZXh0IHN0ZXBcbiAgICogICAgIGVycm9yOiAoZXJyb3IpID0+IHt9LCAvLyBwcmVzZW50IGVycm9yLm1lc3NhZ2UgdG8gdXNlclxuICAgKiAgIH0pO1xuICAgKiB9KTtcbiAgICovXG4gIEFWLkNhcHRjaGEgPSBmdW5jdGlvbiBDYXB0Y2hhKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fYXV0aE9wdGlvbnMgPSBhdXRoT3B0aW9ucztcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgdXJsIG9mIHRoZSBjYXB0Y2hhXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICovXG5cbiAgICB0aGlzLnVybCA9IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBUaGUgY2FwdGNoYVRva2VuIG9mIHRoZSBjYXB0Y2hhLlxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqL1xuXG4gICAgdGhpcy5jYXB0Y2hhVG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogVGhlIHZhbGlkYXRlVG9rZW4gb2YgdGhlIGNhcHRjaGEuXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICovXG5cbiAgICB0aGlzLnZhbGlkYXRlVG9rZW4gPSB1bmRlZmluZWQ7XG4gIH07XG4gIC8qKlxuICAgKiBSZWZyZXNoIHRoZSBjYXB0Y2hhXG4gICAqIEByZXR1cm4ge1Byb21pc2UuPHN0cmluZz59IGEgbmV3IGNhcGNoYSB1cmxcbiAgICovXG5cblxuICBBVi5DYXB0Y2hhLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIEFWLkNsb3VkLl9yZXF1ZXN0Q2FwdGNoYSh0aGlzLl9vcHRpb25zLCB0aGlzLl9hdXRoT3B0aW9ucykudGhlbihmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGNhcHRjaGFUb2tlbiA9IF9yZWYuY2FwdGNoYVRva2VuLFxuICAgICAgICAgIHVybCA9IF9yZWYudXJsO1xuXG4gICAgICBfLmV4dGVuZChfdGhpcywge1xuICAgICAgICBjYXB0Y2hhVG9rZW46IGNhcHRjaGFUb2tlbixcbiAgICAgICAgdXJsOiB1cmxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdXJsO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogVmVyaWZ5IHRoZSBjYXB0Y2hhXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIFRoZSBjb2RlIGZyb20gdXNlciBpbnB1dFxuICAgKiBAcmV0dXJuIHtQcm9taXNlLjxzdHJpbmc+fSB2YWxpZGF0ZVRva2VuIGlmIHRoZSBjb2RlIGlzIHZhbGlkXG4gICAqL1xuXG5cbiAgQVYuQ2FwdGNoYS5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KGNvZGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiBBVi5DbG91ZC52ZXJpZnlDYXB0Y2hhKGNvZGUsIHRoaXMuY2FwdGNoYVRva2VuKS50aGVuKHRhcChmdW5jdGlvbiAodmFsaWRhdGVUb2tlbikge1xuICAgICAgcmV0dXJuIF90aGlzMi52YWxpZGF0ZVRva2VuID0gdmFsaWRhdGVUb2tlbjtcbiAgICB9KSk7XG4gIH07XG5cbiAgaWYgKHRydWUpIHtcbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjYXB0Y2hhIHRvIEhUTUxFbGVtZW50cy4gPGI+T05MWSBBVkFJTEFCTEUgaW4gYnJvd3NlcnM8L2I+LlxuICAgICAqIEBwYXJhbSBbZWxlbWVudHNdXG4gICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTElucHV0RWxlbWVudH0gW2VsZW1lbnRzLnRleHRJbnB1dF0gQW4gaW5wdXQgZWxlbWVudCB0eXBlZCB0ZXh0LCBvciB0aGUgaWQgZm9yIHRoZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR9IFtlbGVtZW50cy5pbWFnZV0gQW4gaW1hZ2UgZWxlbWVudCwgb3IgdGhlIGlkIGZvciB0aGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gW2VsZW1lbnRzLnZlcmlmeUJ1dHRvbl0gQSBidXR0b24gZWxlbWVudCwgb3IgdGhlIGlkIGZvciB0aGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gW2NhbGxiYWNrc11cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLnN1Y2Nlc3NdIFN1Y2Nlc3MgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIGNvZGUgaXMgdmVyaWZpZWQuIFRoZSBwYXJhbSBgdmFsaWRhdGVDb2RlYCBjYW4gYmUgdXNlZCBmb3IgZnVydGhlciBTTVMgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLmVycm9yXSBFcnJvciBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZywgZGV0YWlsZWQgaW4gcGFyYW0gYGVycm9yLm1lc3NhZ2VgLlxuICAgICAqL1xuICAgIEFWLkNhcHRjaGEucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kKF9yZWYyLCBfcmVmMykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciB0ZXh0SW5wdXQgPSBfcmVmMi50ZXh0SW5wdXQsXG4gICAgICAgICAgaW1hZ2UgPSBfcmVmMi5pbWFnZSxcbiAgICAgICAgICB2ZXJpZnlCdXR0b24gPSBfcmVmMi52ZXJpZnlCdXR0b247XG4gICAgICB2YXIgc3VjY2VzcyA9IF9yZWYzLnN1Y2Nlc3MsXG4gICAgICAgICAgZXJyb3IgPSBfcmVmMy5lcnJvcjtcblxuICAgICAgaWYgKHR5cGVvZiB0ZXh0SW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRleHRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRJbnB1dCk7XG4gICAgICAgIGlmICghdGV4dElucHV0KSB0aHJvdyBuZXcgRXJyb3IoXCJ0ZXh0SW5wdXQgd2l0aCBpZCBcIi5jb25jYXQodGV4dElucHV0LCBcIiBub3QgZm91bmRcIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGltYWdlKTtcbiAgICAgICAgaWYgKCFpbWFnZSkgdGhyb3cgbmV3IEVycm9yKFwiaW1hZ2Ugd2l0aCBpZCBcIi5jb25jYXQoaW1hZ2UsIFwiIG5vdCBmb3VuZFwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmVyaWZ5QnV0dG9uID09PSAnc3RyaW5nJykge1xuICAgICAgICB2ZXJpZnlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2ZXJpZnlCdXR0b24pO1xuICAgICAgICBpZiAoIXZlcmlmeUJ1dHRvbikgdGhyb3cgbmV3IEVycm9yKFwidmVyaWZ5QnV0dG9uIHdpdGggaWQgXCIuY29uY2F0KHZlcmlmeUJ1dHRvbiwgXCIgbm90IGZvdW5kXCIpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX3JlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMucmVmcmVzaCgpLnRoZW4oZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgIGltYWdlLnNyYyA9IHVybDtcblxuICAgICAgICAgIGlmICh0ZXh0SW5wdXQpIHtcbiAgICAgICAgICAgIHRleHRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgdGV4dElucHV0LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihcInJlZnJlc2ggY2FwdGNoYSBmYWlsOiBcIi5jb25jYXQoZXJyLm1lc3NhZ2UpKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5fX2ltYWdlID0gaW1hZ2U7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX19yZWZyZXNoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fX3ZlcmlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvZGUgPSB0ZXh0SW5wdXQudmFsdWU7XG5cbiAgICAgICAgX3RoaXMzLnZlcmlmeShjb2RlKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgX3RoaXMzLl9fcmVmcmVzaCgpO1xuXG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KS50aGVuKHN1Y2Nlc3MsIGVycm9yKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihcInZlcmlmeSBjYXB0Y2hhIGZhaWw6IFwiLmNvbmNhdChlcnIubWVzc2FnZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0ZXh0SW5wdXQgJiYgdmVyaWZ5QnV0dG9uKSB7XG4gICAgICAgIHRoaXMuX192ZXJpZnlCdXR0b24gPSB2ZXJpZnlCdXR0b247XG4gICAgICAgIHZlcmlmeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX192ZXJpZnkpO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBjYXB0Y2hhIGZyb20gSFRNTEVsZW1lbnRzLiA8Yj5PTkxZIEFWQUlMQUJMRSBpbiBicm93c2VyczwvYj4uXG4gICAgICovXG5cblxuICAgIEFWLkNhcHRjaGEucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCgpIHtcbiAgICAgIGlmICh0aGlzLl9faW1hZ2UpIHRoaXMuX19pbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX19yZWZyZXNoKTtcbiAgICAgIGlmICh0aGlzLl9fdmVyaWZ5QnV0dG9uKSB0aGlzLl9fdmVyaWZ5QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fX3ZlcmlmeSk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmVxdWVzdCBhIGNhcHRjaGFcbiAgICogQHBhcmFtIFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIHdpZHRoKHB4KSBvZiB0aGUgY2FwdGNoYSwgcmFuZ2VkIDYwLTIwMFxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBoZWlnaHQocHgpIG9mIHRoZSBjYXB0Y2hhLCByYW5nZWQgMzAtMTAwXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zaXplPTRdIGxlbmd0aCBvZiB0aGUgY2FwdGNoYSwgcmFuZ2VkIDMtNi4gTWFzdGVyS2V5IHJlcXVpcmVkLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudHRsPTYwXSB0aW1lIHRvIGxpdmUocyksIHJhbmdlZCAxMC0xODAuIE1hc3RlcktleSByZXF1aXJlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZS48QVYuQ2FwdGNoYT59XG4gICAqL1xuXG5cbiAgQVYuQ2FwdGNoYS5yZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgdmFyIGNhcHRjaGEgPSBuZXcgQVYuQ2FwdGNoYShvcHRpb25zLCBhdXRoT3B0aW9ucyk7XG4gICAgcmV0dXJuIGNhcHRjaGEucmVmcmVzaCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhcHRjaGE7XG4gICAgfSk7XG4gIH07XG59O1xuXG4vKioqLyB9KSxcbi8qIDUzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvbWlzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpLFxuICAgIF9yZXF1ZXN0ID0gX3JlcXVpcmUuX3JlcXVlc3QsXG4gICAgcmVxdWVzdCA9IF9yZXF1aXJlLnJlcXVlc3Q7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIC8qKlxuICAgKiBDb250YWlucyBmdW5jdGlvbnMgZm9yIGNhbGxpbmcgYW5kIGRlY2xhcmluZ1xuICAgKiA8cD48c3Ryb25nPjxlbT5cbiAgICogICBTb21lIGZ1bmN0aW9ucyBhcmUgb25seSBhdmFpbGFibGUgZnJvbSBDbG91ZCBDb2RlLlxuICAgKiA8L2VtPjwvc3Ryb25nPjwvcD5cbiAgICpcbiAgICogQG5hbWVzcGFjZVxuICAgKiBAYm9ycm93cyBBVi5DYXB0Y2hhLnJlcXVlc3QgYXMgcmVxdWVzdENhcHRjaGFcbiAgICovXG4gIEFWLkNsb3VkID0gQVYuQ2xvdWQgfHwge307XG5cbiAgXy5leHRlbmQoQVYuQ2xvdWQsXG4gIC8qKiBAbGVuZHMgQVYuQ2xvdWQgKi9cbiAge1xuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgY2FsbCB0byBhIGNsb3VkIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gVGhlIHBhcmFtZXRlcnMgdG8gc2VuZCB0byB0aGUgY2xvdWQgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRcbiAgICAgKiBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcnVuOiBmdW5jdGlvbiBydW4obmFtZSwgZGF0YSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICBzZXJ2aWNlOiAnZW5naW5lJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6IFwiL2Z1bmN0aW9ucy9cIi5jb25jYXQobmFtZSksXG4gICAgICAgIGRhdGE6IEFWLl9lbmNvZGUoZGF0YSwgbnVsbCwgdHJ1ZSksXG4gICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgIHJldHVybiBBVi5fZGVjb2RlKHJlc3ApLnJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIGNhbGwgdG8gYSBjbG91ZCBmdW5jdGlvbiwgeW91IGNhbiBzZW5kIHtBVi5PYmplY3R9IGFzIHBhcmFtIG9yIGEgZmllbGQgb2YgcGFyYW07IHRoZSByZXNwb25zZVxuICAgICAqIGZyb20gc2VydmVyIHdpbGwgYWxzbyBiZSBwYXJzZWQgYXMgYW4ge0FWLk9iamVjdH0sIGFycmF5IG9mIHtBVi5PYmplY3R9LCBvciBvYmplY3QgaW5jbHVkZXMge0FWLk9iamVjdH1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2RhdGFdIFRoZSBwYXJhbWV0ZXJzIHRvIHNlbmQgdG8gdGhlIGNsb3VkIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBycGM6IGZ1bmN0aW9uIHJwYyhuYW1lLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICBpZiAoXy5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlamVjdChuZXcgRXJyb3IoXCJDYW4ndCBwYXNzIEFycmF5IGFzIHRoZSBwYXJhbSBvZiBycGMgZnVuY3Rpb24gaW4gSmF2YVNjcmlwdCBTREsuXCIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICBzZXJ2aWNlOiAnZW5naW5lJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6IFwiL2NhbGwvXCIuY29uY2F0KG5hbWUpLFxuICAgICAgICBkYXRhOiBBVi5fZW5jb2RlT2JqZWN0T3JBcnJheShkYXRhKSxcbiAgICAgICAgYXV0aE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgcmV0dXJuIEFWLl9kZWNvZGUocmVzcCkucmVzdWx0O1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjYWxsIHRvIHJlcXVlc3Qgc2VydmVyIGRhdGUgdGltZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxEYXRlPn0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRcbiAgICAgKiBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICogQHNpbmNlIDAuNS45XG4gICAgICovXG4gICAgZ2V0U2VydmVyRGF0ZTogZnVuY3Rpb24gZ2V0U2VydmVyRGF0ZSgpIHtcbiAgICAgIHJldHVybiBfcmVxdWVzdCgnZGF0ZScsIG51bGwsIG51bGwsICdHRVQnKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgIHJldHVybiBBVi5fZGVjb2RlKHJlc3ApO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgY2FsbCB0byByZXF1ZXN0IGFuIHNtcyBjb2RlIGZvciBvcGVyYXRpb24gdmVyaWZpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZGF0YSBUaGUgbW9iaWxlIHBob25lIG51bWJlciBzdHJpbmcgb3IgYSBKU09OXG4gICAgICogICAgb2JqZWN0IHRoYXQgY29udGFpbnMgbW9iaWxlUGhvbmVOdW1iZXIsdGVtcGxhdGUsc2lnbixvcCx0dGwsbmFtZSBldGMuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEubW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGEudGVtcGxhdGVdIHNtcyB0ZW1wbGF0ZSBuYW1lXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtkYXRhLnNpZ25dIHNtcyBzaWduYXR1cmUgbmFtZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YS5zbXNUeXBlXSBzZW5kaW5nIGNvZGUgYnkgYHNtc2AgKGRlZmF1bHQpIG9yIGB2b2ljZWAgY2FsbFxuICAgICAqIEBwYXJhbSB7U01TQXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgaWYgdGhlIHJlcXVlc3Qgc3VjY2VlZFxuICAgICAqL1xuICAgIHJlcXVlc3RTbXNDb2RlOiBmdW5jdGlvbiByZXF1ZXN0U21zQ29kZShkYXRhKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIGlmIChfLmlzU3RyaW5nKGRhdGEpKSB7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgbW9iaWxlUGhvbmVOdW1iZXI6IGRhdGFcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkYXRhLm1vYmlsZVBob25lTnVtYmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBtb2JpbGVQaG9uZU51bWJlci4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudmFsaWRhdGVUb2tlbikge1xuICAgICAgICBkYXRhID0gXy5leHRlbmQoe30sIGRhdGEsIHtcbiAgICAgICAgICB2YWxpZGF0ZV90b2tlbjogb3B0aW9ucy52YWxpZGF0ZVRva2VuXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlcXVlc3QoJ3JlcXVlc3RTbXNDb2RlJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBjYWxsIHRvIHZlcmlmeSBzbXMgY29kZSB0aGF0IHNlbnQgYnkgQVYuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29kZSBUaGUgc21zIGNvZGUgc2VudCBieSBBVi5DbG91ZC5yZXF1ZXN0U21zQ29kZVxuICAgICAqIEBwYXJhbSB7cGhvbmV9IHBob25lIFRoZSBtb2JpbGUgcGhvbmVyIG51bWJlci5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAqIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2ZXJpZnlTbXNDb2RlOiBmdW5jdGlvbiB2ZXJpZnlTbXNDb2RlKGNvZGUsIHBob25lKSB7XG4gICAgICBpZiAoIWNvZGUpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBzbXMgY29kZS4nKTtcbiAgICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgICAgaWYgKF8uaXNTdHJpbmcocGhvbmUpKSB7XG4gICAgICAgIHBhcmFtc1snbW9iaWxlUGhvbmVOdW1iZXInXSA9IHBob25lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlcXVlc3QoJ3ZlcmlmeVNtc0NvZGUnLCBjb2RlLCBudWxsLCAnUE9TVCcsIHBhcmFtcyk7XG4gICAgfSxcbiAgICBfcmVxdWVzdENhcHRjaGE6IGZ1bmN0aW9uIF9yZXF1ZXN0Q2FwdGNoYShvcHRpb25zLCBhdXRoT3B0aW9ucykge1xuICAgICAgcmV0dXJuIF9yZXF1ZXN0KCdyZXF1ZXN0Q2FwdGNoYScsIG51bGwsIG51bGwsICdHRVQnLCBvcHRpb25zLCBhdXRoT3B0aW9ucykudGhlbihmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgdXJsID0gX3JlZi5jYXB0Y2hhX3VybCxcbiAgICAgICAgICAgIGNhcHRjaGFUb2tlbiA9IF9yZWYuY2FwdGNoYV90b2tlbjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjYXB0Y2hhVG9rZW46IGNhcHRjaGFUb2tlbixcbiAgICAgICAgICB1cmw6IHVybFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgYSBjYXB0Y2hhLlxuICAgICAqL1xuICAgIHJlcXVlc3RDYXB0Y2hhOiBBVi5DYXB0Y2hhLnJlcXVlc3QsXG5cbiAgICAvKipcbiAgICAgKiBWZXJpZnkgY2FwdGNoYSBjb2RlLiBUaGlzIGlzIHRoZSBsb3ctbGV2ZWwgQVBJIGZvciBjYXB0Y2hhLlxuICAgICAqIENoZWNrb3V0IHtAbGluayBBVi5DYXB0Y2hhfSBmb3IgaGlnaCBhYnN0cmFjdCBBUElzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIHRoZSBjb2RlIGZyb20gdXNlciBpbnB1dFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjYXB0Y2hhVG9rZW4gY2FwdGNoYVRva2VuIHJldHVybmVkIGJ5IHtAbGluayBBVi5DbG91ZC5yZXF1ZXN0Q2FwdGNoYX1cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxTdHJpbmc+fSB2YWxpZGF0ZVRva2VuIGlmIHRoZSBjb2RlIGlzIHZhbGlkXG4gICAgICovXG4gICAgdmVyaWZ5Q2FwdGNoYTogZnVuY3Rpb24gdmVyaWZ5Q2FwdGNoYShjb2RlLCBjYXB0Y2hhVG9rZW4pIHtcbiAgICAgIHJldHVybiBfcmVxdWVzdCgndmVyaWZ5Q2FwdGNoYScsIG51bGwsIG51bGwsICdQT1NUJywge1xuICAgICAgICBjYXB0Y2hhX2NvZGU6IGNvZGUsXG4gICAgICAgIGNhcHRjaGFfdG9rZW46IGNhcHRjaGFUb2tlblxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIHZhbGlkYXRlVG9rZW4gPSBfcmVmMi52YWxpZGF0ZV90b2tlbjtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlVG9rZW47XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG4vKiA1MzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHJlcXVlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KS5yZXF1ZXN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChBVikge1xuICBBVi5JbnN0YWxsYXRpb24gPSBBVi5PYmplY3QuZXh0ZW5kKCdfSW5zdGFsbGF0aW9uJyk7XG4gIC8qKlxuICAgKiBAbmFtZXNwYWNlXG4gICAqL1xuXG4gIEFWLlB1c2ggPSBBVi5QdXNoIHx8IHt9O1xuICAvKipcbiAgICogU2VuZHMgYSBwdXNoIG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgb2YgdGhlIHB1c2ggbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBbZGF0YS5jaGFubmVsc10gQW4gQXJyYXkgb2YgY2hhbm5lbHMgdG8gcHVzaCB0by5cbiAgICogQHBhcmFtIHtEYXRlfSBbZGF0YS5wdXNoX3RpbWVdIEEgRGF0ZSBvYmplY3QgZm9yIHdoZW4gdG8gc2VuZCB0aGUgcHVzaC5cbiAgICogQHBhcmFtIHtEYXRlfSBbZGF0YS5leHBpcmF0aW9uX3RpbWVdICBBIERhdGUgb2JqZWN0IGZvciB3aGVuIHRvIGV4cGlyZVxuICAgKiAgICAgICAgIHRoZSBwdXNoLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW2RhdGEuZXhwaXJhdGlvbl9pbnRlcnZhbF0gVGhlIHNlY29uZHMgZnJvbSBub3cgdG8gZXhwaXJlIHRoZSBwdXNoLlxuICAgKiBAcGFyYW0ge051bWJlcn0gW2RhdGEuZmxvd19jb250cm9sXSBUaGUgY2xpZW50cyB0byBub3RpZnkgcGVyIHNlY29uZFxuICAgKiBAcGFyYW0ge0FWLlF1ZXJ5fSBbZGF0YS53aGVyZV0gQW4gQVYuUXVlcnkgb3ZlciBBVi5JbnN0YWxsYXRpb24gdGhhdCBpcyB1c2VkIHRvIG1hdGNoXG4gICAqICAgICAgICAgYSBzZXQgb2YgaW5zdGFsbGF0aW9ucyB0byBwdXNoIHRvLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGEuY3FsXSBBIENRTCBzdGF0ZW1lbnQgb3ZlciBBVi5JbnN0YWxsYXRpb24gdGhhdCBpcyB1c2VkIHRvIG1hdGNoXG4gICAqICAgICAgICAgYSBzZXQgb2YgaW5zdGFsbGF0aW9ucyB0byBwdXNoIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YS5kYXRhIFRoZSBkYXRhIHRvIHNlbmQgYXMgcGFydCBvZiB0aGUgcHVzaC5cbiAgICAgICAgICAgICBNb3JlIGRldGFpbHM6ICBodHRwczovL3VybC5sZWFuYXBwLmNuL3B1c2hEYXRhXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cblxuICBBVi5QdXNoLnNlbmQgPSBmdW5jdGlvbiAoZGF0YSwgb3B0aW9ucykge1xuICAgIGlmIChkYXRhLndoZXJlKSB7XG4gICAgICBkYXRhLndoZXJlID0gZGF0YS53aGVyZS5fZ2V0UGFyYW1zKCkud2hlcmU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEud2hlcmUgJiYgZGF0YS5jcWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkJvdGggd2hlcmUgYW5kIGNxbCBjYW4ndCBiZSBzZXRcIik7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEucHVzaF90aW1lKSB7XG4gICAgICBkYXRhLnB1c2hfdGltZSA9IGRhdGEucHVzaF90aW1lLnRvSlNPTigpO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmV4cGlyYXRpb25fdGltZSkge1xuICAgICAgZGF0YS5leHBpcmF0aW9uX3RpbWUgPSBkYXRhLmV4cGlyYXRpb25fdGltZS50b0pTT04oKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5leHBpcmF0aW9uX3RpbWUgJiYgZGF0YS5leHBpcmF0aW9uX2ludGVydmFsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb3RoIGV4cGlyYXRpb25fdGltZSBhbmQgZXhwaXJhdGlvbl9pbnRlcnZhbCBjYW4ndCBiZSBzZXRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgc2VydmljZTogJ3B1c2gnLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXRoOiAnL3B1c2gnLFxuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zXG4gICAgfSk7XG4gIH07XG59O1xuXG4vKioqLyB9KSxcbi8qIDUzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvbWlzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO1xuXG52YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTQxKSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIEFWUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpLl9yZXF1ZXN0O1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxcbiAgICBnZXRTZXNzaW9uVG9rZW4gPSBfcmVxdWlyZS5nZXRTZXNzaW9uVG9rZW47XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIHZhciBnZXRVc2VyID0gZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIHNlc3Npb25Ub2tlbiA9IGdldFNlc3Npb25Ub2tlbihvcHRpb25zKTtcblxuICAgIGlmIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgIHJldHVybiBBVi5Vc2VyLl9mZXRjaFVzZXJCeVNlc3Npb25Ub2tlbihnZXRTZXNzaW9uVG9rZW4ob3B0aW9ucykpO1xuICAgIH1cblxuICAgIHJldHVybiBBVi5Vc2VyLmN1cnJlbnRBc3luYygpO1xuICB9O1xuXG4gIHZhciBnZXRVc2VyUG9pbnRlciA9IGZ1bmN0aW9uIGdldFVzZXJQb2ludGVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0VXNlcihvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChjdXJyVXNlcikge1xuICAgICAgcmV0dXJuIEFWLk9iamVjdC5jcmVhdGVXaXRob3V0RGF0YSgnX1VzZXInLCBjdXJyVXNlci5pZCkuX3RvUG9pbnRlcigpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogQ29udGFpbnMgZnVuY3Rpb25zIHRvIGRlYWwgd2l0aCBTdGF0dXMgaW4gTGVhbkNsb3VkLlxuICAgKiBAY2xhc3NcbiAgICovXG5cblxuICBBVi5TdGF0dXMgPSBmdW5jdGlvbiAoaW1hZ2VVcmwsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICB0aGlzLmluYm94VHlwZSA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnF1ZXJ5ID0gbnVsbDtcblxuICAgIGlmIChpbWFnZVVybCAmJiAoMCwgX3R5cGVvZjIuZGVmYXVsdCkoaW1hZ2VVcmwpID09PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy5kYXRhID0gaW1hZ2VVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbWFnZVVybCkge1xuICAgICAgICB0aGlzLmRhdGEuaW1hZ2UgPSBpbWFnZVVybDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5kYXRhLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF8uZXh0ZW5kKEFWLlN0YXR1cy5wcm90b3R5cGUsXG4gIC8qKiBAbGVuZHMgQVYuU3RhdHVzLnByb3RvdHlwZSAqL1xuICB7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlIGluIHN0YXR1cyBkYXRhLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBzdHJpbmcgbmFtZSBvZiBhbiBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoYXR0cikge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YVthdHRyXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIGhhc2ggb2YgbW9kZWwgYXR0cmlidXRlcyBvbiB0aGUgc3RhdHVzIGRhdGEuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIGdpdmUgaXQuXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgc3RhdHVzLHRoZW4gaXQgd2lsbCBub3QgYmUgYXZhaWFibGUgaW4gb3RoZXIgdXNlcidzIGluYm94ZXMuXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBkZXN0cm95XG4gICAgICogICAgIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5pZCkgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVqZWN0KG5ldyBFcnJvcignVGhlIHN0YXR1cyBpZCBpcyBub3QgZXhpc3RzLicpKTtcbiAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KCdzdGF0dXNlcycsIG51bGwsIHRoaXMuaWQsICdERUxFVEUnLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYXN0IHRoZSBBVi5TdGF0dXMgb2JqZWN0IHRvIGFuIEFWLk9iamVjdCBwb2ludGVyLlxuICAgICAqIEByZXR1cm4ge0FWLk9iamVjdH0gQSBBVi5PYmplY3QgcG9pbnRlci5cbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgICBpZiAoIXRoaXMuaWQpIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIEFWLk9iamVjdC5jcmVhdGVXaXRob3V0RGF0YSgnX1N0YXR1cycsIHRoaXMuaWQpO1xuICAgIH0sXG4gICAgX2dldERhdGFKU09OOiBmdW5jdGlvbiBfZ2V0RGF0YUpTT04oKSB7XG4gICAgICB2YXIganNvbiA9IF8uY2xvbmUodGhpcy5kYXRhKTtcblxuICAgICAgcmV0dXJuIEFWLl9lbmNvZGUoanNvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBzdGF0dXMgYnkgYSBBVi5RdWVyeSBvYmplY3QuXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBzZW5kXG4gICAgICogICAgIGNvbXBsZXRlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgICAvLyBzZW5kIGEgc3RhdHVzIHRvIG1hbGUgdXNlcnNcbiAgICAgKiAgICAgdmFyIHN0YXR1cyA9IG5ldyBBVlN0YXR1cygnaW1hZ2UgdXJsJywgJ2EgbWVzc2FnZScpO1xuICAgICAqICAgICBzdGF0dXMucXVlcnkgPSBuZXcgQVYuUXVlcnkoJ19Vc2VyJyk7XG4gICAgICogICAgIHN0YXR1cy5xdWVyeS5lcXVhbFRvKCdnZW5kZXInLCAnbWFsZScpO1xuICAgICAqICAgICBzdGF0dXMuc2VuZCgpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgKiAgICAgICAgICAgICAgLy9zZW5kIHN0YXR1cyBzdWNjZXNzZnVsbHkuXG4gICAgICogICAgICB9LCBmdW5jdGlvbihlcnIpe1xuICAgICAqICAgICAgICAgICAgIC8vYW4gZXJyb3IgdGhyZXcuXG4gICAgICogICAgICAgICAgICAgY29uc29sZS5kaXIoZXJyKTtcbiAgICAgKiAgICAgIH0pO1xuICAgICAqL1xuICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgIGlmICghZ2V0U2Vzc2lvblRva2VuKG9wdGlvbnMpICYmICFBVi5Vc2VyLmN1cnJlbnQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlci4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBBVi5TdGF0dXMuc2VuZFN0YXR1c1RvRm9sbG93ZXJzKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0VXNlclBvaW50ZXIob3B0aW9ucykudGhlbihmdW5jdGlvbiAoY3VyclVzZXIpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gX3RoaXMucXVlcnkuX2dldFBhcmFtcygpO1xuXG4gICAgICAgIHF1ZXJ5LmNsYXNzTmFtZSA9IF90aGlzLnF1ZXJ5LmNsYXNzTmFtZTtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICBfdGhpcy5kYXRhID0gX3RoaXMuZGF0YSB8fCB7fTtcbiAgICAgICAgX3RoaXMuZGF0YS5zb3VyY2UgPSBfdGhpcy5kYXRhLnNvdXJjZSB8fCBjdXJyVXNlcjtcbiAgICAgICAgZGF0YS5kYXRhID0gX3RoaXMuX2dldERhdGFKU09OKCk7XG4gICAgICAgIGRhdGEuaW5ib3hUeXBlID0gX3RoaXMuaW5ib3hUeXBlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgcmV0dXJuIEFWUmVxdWVzdCgnc3RhdHVzZXMnLCBudWxsLCBudWxsLCAnUE9TVCcsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgX3RoaXMuaWQgPSByZXNwb25zZS5vYmplY3RJZDtcbiAgICAgICAgX3RoaXMuY3JlYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShyZXNwb25zZS5jcmVhdGVkQXQpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIF9maW5pc2hGZXRjaDogZnVuY3Rpb24gX2ZpbmlzaEZldGNoKHNlcnZlckRhdGEpIHtcbiAgICAgIHRoaXMuaWQgPSBzZXJ2ZXJEYXRhLm9iamVjdElkO1xuICAgICAgdGhpcy5jcmVhdGVkQXQgPSBBVi5fcGFyc2VEYXRlKHNlcnZlckRhdGEuY3JlYXRlZEF0KTtcbiAgICAgIHRoaXMudXBkYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShzZXJ2ZXJEYXRhLnVwZGF0ZWRBdCk7XG4gICAgICB0aGlzLm1lc3NhZ2VJZCA9IHNlcnZlckRhdGEubWVzc2FnZUlkO1xuICAgICAgZGVsZXRlIHNlcnZlckRhdGEubWVzc2FnZUlkO1xuICAgICAgZGVsZXRlIHNlcnZlckRhdGEub2JqZWN0SWQ7XG4gICAgICBkZWxldGUgc2VydmVyRGF0YS5jcmVhdGVkQXQ7XG4gICAgICBkZWxldGUgc2VydmVyRGF0YS51cGRhdGVkQXQ7XG4gICAgICB0aGlzLmRhdGEgPSBBVi5fZGVjb2RlKHNlcnZlckRhdGEpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBTZW5kIGEgc3RhdHVzIHRvIGN1cnJlbnQgc2lnbmluZWQgdXNlcidzIGZvbGxvd2Vycy5cbiAgICogQHNpbmNlIDAuMy4wXG4gICAqIEBwYXJhbSB7QVYuU3RhdHVzfSBzdGF0dXMgIEEgc3RhdHVzIG9iamVjdCB0byBiZSBzZW5kIHRvIGZvbGxvd2Vycy5cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgc2VuZFxuICAgKiAgICAgY29tcGxldGVzLlxuICAgKiBAZXhhbXBsZVxuICAgKiAgICAgdmFyIHN0YXR1cyA9IG5ldyBBVlN0YXR1cygnaW1hZ2UgdXJsJywgJ2EgbWVzc2FnZScpO1xuICAgKiAgICAgQVYuU3RhdHVzLnNlbmRTdGF0dXNUb0ZvbGxvd2VycyhzdGF0dXMpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICogICAgICAgICAgICAgIC8vc2VuZCBzdGF0dXMgc3VjY2Vzc2Z1bGx5LlxuICAgKiAgICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAqICAgICAgICAgICAgIC8vYW4gZXJyb3IgdGhyZXcuXG4gICAqICAgICAgICAgICAgIGNvbnNvbGUuZGlyKGVycik7XG4gICAqICAgICAgfSk7XG4gICAqL1xuXG5cbiAgQVYuU3RhdHVzLnNlbmRTdGF0dXNUb0ZvbGxvd2VycyA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICBpZiAoIWdldFNlc3Npb25Ub2tlbihvcHRpb25zKSAmJiAhQVYuVXNlci5jdXJyZW50KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbiBhbiB1c2VyLicpO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRVc2VyUG9pbnRlcihvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChjdXJyVXNlcikge1xuICAgICAgdmFyIHF1ZXJ5ID0ge307XG4gICAgICBxdWVyeS5jbGFzc05hbWUgPSAnX0ZvbGxvd2VyJztcbiAgICAgIHF1ZXJ5LmtleXMgPSAnZm9sbG93ZXInO1xuICAgICAgcXVlcnkud2hlcmUgPSB7XG4gICAgICAgIHVzZXI6IGN1cnJVc2VyXG4gICAgICB9O1xuICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgIGRhdGEucXVlcnkgPSBxdWVyeTtcbiAgICAgIHN0YXR1cy5kYXRhID0gc3RhdHVzLmRhdGEgfHwge307XG4gICAgICBzdGF0dXMuZGF0YS5zb3VyY2UgPSBzdGF0dXMuZGF0YS5zb3VyY2UgfHwgY3VyclVzZXI7XG4gICAgICBkYXRhLmRhdGEgPSBzdGF0dXMuX2dldERhdGFKU09OKCk7XG4gICAgICBkYXRhLmluYm94VHlwZSA9IHN0YXR1cy5pbmJveFR5cGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3N0YXR1c2VzJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHN0YXR1cy5pZCA9IHJlc3BvbnNlLm9iamVjdElkO1xuICAgICAgICBzdGF0dXMuY3JlYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShyZXNwb25zZS5jcmVhdGVkQXQpO1xuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiA8cD5TZW5kICBhIHN0YXR1cyBmcm9tIGN1cnJlbnQgc2lnbmluZWQgdXNlciB0byBvdGhlciB1c2VyJ3MgcHJpdmF0ZSBzdGF0dXMgaW5ib3guPC9wPlxuICAgKiBAc2luY2UgMC4zLjBcbiAgICogQHBhcmFtIHtBVi5TdGF0dXN9IHN0YXR1cyAgQSBzdGF0dXMgb2JqZWN0IHRvIGJlIHNlbmQgdG8gZm9sbG93ZXJzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0IFRoZSB0YXJnZXQgdXNlciBvciB1c2VyJ3Mgb2JqZWN0SWQuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIHNlbmRcbiAgICogICAgIGNvbXBsZXRlcy5cbiAgICogQGV4YW1wbGVcbiAgICogICAgIC8vIHNlbmQgYSBwcml2YXRlIHN0YXR1cyB0byB1c2VyICc1MmU4NGU0N2U0YjBmOGRlMjgzYjA3OWInXG4gICAqICAgICB2YXIgc3RhdHVzID0gbmV3IEFWU3RhdHVzKCdpbWFnZSB1cmwnLCAnYSBtZXNzYWdlJyk7XG4gICAqICAgICBBVi5TdGF0dXMuc2VuZFByaXZhdGVTdGF0dXMoc3RhdHVzLCAnNTJlODRlNDdlNGIwZjhkZTI4M2IwNzliJykudGhlbihmdW5jdGlvbigpe1xuICAgKiAgICAgICAgICAgICAgLy9zZW5kIHN0YXR1cyBzdWNjZXNzZnVsbHkuXG4gICAqICAgICAgfSwgZnVuY3Rpb24oZXJyKXtcbiAgICogICAgICAgICAgICAgLy9hbiBlcnJvciB0aHJldy5cbiAgICogICAgICAgICAgICAgY29uc29sZS5kaXIoZXJyKTtcbiAgICogICAgICB9KTtcbiAgICovXG5cblxuICBBVi5TdGF0dXMuc2VuZFByaXZhdGVTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzLCB0YXJnZXQpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICBpZiAoIWdldFNlc3Npb25Ub2tlbihvcHRpb25zKSAmJiAhQVYuVXNlci5jdXJyZW50KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbiBhbiB1c2VyLicpO1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFyZ2V0IHVzZXIuJyk7XG4gICAgfVxuXG4gICAgdmFyIHVzZXJPYmplY3RJZCA9IF8uaXNTdHJpbmcodGFyZ2V0KSA/IHRhcmdldCA6IHRhcmdldC5pZDtcblxuICAgIGlmICghdXNlck9iamVjdElkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFyZ2V0IHVzZXIuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFVzZXJQb2ludGVyKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGN1cnJVc2VyKSB7XG4gICAgICB2YXIgcXVlcnkgPSB7fTtcbiAgICAgIHF1ZXJ5LmNsYXNzTmFtZSA9ICdfVXNlcic7XG4gICAgICBxdWVyeS53aGVyZSA9IHtcbiAgICAgICAgb2JqZWN0SWQ6IHVzZXJPYmplY3RJZFxuICAgICAgfTtcbiAgICAgIHZhciBkYXRhID0ge307XG4gICAgICBkYXRhLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICBzdGF0dXMuZGF0YSA9IHN0YXR1cy5kYXRhIHx8IHt9O1xuICAgICAgc3RhdHVzLmRhdGEuc291cmNlID0gc3RhdHVzLmRhdGEuc291cmNlIHx8IGN1cnJVc2VyO1xuICAgICAgZGF0YS5kYXRhID0gc3RhdHVzLl9nZXREYXRhSlNPTigpO1xuICAgICAgZGF0YS5pbmJveFR5cGUgPSAncHJpdmF0ZSc7XG4gICAgICBzdGF0dXMuaW5ib3hUeXBlID0gJ3ByaXZhdGUnO1xuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3N0YXR1c2VzJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHN0YXR1cy5pZCA9IHJlc3BvbnNlLm9iamVjdElkO1xuICAgICAgICBzdGF0dXMuY3JlYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShyZXNwb25zZS5jcmVhdGVkQXQpO1xuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBDb3VudCB1bnJlYWQgc3RhdHVzZXMgaW4gc29tZW9uZSdzIGluYm94LlxuICAgKiBAc2luY2UgMC4zLjBcbiAgICogQHBhcmFtIHtBVi5Vc2VyfSBvd25lciBUaGUgc3RhdHVzIG93bmVyLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaW5ib3hUeXBlIFRoZSBpbmJveCB0eXBlLCAnZGVmYXVsdCcgYnkgZGVmYXVsdC5cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgY291bnRcbiAgICogICAgIGNvbXBsZXRlcy5cbiAgICogQGV4YW1wbGVcbiAgICogIEFWLlN0YXR1cy5jb3VudFVucmVhZFN0YXR1c2VzKEFWLlVzZXIuY3VycmVudCgpKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICogICAgY29uc29sZS5sb2cocmVzcG9uc2UudW5yZWFkKTsgLy91bnJlYWQgc3RhdHVzZXMgbnVtYmVyLlxuICAgKiAgICBjb25zb2xlLmxvZyhyZXNwb25zZS50b3RhbCk7ICAvL3RvdGFsIHN0YXR1c2VzIG51bWJlci5cbiAgICogIH0pO1xuICAgKi9cblxuXG4gIEFWLlN0YXR1cy5jb3VudFVucmVhZFN0YXR1c2VzID0gZnVuY3Rpb24gKG93bmVyKSB7XG4gICAgdmFyIGluYm94VHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2RlZmF1bHQnO1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBpZiAoIV8uaXNTdHJpbmcoaW5ib3hUeXBlKSkgb3B0aW9ucyA9IGluYm94VHlwZTtcblxuICAgIGlmICghZ2V0U2Vzc2lvblRva2VuKG9wdGlvbnMpICYmIG93bmVyID09IG51bGwgJiYgIUFWLlVzZXIuY3VycmVudCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlciBvciBwYXNzIHRoZSBvd25lciBvYmplY3RJZC4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKG93bmVyIHx8IGdldFVzZXIob3B0aW9ucykpLnRoZW4oZnVuY3Rpb24gKG93bmVyKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBwYXJhbXMuaW5ib3hUeXBlID0gQVYuX2VuY29kZShpbmJveFR5cGUpO1xuICAgICAgcGFyYW1zLm93bmVyID0gQVYuX2VuY29kZShvd25lcik7XG4gICAgICByZXR1cm4gQVZSZXF1ZXN0KCdzdWJzY3JpYmUvc3RhdHVzZXMvY291bnQnLCBudWxsLCBudWxsLCAnR0VUJywgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIHJlc2V0IHVucmVhZCBzdGF0dXNlcyBjb3VudCBpbiBzb21lb25lJ3MgaW5ib3guXG4gICAqIEBzaW5jZSAyLjEuMFxuICAgKiBAcGFyYW0ge0FWLlVzZXJ9IG93bmVyIFRoZSBzdGF0dXMgb3duZXIuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpbmJveFR5cGUgVGhlIGluYm94IHR5cGUsICdkZWZhdWx0JyBieSBkZWZhdWx0LlxuICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSByZXNldFxuICAgKiAgICAgY29tcGxldGVzLlxuICAgKiBAZXhhbXBsZVxuICAgKiAgQVYuU3RhdHVzLnJlc2V0VW5yZWFkQ291bnQoQVYuVXNlci5jdXJyZW50KCkpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgKiAgICBjb25zb2xlLmxvZyhyZXNwb25zZS51bnJlYWQpOyAvL3VucmVhZCBzdGF0dXNlcyBudW1iZXIuXG4gICAqICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnRvdGFsKTsgIC8vdG90YWwgc3RhdHVzZXMgbnVtYmVyLlxuICAgKiAgfSk7XG4gICAqL1xuXG5cbiAgQVYuU3RhdHVzLnJlc2V0VW5yZWFkQ291bnQgPSBmdW5jdGlvbiAob3duZXIpIHtcbiAgICB2YXIgaW5ib3hUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnZGVmYXVsdCc7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGlmICghXy5pc1N0cmluZyhpbmJveFR5cGUpKSBvcHRpb25zID0gaW5ib3hUeXBlO1xuXG4gICAgaWYgKCFnZXRTZXNzaW9uVG9rZW4ob3B0aW9ucykgJiYgb3duZXIgPT0gbnVsbCAmJiAhQVYuVXNlci5jdXJyZW50KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbiBhbiB1c2VyIG9yIHBhc3MgdGhlIG93bmVyIG9iamVjdElkLicpO1xuICAgIH1cblxuICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUob3duZXIgfHwgZ2V0VXNlcihvcHRpb25zKSkudGhlbihmdW5jdGlvbiAob3duZXIpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICAgIHBhcmFtcy5pbmJveFR5cGUgPSBBVi5fZW5jb2RlKGluYm94VHlwZSk7XG4gICAgICBwYXJhbXMub3duZXIgPSBBVi5fZW5jb2RlKG93bmVyKTtcbiAgICAgIHJldHVybiBBVlJlcXVlc3QoJ3N1YnNjcmliZS9zdGF0dXNlcy9yZXNldFVucmVhZENvdW50JywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogQ3JlYXRlIGEgc3RhdHVzIHF1ZXJ5IHRvIGZpbmQgc29tZW9uZSdzIHB1Ymxpc2hlZCBzdGF0dXNlcy5cbiAgICogQHNpbmNlIDAuMy4wXG4gICAqIEBwYXJhbSB7QVYuVXNlcn0gc291cmNlIFRoZSBzdGF0dXMgc291cmNlLCB0eXBpY2FsbHkgdGhlIHB1Ymxpc2hlci5cbiAgICogQHJldHVybiB7QVYuUXVlcnl9IFRoZSBxdWVyeSBvYmplY3QgZm9yIHN0YXR1cy5cbiAgICogQGV4YW1wbGVcbiAgICogICAvL0ZpbmQgY3VycmVudCB1c2VyJ3MgcHVibGlzaGVkIHN0YXR1c2VzLlxuICAgKiAgIHZhciBxdWVyeSA9IEFWLlN0YXR1cy5zdGF0dXNRdWVyeShBVi5Vc2VyLmN1cnJlbnQoKSk7XG4gICAqICAgcXVlcnkuZmluZCgpLnRoZW4oZnVuY3Rpb24oc3RhdHVzZXMpe1xuICAgKiAgICAgIC8vcHJvY2VzcyBzdGF0dXNlc1xuICAgKiAgIH0pO1xuICAgKi9cblxuXG4gIEFWLlN0YXR1cy5zdGF0dXNRdWVyeSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkoJ19TdGF0dXMnKTtcblxuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIHF1ZXJ5LmVxdWFsVG8oJ3NvdXJjZScsIHNvdXJjZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuICAvKipcbiAgICogPHA+QVYuSW5ib3hRdWVyeSBkZWZpbmVzIGEgcXVlcnkgdGhhdCBpcyB1c2VkIHRvIGZldGNoIHNvbWVib2R5J3MgaW5ib3ggc3RhdHVzZXMuPC9wPlxuICAgKiBAY2xhc3NcbiAgICovXG5cblxuICBBVi5JbmJveFF1ZXJ5ID0gQVYuUXVlcnkuX2V4dGVuZChcbiAgLyoqIEBsZW5kcyBBVi5JbmJveFF1ZXJ5LnByb3RvdHlwZSAqL1xuICB7XG4gICAgX29iamVjdENsYXNzOiBBVi5TdGF0dXMsXG4gICAgX3NpbmNlSWQ6IDAsXG4gICAgX21heElkOiAwLFxuICAgIF9pbmJveFR5cGU6ICdkZWZhdWx0JyxcbiAgICBfb3duZXI6IG51bGwsXG4gICAgX25ld09iamVjdDogZnVuY3Rpb24gX25ld09iamVjdCgpIHtcbiAgICAgIHJldHVybiBuZXcgQVYuU3RhdHVzKCk7XG4gICAgfSxcbiAgICBfY3JlYXRlUmVxdWVzdDogZnVuY3Rpb24gX2NyZWF0ZVJlcXVlc3QocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gQVYuSW5ib3hRdWVyeS5fX3N1cGVyX18uX2NyZWF0ZVJlcXVlc3QuY2FsbCh0aGlzLCBwYXJhbXMsIG9wdGlvbnMsICcvc3Vic2NyaWJlL3N0YXR1c2VzJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1lc3NhZ2VJZCBvZiByZXN1bHRzIHRvIHNraXAgYmVmb3JlIHJldHVybmluZyBhbnkgcmVzdWx0cy5cbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgcGFnaW5hdGlvbi5cbiAgICAgKiBEZWZhdWx0IGlzIHplcm8uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG1lc2FnZSBpZC5cbiAgICAgKiBAcmV0dXJuIHtBVi5JbmJveFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgc2luY2VJZDogZnVuY3Rpb24gc2luY2VJZChpZCkge1xuICAgICAgdGhpcy5fc2luY2VJZCA9IGlkO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1heGltYWwgbWVzc2FnZUlkIG9mIHJlc3VsdHPjgIJcbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgcGFnaW5hdGlvbi5cbiAgICAgKiBEZWZhdWx0IGlzIHplcm8gdGhhdCBpcyBubyBsaW1pdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiB0aGUgbWVzYWdlIGlkLlxuICAgICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBtYXhJZDogZnVuY3Rpb24gbWF4SWQoaWQpIHtcbiAgICAgIHRoaXMuX21heElkID0gaWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgb3duZXIgb2YgdGhlIHF1ZXJ5aW5nIGluYm94LlxuICAgICAqIEBwYXJhbSB7QVYuVXNlcn0gb3duZXIgVGhlIGluYm94IG93bmVyLlxuICAgICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBvd25lcjogZnVuY3Rpb24gb3duZXIoX293bmVyKSB7XG4gICAgICB0aGlzLl9vd25lciA9IF9vd25lcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBxdWVyeWluZyBpbmJveCB0eXBlLmRlZmF1bHQgaXMgJ2RlZmF1bHQnLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBpbmJveCB0eXBlLlxuICAgICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKi9cbiAgICBpbmJveFR5cGU6IGZ1bmN0aW9uIGluYm94VHlwZSh0eXBlKSB7XG4gICAgICB0aGlzLl9pbmJveFR5cGUgPSB0eXBlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBfZ2V0UGFyYW1zOiBmdW5jdGlvbiBfZ2V0UGFyYW1zKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IEFWLkluYm94UXVlcnkuX19zdXBlcl9fLl9nZXRQYXJhbXMuY2FsbCh0aGlzKTtcblxuICAgICAgcGFyYW1zLm93bmVyID0gQVYuX2VuY29kZSh0aGlzLl9vd25lcik7XG4gICAgICBwYXJhbXMuaW5ib3hUeXBlID0gQVYuX2VuY29kZSh0aGlzLl9pbmJveFR5cGUpO1xuICAgICAgcGFyYW1zLnNpbmNlSWQgPSBBVi5fZW5jb2RlKHRoaXMuX3NpbmNlSWQpO1xuICAgICAgcGFyYW1zLm1heElkID0gQVYuX2VuY29kZSh0aGlzLl9tYXhJZCk7XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBpbmJveCBzdGF0dXMgcXVlcnkgdG8gZmluZCBzb21lb25lJ3MgaW5ib3ggc3RhdHVzZXMuXG4gICAqIEBzaW5jZSAwLjMuMFxuICAgKiBAcGFyYW0ge0FWLlVzZXJ9IG93bmVyIFRoZSBpbmJveCdzIG93bmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpbmJveFR5cGUgVGhlIGluYm94IHR5cGUsJ2RlZmF1bHQnIGJ5IGRlZmF1bHQuXG4gICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFRoZSBpbmJveCBxdWVyeSBvYmplY3QuXG4gICAqIEBzZWUgQVYuSW5ib3hRdWVyeVxuICAgKiBAZXhhbXBsZVxuICAgKiAgIC8vRmluZCBjdXJyZW50IHVzZXIncyBkZWZhdWx0IGluYm94IHN0YXR1c2VzLlxuICAgKiAgIHZhciBxdWVyeSA9IEFWLlN0YXR1cy5pbmJveFF1ZXJ5KEFWLlVzZXIuY3VycmVudCgpKTtcbiAgICogICAvL2ZpbmQgdGhlIHN0YXR1c2VzIGFmdGVyIHRoZSBsYXN0IG1lc3NhZ2UgaWRcbiAgICogICBxdWVyeS5zaW5jZUlkKGxhc3RNZXNzYWdlSWQpO1xuICAgKiAgIHF1ZXJ5LmZpbmQoKS50aGVuKGZ1bmN0aW9uKHN0YXR1c2VzKXtcbiAgICogICAgICAvL3Byb2Nlc3Mgc3RhdHVzZXNcbiAgICogICB9KTtcbiAgICovXG5cbiAgQVYuU3RhdHVzLmluYm94UXVlcnkgPSBmdW5jdGlvbiAob3duZXIsIGluYm94VHlwZSkge1xuICAgIHZhciBxdWVyeSA9IG5ldyBBVi5JbmJveFF1ZXJ5KEFWLlN0YXR1cyk7XG5cbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHF1ZXJ5Ll9vd25lciA9IG93bmVyO1xuICAgIH1cblxuICAgIGlmIChpbmJveFR5cGUpIHtcbiAgICAgIHF1ZXJ5Ll9pbmJveFR5cGUgPSBpbmJveFR5cGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xufTtcblxuLyoqKi8gfSksXG4vKiA1MzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3N0cmluZ2lmeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuXG52YXIgX21hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MikpO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBBVlJlcXVlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KS5fcmVxdWVzdDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQVYpIHtcbiAgLyoqXG4gICAqIEEgYnVpbGRlciB0byBnZW5lcmF0ZSBzb3J0IHN0cmluZyBmb3IgYXBwIHNlYXJjaGluZy5Gb3IgZXhhbXBsZTpcbiAgICogQGNsYXNzXG4gICAqIEBzaW5jZSAwLjUuMVxuICAgKiBAZXhhbXBsZVxuICAgKiAgIHZhciBidWlsZGVyID0gbmV3IEFWLlNlYXJjaFNvcnRCdWlsZGVyKCk7XG4gICAqICAgYnVpbGRlci5hc2NlbmRpbmcoJ2tleTEnKS5kZXNjZW5kaW5nKCdrZXkyJywnbWF4Jyk7XG4gICAqICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlNlYXJjaFF1ZXJ5KCdQbGF5ZXInKTtcbiAgICogICBxdWVyeS5zb3J0QnkoYnVpbGRlcik7XG4gICAqICAgcXVlcnkuZmluZCgpLnRoZW4oKTtcbiAgICovXG4gIEFWLlNlYXJjaFNvcnRCdWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3NvcnRGaWVsZHMgPSBbXTtcbiAgfTtcblxuICBfLmV4dGVuZChBVi5TZWFyY2hTb3J0QnVpbGRlci5wcm90b3R5cGUsXG4gIC8qKiBAbGVuZHMgQVYuU2VhcmNoU29ydEJ1aWxkZXIucHJvdG90eXBlICovXG4gIHtcbiAgICBfYWRkRmllbGQ6IGZ1bmN0aW9uIF9hZGRGaWVsZChrZXksIG9yZGVyLCBtb2RlLCBtaXNzaW5nKSB7XG4gICAgICB2YXIgZmllbGQgPSB7fTtcbiAgICAgIGZpZWxkW2tleV0gPSB7XG4gICAgICAgIG9yZGVyOiBvcmRlciB8fCAnYXNjJyxcbiAgICAgICAgbW9kZTogbW9kZSB8fCAnYXZnJyxcbiAgICAgICAgbWlzc2luZzogJ18nICsgKG1pc3NpbmcgfHwgJ2xhc3QnKVxuICAgICAgfTtcblxuICAgICAgdGhpcy5fc29ydEZpZWxkcy5wdXNoKGZpZWxkKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNvcnRzIHRoZSByZXN1bHRzIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5IGFuZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2RlIFRoZSBzb3J0IG1vZGUsIGRlZmF1bHQgaXMgJ2F2ZycsIHlvdSBjYW4gY2hvb3NlXG4gICAgICogICAgICAgICAgICAgICAgICAnbWF4JyBvciAnbWluJyB0b28uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1pc3NpbmcgVGhlIG1pc3Npbmcga2V5IGJlaGF2aW91ciwgZGVmYXVsdCBpcyAnbGFzdCcsXG4gICAgICogICAgICAgICAgICAgICAgICB5b3UgY2FuIGNob29zZSAnZmlyc3QnIHRvby5cbiAgICAgKiBAcmV0dXJuIHtBVi5TZWFyY2hTb3J0QnVpbGRlcn0gUmV0dXJucyB0aGUgYnVpbGRlciwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgYXNjZW5kaW5nOiBmdW5jdGlvbiBhc2NlbmRpbmcoa2V5LCBtb2RlLCBtaXNzaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkRmllbGQoa2V5LCAnYXNjJywgbW9kZSwgbWlzc2luZyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNvcnRzIHRoZSByZXN1bHRzIGluIGRlc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleSBhbmQgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBvcmRlciBieS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSBUaGUgc29ydCBtb2RlLCBkZWZhdWx0IGlzICdhdmcnLCB5b3UgY2FuIGNob29zZVxuICAgICAqICAgICAgICAgICAgICAgICAgJ21heCcgb3IgJ21pbicgdG9vLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtaXNzaW5nIFRoZSBtaXNzaW5nIGtleSBiZWhhdmlvdXIsIGRlZmF1bHQgaXMgJ2xhc3QnLFxuICAgICAqICAgICAgICAgICAgICAgICAgeW91IGNhbiBjaG9vc2UgJ2ZpcnN0JyB0b28uXG4gICAgICogQHJldHVybiB7QVYuU2VhcmNoU29ydEJ1aWxkZXJ9IFJldHVybnMgdGhlIGJ1aWxkZXIsIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGRlc2NlbmRpbmc6IGZ1bmN0aW9uIGRlc2NlbmRpbmcoa2V5LCBtb2RlLCBtaXNzaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkRmllbGQoa2V5LCAnZGVzYycsIG1vZGUsIG1pc3NpbmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwcm94aW1pdHkgYmFzZWQgY29uc3RyYWludCBmb3IgZmluZGluZyBvYmplY3RzIHdpdGgga2V5IHBvaW50XG4gICAgICogdmFsdWVzIG5lYXIgdGhlIHBvaW50IGdpdmVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBBVi5HZW9Qb2ludCBpcyBzdG9yZWQgaW4uXG4gICAgICogQHBhcmFtIHtBVi5HZW9Qb2ludH0gcG9pbnQgVGhlIHJlZmVyZW5jZSBBVi5HZW9Qb2ludCB0aGF0IGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgVGhlIG90aGVyIG9wdGlvbnMgc3VjaCBhcyBtb2RlLG9yZGVyLCB1bml0IGV0Yy5cbiAgICAgKiBAcmV0dXJuIHtBVi5TZWFyY2hTb3J0QnVpbGRlcn0gUmV0dXJucyB0aGUgYnVpbGRlciwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgd2hlcmVOZWFyOiBmdW5jdGlvbiB3aGVyZU5lYXIoa2V5LCBwb2ludCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB2YXIgZmllbGQgPSB7fTtcbiAgICAgIHZhciBnZW8gPSB7XG4gICAgICAgIGxhdDogcG9pbnQubGF0aXR1ZGUsXG4gICAgICAgIGxvbjogcG9pbnQubG9uZ2l0dWRlXG4gICAgICB9O1xuICAgICAgdmFyIG0gPSB7XG4gICAgICAgIG9yZGVyOiBvcHRpb25zLm9yZGVyIHx8ICdhc2MnLFxuICAgICAgICBtb2RlOiBvcHRpb25zLm1vZGUgfHwgJ2F2ZycsXG4gICAgICAgIHVuaXQ6IG9wdGlvbnMudW5pdCB8fCAna20nXG4gICAgICB9O1xuICAgICAgbVtrZXldID0gZ2VvO1xuICAgICAgZmllbGRbJ19nZW9fZGlzdGFuY2UnXSA9IG07XG5cbiAgICAgIHRoaXMuX3NvcnRGaWVsZHMucHVzaChmaWVsZCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCBhIHNvcnQgc3RyaW5nIGJ5IGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgc29ydCBzdHJpbmcuXG4gICAgICovXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKCkge1xuICAgICAgcmV0dXJuICgwLCBfc3RyaW5naWZ5LmRlZmF1bHQpKEFWLl9lbmNvZGUodGhpcy5fc29ydEZpZWxkcykpO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBBcHAgc2VhcmNoaW5nIHF1ZXJ5LlVzZSBqdXN0IGxpa2UgQVYuUXVlcnk6XG4gICAqXG4gICAqIFZpc2l0IDxhIGhyZWY9J2h0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvYXBwX3NlYXJjaF9ndWlkZS5odG1sJz5BcHAgU2VhcmNoaW5nIEd1aWRlPC9hPlxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKiBAY2xhc3NcbiAgICogQHNpbmNlIDAuNS4xXG4gICAqIEBleGFtcGxlXG4gICAqICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlNlYXJjaFF1ZXJ5KCdQbGF5ZXInKTtcbiAgICogICBxdWVyeS5xdWVyeVN0cmluZygnKicpO1xuICAgKiAgIHF1ZXJ5LmZpbmQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdGb3VuZCAlZCBvYmplY3RzJywgcXVlcnkuaGl0cygpKTtcbiAgICogICAgIC8vUHJvY2VzcyByZXN1bHRzXG4gICAqICAgfSk7XG4gICAqL1xuXG5cbiAgQVYuU2VhcmNoUXVlcnkgPSBBVi5RdWVyeS5fZXh0ZW5kKFxuICAvKiogQGxlbmRzIEFWLlNlYXJjaFF1ZXJ5LnByb3RvdHlwZSAqL1xuICB7XG4gICAgX3NpZDogbnVsbCxcbiAgICBfaGl0czogMCxcbiAgICBfcXVlcnlTdHJpbmc6IG51bGwsXG4gICAgX2hpZ2hsaWdodHM6IG51bGwsXG4gICAgX3NvcnRCdWlsZGVyOiBudWxsLFxuICAgIF9jbGF6ejogbnVsbCxcbiAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gY29uc3RydWN0b3IoY2xhc3NOYW1lKSB7XG4gICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuX2NsYXp6ID0gY2xhc3NOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhc3NOYW1lID0gJ19fSU5WQUxJRF9DTEFTUyc7XG4gICAgICB9XG5cbiAgICAgIEFWLlF1ZXJ5LmNhbGwodGhpcywgY2xhc3NOYW1lKTtcbiAgICB9LFxuICAgIF9jcmVhdGVSZXF1ZXN0OiBmdW5jdGlvbiBfY3JlYXRlUmVxdWVzdChwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBBVlJlcXVlc3QoJ3NlYXJjaC9zZWxlY3QnLCBudWxsLCBudWxsLCAnR0VUJywgcGFyYW1zIHx8IHRoaXMuX2dldFBhcmFtcygpLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc2lkIG9mIGFwcCBzZWFyY2hpbmcgcXVlcnkuRGVmYXVsdCBpcyBudWxsLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzaWQgIFNjcm9sbCBpZCBmb3Igc2VhcmNoaW5nLlxuICAgICAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgc2lkOiBmdW5jdGlvbiBzaWQoX3NpZCkge1xuICAgICAgdGhpcy5fc2lkID0gX3NpZDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBxdWVyeSBzdHJpbmcgb2YgYXBwIHNlYXJjaGluZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcSAgVGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtBVi5TZWFyY2hRdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIHF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBxdWVyeVN0cmluZyhxKSB7XG4gICAgICB0aGlzLl9xdWVyeVN0cmluZyA9IHE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGlnaGxpZ2h0IGZpZWxkcy4gU3VjaCBhc1xuICAgICAqIDxwcmU+PGNvZGU+XG4gICAgICogICBxdWVyeS5oaWdobGlnaHRzKCd0aXRsZScpO1xuICAgICAqICAgLy9vciBwYXNzIGFuIGFycmF5LlxuICAgICAqICAgcXVlcnkuaGlnaGxpZ2h0cyhbJ3RpdGxlJywgJ2NvbnRlbnQnXSlcbiAgICAgKiA8L2NvZGU+PC9wcmU+XG4gICAgICogQHBhcmFtIHtTdHJpbmd8U3RyaW5nW119IGhpZ2hsaWdodHMgYSBsaXN0IG9mIGZpZWxkcy5cbiAgICAgKiBAcmV0dXJuIHtBVi5TZWFyY2hRdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIGhpZ2hsaWdodHM6IGZ1bmN0aW9uIGhpZ2hsaWdodHMoX2hpZ2hsaWdodHMpIHtcbiAgICAgIHZhciBvYmplY3RzO1xuXG4gICAgICBpZiAoX2hpZ2hsaWdodHMgJiYgXy5pc1N0cmluZyhfaGlnaGxpZ2h0cykpIHtcbiAgICAgICAgb2JqZWN0cyA9IF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0cyA9IF9oaWdobGlnaHRzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9oaWdobGlnaHRzID0gb2JqZWN0cztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzb3J0IGJ1aWxkZXIgZm9yIHRoaXMgcXVlcnkuXG4gICAgICogQHNlZSBBVi5TZWFyY2hTb3J0QnVpbGRlclxuICAgICAqIEBwYXJhbSB7IEFWLlNlYXJjaFNvcnRCdWlsZGVyfSBidWlsZGVyIFRoZSBzb3J0IGJ1aWxkZXIuXG4gICAgICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgKlxuICAgICAqL1xuICAgIHNvcnRCeTogZnVuY3Rpb24gc29ydEJ5KGJ1aWxkZXIpIHtcbiAgICAgIHRoaXMuX3NvcnRCdWlsZGVyID0gYnVpbGRlcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygb2JqZWN0cyB0aGF0IG1hdGNoIHRoaXMgcXVlcnkuXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGhpdHM6IGZ1bmN0aW9uIGhpdHMoKSB7XG4gICAgICBpZiAoIXRoaXMuX2hpdHMpIHtcbiAgICAgICAgdGhpcy5faGl0cyA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9oaXRzO1xuICAgIH0sXG4gICAgX3Byb2Nlc3NSZXN1bHQ6IGZ1bmN0aW9uIF9wcm9jZXNzUmVzdWx0KGpzb24pIHtcbiAgICAgIGRlbGV0ZSBqc29uWydjbGFzc05hbWUnXTtcbiAgICAgIGRlbGV0ZSBqc29uWydfYXBwX3VybCddO1xuICAgICAgZGVsZXRlIGpzb25bJ19kZWVwbGluayddO1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSB3aGVuIHRoZXJlIGFyZSBtb3JlIGRvY3VtZW50cyBjYW4gYmUgcmV0cmlldmVkIGJ5IHRoaXNcbiAgICAgKiBxdWVyeSBpbnN0YW5jZSwgeW91IGNhbiBjYWxsIGZpbmQgZnVuY3Rpb24gdG8gZ2V0IG1vcmUgcmVzdWx0cy5cbiAgICAgKiBAc2VlIEFWLlNlYXJjaFF1ZXJ5I2ZpbmRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGhhc01vcmU6IGZ1bmN0aW9uIGhhc01vcmUoKSB7XG4gICAgICByZXR1cm4gIXRoaXMuX2hpdEVuZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgY3VycmVudCBxdWVyeSBpbnN0YW5jZSBzdGF0ZShzdWNoIGFzIHNpZCwgaGl0cyBldGMpIGV4Y2VwdCBwYXJhbXNcbiAgICAgKiBmb3IgYSBuZXcgc2VhcmNoaW5nLiBBZnRlciByZXNldHRpbmcsIGhhc01vcmUoKSB3aWxsIHJldHVybiB0cnVlLlxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuX2hpdEVuZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2lkID0gbnVsbDtcbiAgICAgIHRoaXMuX2hpdHMgPSAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIEFWT2JqZWN0cyB0aGF0IHNhdGlzZnkgdGhpcyBxdWVyeS5cbiAgICAgKiBFaXRoZXIgb3B0aW9ucy5zdWNjZXNzIG9yIG9wdGlvbnMuZXJyb3IgaXMgY2FsbGVkIHdoZW4gdGhlIGZpbmRcbiAgICAgKiBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAc2VlIEFWLlF1ZXJ5I2ZpbmRcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0cyB3aGVuXG4gICAgICogdGhlIHF1ZXJ5IGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBmaW5kOiBmdW5jdGlvbiBmaW5kKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLl9jcmVhdGVSZXF1ZXN0KHVuZGVmaW5lZCwgb3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vdXBkYXRlIHNpZCBmb3IgbmV4dCBxdWVyeWluZy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnNpZCkge1xuICAgICAgICAgIHNlbGYuX29sZFNpZCA9IHNlbGYuX3NpZDtcbiAgICAgICAgICBzZWxmLl9zaWQgPSByZXNwb25zZS5zaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fc2lkID0gbnVsbDtcbiAgICAgICAgICBzZWxmLl9oaXRFbmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5faGl0cyA9IHJlc3BvbnNlLmhpdHMgfHwgMDtcbiAgICAgICAgcmV0dXJuICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgcmVzcG9uc2UucmVzdWx0cywgZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICBpZiAoanNvbi5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmNsYXNzTmFtZSA9IGpzb24uY2xhc3NOYW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBvYmogPSBzZWxmLl9uZXdPYmplY3QocmVzcG9uc2UpO1xuXG4gICAgICAgICAgb2JqLmFwcFVSTCA9IGpzb25bJ19hcHBfdXJsJ107XG5cbiAgICAgICAgICBvYmouX2ZpbmlzaEZldGNoKHNlbGYuX3Byb2Nlc3NSZXN1bHQoanNvbiksIHRydWUpO1xuXG4gICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIF9nZXRQYXJhbXM6IGZ1bmN0aW9uIF9nZXRQYXJhbXMoKSB7XG4gICAgICB2YXIgcGFyYW1zID0gQVYuU2VhcmNoUXVlcnkuX19zdXBlcl9fLl9nZXRQYXJhbXMuY2FsbCh0aGlzKTtcblxuICAgICAgZGVsZXRlIHBhcmFtcy53aGVyZTtcblxuICAgICAgaWYgKHRoaXMuX2NsYXp6KSB7XG4gICAgICAgIHBhcmFtcy5jbGF6eiA9IHRoaXMuY2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fc2lkKSB7XG4gICAgICAgIHBhcmFtcy5zaWQgPSB0aGlzLl9zaWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fcXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2V0IHF1ZXJ5IHN0cmluZy4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5xID0gdGhpcy5fcXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9oaWdobGlnaHRzKSB7XG4gICAgICAgIHBhcmFtcy5oaWdobGlnaHRzID0gdGhpcy5faGlnaGxpZ2h0cy5qb2luKCcsJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9zb3J0QnVpbGRlciAmJiBwYXJhbXMub3JkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzb3J0IGFuZCBvcmRlciBjYW4gbm90IGJlIHNldCBhdCBzYW1lIHRpbWUuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9zb3J0QnVpbGRlcikge1xuICAgICAgICBwYXJhbXMuc29ydCA9IHRoaXMuX3NvcnRCdWlsZGVyLmJ1aWxkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICB9KTtcbn07XG4vKipcbiAqIFNvcnRzIHRoZSByZXN1bHRzIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBtZXRob2QgQVYuU2VhcmNoUXVlcnkjYXNjZW5kaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gb3JkZXIgYnkuXG4gKiBAcmV0dXJuIHtBVi5TZWFyY2hRdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICovXG5cbi8qKlxuICogQWxzbyBzb3J0cyB0aGUgcmVzdWx0cyBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS4gVGhlIHByZXZpb3VzIHNvcnQga2V5cyBoYXZlXG4gKiBwcmVjZWRlbmNlIG92ZXIgdGhpcyBrZXkuXG4gKlxuICogQG1ldGhvZCBBVi5TZWFyY2hRdWVyeSNhZGRBc2NlbmRpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBvcmRlciBieVxuICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5IHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICovXG5cbi8qKlxuICogU29ydHMgdGhlIHJlc3VsdHMgaW4gZGVzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBtZXRob2QgQVYuU2VhcmNoUXVlcnkjZGVzY2VuZGluZ1xuICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAqL1xuXG4vKipcbiAqIEFsc28gc29ydHMgdGhlIHJlc3VsdHMgaW4gZGVzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LiBUaGUgcHJldmlvdXMgc29ydCBrZXlzIGhhdmVcbiAqIHByZWNlZGVuY2Ugb3ZlciB0aGlzIGtleS5cbiAqXG4gKiBAbWV0aG9kIEFWLlNlYXJjaFF1ZXJ5I2FkZERlc2NlbmRpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBvcmRlciBieVxuICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5IHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICovXG5cbi8qKlxuICogSW5jbHVkZSBuZXN0ZWQgQVYuT2JqZWN0cyBmb3IgdGhlIHByb3ZpZGVkIGtleS4gIFlvdSBjYW4gdXNlIGRvdFxuICogbm90YXRpb24gdG8gc3BlY2lmeSB3aGljaCBmaWVsZHMgaW4gdGhlIGluY2x1ZGVkIG9iamVjdCBhcmUgYWxzbyBmZXRjaC5cbiAqIEBtZXRob2QgQVYuU2VhcmNoUXVlcnkjaW5jbHVkZVxuICogQHBhcmFtIHtTdHJpbmdbXX0ga2V5cyBUaGUgbmFtZSBvZiB0aGUga2V5IHRvIGluY2x1ZGUuXG4gKiBAcmV0dXJuIHtBVi5TZWFyY2hRdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICovXG5cbi8qKlxuICogU2V0cyB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcCBiZWZvcmUgcmV0dXJuaW5nIGFueSByZXN1bHRzLlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gKiBEZWZhdWx0IGlzIHRvIHNraXAgemVybyByZXN1bHRzLlxuICogQG1ldGhvZCBBVi5TZWFyY2hRdWVyeSNza2lwXG4gKiBAcGFyYW0ge051bWJlcn0gbiB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC5cbiAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gKi9cblxuLyoqXG4gKiBTZXRzIHRoZSBsaW1pdCBvZiB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiBUaGUgZGVmYXVsdCBsaW1pdCBpc1xuICogMTAwLCB3aXRoIGEgbWF4aW11bSBvZiAxMDAwIHJlc3VsdHMgYmVpbmcgcmV0dXJuZWQgYXQgYSB0aW1lLlxuICogQG1ldGhvZCBBVi5TZWFyY2hRdWVyeSNsaW1pdFxuICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIGxpbWl0IHRvLlxuICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAqL1xuXG4vKioqLyB9KSxcbi8qIDU0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcHJvbWlzZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMCkpO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBBVkVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpLFxuICAgIHJlcXVlc3QgPSBfcmVxdWlyZS5yZXF1ZXN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChBVikge1xuICAvKipcbiAgICog5YyF5ZCr5LqG5L2/55So5LqGIExlYW5DbG91ZFxuICAgKiAgPGEgaHJlZj0nL2RvY3MvbGVhbmluc2lnaHRfZ3VpZGUuaHRtbCc+56a757q/5pWw5o2u5YiG5p6Q5Yqf6IO9PC9hPueahOWHveaVsOOAglxuICAgKiA8cD48c3Ryb25nPjxlbT5cbiAgICogICDku4XlnKjkupHlvJXmk47ov5DooYznjq/looPkuIvmnInmlYjjgIJcbiAgICogPC9lbT48L3N0cm9uZz48L3A+XG4gICAqIEBuYW1lc3BhY2VcbiAgICovXG4gIEFWLkluc2lnaHQgPSBBVi5JbnNpZ2h0IHx8IHt9O1xuXG4gIF8uZXh0ZW5kKEFWLkluc2lnaHQsXG4gIC8qKiBAbGVuZHMgQVYuSW5zaWdodCAqL1xuICB7XG4gICAgLyoqXG4gICAgICog5byA5aeL5LiA5LiqIEluc2lnaHQg5Lu75Yqh44CC57uT5p6c6YeM5bCG6L+U5ZueIEpvYiBpZO+8jOS9oOWPr+S7peaLv+W+l+WIsOeahCBpZCDkvb/nlKhcbiAgICAgKiBBVi5JbnNpZ2h0LkpvYlF1ZXJ5IOafpeivouS7u+WKoeeKtuaAgeWSjOe7k+aenOOAglxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqb2JDb25maWcg5Lu75Yqh6YWN572u55qEIEpTT04g5a+56LGh77yM5L6L5aaC77yaPGNvZGU+PHByZT5cbiAgICAgKiAgICAgICAgICAgICAgICAgICB7IFwic3FsXCIgOiBcInNlbGVjdCBjb3VudCgqKSBhcyBjLGdlbmRlciBmcm9tIF9Vc2VyIGdyb3VwIGJ5IGdlbmRlclwiLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgXCJzYXZlQXNcIjoge1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NOYW1lXCIgOiBcIlVzZXJHZW5kZXJcIixcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBcImxpbWl0XCI6IDFcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICogICAgICAgICAgICAgICAgICAgfVxuICAgICAqICAgICAgICAgICAgICAgICAgPC9wcmU+PC9jb2RlPlxuICAgICAqICAgICAgICAgICAgICAgc3FsIOaMh+WumuS7u+WKoeaJp+ihjOeahCBTUUwg6K+t5Y+l77yMIHNhdmVBc++8iOWPr+mAie+8iSDmjIflrprlsIbnu5Pmnpzkv53lrZjlnKjlk6rlvKDooajph4zvvIxsaW1pdCDmnIDlpKcgMTAwMOOAglxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0XG4gICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHN0YXJ0Sm9iOiBmdW5jdGlvbiBzdGFydEpvYihqb2JDb25maWcsIG9wdGlvbnMpIHtcbiAgICAgIGlmICgham9iQ29uZmlnIHx8ICFqb2JDb25maWcuc3FsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgdGhlIHNxbCB0byBydW4gdGhlIGpvYi4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgIGpvYkNvbmZpZzogam9iQ29uZmlnLFxuICAgICAgICBhcHBJZDogQVYuYXBwbGljYXRpb25JZFxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgcGF0aDogJy9iaWdxdWVyeS9qb2JzJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6IEFWLl9lbmNvZGUoZGF0YSwgbnVsbCwgdHJ1ZSksXG4gICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zLFxuICAgICAgICBzaWduS2V5OiBmYWxzZVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICByZXR1cm4gQVYuX2RlY29kZShyZXNwKS5pZDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDnm5HlkKwgSW5zaWdodCDku7vliqHkuovku7bvvIjmnKrmnaXmjqjlh7rni6znq4vpg6jnvbLnmoTnprvnur/liIbmnpDmnI3liqHlkI7lvIDmlL7vvIlcbiAgICAgKiAgPHA+PHN0cm9uZz48ZW0+XG4gICAgICogICAgIOS7heWcqOS6keW8leaTjui/kOihjOeOr+Wig+S4i+acieaViOOAglxuICAgICAqICA8L2VtPjwvc3Ryb25nPjwvcD5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQg55uR5ZCs55qE5LqL5Lu277yM55uu5YmN5bCa5LiN5pSv5oyB44CCXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0g55uR5ZCs5Zue6LCD5Ye95pWw77yM5o6l5pS2IChlcnIsIGlkKSDkuKTkuKrlj4LmlbDvvIxlcnIg6KGo56S66ZSZ6K+v5L+h5oGv77yMXG4gICAgICogICAgICAgICAgICAgICAgICAgaWQg6KGo56S65Lu75YqhIGlk44CC5o6l5LiL5p2l5L2g5Y+v5Lul5ou/6L+Z5LiqIGlkIOS9v+eUqEFWLkluc2lnaHQuSm9iUXVlcnkg5p+l6K+i5Lu75Yqh54q25oCB5ZKM57uT5p6c44CCXG4gICAgICpcbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24gb24oZXZlbnQsIGNiKSB7fVxuICB9KTtcbiAgLyoqXG4gICAqIOWIm+W7uuS4gOS4quWvueixoe+8jOeUqOS6juafpeivoiBJbnNpZ2h0IOS7u+WKoeeKtuaAgeWSjOe7k+aenOOAglxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIOS7u+WKoSBpZFxuICAgKiBAc2luY2UgMC41LjVcbiAgICovXG5cblxuICBBVi5JbnNpZ2h0LkpvYlF1ZXJ5ID0gZnVuY3Rpb24gKGlkLCBjbGFzc05hbWUpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIHRoZSBqb2IgaWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHRoaXMuX3NraXAgPSAwO1xuICAgIHRoaXMuX2xpbWl0ID0gMTAwO1xuICB9O1xuXG4gIF8uZXh0ZW5kKEFWLkluc2lnaHQuSm9iUXVlcnkucHJvdG90eXBlLFxuICAvKiogQGxlbmRzIEFWLkluc2lnaHQuSm9iUXVlcnkucHJvdG90eXBlICovXG4gIHtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byBza2lwIGJlZm9yZSByZXR1cm5pbmcgYW55IHJlc3VsdHMuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gICAgICogRGVmYXVsdCBpcyB0byBza2lwIHplcm8gcmVzdWx0cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC5cbiAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIHNraXA6IGZ1bmN0aW9uIHNraXAobikge1xuICAgICAgdGhpcy5fc2tpcCA9IG47XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gVGhlIGRlZmF1bHQgbGltaXQgaXNcbiAgICAgKiAxMDAsIHdpdGggYSBtYXhpbXVtIG9mIDEwMDAgcmVzdWx0cyBiZWluZyByZXR1cm5lZCBhdCBhIHRpbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIGxpbWl0IHRvLlxuICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICovXG4gICAgbGltaXQ6IGZ1bmN0aW9uIGxpbWl0KG4pIHtcbiAgICAgIHRoaXMuX2xpbWl0ID0gbjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDmn6Xor6Lku7vliqHnirbmgIHlkoznu5PmnpzvvIzku7vliqHnu5PmnpzkuLrkuIDkuKogSlNPTiDlr7nosaHvvIzljIXmi6wgc3RhdHVzIOihqOekuuS7u+WKoeeKtuaAge+8jCB0b3RhbENvdW50IOihqOekuuaAu+aVsO+8jFxuICAgICAqIHJlc3VsdHMg5pWw57uE6KGo56S65Lu75Yqh57uT5p6c5pWw57uE77yMcHJldmlld0NvdW50IOihqOekuuWPr+S7pei/lOWbnueahOe7k+aenOaAu+aVsO+8jOS7u+WKoeeahOW8gOWni+WSjOaIquatouaXtumXtFxuICAgICAqIHN0YXJ0VGltZeOAgWVuZFRpbWUg562J5L+h5oGv44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAqIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqL1xuICAgIGZpbmQ6IGZ1bmN0aW9uIGZpbmQob3B0aW9ucykge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgc2tpcDogdGhpcy5fc2tpcCxcbiAgICAgICAgbGltaXQ6IHRoaXMuX2xpbWl0XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICBwYXRoOiBcIi9iaWdxdWVyeS9qb2JzL1wiLmNvbmNhdCh0aGlzLmlkKSxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcXVlcnk6IHBhcmFtcyxcbiAgICAgICAgYXV0aE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHNpZ25LZXk6IGZhbHNlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZWplY3QobmV3IEFWRXJyb3IocmVzcG9uc2UuY29kZSwgcmVzcG9uc2UuZXJyb3IpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5kZWZhdWx0LnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuLyogNTQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyksXG4gICAgTENSZXF1ZXN0ID0gX3JlcXVpcmUucmVxdWVzdDtcblxudmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLFxuICAgIGdldFNlc3Npb25Ub2tlbiA9IF9yZXF1aXJlMi5nZXRTZXNzaW9uVG9rZW47XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEFWKSB7XG4gIHZhciBnZXRVc2VyV2l0aFNlc3Npb25Ub2tlbiA9IGZ1bmN0aW9uIGdldFVzZXJXaXRoU2Vzc2lvblRva2VuKGF1dGhPcHRpb25zKSB7XG4gICAgaWYgKGF1dGhPcHRpb25zLnVzZXIpIHtcbiAgICAgIGlmICghYXV0aE9wdGlvbnMudXNlci5fc2Vzc2lvblRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYXV0aE9wdGlvbnMudXNlciBpcyBub3Qgc2lnbmVkIGluLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKGF1dGhPcHRpb25zLnVzZXIpO1xuICAgIH1cblxuICAgIGlmIChhdXRoT3B0aW9ucy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHJldHVybiBBVi5Vc2VyLl9mZXRjaFVzZXJCeVNlc3Npb25Ub2tlbihhdXRoT3B0aW9ucy5zZXNzaW9uVG9rZW4pO1xuICAgIH1cblxuICAgIHJldHVybiBBVi5Vc2VyLmN1cnJlbnRBc3luYygpO1xuICB9O1xuXG4gIHZhciBnZXRTZXNzaW9uVG9rZW5Bc3luYyA9IGZ1bmN0aW9uIGdldFNlc3Npb25Ub2tlbkFzeW5jKGF1dGhPcHRpb25zKSB7XG4gICAgdmFyIHNlc3Npb25Ub2tlbiA9IGdldFNlc3Npb25Ub2tlbihhdXRoT3B0aW9ucyk7XG5cbiAgICBpZiAoc2Vzc2lvblRva2VuKSB7XG4gICAgICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKHNlc3Npb25Ub2tlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIEFWLlVzZXIuY3VycmVudEFzeW5jKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHVzZXIuZ2V0U2Vzc2lvblRva2VuKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBDb250YWlucyBmdW5jdGlvbnMgdG8gZGVhbCB3aXRoIEZyaWVuZHNoaXAgaW4gTGVhbkNsb3VkLlxuICAgKiBAY2xhc3NcbiAgICovXG5cblxuICBBVi5GcmllbmRzaGlwID0ge1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgZnJpZW5kc2hpcC5cbiAgICAgKiBAc2luY2UgNC44LjBcbiAgICAgKiBAcGFyYW0ge1N0cmluZyB8IEFWLlVzZXIgfCBPYmplY3R9IG9wdGlvbnMgaWYgYW4gQVYuVXNlciBvciBzdHJpbmcgaXMgZ2l2ZW4sIGl0IHdpbGwgYmUgdXNlZCBhcyB0aGUgZnJpZW5kLlxuICAgICAqIEBwYXJhbSB7QVYuVXNlciB8IHN0cmluZ30gb3B0aW9ucy5mcmllbmQgVGhlIGZyaWVuZCAob3IgZnJpZW5kJ3Mgb2JqZWN0SWQpIHRvIGZvbGxvdy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuYXR0cmlidXRlc10ga2V5LXZhbHVlIGF0dHJpYnV0ZXMgZGljdGlvbmFyeSB0byBiZSB1c2VkIGFzIGNvbmRpdGlvbnMgb2YgZm9sbG93ZWVRdWVyeS5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICAgIHZhciBhdXRoT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgZnJpZW5kO1xuICAgICAgdmFyIGF0dHJpYnV0ZXM7XG5cbiAgICAgIGlmIChvcHRpb25zLmZyaWVuZCkge1xuICAgICAgICBmcmllbmQgPSBvcHRpb25zLmZyaWVuZDtcbiAgICAgICAgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyaWVuZCA9IG9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIHZhciBmcmllbmRPYmogPSBfLmlzU3RyaW5nKGZyaWVuZCkgPyBBVi5PYmplY3QuY3JlYXRlV2l0aG91dERhdGEoJ19Vc2VyJywgZnJpZW5kKSA6IGZyaWVuZDtcbiAgICAgIHJldHVybiBnZXRVc2VyV2l0aFNlc3Npb25Ub2tlbihhdXRoT3B0aW9ucykudGhlbihmdW5jdGlvbiAodXNlck9iaikge1xuICAgICAgICBpZiAoIXVzZXJPYmopIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlci4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMQ1JlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHBhdGg6ICcvdXNlcnMvZnJpZW5kc2hpcFJlcXVlc3RzJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VyOiB1c2VyT2JqLl90b1BvaW50ZXIoKSxcbiAgICAgICAgICAgIGZyaWVuZDogZnJpZW5kT2JqLl90b1BvaW50ZXIoKSxcbiAgICAgICAgICAgIGZyaWVuZHNoaXA6IGF0dHJpYnV0ZXNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGF1dGhPcHRpb25zOiBhdXRoT3B0aW9uc1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBY2NlcHQgYSBmcmllbmRzaGlwIHJlcXVlc3QuXG4gICAgICogQHNpbmNlIDQuOC4wXG4gICAgICogQHBhcmFtIHtBVi5PYmplY3QgfCBzdHJpbmcgfCBPYmplY3R9IG9wdGlvbnMgaWYgYW4gQVYuT2JqZWN0IG9yIHN0cmluZyBpcyBnaXZlbiwgaXQgd2lsbCBiZSB1c2VkIGFzIHRoZSByZXF1ZXN0IGluIF9GcmllbmRzaGlwUmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0FWLk9iamVjdH0gb3B0aW9ucy5yZXF1ZXN0IFRoZSByZXF1ZXN0IChvciBpdCdzIG9iamVjdElkKSB0byBiZSBhY2NlcHRlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuYXR0cmlidXRlc10ga2V5LXZhbHVlIGF0dHJpYnV0ZXMgZGljdGlvbmFyeSB0byBiZSB1c2VkIGFzIGNvbmRpdGlvbnMgb2Yge0BsaW5rIEFWI2ZvbGxvd2VlUXVlcnl9LlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFjY2VwdFJlcXVlc3Q6IGZ1bmN0aW9uIGFjY2VwdFJlcXVlc3Qob3B0aW9ucykge1xuICAgICAgdmFyIGF1dGhPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciByZXF1ZXN0O1xuICAgICAgdmFyIGF0dHJpYnV0ZXM7XG5cbiAgICAgIGlmIChvcHRpb25zLnJlcXVlc3QpIHtcbiAgICAgICAgcmVxdWVzdCA9IG9wdGlvbnMucmVxdWVzdDtcbiAgICAgICAgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3QgPSBvcHRpb25zO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVxdWVzdElkID0gXy5pc1N0cmluZyhyZXF1ZXN0KSA/IHJlcXVlc3QgOiByZXF1ZXN0LmlkO1xuICAgICAgcmV0dXJuIGdldFNlc3Npb25Ub2tlbkFzeW5jKGF1dGhPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlci4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMQ1JlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgcGF0aDogJy91c2Vycy9mcmllbmRzaGlwUmVxdWVzdHMvJyArIHJlcXVlc3RJZCArICcvYWNjZXB0JyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmcmllbmRzaGlwOiBBVi5fZW5jb2RlKGF0dHJpYnV0ZXMpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjbGluZSBhIGZyaWVuZHNoaXAgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0FWLk9iamVjdCB8IHN0cmluZ30gcmVxdWVzdCBUaGUgcmVxdWVzdCAob3IgaXQncyBvYmplY3RJZCkgdG8gYmUgZGVjbGluZWQuXG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgZGVjbGluZVJlcXVlc3Q6IGZ1bmN0aW9uIGRlY2xpbmVSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICAgIHZhciBhdXRoT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgcmVxdWVzdElkID0gXy5pc1N0cmluZyhyZXF1ZXN0KSA/IHJlcXVlc3QgOiByZXF1ZXN0LmlkO1xuICAgICAgcmV0dXJuIGdldFNlc3Npb25Ub2tlbkFzeW5jKGF1dGhPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlci4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMQ1JlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgcGF0aDogJy91c2Vycy9mcmllbmRzaGlwUmVxdWVzdHMvJyArIHJlcXVlc3RJZCArICcvZGVjbGluZScsXG4gICAgICAgICAgYXV0aE9wdGlvbnM6IGF1dGhPcHRpb25zXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqKi8gfSksXG4vKiA1NDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3N0cmluZ2lmeSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzNykpO1xuXG52YXIgXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpLFxuICAgIF9yZXF1ZXN0ID0gX3JlcXVpcmUuX3JlcXVlc3Q7XG5cbnZhciBBViA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG52YXIgc2VyaWFsaXplTWVzc2FnZSA9IGZ1bmN0aW9uIHNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZSkge1xuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cblxuICBpZiAodHlwZW9mIG1lc3NhZ2UuZ2V0UGF5bG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiAoMCwgX3N0cmluZ2lmeS5kZWZhdWx0KShtZXNzYWdlLmdldFBheWxvYWQoKSk7XG4gIH1cblxuICByZXR1cm4gKDAsIF9zdHJpbmdpZnkuZGVmYXVsdCkobWVzc2FnZSk7XG59O1xuLyoqXG4gKiA8cD5BbiBBVi5Db252ZXJzYXRpb24gaXMgYSBsb2NhbCByZXByZXNlbnRhdGlvbiBvZiBhIExlYW5DbG91ZCByZWFsdGltZSdzXG4gKiBjb252ZXJzYXRpb24uIFRoaXMgY2xhc3MgaXMgYSBzdWJjbGFzcyBvZiBBVi5PYmplY3QsIGFuZCByZXRhaW5zIHRoZVxuICogc2FtZSBmdW5jdGlvbmFsaXR5IG9mIGFuIEFWLk9iamVjdCwgYnV0IGFsc28gZXh0ZW5kcyBpdCB3aXRoIHZhcmlvdXNcbiAqIGNvbnZlcnNhdGlvbiBzcGVjaWZpYyBtZXRob2RzLCBsaWtlIGdldCBtZW1iZXJzLCBjcmVhdG9ycyBvZiB0aGlzIGNvbnZlcnNhdGlvbi5cbiAqIDwvcD5cbiAqXG4gKiBAY2xhc3MgQVYuQ29udmVyc2F0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgUm9sZSB0byBjcmVhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmlzU3lzdGVtXSBTZXQgdGhpcyBjb252ZXJzYXRpb24gYXMgc3lzdGVtIGNvbnZlcnNhdGlvbi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaXNUcmFuc2llbnRdIFNldCB0aGlzIGNvbnZlcnNhdGlvbiBhcyB0cmFuc2llbnQgY29udmVyc2F0aW9uLlxuICovXG5cblxubW9kdWxlLmV4cG9ydHMgPSBBVi5PYmplY3QuZXh0ZW5kKCdfQ29udmVyc2F0aW9uJyxcbi8qKiBAbGVuZHMgQVYuQ29udmVyc2F0aW9uLnByb3RvdHlwZSAqL1xue1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gY29uc3RydWN0b3IobmFtZSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBBVi5PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbnVsbCwgbnVsbCk7XG4gICAgdGhpcy5zZXQoJ25hbWUnLCBuYW1lKTtcblxuICAgIGlmIChvcHRpb25zLmlzU3lzdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0KCdzeXMnLCBvcHRpb25zLmlzU3lzdGVtID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5pc1RyYW5zaWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldCgndHInLCBvcHRpb25zLmlzVHJhbnNpZW50ID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGNvbnZlcnNhdGlvbidzIGNyZWF0b3IuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGdldENyZWF0b3I6IGZ1bmN0aW9uIGdldENyZWF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KCdjJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFzdCBtZXNzYWdlJ3MgdGltZS5cbiAgICpcbiAgICogQHJldHVybiB7RGF0ZX1cbiAgICovXG4gIGdldExhc3RNZXNzYWdlQXQ6IGZ1bmN0aW9uIGdldExhc3RNZXNzYWdlQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KCdsbScpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhpcyBjb252ZXJzYXRpb24ncyBtZW1iZXJzXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ1tdfVxuICAgKi9cbiAgZ2V0TWVtYmVyczogZnVuY3Rpb24gZ2V0TWVtYmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJ20nKTtcbiAgfSxcblxuICAvKipcbiAgICogQWRkIGEgbWVtYmVyIHRvIHRoaXMgY29udmVyc2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZW1iZXJcbiAgICovXG4gIGFkZE1lbWJlcjogZnVuY3Rpb24gYWRkTWVtYmVyKG1lbWJlcikge1xuICAgIHJldHVybiB0aGlzLmFkZCgnbScsIG1lbWJlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGlzIGNvbnZlcnNhdGlvbidzIG1lbWJlcnMgd2hvIHNldCB0aGlzIGNvbnZlcnNhdGlvbiBhcyBtdXRlZC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nW119XG4gICAqL1xuICBnZXRNdXRlZE1lbWJlcnM6IGZ1bmN0aW9uIGdldE11dGVkTWVtYmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJ211Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGlzIGNvbnZlcnNhdGlvbidzIG5hbWUgZmllbGQuXG4gICAqXG4gICAqIEByZXR1cm4gU3RyaW5nXG4gICAqL1xuICBnZXROYW1lOiBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnbmFtZScpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBjb252ZXJzYXRpb24gaXMgdHJhbnNpZW50IGNvbnZlcnNhdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGlzVHJhbnNpZW50OiBmdW5jdGlvbiBpc1RyYW5zaWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoJ3RyJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGNvbnZlcnNhdGlvbiBpcyBzeXN0ZW0gY29udmVyc2F0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgaXNTeXN0ZW06IGZ1bmN0aW9uIGlzU3lzdGVtKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgnc3lzJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbmQgcmVhbHRpbWUgbWVzc2FnZSB0byB0aGlzIGNvbnZlcnNhdGlvbiwgdXNpbmcgSFRUUCByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbUNsaWVudCBTZW5kZXIncyBjbGllbnQgaWQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB3aGljaCB3aWxsIHNlbmQgdG8gY29udmVyc2F0aW9uLlxuICAgKiAgICAgSXQgY291bGQgYmUgYSByYXcgc3RyaW5nLCBvciBhbiBvYmplY3Qgd2l0aCBhIGB0b0pTT05gIG1ldGhvZCwgbGlrZSBhXG4gICAqICAgICByZWFsdGltZSBTREsncyBNZXNzYWdlIG9iamVjdC4gU2VlIG1vcmU6IHtAbGluayBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL3JlYWx0aW1lX2d1aWRlLWpzLmh0bWwj5raI5oGvfVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudHJhbnNpZW50XSBXaGV0aGVyIHNlbmQgdGhpcyBtZXNzYWdlIGFzIHRyYW5zaWVudCBtZXNzYWdlIG9yIG5vdC5cbiAgICogQHBhcmFtIHtTdHJpbmdbXX0gW29wdGlvbnMudG9DbGllbnRzXSBJZHMgb2YgY2xpZW50cyB0byBzZW5kIHRvLiBUaGlzIG9wdGlvbiBjYW4gYmUgdXNlZCBvbmx5IGluIHN5c3RlbSBjb252ZXJzYXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wdXNoRGF0YV0gUHVzaCBkYXRhIHRvIHRoaXMgbWVzc2FnZS4gU2VlIG1vcmU6IHtAbGluayBodHRwczovL3VybC5sZWFuYXBwLmNuL3B1c2hEYXRhIOaOqOmAgea2iOaBr+WGheWuuX1cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgc2VuZDogZnVuY3Rpb24gc2VuZChmcm9tQ2xpZW50LCBtZXNzYWdlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBhdXRoT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBmcm9tX3BlZXI6IGZyb21DbGllbnQsXG4gICAgICBjb252X2lkOiB0aGlzLmlkLFxuICAgICAgdHJhbnNpZW50OiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IHNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZSlcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMudG9DbGllbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRhdGEudG9fcGVlcnMgPSBvcHRpb25zLnRvQ2xpZW50cztcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy50cmFuc2llbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YS50cmFuc2llbnQgPSBvcHRpb25zLnRyYW5zaWVudCA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5wdXNoRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkYXRhLnB1c2hfZGF0YSA9IG9wdGlvbnMucHVzaERhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXF1ZXN0KCdydG0nLCAnbWVzc2FnZXMnLCBudWxsLCAnUE9TVCcsIGRhdGEsIGF1dGhPcHRpb25zKTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZCByZWFsdGltZSBicm9hZGNhc3QgbWVzc2FnZSB0byBhbGwgY2xpZW50cywgdmlhIHRoaXMgY29udmVyc2F0aW9uLCB1c2luZyBIVFRQIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tQ2xpZW50IFNlbmRlcidzIGNsaWVudCBpZC5cbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBtZXNzYWdlIFRoZSBtZXNzYWdlIHdoaWNoIHdpbGwgc2VuZCB0byBjb252ZXJzYXRpb24uXG4gICAqICAgICBJdCBjb3VsZCBiZSBhIHJhdyBzdHJpbmcsIG9yIGFuIG9iamVjdCB3aXRoIGEgYHRvSlNPTmAgbWV0aG9kLCBsaWtlIGFcbiAgICogICAgIHJlYWx0aW1lIFNESydzIE1lc3NhZ2Ugb2JqZWN0LiBTZWUgbW9yZToge0BsaW5rIGh0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvcmVhbHRpbWVfZ3VpZGUtanMuaHRtbCPmtojmga99LlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wdXNoRGF0YV0gUHVzaCBkYXRhIHRvIHRoaXMgbWVzc2FnZS4gU2VlIG1vcmU6IHtAbGluayBodHRwczovL3VybC5sZWFuYXBwLmNuL3B1c2hEYXRhIOaOqOmAgea2iOaBr+WGheWuuX0uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy52YWxpZFRpbGxdIFRoZSBtZXNzYWdlIHdpbGwgdmFsaWQgdGlsbCB0aGlzIHRpbWUuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGJyb2FkY2FzdDogZnVuY3Rpb24gYnJvYWRjYXN0KGZyb21DbGllbnQsIG1lc3NhZ2UpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgdmFyIGF1dGhPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGZyb21fcGVlcjogZnJvbUNsaWVudCxcbiAgICAgIGNvbnZfaWQ6IHRoaXMuaWQsXG4gICAgICBtZXNzYWdlOiBzZXJpYWxpemVNZXNzYWdlKG1lc3NhZ2UpXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLnB1c2hEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRhdGEucHVzaCA9IG9wdGlvbnMucHVzaERhdGE7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudmFsaWRUaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciB0cyA9IG9wdGlvbnMudmFsaWRUaWxsO1xuXG4gICAgICBpZiAoXy5pc0RhdGUodHMpKSB7XG4gICAgICAgIHRzID0gdHMuZ2V0VGltZSgpO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zLnZhbGlkX3RpbGwgPSB0cztcbiAgICB9XG5cbiAgICByZXR1cm4gX3JlcXVlc3QoJ3J0bScsICdicm9hZGNhc3QnLCBudWxsLCAnUE9TVCcsIGRhdGEsIGF1dGhPcHRpb25zKTtcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuLyogNTQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcm9taXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSk7XG5cbnZhciBfbWFwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSk7XG5cbnZhciBfY29uY2F0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSk7XG5cbnZhciBfID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyksXG4gICAgcmVxdWVzdCA9IF9yZXF1aXJlLnJlcXVlc3Q7XG5cbnZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxcbiAgICBlbnN1cmVBcnJheSA9IF9yZXF1aXJlMi5lbnN1cmVBcnJheSxcbiAgICBwYXJzZURhdGUgPSBfcmVxdWlyZTIucGFyc2VEYXRlO1xuXG52YXIgQVYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcbi8qKlxuICogVGhlIHZlcnNpb24gY2hhbmdlIGludGVydmFsIGZvciBMZWFkZXJib2FyZFxuICogQGVudW1cbiAqL1xuXG5cbkFWLkxlYWRlcmJvYXJkVmVyc2lvbkNoYW5nZUludGVydmFsID0ge1xuICBORVZFUjogJ25ldmVyJyxcbiAgREFZOiAnZGF5JyxcbiAgV0VFSzogJ3dlZWsnLFxuICBNT05USDogJ21vbnRoJ1xufTtcbi8qKlxuICogVGhlIG9yZGVyIG9mIHRoZSBsZWFkZXJib2FyZCByZXN1bHRzXG4gKiBAZW51bVxuICovXG5cbkFWLkxlYWRlcmJvYXJkT3JkZXIgPSB7XG4gIEFTQ0VORElORzogJ2FzY2VuZGluZycsXG4gIERFU0NFTkRJTkc6ICdkZXNjZW5kaW5nJ1xufTtcbi8qKlxuICogVGhlIHVwZGF0ZSBzdHJhdGVneSBmb3IgTGVhZGVyYm9hcmRcbiAqIEBlbnVtXG4gKi9cblxuQVYuTGVhZGVyYm9hcmRVcGRhdGVTdHJhdGVneSA9IHtcbiAgLyoqIE9ubHkga2VlcCB0aGUgYmVzdCBzdGF0aXN0aWMuIElmIHRoZSBsZWFkZXJib2FyZCBpcyBpbiBkZXNjZW5kaW5nIG9yZGVyLCB0aGUgYmVzdCBzdGF0aXN0aWMgaXMgdGhlIGhpZ2hlc3Qgb25lLiAqL1xuICBCRVRURVI6ICdiZXR0ZXInLFxuXG4gIC8qKiBLZWVwIHRoZSBsYXN0IHVwZGF0ZWQgc3RhdGlzdGljICovXG4gIExBU1Q6ICdsYXN0JyxcblxuICAvKiogS2VlcCB0aGUgc3VtIG9mIGFsbCB1cGRhdGVkIHN0YXRpc3RpY3MgKi9cbiAgU1VNOiAnc3VtJ1xufTtcbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmFua2luZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhbmsgU3RhcnRzIGF0IDBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB2YWx1ZSB0aGUgc3RhdGlzdGljIHZhbHVlIG9mIHRoaXMgcmFua2luZ1xuICogQHByb3BlcnR5IHtBVi5Vc2VyfSB1c2VyIFRoZSB1c2VyIG9mIHRoaXMgcmFua2luZ1xuICogQHByb3BlcnR5IHtTdGF0aXN0aWNbXX0gW2luY2x1ZGVkU3RhdGlzdGljc10gT3RoZXIgc3RhdGlzdGljcyBvZiB0aGUgdXNlciwgc3BlY2lmaWVkIGJ5IHRoZSBgaW5jbHVkZVN0YXRpc3RpY2Agb3B0aW9uIG9mIGBBVi5MZWFkZXJib2FyZC5nZXRSZXN1bHRzKClgXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMZWFkZXJib2FyZEFyY2hpdmVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0aXN0aWNOYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdmVyc2lvbiB2ZXJzaW9uIG9mIHRoZSBsZWFkZXJib2FyZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXR1c1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybCBVUkwgZm9yIHRoZSBkb3dubG9hZGFibGUgYXJjaGl2ZVxuICogQHByb3BlcnR5IHtEYXRlfSBhY3RpdmF0ZWRBdCB0aW1lIHdoZW4gdGhpcyB2ZXJzaW9uIGJlY2FtZSBhY3RpdmVcbiAqIEBwcm9wZXJ0eSB7RGF0ZX0gZGVhY3RpdmF0ZWRBdCB0aW1lIHdoZW4gdGhpcyB2ZXJzaW9uIHdhcyBkZWFjdGl2YXRlZCBieSBhIHZlcnNpb24gaW5jcmVtZW50aW5nXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuXG5mdW5jdGlvbiBTdGF0aXN0aWMoX3JlZikge1xuICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgIHZlcnNpb24gPSBfcmVmLnZlcnNpb247XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLm5hbWUgPSBuYW1lO1xuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG5cbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAvKipcbiAgICogQHR5cGUge251bWJlcj99XG4gICAqL1xuXG4gIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG59XG5cbnZhciBwYXJzZVN0YXRpc3RpY0RhdGEgPSBmdW5jdGlvbiBwYXJzZVN0YXRpc3RpY0RhdGEoc3RhdGlzdGljRGF0YSkge1xuICB2YXIgX0FWJF9kZWNvZGUgPSBBVi5fZGVjb2RlKHN0YXRpc3RpY0RhdGEpLFxuICAgICAgbmFtZSA9IF9BViRfZGVjb2RlLnN0YXRpc3RpY05hbWUsXG4gICAgICB2YWx1ZSA9IF9BViRfZGVjb2RlLnN0YXRpc3RpY1ZhbHVlLFxuICAgICAgdmVyc2lvbiA9IF9BViRfZGVjb2RlLnZlcnNpb247XG5cbiAgcmV0dXJuIG5ldyBTdGF0aXN0aWMoe1xuICAgIG5hbWU6IG5hbWUsXG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIHZlcnNpb246IHZlcnNpb25cbiAgfSk7XG59O1xuLyoqXG4gKiBAY2xhc3NcbiAqL1xuXG5cbkFWLkxlYWRlcmJvYXJkID0gZnVuY3Rpb24gTGVhZGVyYm9hcmQoc3RhdGlzdGljTmFtZSkge1xuICAvKipcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMuc3RhdGlzdGljTmFtZSA9IHN0YXRpc3RpY05hbWU7XG4gIC8qKlxuICAgKiBAdHlwZSB7QVYuTGVhZGVyYm9hcmRPcmRlcn1cbiAgICovXG5cbiAgdGhpcy5vcmRlciA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtBVi5MZWFkZXJib2FyZFVwZGF0ZVN0cmF0ZWd5fVxuICAgKi9cblxuICB0aGlzLnVwZGF0ZVN0cmF0ZWd5ID0gdW5kZWZpbmVkO1xuICAvKipcbiAgICogQHR5cGUge0FWLkxlYWRlcmJvYXJkVmVyc2lvbkNoYW5nZUludGVydmFsfVxuICAgKi9cblxuICB0aGlzLnZlcnNpb25DaGFuZ2VJbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuXG4gIHRoaXMudmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtEYXRlP31cbiAgICovXG5cbiAgdGhpcy5uZXh0UmVzZXRBdCA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtEYXRlP31cbiAgICovXG5cbiAgdGhpcy5jcmVhdGVkQXQgPSB1bmRlZmluZWQ7XG59O1xuXG52YXIgTGVhZGVyYm9hcmQgPSBBVi5MZWFkZXJib2FyZDtcbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIExlYWRlcmJvYXJkIGZvciB0aGUgZ2l2ZSBzdGF0aXN0aWMgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0aXN0aWNOYW1lXG4gKiBAcmV0dXJuIHtBVi5MZWFkZXJib2FyZH1cbiAqL1xuXG5BVi5MZWFkZXJib2FyZC5jcmVhdGVXaXRob3V0RGF0YSA9IGZ1bmN0aW9uIChzdGF0aXN0aWNOYW1lKSB7XG4gIHJldHVybiBuZXcgTGVhZGVyYm9hcmQoc3RhdGlzdGljTmFtZSk7XG59O1xuLyoqXG4gKiAobWFzdGVyS2V5IHJlcXVpcmVkKSBDcmVhdGUgYSBuZXcgTGVhZGVyYm9hcmQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc3RhdGlzdGljTmFtZVxuICogQHBhcmFtIHtBVi5MZWFkZXJib2FyZE9yZGVyfSBvcHRpb25zLm9yZGVyXG4gKiBAcGFyYW0ge0FWLkxlYWRlcmJvYXJkVmVyc2lvbkNoYW5nZUludGVydmFsfSBbb3B0aW9ucy52ZXJzaW9uQ2hhbmdlSW50ZXJ2YWxdIGRlZmF1bHQgdG8gV0VFS1xuICogQHBhcmFtIHtBVi5MZWFkZXJib2FyZFVwZGF0ZVN0cmF0ZWd5fSBbb3B0aW9ucy51cGRhdGVTdHJhdGVneV0gZGVmYXVsdCB0byBCRVRURVJcbiAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAqIEByZXR1cm4ge1Byb21pc2U8QVYuTGVhZGVyYm9hcmQ+fVxuICovXG5cblxuQVYuTGVhZGVyYm9hcmQuY3JlYXRlTGVhZGVyYm9hcmQgPSBmdW5jdGlvbiAoX3JlZjIsIGF1dGhPcHRpb25zKSB7XG4gIHZhciBzdGF0aXN0aWNOYW1lID0gX3JlZjIuc3RhdGlzdGljTmFtZSxcbiAgICAgIG9yZGVyID0gX3JlZjIub3JkZXIsXG4gICAgICB2ZXJzaW9uQ2hhbmdlSW50ZXJ2YWwgPSBfcmVmMi52ZXJzaW9uQ2hhbmdlSW50ZXJ2YWwsXG4gICAgICB1cGRhdGVTdHJhdGVneSA9IF9yZWYyLnVwZGF0ZVN0cmF0ZWd5O1xuICByZXR1cm4gcmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgcGF0aDogJy9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMnLFxuICAgIGRhdGE6IHtcbiAgICAgIHN0YXRpc3RpY05hbWU6IHN0YXRpc3RpY05hbWUsXG4gICAgICBvcmRlcjogb3JkZXIsXG4gICAgICB2ZXJzaW9uQ2hhbmdlSW50ZXJ2YWw6IHZlcnNpb25DaGFuZ2VJbnRlcnZhbCxcbiAgICAgIHVwZGF0ZVN0cmF0ZWd5OiB1cGRhdGVTdHJhdGVneVxuICAgIH0sXG4gICAgYXV0aE9wdGlvbnM6IGF1dGhPcHRpb25zXG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgbGVhZGVyYm9hcmQgPSBuZXcgTGVhZGVyYm9hcmQoc3RhdGlzdGljTmFtZSk7XG4gICAgcmV0dXJuIGxlYWRlcmJvYXJkLl9maW5pc2hGZXRjaChkYXRhKTtcbiAgfSk7XG59O1xuLyoqXG4gKiBHZXQgdGhlIExlYWRlcmJvYXJkIHdpdGggdGhlIHNwZWNpZmllZCBzdGF0aXN0aWMgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0aXN0aWNOYW1lXG4gKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gKiBAcmV0dXJuIHtQcm9taXNlPEFWLkxlYWRlcmJvYXJkPn1cbiAqL1xuXG5cbkFWLkxlYWRlcmJvYXJkLmdldExlYWRlcmJvYXJkID0gZnVuY3Rpb24gKHN0YXRpc3RpY05hbWUsIGF1dGhPcHRpb25zKSB7XG4gIHJldHVybiBMZWFkZXJib2FyZC5jcmVhdGVXaXRob3V0RGF0YShzdGF0aXN0aWNOYW1lKS5mZXRjaChhdXRoT3B0aW9ucyk7XG59O1xuLyoqXG4gKiBHZXQgU3RhdGlzdGljcyBmb3IgdGhlIHNwZWNpZmllZCB1c2VyLlxuICogQHBhcmFtIHtBVi5Vc2VyfSB1c2VyIFRoZSBzcGVjaWZpZWQgQVYuVXNlciBwb2ludGVyLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuc3RhdGlzdGljTmFtZXNdIFNwZWNpZnkgdGhlIHN0YXRpc3RpY05hbWVzLiBJZiBub3Qgc2V0LCBhbGwgc3RhdGlzdGljcyBvZiB0aGUgdXNlciB3aWxsIGJlIGZldGNoZWQuXG4gKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gKiBAcmV0dXJuIHtQcm9taXNlPFN0YXRpc3RpY1tdPn1cbiAqL1xuXG5cbkFWLkxlYWRlcmJvYXJkLmdldFN0YXRpc3RpY3MgPSBmdW5jdGlvbiAodXNlcikge1xuICB2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgc3RhdGlzdGljTmFtZXMgPSBfcmVmMy5zdGF0aXN0aWNOYW1lcztcblxuICB2YXIgYXV0aE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGlmICghKHVzZXIgJiYgdXNlci5pZCkpIHRocm93IG5ldyBFcnJvcigndXNlciBtdXN0IGJlIGFuIEFWLlVzZXInKTtcbiAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGF0aDogXCIvbGVhZGVyYm9hcmQvdXNlcnMvXCIuY29uY2F0KHVzZXIuaWQsIFwiL3N0YXRpc3RpY3NcIiksXG4gICAgICBxdWVyeToge1xuICAgICAgICBzdGF0aXN0aWNzOiBzdGF0aXN0aWNOYW1lcyA/IGVuc3VyZUFycmF5KHN0YXRpc3RpY05hbWVzKS5qb2luKCcsJykgOiB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBfcmVmNC5yZXN1bHRzO1xuICAgICAgcmV0dXJuICgwLCBfbWFwLmRlZmF1bHQpKHJlc3VsdHMpLmNhbGwocmVzdWx0cywgcGFyc2VTdGF0aXN0aWNEYXRhKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuLyoqXG4gKiBVcGRhdGUgU3RhdGlzdGljcyBmb3IgdGhlIHNwZWNpZmllZCB1c2VyLlxuICogQHBhcmFtIHtBVi5Vc2VyfSB1c2VyIFRoZSBzcGVjaWZpZWQgQVYuVXNlciBwb2ludGVyLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRpc3RpY3MgQSBuYW1lLXZhbHVlIHBhaXIgcmVwcmVzZW50aW5nIHRoZSBzdGF0aXN0aWNzIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXSBBdXRoT3B0aW9ucyBwbHVzOlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vdmVyd3JpdGVdIFdldGhlcmUgdG8gb3ZlcndyaXRlIHRoZXNlIHN0YXRpc3RpY3MgZGlzcmVnYXJkaW5nIHRoZSB1cGRhdGVTdHJhdGVneSBvZiB0aGVyZSBsZWFkZXJib2FyZHNcbiAqIEByZXR1cm4ge1Byb21pc2U8U3RhdGlzdGljW10+fVxuICovXG5cblxuQVYuTGVhZGVyYm9hcmQudXBkYXRlU3RhdGlzdGljcyA9IGZ1bmN0aW9uICh1c2VyLCBzdGF0aXN0aWNzKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgcmV0dXJuIF9wcm9taXNlLmRlZmF1bHQucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGlmICghKHVzZXIgJiYgdXNlci5pZCkpIHRocm93IG5ldyBFcnJvcigndXNlciBtdXN0IGJlIGFuIEFWLlVzZXInKTtcbiAgICB2YXIgZGF0YSA9ICgwLCBfbWFwLmRlZmF1bHQpKF8pLmNhbGwoXywgc3RhdGlzdGljcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXRpc3RpY05hbWU6IGtleSxcbiAgICAgICAgc3RhdGlzdGljVmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHZhciBvdmVyd3JpdGUgPSBvcHRpb25zLm92ZXJ3cml0ZTtcbiAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHBhdGg6IFwiL2xlYWRlcmJvYXJkL3VzZXJzL1wiLmNvbmNhdCh1c2VyLmlkLCBcIi9zdGF0aXN0aWNzXCIpLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgb3ZlcndyaXRlOiBvdmVyd3JpdGUgPyAxIDogdW5kZWZpbmVkXG4gICAgICB9LFxuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zXG4gICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICAgIHZhciByZXN1bHRzID0gX3JlZjUucmVzdWx0cztcbiAgICAgIHJldHVybiAoMCwgX21hcC5kZWZhdWx0KShyZXN1bHRzKS5jYWxsKHJlc3VsdHMsIHBhcnNlU3RhdGlzdGljRGF0YSk7XG4gICAgfSk7XG4gIH0pO1xufTtcbi8qKlxuICogRGVsZXRlIFN0YXRpc3RpY3MgZm9yIHRoZSBzcGVjaWZpZWQgdXNlci5cbiAqIEBwYXJhbSB7QVYuVXNlcn0gdXNlciBUaGUgc3BlY2lmaWVkIEFWLlVzZXIgcG9pbnRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0aXN0aWNzIEEgbmFtZS12YWx1ZSBwYWlyIHJlcHJlc2VudGluZyB0aGUgc3RhdGlzdGljcyB0byBkZWxldGUuXG4gKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gKi9cblxuXG5BVi5MZWFkZXJib2FyZC5kZWxldGVTdGF0aXN0aWNzID0gZnVuY3Rpb24gKHVzZXIsIHN0YXRpc3RpY05hbWVzLCBhdXRoT3B0aW9ucykge1xuICByZXR1cm4gX3Byb21pc2UuZGVmYXVsdC5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEodXNlciAmJiB1c2VyLmlkKSkgdGhyb3cgbmV3IEVycm9yKCd1c2VyIG11c3QgYmUgYW4gQVYuVXNlcicpO1xuICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBwYXRoOiBcIi9sZWFkZXJib2FyZC91c2Vycy9cIi5jb25jYXQodXNlci5pZCwgXCIvc3RhdGlzdGljc1wiKSxcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIHN0YXRpc3RpY3M6IGVuc3VyZUFycmF5KHN0YXRpc3RpY05hbWVzKS5qb2luKCcsJylcbiAgICAgIH0sXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuXy5leHRlbmQoTGVhZGVyYm9hcmQucHJvdG90eXBlLFxuLyoqIEBsZW5kcyBBVi5MZWFkZXJib2FyZC5wcm90b3R5cGUgKi9cbntcbiAgX2ZpbmlzaEZldGNoOiBmdW5jdGlvbiBfZmluaXNoRmV0Y2goZGF0YSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICd1cGRhdGVkQXQnIHx8IGtleSA9PT0gJ29iamVjdElkJykgcmV0dXJuO1xuXG4gICAgICBpZiAoa2V5ID09PSAnZXhwaXJlZEF0Jykge1xuICAgICAgICBrZXkgPSAnbmV4dFJlc2V0QXQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09PSAnY3JlYXRlZEF0Jykge1xuICAgICAgICB2YWx1ZSA9IHBhcnNlRGF0ZSh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5fX3R5cGUgPT09ICdEYXRlJykge1xuICAgICAgICB2YWx1ZSA9IHBhcnNlRGF0ZSh2YWx1ZS5pc28pO1xuICAgICAgfVxuXG4gICAgICBfdGhpc1trZXldID0gdmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogRmV0Y2ggZGF0YSBmcm9tIHRoZSBzcmV2ZXIuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICogQHJldHVybiB7UHJvbWlzZTxBVi5MZWFkZXJib2FyZD59XG4gICAqL1xuICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goYXV0aE9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiBcIi9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvXCIuY29uY2F0KHRoaXMuc3RhdGlzdGljTmFtZSksXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLl9maW5pc2hGZXRjaChkYXRhKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ291bnRzIHRoZSBudW1iZXIgb2YgdXNlcnMgcGFydGljaXBhdGVkIGluIHRoaXMgbGVhZGVyYm9hcmRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVyc2lvbl0gU3BlY2lmeSB0aGUgdmVyc2lvbiBvZiB0aGUgbGVhZGVyYm9hcmRcbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPG51bWJlcj59XG4gICAqL1xuICBjb3VudDogZnVuY3Rpb24gY291bnQoKSB7XG4gICAgdmFyIF9yZWY2ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgdmVyc2lvbiA9IF9yZWY2LnZlcnNpb247XG5cbiAgICB2YXIgYXV0aE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGF0aDogXCIvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmRzL1wiLmNvbmNhdCh0aGlzLnN0YXRpc3RpY05hbWUsIFwiL3JhbmtzXCIpLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICAgIGxpbWl0OiAwLFxuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uXG4gICAgICB9LFxuICAgICAgYXV0aE9wdGlvbnM6IGF1dGhPcHRpb25zXG4gICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjcpIHtcbiAgICAgIHZhciBjb3VudCA9IF9yZWY3LmNvdW50O1xuICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH0pO1xuICB9LFxuICBfZ2V0UmVzdWx0czogZnVuY3Rpb24gX2dldFJlc3VsdHMoX3JlZjgsIGF1dGhPcHRpb25zLCB1c2VySWQpIHtcbiAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICB2YXIgc2tpcCA9IF9yZWY4LnNraXAsXG4gICAgICAgIGxpbWl0ID0gX3JlZjgubGltaXQsXG4gICAgICAgIHNlbGVjdFVzZXJLZXlzID0gX3JlZjguc2VsZWN0VXNlcktleXMsXG4gICAgICAgIGluY2x1ZGVVc2VyS2V5cyA9IF9yZWY4LmluY2x1ZGVVc2VyS2V5cyxcbiAgICAgICAgaW5jbHVkZVN0YXRpc3RpY3MgPSBfcmVmOC5pbmNsdWRlU3RhdGlzdGljcyxcbiAgICAgICAgdmVyc2lvbiA9IF9yZWY4LnZlcnNpb247XG4gICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhdGg6ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0ID0gXCIvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmRzL1wiLmNvbmNhdCh0aGlzLnN0YXRpc3RpY05hbWUsIFwiL3JhbmtzXCIpKS5jYWxsKF9jb250ZXh0LCB1c2VySWQgPyBcIi9cIi5jb25jYXQodXNlcklkKSA6ICcnKSxcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIHNraXA6IHNraXAsXG4gICAgICAgIGxpbWl0OiBsaW1pdCxcbiAgICAgICAgc2VsZWN0VXNlcktleXM6IF8udW5pb24oZW5zdXJlQXJyYXkoc2VsZWN0VXNlcktleXMpLCBlbnN1cmVBcnJheShpbmNsdWRlVXNlcktleXMpKS5qb2luKCcsJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICBpbmNsdWRlVXNlcjogaW5jbHVkZVVzZXJLZXlzID8gZW5zdXJlQXJyYXkoaW5jbHVkZVVzZXJLZXlzKS5qb2luKCcsJykgOiB1bmRlZmluZWQsXG4gICAgICAgIGluY2x1ZGVTdGF0aXN0aWNzOiBpbmNsdWRlU3RhdGlzdGljcyA/IGVuc3VyZUFycmF5KGluY2x1ZGVTdGF0aXN0aWNzKS5qb2luKCcsJykgOiB1bmRlZmluZWQsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb25cbiAgICAgIH0sXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmOSkge1xuICAgICAgdmFyIHJhbmtpbmdzID0gX3JlZjkucmVzdWx0cztcbiAgICAgIHJldHVybiAoMCwgX21hcC5kZWZhdWx0KShyYW5raW5ncykuY2FsbChyYW5raW5ncywgZnVuY3Rpb24gKHJhbmtpbmdEYXRhKSB7XG4gICAgICAgIHZhciBfQVYkX2RlY29kZTIgPSBBVi5fZGVjb2RlKHJhbmtpbmdEYXRhKSxcbiAgICAgICAgICAgIHVzZXIgPSBfQVYkX2RlY29kZTIudXNlcixcbiAgICAgICAgICAgIHZhbHVlID0gX0FWJF9kZWNvZGUyLnN0YXRpc3RpY1ZhbHVlLFxuICAgICAgICAgICAgcmFuayA9IF9BViRfZGVjb2RlMi5yYW5rLFxuICAgICAgICAgICAgX0FWJF9kZWNvZGUyJHN0YXRpc3RpID0gX0FWJF9kZWNvZGUyLnN0YXRpc3RpY3MsXG4gICAgICAgICAgICBzdGF0aXN0aWNzID0gX0FWJF9kZWNvZGUyJHN0YXRpc3RpID09PSB2b2lkIDAgPyBbXSA6IF9BViRfZGVjb2RlMiRzdGF0aXN0aTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHJhbms6IHJhbmssXG4gICAgICAgICAgaW5jbHVkZWRTdGF0aXN0aWNzOiAoMCwgX21hcC5kZWZhdWx0KShzdGF0aXN0aWNzKS5jYWxsKHN0YXRpc3RpY3MsIHBhcnNlU3RhdGlzdGljRGF0YSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBhIGxpc3Qgb2YgcmFua2VkIHVzZXJzIGZvciB0aGlzIExlYWRlcmJvYXJkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5za2lwXSBUaGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC4gVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW1pdF0gVGhlIGxpbWl0IG9mIHRoZSBudW1iZXIgb2YgcmVzdWx0cy5cbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuc2VsZWN0VXNlcktleXNdIFNwZWNpZnkga2V5cyBvZiB0aGUgdXNlcnMgdG8gaW5jbHVkZSBpbiB0aGUgUmFua2luZ3NcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuaW5jbHVkZVVzZXJLZXlzXSBJZiB0aGUgdmFsdWUgb2YgYSBzZWxlY3RlZCB1c2VyIGtleXMgaXMgYSBQb2ludGVyLCB1c2UgdGhpcyBvcHRpb25zIHRvIGluY2x1ZGUgaXRzIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3B0aW9ucy5pbmNsdWRlU3RhdGlzdGljc10gU3BlY2lmeSBvdGhlciBzdGF0aXN0aWNzIHRvIGluY2x1ZGUgaW4gdGhlIFJhbmtpbmdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJzaW9uXSBTcGVjaWZ5IHRoZSB2ZXJzaW9uIG9mIHRoZSBsZWFkZXJib2FyZFxuICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAqIEByZXR1cm4ge1Byb21pc2U8UmFua2luZ1tdPn1cbiAgICovXG4gIGdldFJlc3VsdHM6IGZ1bmN0aW9uIGdldFJlc3VsdHMoKSB7XG4gICAgdmFyIF9yZWYxMCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgIHNraXAgPSBfcmVmMTAuc2tpcCxcbiAgICAgICAgbGltaXQgPSBfcmVmMTAubGltaXQsXG4gICAgICAgIHNlbGVjdFVzZXJLZXlzID0gX3JlZjEwLnNlbGVjdFVzZXJLZXlzLFxuICAgICAgICBpbmNsdWRlVXNlcktleXMgPSBfcmVmMTAuaW5jbHVkZVVzZXJLZXlzLFxuICAgICAgICBpbmNsdWRlU3RhdGlzdGljcyA9IF9yZWYxMC5pbmNsdWRlU3RhdGlzdGljcyxcbiAgICAgICAgdmVyc2lvbiA9IF9yZWYxMC52ZXJzaW9uO1xuXG4gICAgdmFyIGF1dGhPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHRoaXMuX2dldFJlc3VsdHMoe1xuICAgICAgc2tpcDogc2tpcCxcbiAgICAgIGxpbWl0OiBsaW1pdCxcbiAgICAgIHNlbGVjdFVzZXJLZXlzOiBzZWxlY3RVc2VyS2V5cyxcbiAgICAgIGluY2x1ZGVVc2VyS2V5czogaW5jbHVkZVVzZXJLZXlzLFxuICAgICAgaW5jbHVkZVN0YXRpc3RpY3M6IGluY2x1ZGVTdGF0aXN0aWNzLFxuICAgICAgdmVyc2lvbjogdmVyc2lvblxuICAgIH0sIGF1dGhPcHRpb25zKTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmUgYSBsaXN0IG9mIHJhbmtlZCB1c2VycyBmb3IgdGhpcyBMZWFkZXJib2FyZCwgY2VudGVyZWQgb24gdGhlIHNwZWNpZmllZCB1c2VyLlxuICAgKiBAcGFyYW0ge0FWLlVzZXJ9IHVzZXIgVGhlIHNwZWNpZmllZCBBVi5Vc2VyIHBvaW50ZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbWl0XSBUaGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3B0aW9ucy5zZWxlY3RVc2VyS2V5c10gU3BlY2lmeSBrZXlzIG9mIHRoZSB1c2VycyB0byBpbmNsdWRlIGluIHRoZSBSYW5raW5nc1xuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3B0aW9ucy5pbmNsdWRlVXNlcktleXNdIElmIHRoZSB2YWx1ZSBvZiBhIHNlbGVjdGVkIHVzZXIga2V5cyBpcyBhIFBvaW50ZXIsIHVzZSB0aGlzIG9wdGlvbnMgdG8gaW5jbHVkZSBpdHMgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLmluY2x1ZGVTdGF0aXN0aWNzXSBTcGVjaWZ5IG90aGVyIHN0YXRpc3RpY3MgdG8gaW5jbHVkZSBpbiB0aGUgUmFua2luZ3NcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnZlcnNpb25dIFNwZWNpZnkgdGhlIHZlcnNpb24gb2YgdGhlIGxlYWRlcmJvYXJkXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICogQHJldHVybiB7UHJvbWlzZTxSYW5raW5nW10+fVxuICAgKi9cbiAgZ2V0UmVzdWx0c0Fyb3VuZFVzZXI6IGZ1bmN0aW9uIGdldFJlc3VsdHNBcm91bmRVc2VyKHVzZXIpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGF1dGhPcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBnZXRSZXN1bHRzQXJvdW5kVXNlcihvcHRpb25zLCBhdXRoT3B0aW9ucylcbiAgICBpZiAodXNlciAmJiB0eXBlb2YgdXNlci5pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFJlc3VsdHNBcm91bmRVc2VyKHVuZGVmaW5lZCwgdXNlciwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gb3B0aW9ucy5saW1pdCxcbiAgICAgICAgc2VsZWN0VXNlcktleXMgPSBvcHRpb25zLnNlbGVjdFVzZXJLZXlzLFxuICAgICAgICBpbmNsdWRlVXNlcktleXMgPSBvcHRpb25zLmluY2x1ZGVVc2VyS2V5cyxcbiAgICAgICAgaW5jbHVkZVN0YXRpc3RpY3MgPSBvcHRpb25zLmluY2x1ZGVTdGF0aXN0aWNzLFxuICAgICAgICB2ZXJzaW9uID0gb3B0aW9ucy52ZXJzaW9uO1xuICAgIHJldHVybiB0aGlzLl9nZXRSZXN1bHRzKHtcbiAgICAgIGxpbWl0OiBsaW1pdCxcbiAgICAgIHNlbGVjdFVzZXJLZXlzOiBzZWxlY3RVc2VyS2V5cyxcbiAgICAgIGluY2x1ZGVVc2VyS2V5czogaW5jbHVkZVVzZXJLZXlzLFxuICAgICAgaW5jbHVkZVN0YXRpc3RpY3M6IGluY2x1ZGVTdGF0aXN0aWNzLFxuICAgICAgdmVyc2lvbjogdmVyc2lvblxuICAgIH0sIGF1dGhPcHRpb25zLCB1c2VyID8gdXNlci5pZCA6ICdzZWxmJyk7XG4gIH0sXG4gIF91cGRhdGU6IGZ1bmN0aW9uIF91cGRhdGUoZGF0YSwgYXV0aE9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBwYXRoOiBcIi9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvXCIuY29uY2F0KHRoaXMuc3RhdGlzdGljTmFtZSksXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgYXV0aE9wdGlvbnM6IGF1dGhPcHRpb25zXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gX3RoaXMzLl9maW5pc2hGZXRjaChyZXN1bHQpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiAobWFzdGVyS2V5IHJlcXVpcmVkKSBVcGRhdGUgdGhlIHZlcnNpb24gY2hhbmdlIGludGVydmFsIG9mIHRoZSBMZWFkZXJib2FyZC5cbiAgICogQHBhcmFtIHtBVi5MZWFkZXJib2FyZFZlcnNpb25DaGFuZ2VJbnRlcnZhbH0gdmVyc2lvbkNoYW5nZUludGVydmFsXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICogQHJldHVybiB7UHJvbWlzZTxBVi5MZWFkZXJib2FyZD59XG4gICAqL1xuICB1cGRhdGVWZXJzaW9uQ2hhbmdlSW50ZXJ2YWw6IGZ1bmN0aW9uIHVwZGF0ZVZlcnNpb25DaGFuZ2VJbnRlcnZhbCh2ZXJzaW9uQ2hhbmdlSW50ZXJ2YWwsIGF1dGhPcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh7XG4gICAgICB2ZXJzaW9uQ2hhbmdlSW50ZXJ2YWw6IHZlcnNpb25DaGFuZ2VJbnRlcnZhbFxuICAgIH0sIGF1dGhPcHRpb25zKTtcbiAgfSxcblxuICAvKipcbiAgICogKG1hc3RlcktleSByZXF1aXJlZCkgVXBkYXRlIHRoZSB2ZXJzaW9uIGNoYW5nZSBpbnRlcnZhbCBvZiB0aGUgTGVhZGVyYm9hcmQuXG4gICAqIEBwYXJhbSB7QVYuTGVhZGVyYm9hcmRVcGRhdGVTdHJhdGVneX0gdXBkYXRlU3RyYXRlZ3lcbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLkxlYWRlcmJvYXJkPn1cbiAgICovXG4gIHVwZGF0ZVVwZGF0ZVN0cmF0ZWd5OiBmdW5jdGlvbiB1cGRhdGVVcGRhdGVTdHJhdGVneSh1cGRhdGVTdHJhdGVneSwgYXV0aE9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlKHtcbiAgICAgIHVwZGF0ZVN0cmF0ZWd5OiB1cGRhdGVTdHJhdGVneVxuICAgIH0sIGF1dGhPcHRpb25zKTtcbiAgfSxcblxuICAvKipcbiAgICogKG1hc3RlcktleSByZXF1aXJlZCkgUmVzZXQgdGhlIExlYWRlcmJvYXJkLiBUaGUgdmVyc2lvbiBvZiB0aGUgTGVhZGVyYm9hcmQgd2lsbCBiZSBpbmNyZW1lbnRlZCBieSAxLlxuICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QVYuTGVhZGVyYm9hcmQ+fVxuICAgKi9cbiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGF1dGhPcHRpb25zKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgcGF0aDogXCIvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmRzL1wiLmNvbmNhdCh0aGlzLnN0YXRpc3RpY05hbWUsIFwiL2luY3JlbWVudFZlcnNpb25cIiksXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICByZXR1cm4gX3RoaXM0Ll9maW5pc2hGZXRjaChkYXRhKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogKG1hc3RlcktleSByZXF1aXJlZCkgRGVsZXRlIHRoZSBMZWFkZXJib2FyZCBhbmQgaXRzIGFsbCBhcmNoaXZlZCB2ZXJzaW9ucy5cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShhdXRoT3B0aW9ucykge1xuICAgIHJldHVybiBBVi5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBwYXRoOiBcIi9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvXCIuY29uY2F0KHRoaXMuc3RhdGlzdGljTmFtZSksXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIChtYXN0ZXJLZXkgcmVxdWlyZWQpIEdldCBhcmNoaXZlZCB2ZXJzaW9ucy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2tpcF0gVGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHNraXAuIFRoaXMgaXMgdXNlZnVsIGZvciBwYWdpbmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGltaXRdIFRoZSBsaW1pdCBvZiB0aGUgbnVtYmVyIG9mIHJlc3VsdHMuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICogQHJldHVybiB7UHJvbWlzZTxMZWFkZXJib2FyZEFyY2hpdmVbXT59XG4gICAqL1xuICBnZXRBcmNoaXZlczogZnVuY3Rpb24gZ2V0QXJjaGl2ZXMoKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB2YXIgX3JlZjExID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgc2tpcCA9IF9yZWYxMS5za2lwLFxuICAgICAgICBsaW1pdCA9IF9yZWYxMS5saW1pdDtcblxuICAgIHZhciBhdXRoT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiBcIi9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvXCIuY29uY2F0KHRoaXMuc3RhdGlzdGljTmFtZSwgXCIvYXJjaGl2ZXNcIiksXG4gICAgICBxdWVyeToge1xuICAgICAgICBza2lwOiBza2lwLFxuICAgICAgICBsaW1pdDogbGltaXRcbiAgICAgIH0sXG4gICAgICBhdXRoT3B0aW9uczogYXV0aE9wdGlvbnNcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMTIpIHtcbiAgICAgIHZhciByZXN1bHRzID0gX3JlZjEyLnJlc3VsdHM7XG4gICAgICByZXR1cm4gKDAsIF9tYXAuZGVmYXVsdCkocmVzdWx0cykuY2FsbChyZXN1bHRzLCBmdW5jdGlvbiAoX3JlZjEzKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gX3JlZjEzLnZlcnNpb24sXG4gICAgICAgICAgICBzdGF0dXMgPSBfcmVmMTMuc3RhdHVzLFxuICAgICAgICAgICAgdXJsID0gX3JlZjEzLnVybCxcbiAgICAgICAgICAgIGFjdGl2YXRlZEF0ID0gX3JlZjEzLmFjdGl2YXRlZEF0LFxuICAgICAgICAgICAgZGVhY3RpdmF0ZWRBdCA9IF9yZWYxMy5kZWFjdGl2YXRlZEF0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXRpc3RpY05hbWU6IF90aGlzNS5zdGF0aXN0aWNOYW1lLFxuICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgYWN0aXZhdGVkQXQ6IHBhcnNlRGF0ZShhY3RpdmF0ZWRBdC5pc28pLFxuICAgICAgICAgIGRlYWN0aXZhdGVkQXQ6IHBhcnNlRGF0ZShkZWFjdGl2YXRlZEF0LmlzbylcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcblxuLyoqKi8gfSksXG4vKiA1NDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGFkYXB0ZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NDUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChBVikge1xuICBBVi5zZXRBZGFwdGVycyhhZGFwdGVycyk7XG4gIHJldHVybiBBVjtcbn07XG5cbi8qKiovIH0pLFxuLyogNTQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDApO1xuXG5fT2JqZWN0JGRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5wbGF0Zm9ybUluZm8gPSBleHBvcnRzLldlYlNvY2tldCA9IHZvaWQgMDtcblxuX09iamVjdCRkZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlcXVlc3RcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2FkYXB0ZXJzU3VwZXJhZ2VudC5yZXF1ZXN0O1xuICB9XG59KTtcblxuZXhwb3J0cy5zdG9yYWdlID0gdm9pZCAwO1xuXG5fT2JqZWN0JGRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidXBsb2FkXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9hZGFwdGVyc1N1cGVyYWdlbnQudXBsb2FkO1xuICB9XG59KTtcblxudmFyIF9hZGFwdGVyc1N1cGVyYWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0Nik7XG5cbnZhciBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcbmV4cG9ydHMuc3RvcmFnZSA9IHN0b3JhZ2U7XG52YXIgV2ViU29ja2V0ID0gd2luZG93LldlYlNvY2tldDtcbmV4cG9ydHMuV2ViU29ja2V0ID0gV2ViU29ja2V0O1xudmFyIHBsYXRmb3JtSW5mbyA9IHtcbiAgbmFtZTogXCJCcm93c2VyXCJcbn07XG5leHBvcnRzLnBsYXRmb3JtSW5mbyA9IHBsYXRmb3JtSW5mbztcblxuLyoqKi8gfSksXG4vKiA1NDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVwbG9hZCA9IGV4cG9ydHMucmVxdWVzdCA9IHZvaWQgMDtcbnZhciBhZGFwdGVyX3V0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0Nyk7XG52YXIgc3VwZXJhZ2VudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTQ4KTtcbmZ1bmN0aW9uIGNvbnZlcnRSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvazogcmVzLm9rLFxuICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHJlcy5oZWFkZXIsXG4gICAgICAgIGRhdGE6IHJlcy5ib2R5LFxuICAgIH07XG59XG52YXIgcmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIG1ldGhvZCwgZGF0YSwgaGVhZGVycywgb25wcm9ncmVzcywgc2lnbmFsLCByZXEsIGFib3J0ZWQsIG9uQWJvcnQsIHJlcywgZXJyb3JfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBvcHRpb25zLm1ldGhvZCwgbWV0aG9kID0gX2EgPT09IHZvaWQgMCA/IFwiR0VUXCIgOiBfYSwgZGF0YSA9IG9wdGlvbnMuZGF0YSwgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycywgb25wcm9ncmVzcyA9IG9wdGlvbnMub25wcm9ncmVzcywgc2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGFkYXB0ZXJfdXRpbHNfMS5BYm9ydEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcSA9IHN1cGVyYWdlbnQobWV0aG9kLCB1cmwpLm9rKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNldChoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob25wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uKFwicHJvZ3Jlc3NcIiwgb25wcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvbkFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsID09PSBudWxsIHx8IHNpZ25hbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAzLCA0LCA1XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcS5zZW5kKGRhdGEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnZlcnRSZXNwb25zZShyZXMpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgYWRhcHRlcl91dGlsc18xLkFib3J0RXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JfMTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCA9PT0gbnVsbCB8fCBzaWduYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydHMucmVxdWVzdCA9IHJlcXVlc3Q7XG52YXIgdXBsb2FkID0gZnVuY3Rpb24gKHVybCwgZmlsZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgbWV0aG9kLCBkYXRhLCBoZWFkZXJzLCBvbnByb2dyZXNzLCBzaWduYWwsIHJlcSwgYWJvcnRlZCwgb25BYm9ydCwgcmVzLCBlcnJvcl8yO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYSA9IG9wdGlvbnMubWV0aG9kLCBtZXRob2QgPSBfYSA9PT0gdm9pZCAwID8gXCJQT1NUXCIgOiBfYSwgZGF0YSA9IG9wdGlvbnMuZGF0YSwgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycywgb25wcm9ncmVzcyA9IG9wdGlvbnMub25wcm9ncmVzcywgc2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGFkYXB0ZXJfdXRpbHNfMS5BYm9ydEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcSA9IHN1cGVyYWdlbnQobWV0aG9kLCB1cmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAub2soZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRhY2goZmlsZS5maWVsZCwgZmlsZS5kYXRhLCBmaWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmZpZWxkKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2V0KGhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub24oXCJwcm9ncmVzc1wiLCBvbnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhYm9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG9uQWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDMsIDQsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVxXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnZlcnRSZXNwb25zZShyZXMpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgYWRhcHRlcl91dGlsc18xLkFib3J0RXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JfMjtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCA9PT0gbnVsbCB8fCBzaWduYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydHMudXBsb2FkID0gdXBsb2FkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cbi8qKiovIH0pLFxuLyogNTQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkFib3J0RXJyb3JcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBBYm9ydEVycm9yOyB9KTtcbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgQWJvcnRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJvcnRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBYm9ydEVycm9yKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBYm9ydEVycm9yO1xufShFcnJvcikpO1xuXG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuXG5cbi8qKiovIH0pLFxuLyogNTQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9zeW1ib2wgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oODcpKTtcblxudmFyIF9pdGVyYXRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpKTtcblxudmFyIF90cmltID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU0OSkpO1xuXG52YXIgX2NvbmNhdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyNSkpO1xuXG52YXIgX2luZGV4T2YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjgpKTtcblxudmFyIF9zbGljZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygzOCkpO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yLmRlZmF1bHQgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cbi8qKlxuICogUm9vdCByZWZlcmVuY2UgZm9yIGlmcmFtZXMuXG4gKi9cblxuXG52YXIgcm9vdDtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIEJyb3dzZXIgd2luZG93XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJykge1xuICAvLyBPdGhlciBlbnZpcm9ubWVudHNcbiAgY29uc29sZS53YXJuKCdVc2luZyBicm93c2VyLW9ubHkgdmVyc2lvbiBvZiBzdXBlcmFnZW50IGluIG5vbi1icm93c2VyIGVudmlyb25tZW50Jyk7XG4gIHJvb3QgPSB2b2lkIDA7XG59IGVsc2Uge1xuICAvLyBXZWIgV29ya2VyXG4gIHJvb3QgPSBzZWxmO1xufVxuXG52YXIgRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTU2KTtcblxudmFyIHNhZmVTdHJpbmdpZnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1Nyk7XG5cbnZhciBSZXF1ZXN0QmFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTU4KTtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDQpO1xuXG52YXIgUmVzcG9uc2VCYXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzkpO1xuXG52YXIgQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Nyk7XG4vKipcbiAqIE5vb3AuXG4gKi9cblxuXG5mdW5jdGlvbiBub29wKCkge31cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsKSB7XG4gIC8vIGNhbGxiYWNrXG4gIGlmICh0eXBlb2YgdXJsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG5ldyBleHBvcnRzLlJlcXVlc3QoJ0dFVCcsIG1ldGhvZCkuZW5kKHVybCk7XG4gIH0gLy8gdXJsIGZpcnN0XG5cblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KCdHRVQnLCBtZXRob2QpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBleHBvcnRzLlJlcXVlc3QobWV0aG9kLCB1cmwpO1xufTtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzO1xudmFyIHJlcXVlc3QgPSBleHBvcnRzO1xuZXhwb3J0cy5SZXF1ZXN0ID0gUmVxdWVzdDtcbi8qKlxuICogRGV0ZXJtaW5lIFhIUi5cbiAqL1xuXG5yZXF1ZXN0LmdldFhIUiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHJvb3QuWE1MSHR0cFJlcXVlc3QgJiYgKCFyb290LmxvY2F0aW9uIHx8IHJvb3QubG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOicgfHwgIXJvb3QuQWN0aXZlWE9iamVjdCkpIHtcbiAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKTtcbiAgfSBjYXRjaCAoX3VudXNlZCkge31cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuNi4wJyk7XG4gIH0gY2F0Y2ggKF91bnVzZWQyKSB7fVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC4zLjAnKTtcbiAgfSBjYXRjaCAoX3VudXNlZDMpIHt9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7XG4gIH0gY2F0Y2ggKF91bnVzZWQ0KSB7fVxuXG4gIHRocm93IG5ldyBFcnJvcignQnJvd3Nlci1vbmx5IHZlcnNpb24gb2Ygc3VwZXJhZ2VudCBjb3VsZCBub3QgZmluZCBYSFInKTtcbn07XG4vKipcbiAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYWRkZWQgdG8gc3VwcG9ydCBJRS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG52YXIgdHJpbSA9ICgwLCBfdHJpbS5kZWZhdWx0KSgnJykgPyBmdW5jdGlvbiAocykge1xuICByZXR1cm4gKDAsIF90cmltLmRlZmF1bHQpKHMpLmNhbGwocyk7XG59IDogZnVuY3Rpb24gKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvKF5cXHMqfFxccyokKS9nLCAnJyk7XG59O1xuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGdpdmVuIGBvYmpgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShvYmopIHtcbiAgaWYgKCFpc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICB2YXIgcGFpcnMgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIG9ialtrZXldKTtcbiAgfVxuXG4gIHJldHVybiBwYWlycy5qb2luKCcmJyk7XG59XG4vKipcbiAqIEhlbHBzICdzZXJpYWxpemUnIHdpdGggc2VyaWFsaXppbmcgYXJyYXlzLlxuICogTXV0YXRlcyB0aGUgcGFpcnMgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFpcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICovXG5cblxuZnVuY3Rpb24gcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdmFsKSB7XG4gIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICBwYWlycy5wdXNoKGVuY29kZVVSSShrZXkpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHYpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICBmb3IgKHZhciBzdWJrZXkgaW4gdmFsKSB7XG4gICAgICB2YXIgX2NvbnRleHQ7XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsLCBzdWJrZXkpKSBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywgKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQgPSBcIlwiLmNvbmNhdChrZXksIFwiW1wiKSkuY2FsbChfY29udGV4dCwgc3Via2V5LCBcIl1cIiksIHZhbFtzdWJrZXldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGFpcnMucHVzaChlbmNvZGVVUkkoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpKTtcbiAgfVxufVxuLyoqXG4gKiBFeHBvc2Ugc2VyaWFsaXphdGlvbiBtZXRob2QuXG4gKi9cblxuXG5yZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdCA9IHNlcmlhbGl6ZTtcbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIHgtd3d3LWZvcm0tdXJsZW5jb2RlZCBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZVN0cmluZyhzdHIpIHtcbiAgdmFyIG9iaiA9IHt9O1xuICB2YXIgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcbiAgdmFyIHBhaXI7XG4gIHZhciBwb3M7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBvcyA9ICgwLCBfaW5kZXhPZi5kZWZhdWx0KShwYWlyKS5jYWxsKHBhaXIsICc9Jyk7XG5cbiAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChwYWlyKV0gPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudCgoMCwgX3NsaWNlLmRlZmF1bHQpKHBhaXIpLmNhbGwocGFpciwgMCwgcG9zKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KCgwLCBfc2xpY2UuZGVmYXVsdCkocGFpcikuY2FsbChwYWlyLCBwb3MgKyAxKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogRXhwb3NlIHBhcnNlci5cbiAqL1xuXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcbi8qKlxuICogRGVmYXVsdCBNSU1FIHR5cGUgbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnR5cGVzLnhtbCA9ICdhcHBsaWNhdGlvbi94bWwnO1xuICpcbiAqL1xuXG5yZXF1ZXN0LnR5cGVzID0ge1xuICBodG1sOiAndGV4dC9odG1sJyxcbiAganNvbjogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB4bWw6ICd0ZXh0L3htbCcsXG4gIHVybGVuY29kZWQ6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICBmb3JtOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgJ2Zvcm0tZGF0YSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuLyoqXG4gKiBEZWZhdWx0IHNlcmlhbGl6YXRpb24gbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihvYmope1xuICogICAgICAgcmV0dXJuICdnZW5lcmF0ZWQgeG1sIGhlcmUnO1xuICogICAgIH07XG4gKlxuICovXG5cbnJlcXVlc3Quc2VyaWFsaXplID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogc2VyaWFsaXplLFxuICAnYXBwbGljYXRpb24vanNvbic6IHNhZmVTdHJpbmdpZnlcbn07XG4vKipcbiAqIERlZmF1bHQgcGFyc2Vycy5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICogICAgICAgcmV0dXJuIHsgb2JqZWN0IHBhcnNlZCBmcm9tIHN0ciB9O1xuICogICAgIH07XG4gKlxuICovXG5cbnJlcXVlc3QucGFyc2UgPSB7XG4gICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBwYXJzZVN0cmluZyxcbiAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnBhcnNlXG59O1xuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICB2YXIgbGluZXMgPSBzdHIuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIGZpZWxkcyA9IHt9O1xuICB2YXIgaW5kZXg7XG4gIHZhciBsaW5lO1xuICB2YXIgZmllbGQ7XG4gIHZhciB2YWw7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgbGluZSA9IGxpbmVzW2ldO1xuICAgIGluZGV4ID0gKDAsIF9pbmRleE9mLmRlZmF1bHQpKGxpbmUpLmNhbGwobGluZSwgJzonKTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIGNvdWxkIGJlIGVtcHR5IGxpbmUsIGp1c3Qgc2tpcCBpdFxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgZmllbGQgPSAoMCwgX3NsaWNlLmRlZmF1bHQpKGxpbmUpLmNhbGwobGluZSwgMCwgaW5kZXgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdHJpbSgoMCwgX3NsaWNlLmRlZmF1bHQpKGxpbmUpLmNhbGwobGluZSwgaW5kZXggKyAxKSk7XG4gICAgZmllbGRzW2ZpZWxkXSA9IHZhbDtcbiAgfVxuXG4gIHJldHVybiBmaWVsZHM7XG59XG4vKipcbiAqIENoZWNrIGlmIGBtaW1lYCBpcyBqc29uIG9yIGhhcyAranNvbiBzdHJ1Y3R1cmVkIHN5bnRheCBzdWZmaXguXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1pbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzSlNPTihtaW1lKSB7XG4gIC8vIHNob3VsZCBtYXRjaCAvanNvbiBvciAranNvblxuICAvLyBidXQgbm90IC9qc29uLXNlcVxuICByZXR1cm4gL1svK11qc29uKCR8W14tXFx3XSkvLnRlc3QobWltZSk7XG59XG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cbiAqXG4gKiAgLSBzZXQgZmxhZ3MgKC5vaywgLmVycm9yLCBldGMpXG4gKiAgLSBwYXJzZSBoZWFkZXJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgQWxpYXNpbmcgYHN1cGVyYWdlbnRgIGFzIGByZXF1ZXN0YCBpcyBuaWNlOlxuICpcbiAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG4gKlxuICogIFdlIGNhbiB1c2UgdGhlIHByb21pc2UtbGlrZSBBUEksIG9yIHBhc3MgY2FsbGJhY2tzOlxuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nKS5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nLCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBTZW5kaW5nIGRhdGEgY2FuIGJlIGNoYWluZWQ6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnNlbmQoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAucG9zdCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogT3IgZnVydGhlciByZWR1Y2VkIHRvIGEgc2luZ2xlIGNhbGwgZm9yIHNpbXBsZSBjYXNlczpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBAcGFyYW0ge1hNTEhUVFBSZXF1ZXN0fSB4aHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIFJlc3BvbnNlKHJlcSkge1xuICB0aGlzLnJlcSA9IHJlcTtcbiAgdGhpcy54aHIgPSB0aGlzLnJlcS54aHI7IC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcblxuICB0aGlzLnRleHQgPSB0aGlzLnJlcS5tZXRob2QgIT09ICdIRUFEJyAmJiAodGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JykgfHwgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnhoci5yZXNwb25zZVRleHQgOiBudWxsO1xuICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLnJlcS54aHIuc3RhdHVzVGV4dDtcbiAgdmFyIHN0YXR1cyA9IHRoaXMueGhyLnN0YXR1czsgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuXG4gIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcbiAgICBzdGF0dXMgPSAyMDQ7XG4gIH1cblxuICB0aGlzLl9zZXRTdGF0dXNQcm9wZXJ0aWVzKHN0YXR1cyk7XG5cbiAgdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXIodGhpcy54aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICB0aGlzLmhlYWRlciA9IHRoaXMuaGVhZGVyczsgLy8gZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIHNvbWV0aW1lcyBmYWxzZWx5IHJldHVybnMgXCJcIiBmb3IgQ09SUyByZXF1ZXN0cywgYnV0XG4gIC8vIGdldFJlc3BvbnNlSGVhZGVyIHN0aWxsIHdvcmtzLiBzbyB3ZSBnZXQgY29udGVudC10eXBlIGV2ZW4gaWYgZ2V0dGluZ1xuICAvLyBvdGhlciBoZWFkZXJzIGZhaWxzLlxuXG4gIHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICB0aGlzLl9zZXRIZWFkZXJQcm9wZXJ0aWVzKHRoaXMuaGVhZGVyKTtcblxuICBpZiAodGhpcy50ZXh0ID09PSBudWxsICYmIHJlcS5fcmVzcG9uc2VUeXBlKSB7XG4gICAgdGhpcy5ib2R5ID0gdGhpcy54aHIucmVzcG9uc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5ib2R5ID0gdGhpcy5yZXEubWV0aG9kID09PSAnSEVBRCcgPyBudWxsIDogdGhpcy5fcGFyc2VCb2R5KHRoaXMudGV4dCA/IHRoaXMudGV4dCA6IHRoaXMueGhyLnJlc3BvbnNlKTtcbiAgfVxufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuXG5cblJlc3BvbnNlQmFzZShSZXNwb25zZS5wcm90b3R5cGUpO1xuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYm9keSBgc3RyYC5cbiAqXG4gKiBVc2VkIGZvciBhdXRvLXBhcnNpbmcgb2YgYm9kaWVzLiBQYXJzZXJzXG4gKiBhcmUgZGVmaW5lZCBvbiB0aGUgYHN1cGVyYWdlbnQucGFyc2VgIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5fcGFyc2VCb2R5ID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgcGFyc2UgPSByZXF1ZXN0LnBhcnNlW3RoaXMudHlwZV07XG5cbiAgaWYgKHRoaXMucmVxLl9wYXJzZXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZXEuX3BhcnNlcih0aGlzLCBzdHIpO1xuICB9XG5cbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlICYmIHN0ciAmJiAoc3RyLmxlbmd0aCA+IDAgfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KSA/IHBhcnNlKHN0cikgOiBudWxsO1xufTtcbi8qKlxuICogUmV0dXJuIGFuIGBFcnJvcmAgcmVwcmVzZW50YXRpdmUgb2YgdGhpcyByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5SZXNwb25zZS5wcm90b3R5cGUudG9FcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9jb250ZXh0MiwgX2NvbnRleHQzO1xuXG4gIHZhciByZXEgPSB0aGlzLnJlcTtcbiAgdmFyIG1ldGhvZCA9IHJlcS5tZXRob2Q7XG4gIHZhciB1cmwgPSByZXEudXJsO1xuICB2YXIgbXNnID0gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQyID0gKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQzID0gXCJjYW5ub3QgXCIuY29uY2F0KG1ldGhvZCwgXCIgXCIpKS5jYWxsKF9jb250ZXh0MywgdXJsLCBcIiAoXCIpKS5jYWxsKF9jb250ZXh0MiwgdGhpcy5zdGF0dXMsIFwiKVwiKTtcbiAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG4gIHJldHVybiBlcnI7XG59O1xuLyoqXG4gKiBFeHBvc2UgYFJlc3BvbnNlYC5cbiAqL1xuXG5cbnJlcXVlc3QuUmVzcG9uc2UgPSBSZXNwb25zZTtcbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVxdWVzdGAgd2l0aCB0aGUgZ2l2ZW4gYG1ldGhvZGAgYW5kIGB1cmxgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmVxdWVzdChtZXRob2QsIHVybCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG4gIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2VcblxuICB0aGlzLl9oZWFkZXIgPSB7fTsgLy8gY29lcmNlcyBoZWFkZXIgbmFtZXMgdG8gbG93ZXJjYXNlXG5cbiAgdGhpcy5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBlcnIgPSBudWxsO1xuICAgIHZhciByZXMgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IG5ldyBSZXNwb25zZShzZWxmKTtcbiAgICB9IGNhdGNoIChlcnJfKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoJ1BhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlJyk7XG4gICAgICBlcnIucGFyc2UgPSB0cnVlO1xuICAgICAgZXJyLm9yaWdpbmFsID0gZXJyXzsgLy8gaXNzdWUgIzY3NTogcmV0dXJuIHRoZSByYXcgcmVzcG9uc2UgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcblxuICAgICAgaWYgKHNlbGYueGhyKSB7XG4gICAgICAgIC8vIGllOSBkb2Vzbid0IGhhdmUgJ3Jlc3BvbnNlJyBwcm9wZXJ0eVxuICAgICAgICBlcnIucmF3UmVzcG9uc2UgPSB0eXBlb2Ygc2VsZi54aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJyA/IHNlbGYueGhyLnJlc3BvbnNlVGV4dCA6IHNlbGYueGhyLnJlc3BvbnNlOyAvLyBpc3N1ZSAjODc2OiByZXR1cm4gdGhlIGh0dHAgc3RhdHVzIGNvZGUgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcblxuICAgICAgICBlcnIuc3RhdHVzID0gc2VsZi54aHIuc3RhdHVzID8gc2VsZi54aHIuc3RhdHVzIDogbnVsbDtcbiAgICAgICAgZXJyLnN0YXR1c0NvZGUgPSBlcnIuc3RhdHVzOyAvLyBiYWNrd2FyZHMtY29tcGF0IG9ubHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVyci5yYXdSZXNwb25zZSA9IG51bGw7XG4gICAgICAgIGVyci5zdGF0dXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuICAgIHZhciBuZXdfZXJyO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmICghc2VsZi5faXNSZXNwb25zZU9LKHJlcykpIHtcbiAgICAgICAgbmV3X2VyciA9IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCB8fCByZXMudGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJfKSB7XG4gICAgICBuZXdfZXJyID0gZXJyXzsgLy8gb2soKSBjYWxsYmFjayBjYW4gdGhyb3dcbiAgICB9IC8vICMxMDAwIGRvbid0IGNhdGNoIGVycm9ycyBmcm9tIHRoZSBjYWxsYmFjayB0byBhdm9pZCBkb3VibGUgY2FsbGluZyBpdFxuXG5cbiAgICBpZiAobmV3X2Vycikge1xuICAgICAgbmV3X2Vyci5vcmlnaW5hbCA9IGVycjtcbiAgICAgIG5ld19lcnIucmVzcG9uc2UgPSByZXM7XG4gICAgICBuZXdfZXJyLnN0YXR1cyA9IHJlcy5zdGF0dXM7XG4gICAgICBzZWxmLmNhbGxiYWNrKG5ld19lcnIsIHJlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBNaXhpbiBgRW1pdHRlcmAgYW5kIGBSZXF1ZXN0QmFzZWAuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG5cblxuRW1pdHRlcihSZXF1ZXN0LnByb3RvdHlwZSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG5cblJlcXVlc3RCYXNlKFJlcXVlc3QucHJvdG90eXBlKTtcbi8qKlxuICogU2V0IENvbnRlbnQtVHlwZSB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgnYXBwbGljYXRpb24veG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgdGhpcy5zZXQoJ0NvbnRlbnQtVHlwZScsIHJlcXVlc3QudHlwZXNbdHlwZV0gfHwgdHlwZSk7XG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogU2V0IEFjY2VwdCB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy5qc29uID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50JylcbiAqICAgICAgICAuYWNjZXB0KCdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWNjZXB0XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5SZXF1ZXN0LnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAodHlwZSkge1xuICB0aGlzLnNldCgnQWNjZXB0JywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuLyoqXG4gKiBTZXQgQXV0aG9yaXphdGlvbiBmaWVsZCB2YWx1ZSB3aXRoIGB1c2VyYCBhbmQgYHBhc3NgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gW3Bhc3NdIG9wdGlvbmFsIGluIGNhc2Ugb2YgdXNpbmcgJ2JlYXJlcicgYXMgdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgd2l0aCAndHlwZScgcHJvcGVydHkgJ2F1dG8nLCAnYmFzaWMnIG9yICdiZWFyZXInIChkZWZhdWx0ICdiYXNpYycpXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdXRoID0gZnVuY3Rpb24gKHVzZXIsIHBhc3MsIG9wdGlvbnMpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHBhc3MgPSAnJztcblxuICBpZiAoX3R5cGVvZihwYXNzKSA9PT0gJ29iamVjdCcgJiYgcGFzcyAhPT0gbnVsbCkge1xuICAgIC8vIHBhc3MgaXMgb3B0aW9uYWwgYW5kIGNhbiBiZSByZXBsYWNlZCB3aXRoIG9wdGlvbnNcbiAgICBvcHRpb25zID0gcGFzcztcbiAgICBwYXNzID0gJyc7XG4gIH1cblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgdHlwZTogdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicgPyAnYmFzaWMnIDogJ2F1dG8nXG4gICAgfTtcbiAgfVxuXG4gIHZhciBlbmNvZGVyID0gZnVuY3Rpb24gZW5jb2RlcihzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBidG9hKHN0cmluZyk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGJhc2ljIGF1dGgsIGJ0b2EgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfTtcblxuICByZXR1cm4gdGhpcy5fYXV0aCh1c2VyLCBwYXNzLCBvcHRpb25zLCBlbmNvZGVyKTtcbn07XG4vKipcbiAqIEFkZCBxdWVyeS1zdHJpbmcgYHZhbGAuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICByZXF1ZXN0LmdldCgnL3Nob2VzJylcbiAqICAgICAucXVlcnkoJ3NpemU9MTAnKVxuICogICAgIC5xdWVyeSh7IGNvbG9yOiAnYmx1ZScgfSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbiAodmFsKSB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykgdmFsID0gc2VyaWFsaXplKHZhbCk7XG4gIGlmICh2YWwpIHRoaXMuX3F1ZXJ5LnB1c2godmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuLyoqXG4gKiBRdWV1ZSB0aGUgZ2l2ZW4gYGZpbGVgIGFzIGFuIGF0dGFjaG1lbnQgdG8gdGhlIHNwZWNpZmllZCBgZmllbGRgLFxuICogd2l0aCBvcHRpb25hbCBgb3B0aW9uc2AgKG9yIGZpbGVuYW1lKS5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5hdHRhY2goJ2NvbnRlbnQnLCBuZXcgQmxvYihbJzxhIGlkPVwiYVwiPjxiIGlkPVwiYlwiPmhleSE8L2I+PC9hPiddLCB7IHR5cGU6IFwidGV4dC9odG1sXCJ9KSlcbiAqICAgLmVuZChjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEBwYXJhbSB7QmxvYnxGaWxlfSBmaWxlXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChmaWVsZCwgZmlsZSwgb3B0aW9ucykge1xuICBpZiAoZmlsZSkge1xuICAgIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdXBlcmFnZW50IGNhbid0IG1peCAuc2VuZCgpIGFuZCAuYXR0YWNoKClcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQoZmllbGQsIGZpbGUsIG9wdGlvbnMgfHwgZmlsZS5uYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuX2dldEZvcm1EYXRhID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgdGhpcy5fZm9ybURhdGEgPSBuZXcgcm9vdC5Gb3JtRGF0YSgpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xufTtcbi8qKlxuICogSW52b2tlIHRoZSBjYWxsYmFjayB3aXRoIGBlcnJgIGFuZCBgcmVzYFxuICogYW5kIGhhbmRsZSBhcml0eSBjaGVjay5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICBpZiAodGhpcy5fc2hvdWxkUmV0cnkoZXJyLCByZXMpKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JldHJ5KCk7XG4gIH1cblxuICB2YXIgZm4gPSB0aGlzLl9jYWxsYmFjaztcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblxuICBpZiAoZXJyKSB7XG4gICAgaWYgKHRoaXMuX21heFJldHJpZXMpIGVyci5yZXRyaWVzID0gdGhpcy5fcmV0cmllcyAtIDE7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cblxuICBmbihlcnIsIHJlcyk7XG59O1xuLyoqXG4gKiBJbnZva2UgY2FsbGJhY2sgd2l0aCB4LWRvbWFpbiBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cblJlcXVlc3QucHJvdG90eXBlLmNyb3NzRG9tYWluRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcbiAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuICBlcnIubWV0aG9kID0gdGhpcy5tZXRob2Q7XG4gIGVyci51cmwgPSB0aGlzLnVybDtcbiAgdGhpcy5jYWxsYmFjayhlcnIpO1xufTsgLy8gVGhpcyBvbmx5IHdhcm5zLCBiZWNhdXNlIHRoZSByZXF1ZXN0IGlzIHN0aWxsIGxpa2VseSB0byB3b3JrXG5cblxuUmVxdWVzdC5wcm90b3R5cGUuYWdlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnNvbGUud2FybignVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdmVyc2lvbiBvZiBzdXBlcmFnZW50Jyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuY2EgPSBSZXF1ZXN0LnByb3RvdHlwZS5hZ2VudDtcblJlcXVlc3QucHJvdG90eXBlLmJ1ZmZlciA9IFJlcXVlc3QucHJvdG90eXBlLmNhOyAvLyBUaGlzIHRocm93cywgYmVjYXVzZSBpdCBjYW4ndCBzZW5kL3JlY2VpdmUgZGF0YSBhcyBleHBlY3RlZFxuXG5SZXF1ZXN0LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdTdHJlYW1pbmcgaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHZlcnNpb24gb2Ygc3VwZXJhZ2VudCcpO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUucGlwZSA9IFJlcXVlc3QucHJvdG90eXBlLndyaXRlO1xuLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhIGhvc3Qgb2JqZWN0LFxuICogd2UgZG9uJ3Qgd2FudCB0byBzZXJpYWxpemUgdGhlc2UgOilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIGhvc3Qgb2JqZWN0XG4gKiBAcmV0dXJuIHtCb29sZWFufSBpcyBhIGhvc3Qgb2JqZWN0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5faXNIb3N0ID0gZnVuY3Rpb24gKG9iaikge1xuICAvLyBOYXRpdmUgb2JqZWN0cyBzdHJpbmdpZnkgdG8gW29iamVjdCBGaWxlXSwgW29iamVjdCBCbG9iXSwgW29iamVjdCBGb3JtRGF0YV0sIGV0Yy5cbiAgcmV0dXJuIG9iaiAmJiBfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaikgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09ICdbb2JqZWN0IE9iamVjdF0nO1xufTtcbi8qKlxuICogSW5pdGlhdGUgcmVxdWVzdCwgaW52b2tpbmcgY2FsbGJhY2sgYGZuKHJlcylgXG4gKiB3aXRoIGFuIGluc3RhbmNlb2YgYFJlc3BvbnNlYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGZuKSB7XG4gIGlmICh0aGlzLl9lbmRDYWxsZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IC5lbmQoKSB3YXMgY2FsbGVkIHR3aWNlLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gc3VwZXJhZ2VudCcpO1xuICB9XG5cbiAgdGhpcy5fZW5kQ2FsbGVkID0gdHJ1ZTsgLy8gc3RvcmUgY2FsbGJhY2tcblxuICB0aGlzLl9jYWxsYmFjayA9IGZuIHx8IG5vb3A7IC8vIHF1ZXJ5c3RyaW5nXG5cbiAgdGhpcy5fZmluYWxpemVRdWVyeVN0cmluZygpO1xuXG4gIHRoaXMuX2VuZCgpO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuX3NldFVwbG9hZFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpczsgLy8gdXBsb2FkIHRpbWVvdXQgaXQncyB3b2tycyBvbmx5IGlmIGRlYWRsaW5lIHRpbWVvdXQgaXMgb2ZmXG5cbiAgaWYgKHRoaXMuX3VwbG9hZFRpbWVvdXQgJiYgIXRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lcikge1xuICAgIHRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5fdGltZW91dEVycm9yKCdVcGxvYWQgdGltZW91dCBvZiAnLCBzZWxmLl91cGxvYWRUaW1lb3V0LCAnRVRJTUVET1VUJyk7XG4gICAgfSwgdGhpcy5fdXBsb2FkVGltZW91dCk7XG4gIH1cbn07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cblxuUmVxdWVzdC5wcm90b3R5cGUuX2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2Fib3J0ZWQpIHJldHVybiB0aGlzLmNhbGxiYWNrKG5ldyBFcnJvcignVGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZCBldmVuIGJlZm9yZSAuZW5kKCkgd2FzIGNhbGxlZCcpKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCk7XG4gIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgdmFyIGRhdGEgPSB0aGlzLl9mb3JtRGF0YSB8fCB0aGlzLl9kYXRhO1xuXG4gIHRoaXMuX3NldFRpbWVvdXRzKCk7IC8vIHN0YXRlIGNoYW5nZVxuXG5cbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVhZHlTdGF0ZSA9IHhoci5yZWFkeVN0YXRlO1xuXG4gICAgaWYgKHJlYWR5U3RhdGUgPj0gMiAmJiBzZWxmLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgICB9XG5cbiAgICBpZiAocmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gSW4gSUU5LCByZWFkcyB0byBhbnkgcHJvcGVydHkgKGUuZy4gc3RhdHVzKSBvZmYgb2YgYW4gYWJvcnRlZCBYSFIgd2lsbFxuICAgIC8vIHJlc3VsdCBpbiB0aGUgZXJyb3IgXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIG9wZXJhdGlvbiBkdWUgdG8gZXJyb3IgYzAwYzAyM2ZcIlxuXG5cbiAgICB2YXIgc3RhdHVzO1xuXG4gICAgdHJ5IHtcbiAgICAgIHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgfSBjYXRjaCAoX3VudXNlZDUpIHtcbiAgICAgIHN0YXR1cyA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgIGlmIChzZWxmLnRpbWVkb3V0IHx8IHNlbGYuX2Fib3J0ZWQpIHJldHVybjtcbiAgICAgIHJldHVybiBzZWxmLmNyb3NzRG9tYWluRXJyb3IoKTtcbiAgICB9XG5cbiAgICBzZWxmLmVtaXQoJ2VuZCcpO1xuICB9OyAvLyBwcm9ncmVzc1xuXG5cbiAgdmFyIGhhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoZGlyZWN0aW9uLCBlKSB7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG5cbiAgICAgIGlmIChlLnBlcmNlbnQgPT09IDEwMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fdXBsb2FkVGltZW91dFRpbWVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICBzZWxmLmVtaXQoJ3Byb2dyZXNzJywgZSk7XG4gIH07XG5cbiAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKCdwcm9ncmVzcycpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwgJ2Rvd25sb2FkJykpO1xuXG4gICAgICBpZiAoeGhyLnVwbG9hZCkge1xuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgaGFuZGxlUHJvZ3Jlc3MuYmluZChudWxsLCAndXBsb2FkJykpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF91bnVzZWQ2KSB7Ly8gQWNjZXNzaW5nIHhoci51cGxvYWQgZmFpbHMgaW4gSUUgZnJvbSBhIHdlYiB3b3JrZXIsIHNvIGp1c3QgcHJldGVuZCBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvODM3MjQ1L3htbGh0dHByZXF1ZXN0LXVwbG9hZC10aHJvd3MtaW52YWxpZC1hcmd1bWVudC13aGVuLXVzZWQtZnJvbS13ZWItd29ya2VyLWNvbnRleHRcbiAgICB9XG4gIH1cblxuICBpZiAoeGhyLnVwbG9hZCkge1xuICAgIHRoaXMuX3NldFVwbG9hZFRpbWVvdXQoKTtcbiAgfSAvLyBpbml0aWF0ZSByZXF1ZXN0XG5cblxuICB0cnkge1xuICAgIGlmICh0aGlzLnVzZXJuYW1lICYmIHRoaXMucGFzc3dvcmQpIHtcbiAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSwgdGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBzZWUgIzExNDlcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFjayhlcnIpO1xuICB9IC8vIENPUlNcblxuXG4gIGlmICh0aGlzLl93aXRoQ3JlZGVudGlhbHMpIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOyAvLyBib2R5XG5cbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSAmJiB0aGlzLm1ldGhvZCAhPT0gJ0dFVCcgJiYgdGhpcy5tZXRob2QgIT09ICdIRUFEJyAmJiB0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycgJiYgIXRoaXMuX2lzSG9zdChkYXRhKSkge1xuICAgIC8vIHNlcmlhbGl6ZSBzdHVmZlxuICAgIHZhciBjb250ZW50VHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgICB2YXIgX3NlcmlhbGl6ZSA9IHRoaXMuX3NlcmlhbGl6ZXIgfHwgcmVxdWVzdC5zZXJpYWxpemVbY29udGVudFR5cGUgPyBjb250ZW50VHlwZS5zcGxpdCgnOycpWzBdIDogJyddO1xuXG4gICAgaWYgKCFfc2VyaWFsaXplICYmIGlzSlNPTihjb250ZW50VHlwZSkpIHtcbiAgICAgIF9zZXJpYWxpemUgPSByZXF1ZXN0LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24vanNvbiddO1xuICAgIH1cblxuICAgIGlmIChfc2VyaWFsaXplKSBkYXRhID0gX3NlcmlhbGl6ZShkYXRhKTtcbiAgfSAvLyBzZXQgaGVhZGVyIGZpZWxkc1xuXG5cbiAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAodGhpcy5oZWFkZXJbZmllbGRdID09PSBudWxsKSBjb250aW51ZTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaGVhZGVyLCBmaWVsZCkpIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH0gLy8gc2VuZCBzdHVmZlxuXG5cbiAgdGhpcy5lbWl0KCdyZXF1ZXN0JywgdGhpcyk7IC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG5cbiAgeGhyLnNlbmQodHlwZW9mIGRhdGEgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IGRhdGEpO1xufTtcblxucmVxdWVzdC5hZ2VudCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBBZ2VudCgpO1xufTtcblxuWydHRVQnLCAnUE9TVCcsICdPUFRJT05TJywgJ1BBVENIJywgJ1BVVCcsICdERUxFVEUnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgQWdlbnQucHJvdG90eXBlW21ldGhvZC50b0xvd2VyQ2FzZSgpXSA9IGZ1bmN0aW9uICh1cmwsIGZuKSB7XG4gICAgdmFyIHJlcSA9IG5ldyByZXF1ZXN0LlJlcXVlc3QobWV0aG9kLCB1cmwpO1xuXG4gICAgdGhpcy5fc2V0RGVmYXVsdHMocmVxKTtcblxuICAgIGlmIChmbikge1xuICAgICAgcmVxLmVuZChmbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcTtcbiAgfTtcbn0pO1xuQWdlbnQucHJvdG90eXBlLmRlbCA9IEFnZW50LnByb3RvdHlwZS5kZWxldGU7XG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QuZ2V0ID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgZm4pIHtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0dFVCcsIHVybCk7XG5cbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG4vKipcbiAqIEhFQUQgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbnJlcXVlc3QuaGVhZCA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGZuKSB7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdIRUFEJywgdXJsKTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcbi8qKlxuICogT1BUSU9OUyBxdWVyeSB0byBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxucmVxdWVzdC5vcHRpb25zID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgZm4pIHtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZuID0gZGF0YTtcbiAgICBkYXRhID0gbnVsbDtcbiAgfVxuXG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG4vKipcbiAqIERFTEVURSBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBkZWwodXJsLCBkYXRhLCBmbikge1xuICB2YXIgcmVxID0gcmVxdWVzdCgnREVMRVRFJywgdXJsKTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59XG5cbnJlcXVlc3QuZGVsID0gZGVsO1xucmVxdWVzdC5kZWxldGUgPSBkZWw7XG4vKipcbiAqIFBBVENIIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnBhdGNoID0gZnVuY3Rpb24gKHVybCwgZGF0YSwgZm4pIHtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuLyoqXG4gKiBQT1NUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbnJlcXVlc3QucG9zdCA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGZuKSB7XG4gIHZhciByZXEgPSByZXF1ZXN0KCdQT1NUJywgdXJsKTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuLyoqXG4gKiBQVVQgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxucmVxdWVzdC5wdXQgPSBmdW5jdGlvbiAodXJsLCBkYXRhLCBmbikge1xuICB2YXIgcmVxID0gcmVxdWVzdCgnUFVUJywgdXJsKTtcblxuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKioqLyB9KSxcbi8qIDU0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTUwKTtcblxuLyoqKi8gfSksXG4vKiA1NTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1NTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzUHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBtZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1Mik7XG5cbnZhciBTdHJpbmdQcm90b3R5cGUgPSBTdHJpbmcucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQudHJpbTtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3RyaW5nJyB8fCBpdCA9PT0gU3RyaW5nUHJvdG90eXBlXG4gICAgfHwgKGlzUHJvdG90eXBlT2YoU3RyaW5nUHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBTdHJpbmdQcm90b3R5cGUudHJpbSkgPyBtZXRob2QgOiBvd247XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTUyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTUzKTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ1N0cmluZycpLnRyaW07XG5cblxuLyoqKi8gfSksXG4vKiA1NTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciAkdHJpbSA9IF9fd2VicGFja19yZXF1aXJlX18oNTU0KS50cmltO1xudmFyIGZvcmNlZFN0cmluZ1RyaW1NZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1NSk7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLnRyaW1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1cbiQoeyB0YXJnZXQ6ICdTdHJpbmcnLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBmb3JjZWRTdHJpbmdUcmltTWV0aG9kKCd0cmltJykgfSwge1xuICB0cmltOiBmdW5jdGlvbiB0cmltKCkge1xuICAgIHJldHVybiAkdHJpbSh0aGlzKTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA1NTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHVuY3VycnlUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcbnZhciB3aGl0ZXNwYWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQzKTtcblxudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciB3aGl0ZXNwYWNlID0gJ1snICsgd2hpdGVzcGFjZXMgKyAnXSc7XG52YXIgbHRyaW0gPSBSZWdFeHAoJ14nICsgd2hpdGVzcGFjZSArIHdoaXRlc3BhY2UgKyAnKicpO1xudmFyIHJ0cmltID0gUmVnRXhwKHdoaXRlc3BhY2UgKyB3aGl0ZXNwYWNlICsgJyokJyk7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbSwgdHJpbVN0YXJ0LCB0cmltRW5kLCB0cmltTGVmdCwgdHJpbVJpZ2h0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoVFlQRSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzKSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoJHRoaXMpKTtcbiAgICBpZiAoVFlQRSAmIDEpIHN0cmluZyA9IHJlcGxhY2Uoc3RyaW5nLCBsdHJpbSwgJycpO1xuICAgIGlmIChUWVBFICYgMikgc3RyaW5nID0gcmVwbGFjZShzdHJpbmcsIHJ0cmltLCAnJyk7XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1MZWZ0LCB0cmltU3RhcnQgfWAgbWV0aG9kc1xuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbXN0YXJ0XG4gIHN0YXJ0OiBjcmVhdGVNZXRob2QoMSksXG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbVJpZ2h0LCB0cmltRW5kIH1gIG1ldGhvZHNcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1lbmRcbiAgZW5kOiBjcmVhdGVNZXRob2QoMiksXG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLnRyaW1gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbVxuICB0cmltOiBjcmVhdGVNZXRob2QoMylcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1NTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpLlBST1BFUjtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgd2hpdGVzcGFjZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Myk7XG5cbnZhciBub24gPSAnXFx1MjAwQlxcdTAwODVcXHUxODBFJztcblxuLy8gY2hlY2sgdGhhdCBhIG1ldGhvZCB3b3JrcyB3aXRoIHRoZSBjb3JyZWN0IGxpc3Rcbi8vIG9mIHdoaXRlc3BhY2VzIGFuZCBoYXMgYSBjb3JyZWN0IG5hbWVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIHJldHVybiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEhd2hpdGVzcGFjZXNbTUVUSE9EX05BTUVdKClcbiAgICAgIHx8IG5vbltNRVRIT0RfTkFNRV0oKSAhPT0gbm9uXG4gICAgICB8fCAoUFJPUEVSX0ZVTkNUSU9OX05BTUUgJiYgd2hpdGVzcGFjZXNbTUVUSE9EX05BTUVdLm5hbWUgIT09IE1FVEhPRF9OQU1FKTtcbiAgfSk7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTU2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblxyXG4vKipcclxuICogRXhwb3NlIGBFbWl0dGVyYC5cclxuICovXHJcblxyXG5pZiAodHJ1ZSkge1xyXG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxyXG4gKlxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XHJcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XHJcbn07XHJcblxyXG4vKipcclxuICogTWl4aW4gdGhlIGVtaXR0ZXIgcHJvcGVydGllcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1peGluKG9iaikge1xyXG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xyXG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuIG9uIHRoZSBnaXZlbiBgZXZlbnRgIHdpdGggYGZuYC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub24gPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxyXG4gICAgLnB1c2goZm4pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxyXG4gKiB0aW1lIHRoZW4gYXV0b21hdGljYWxseSByZW1vdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICBmdW5jdGlvbiBvbigpIHtcclxuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XHJcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgb24uZm4gPSBmbjtcclxuICB0aGlzLm9uKGV2ZW50LCBvbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcclxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG5cclxuICAvLyBhbGxcclxuICBpZiAoMCA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gc3BlY2lmaWMgZXZlbnRcclxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XHJcblxyXG4gIC8vIHJlbW92ZSBhbGwgaGFuZGxlcnNcclxuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlIHNwZWNpZmljIGhhbmRsZXJcclxuICB2YXIgY2I7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcclxuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXHJcbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxyXG4gIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtNaXhlZH0gLi4uXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKVxyXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG5cclxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XHJcbiAgfVxyXG5cclxuICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiA1NTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpbmdpZnlcbnN0cmluZ2lmeS5kZWZhdWx0ID0gc3RyaW5naWZ5XG5zdHJpbmdpZnkuc3RhYmxlID0gZGV0ZXJtaW5pc3RpY1N0cmluZ2lmeVxuc3RyaW5naWZ5LnN0YWJsZVN0cmluZ2lmeSA9IGRldGVybWluaXN0aWNTdHJpbmdpZnlcblxudmFyIExJTUlUX1JFUExBQ0VfTk9ERSA9ICdbLi4uXSdcbnZhciBDSVJDVUxBUl9SRVBMQUNFX05PREUgPSAnW0NpcmN1bGFyXSdcblxudmFyIGFyciA9IFtdXG52YXIgcmVwbGFjZXJTdGFjayA9IFtdXG5cbmZ1bmN0aW9uIGRlZmF1bHRPcHRpb25zICgpIHtcbiAgcmV0dXJuIHtcbiAgICBkZXB0aExpbWl0OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICBlZGdlc0xpbWl0OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICB9XG59XG5cbi8vIFJlZ3VsYXIgc3RyaW5naWZ5XG5mdW5jdGlvbiBzdHJpbmdpZnkgKG9iaiwgcmVwbGFjZXIsIHNwYWNlciwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKClcbiAgfVxuXG4gIGRlY2lyYyhvYmosICcnLCAwLCBbXSwgdW5kZWZpbmVkLCAwLCBvcHRpb25zKVxuICB2YXIgcmVzXG4gIHRyeSB7XG4gICAgaWYgKHJlcGxhY2VyU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICByZXMgPSBKU09OLnN0cmluZ2lmeShvYmosIHJlcGxhY2VyLCBzcGFjZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgcmVwbGFjZUdldHRlclZhbHVlcyhyZXBsYWNlciksIHNwYWNlcilcbiAgICB9XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJ1t1bmFibGUgdG8gc2VyaWFsaXplLCBjaXJjdWxhciByZWZlcmVuY2UgaXMgdG9vIGNvbXBsZXggdG8gYW5hbHl6ZV0nKVxuICB9IGZpbmFsbHkge1xuICAgIHdoaWxlIChhcnIubGVuZ3RoICE9PSAwKSB7XG4gICAgICB2YXIgcGFydCA9IGFyci5wb3AoKVxuICAgICAgaWYgKHBhcnQubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJ0WzBdLCBwYXJ0WzFdLCBwYXJ0WzNdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydFswXVtwYXJ0WzFdXSA9IHBhcnRbMl1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBzZXRSZXBsYWNlIChyZXBsYWNlLCB2YWwsIGssIHBhcmVudCkge1xuICB2YXIgcHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwYXJlbnQsIGspXG4gIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IuZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAocHJvcGVydHlEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcmVudCwgaywgeyB2YWx1ZTogcmVwbGFjZSB9KVxuICAgICAgYXJyLnB1c2goW3BhcmVudCwgaywgdmFsLCBwcm9wZXJ0eURlc2NyaXB0b3JdKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlclN0YWNrLnB1c2goW3ZhbCwgaywgcmVwbGFjZV0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBhcmVudFtrXSA9IHJlcGxhY2VcbiAgICBhcnIucHVzaChbcGFyZW50LCBrLCB2YWxdKVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlY2lyYyAodmFsLCBrLCBlZGdlSW5kZXgsIHN0YWNrLCBwYXJlbnQsIGRlcHRoLCBvcHRpb25zKSB7XG4gIGRlcHRoICs9IDFcbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHN0YWNrW2ldID09PSB2YWwpIHtcbiAgICAgICAgc2V0UmVwbGFjZShDSVJDVUxBUl9SRVBMQUNFX05PREUsIHZhbCwgaywgcGFyZW50KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5kZXB0aExpbWl0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgZGVwdGggPiBvcHRpb25zLmRlcHRoTGltaXRcbiAgICApIHtcbiAgICAgIHNldFJlcGxhY2UoTElNSVRfUkVQTEFDRV9OT0RFLCB2YWwsIGssIHBhcmVudClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBvcHRpb25zLmVkZ2VzTGltaXQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBlZGdlSW5kZXggKyAxID4gb3B0aW9ucy5lZGdlc0xpbWl0XG4gICAgKSB7XG4gICAgICBzZXRSZXBsYWNlKExJTUlUX1JFUExBQ0VfTk9ERSwgdmFsLCBrLCBwYXJlbnQpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzdGFjay5wdXNoKHZhbClcbiAgICAvLyBPcHRpbWl6ZSBmb3IgQXJyYXlzLiBCaWcgYXJyYXlzIGNvdWxkIGtpbGwgdGhlIHBlcmZvcm1hbmNlIG90aGVyd2lzZSFcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlY2lyYyh2YWxbaV0sIGksIGksIHN0YWNrLCB2YWwsIGRlcHRoLCBvcHRpb25zKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbClcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldXG4gICAgICAgIGRlY2lyYyh2YWxba2V5XSwga2V5LCBpLCBzdGFjaywgdmFsLCBkZXB0aCwgb3B0aW9ucylcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhY2sucG9wKClcbiAgfVxufVxuXG4vLyBTdGFibGUtc3RyaW5naWZ5XG5mdW5jdGlvbiBjb21wYXJlRnVuY3Rpb24gKGEsIGIpIHtcbiAgaWYgKGEgPCBiKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKGEgPiBiKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuICByZXR1cm4gMFxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmlzdGljU3RyaW5naWZ5IChvYmosIHJlcGxhY2VyLCBzcGFjZXIsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucygpXG4gIH1cblxuICB2YXIgdG1wID0gZGV0ZXJtaW5pc3RpY0RlY2lyYyhvYmosICcnLCAwLCBbXSwgdW5kZWZpbmVkLCAwLCBvcHRpb25zKSB8fCBvYmpcbiAgdmFyIHJlc1xuICB0cnkge1xuICAgIGlmIChyZXBsYWNlclN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzID0gSlNPTi5zdHJpbmdpZnkodG1wLCByZXBsYWNlciwgc3BhY2VyKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMgPSBKU09OLnN0cmluZ2lmeSh0bXAsIHJlcGxhY2VHZXR0ZXJWYWx1ZXMocmVwbGFjZXIpLCBzcGFjZXIpXG4gICAgfVxuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KCdbdW5hYmxlIHRvIHNlcmlhbGl6ZSwgY2lyY3VsYXIgcmVmZXJlbmNlIGlzIHRvbyBjb21wbGV4IHRvIGFuYWx5emVdJylcbiAgfSBmaW5hbGx5IHtcbiAgICAvLyBFbnN1cmUgdGhhdCB3ZSByZXN0b3JlIHRoZSBvYmplY3QgYXMgaXQgd2FzLlxuICAgIHdoaWxlIChhcnIubGVuZ3RoICE9PSAwKSB7XG4gICAgICB2YXIgcGFydCA9IGFyci5wb3AoKVxuICAgICAgaWYgKHBhcnQubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJ0WzBdLCBwYXJ0WzFdLCBwYXJ0WzNdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydFswXVtwYXJ0WzFdXSA9IHBhcnRbMl1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmlzdGljRGVjaXJjICh2YWwsIGssIGVkZ2VJbmRleCwgc3RhY2ssIHBhcmVudCwgZGVwdGgsIG9wdGlvbnMpIHtcbiAgZGVwdGggKz0gMVxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc3RhY2tbaV0gPT09IHZhbCkge1xuICAgICAgICBzZXRSZXBsYWNlKENJUkNVTEFSX1JFUExBQ0VfTk9ERSwgdmFsLCBrLCBwYXJlbnQpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB2YWwudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBvcHRpb25zLmRlcHRoTGltaXQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBkZXB0aCA+IG9wdGlvbnMuZGVwdGhMaW1pdFxuICAgICkge1xuICAgICAgc2V0UmVwbGFjZShMSU1JVF9SRVBMQUNFX05PREUsIHZhbCwgaywgcGFyZW50KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuZWRnZXNMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIGVkZ2VJbmRleCArIDEgPiBvcHRpb25zLmVkZ2VzTGltaXRcbiAgICApIHtcbiAgICAgIHNldFJlcGxhY2UoTElNSVRfUkVQTEFDRV9OT0RFLCB2YWwsIGssIHBhcmVudClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsKVxuICAgIC8vIE9wdGltaXplIGZvciBBcnJheXMuIEJpZyBhcnJheXMgY291bGQga2lsbCB0aGUgcGVyZm9ybWFuY2Ugb3RoZXJ3aXNlIVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGV0ZXJtaW5pc3RpY0RlY2lyYyh2YWxbaV0sIGksIGksIHN0YWNrLCB2YWwsIGRlcHRoLCBvcHRpb25zKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgYSB0ZW1wb3Jhcnkgb2JqZWN0IGluIHRoZSByZXF1aXJlZCB3YXlcbiAgICAgIHZhciB0bXAgPSB7fVxuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpLnNvcnQoY29tcGFyZUZ1bmN0aW9uKVxuICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV1cbiAgICAgICAgZGV0ZXJtaW5pc3RpY0RlY2lyYyh2YWxba2V5XSwga2V5LCBpLCBzdGFjaywgdmFsLCBkZXB0aCwgb3B0aW9ucylcbiAgICAgICAgdG1wW2tleV0gPSB2YWxba2V5XVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXJlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFyci5wdXNoKFtwYXJlbnQsIGssIHZhbF0pXG4gICAgICAgIHBhcmVudFtrXSA9IHRtcFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRtcFxuICAgICAgfVxuICAgIH1cbiAgICBzdGFjay5wb3AoKVxuICB9XG59XG5cbi8vIHdyYXBzIHJlcGxhY2VyIGZ1bmN0aW9uIHRvIGhhbmRsZSB2YWx1ZXMgd2UgY291bGRuJ3QgcmVwbGFjZVxuLy8gYW5kIG1hcmsgdGhlbSBhcyByZXBsYWNlZCB2YWx1ZVxuZnVuY3Rpb24gcmVwbGFjZUdldHRlclZhbHVlcyAocmVwbGFjZXIpIHtcbiAgcmVwbGFjZXIgPVxuICAgIHR5cGVvZiByZXBsYWNlciAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gcmVwbGFjZXJcbiAgICAgIDogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgcmV0dXJuIHZcbiAgICAgIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbCkge1xuICAgIGlmIChyZXBsYWNlclN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVwbGFjZXJTdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IHJlcGxhY2VyU3RhY2tbaV1cbiAgICAgICAgaWYgKHBhcnRbMV0gPT09IGtleSAmJiBwYXJ0WzBdID09PSB2YWwpIHtcbiAgICAgICAgICB2YWwgPSBwYXJ0WzJdXG4gICAgICAgICAgcmVwbGFjZXJTdGFjay5zcGxpY2UoaSwgMSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsKVxuICB9XG59XG5cblxuLyoqKi8gfSksXG4vKiA1NTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3N5bWJvbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg4NykpO1xuXG52YXIgX2l0ZXJhdG9yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCkpO1xuXG52YXIgX2luY2x1ZGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU1OSkpO1xuXG52YXIgX3Byb21pc2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTApKTtcblxudmFyIF9jb25jYXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMjUpKTtcblxudmFyIF9pbmRleE9mID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzgpKTtcblxudmFyIF9zb3J0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU2OSkpO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yLmRlZmF1bHQgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cbi8qKlxuICogTW9kdWxlIG9mIG1peGVkLWluIGZ1bmN0aW9ucyBzaGFyZWQgYmV0d2VlbiBub2RlIGFuZCBjbGllbnQgY29kZVxuICovXG5cblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDQpO1xuLyoqXG4gKiBFeHBvc2UgYFJlcXVlc3RCYXNlYC5cbiAqL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gUmVxdWVzdEJhc2U7XG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RCYXNlYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3RCYXNlKG9iaikge1xuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcbn1cbi8qKlxuICogTWl4aW4gdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBSZXF1ZXN0QmFzZS5wcm90b3R5cGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFJlcXVlc3RCYXNlLnByb3RvdHlwZSwga2V5KSkgb2JqW2tleV0gPSBSZXF1ZXN0QmFzZS5wcm90b3R5cGVba2V5XTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmNsZWFyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lcik7XG4gIGRlbGV0ZSB0aGlzLl90aW1lcjtcbiAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyO1xuICBkZWxldGUgdGhpcy5fdXBsb2FkVGltZW91dFRpbWVyO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVzcG9uc2UgYm9keSBwYXJzZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgaW5jb21pbmcgZGF0YSBpbnRvIHJlcXVlc3QuYm9keVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGZuKSB7XG4gIHRoaXMuX3BhcnNlciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIFNldCBmb3JtYXQgb2YgYmluYXJ5IHJlc3BvbnNlIGJvZHkuXG4gKiBJbiBicm93c2VyIHZhbGlkIGZvcm1hdHMgYXJlICdibG9iJyBhbmQgJ2FycmF5YnVmZmVyJyxcbiAqIHdoaWNoIHJldHVybiBCbG9iIGFuZCBBcnJheUJ1ZmZlciwgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEluIE5vZGUgYWxsIHZhbHVlcyByZXN1bHQgaW4gQnVmZmVyLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnJlc3BvbnNlVHlwZSgnYmxvYicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJlc3BvbnNlVHlwZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgdGhpcy5fcmVzcG9uc2VUeXBlID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVxdWVzdCBib2R5IHNlcmlhbGl6ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgdGhpcy5fc2VyaWFsaXplciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIFNldCB0aW1lb3V0cy5cbiAqXG4gKiAtIHJlc3BvbnNlIHRpbWVvdXQgaXMgdGltZSBiZXR3ZWVuIHNlbmRpbmcgcmVxdWVzdCBhbmQgcmVjZWl2aW5nIHRoZSBmaXJzdCBieXRlIG9mIHRoZSByZXNwb25zZS4gSW5jbHVkZXMgRE5TIGFuZCBjb25uZWN0aW9uIHRpbWUuXG4gKiAtIGRlYWRsaW5lIGlzIHRoZSB0aW1lIGZyb20gc3RhcnQgb2YgdGhlIHJlcXVlc3QgdG8gcmVjZWl2aW5nIHJlc3BvbnNlIGJvZHkgaW4gZnVsbC4gSWYgdGhlIGRlYWRsaW5lIGlzIHRvbyBzaG9ydCBsYXJnZSBmaWxlcyBtYXkgbm90IGxvYWQgYXQgYWxsIG9uIHNsb3cgY29ubmVjdGlvbnMuXG4gKiAtIHVwbG9hZCBpcyB0aGUgdGltZSAgc2luY2UgbGFzdCBiaXQgb2YgZGF0YSB3YXMgc2VudCBvciByZWNlaXZlZC4gVGhpcyB0aW1lb3V0IHdvcmtzIG9ubHkgaWYgZGVhZGxpbmUgdGltZW91dCBpcyBvZmZcbiAqXG4gKiBWYWx1ZSBvZiAwIG9yIGZhbHNlIG1lYW5zIG5vIHRpbWVvdXQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSBtcyBvciB7cmVzcG9uc2UsIGRlYWRsaW5lfVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnRpbWVvdXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMgfHwgX3R5cGVvZihvcHRpb25zKSAhPT0gJ29iamVjdCcpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucztcbiAgICB0aGlzLl9yZXNwb25zZVRpbWVvdXQgPSAwO1xuICAgIHRoaXMuX3VwbG9hZFRpbWVvdXQgPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZm9yICh2YXIgb3B0aW9uIGluIG9wdGlvbnMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIG9wdGlvbikpIHtcbiAgICAgIHN3aXRjaCAob3B0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2RlYWRsaW5lJzpcbiAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucy5kZWFkbGluZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyZXNwb25zZSc6XG4gICAgICAgICAgdGhpcy5fcmVzcG9uc2VUaW1lb3V0ID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd1cGxvYWQnOlxuICAgICAgICAgIHRoaXMuX3VwbG9hZFRpbWVvdXQgPSBvcHRpb25zLnVwbG9hZDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUud2FybignVW5rbm93biB0aW1lb3V0IG9wdGlvbicsIG9wdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuLyoqXG4gKiBTZXQgbnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIG9uIGVycm9yLlxuICpcbiAqIEZhaWxlZCByZXF1ZXN0cyB3aWxsIGJlIHJldHJpZWQgJ2NvdW50JyB0aW1lcyBpZiB0aW1lb3V0IG9yIGVyci5jb2RlID49IDUwMC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5yZXRyeSA9IGZ1bmN0aW9uIChjb3VudCwgZm4pIHtcbiAgLy8gRGVmYXVsdCB0byAxIGlmIG5vIGNvdW50IHBhc3NlZCBvciB0cnVlXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwIHx8IGNvdW50ID09PSB0cnVlKSBjb3VudCA9IDE7XG4gIGlmIChjb3VudCA8PSAwKSBjb3VudCA9IDA7XG4gIHRoaXMuX21heFJldHJpZXMgPSBjb3VudDtcbiAgdGhpcy5fcmV0cmllcyA9IDA7XG4gIHRoaXMuX3JldHJ5Q2FsbGJhY2sgPSBmbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG52YXIgRVJST1JfQ09ERVMgPSBbJ0VDT05OUkVTRVQnLCAnRVRJTUVET1VUJywgJ0VBRERSSU5GTycsICdFU09DS0VUVElNRURPVVQnXTtcbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgcmVxdWVzdCBzaG91bGQgYmUgcmV0cmllZC5cbiAqIChCb3Jyb3dlZCBmcm9tIHNlZ21lbnRpby9zdXBlcmFnZW50LXJldHJ5KVxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyciBhbiBlcnJvclxuICogQHBhcmFtIHtSZXNwb25zZX0gW3Jlc10gcmVzcG9uc2VcbiAqIEByZXR1cm5zIHtCb29sZWFufSBpZiBzZWdtZW50IHNob3VsZCBiZSByZXRyaWVkXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9zaG91bGRSZXRyeSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICBpZiAoIXRoaXMuX21heFJldHJpZXMgfHwgdGhpcy5fcmV0cmllcysrID49IHRoaXMuX21heFJldHJpZXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fcmV0cnlDYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgb3ZlcnJpZGUgPSB0aGlzLl9yZXRyeUNhbGxiYWNrKGVyciwgcmVzKTtcblxuICAgICAgaWYgKG92ZXJyaWRlID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChvdmVycmlkZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsgLy8gdW5kZWZpbmVkIGZhbGxzIGJhY2sgdG8gZGVmYXVsdHNcbiAgICB9IGNhdGNoIChlcnJfKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycl8pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZXMgJiYgcmVzLnN0YXR1cyAmJiByZXMuc3RhdHVzID49IDUwMCAmJiByZXMuc3RhdHVzICE9PSA1MDEpIHJldHVybiB0cnVlO1xuXG4gIGlmIChlcnIpIHtcbiAgICBpZiAoZXJyLmNvZGUgJiYgKDAsIF9pbmNsdWRlcy5kZWZhdWx0KShFUlJPUl9DT0RFUykuY2FsbChFUlJPUl9DT0RFUywgZXJyLmNvZGUpKSByZXR1cm4gdHJ1ZTsgLy8gU3VwZXJhZ2VudCB0aW1lb3V0XG5cbiAgICBpZiAoZXJyLnRpbWVvdXQgJiYgZXJyLmNvZGUgPT09ICdFQ09OTkFCT1JURUQnKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZXJyLmNyb3NzRG9tYWluKSByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG4vKipcbiAqIFJldHJ5IHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9yZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTsgLy8gbm9kZVxuXG4gIGlmICh0aGlzLnJlcSkge1xuICAgIHRoaXMucmVxID0gbnVsbDtcbiAgICB0aGlzLnJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICB9XG5cbiAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlO1xuICB0aGlzLnRpbWVkb3V0ID0gZmFsc2U7XG4gIHRoaXMudGltZWRvdXRFcnJvciA9IG51bGw7XG4gIHJldHVybiB0aGlzLl9lbmQoKTtcbn07XG4vKipcbiAqIFByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZWplY3RdXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKCF0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICh0aGlzLl9lbmRDYWxsZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogc3VwZXJhZ2VudCByZXF1ZXN0IHdhcyBzZW50IHR3aWNlLCBiZWNhdXNlIGJvdGggLmVuZCgpIGFuZCAudGhlbigpIHdlcmUgY2FsbGVkLiBOZXZlciBjYWxsIC5lbmQoKSBpZiB5b3UgdXNlIHByb21pc2VzJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZnVsbGZpbGxlZFByb21pc2UgPSBuZXcgX3Byb21pc2UuZGVmYXVsdChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBzZWxmLm9uKCdhYm9ydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLl9tYXhSZXRyaWVzICYmIF90aGlzLl9tYXhSZXRyaWVzID4gX3RoaXMuX3JldHJpZXMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMudGltZWRvdXQgJiYgX3RoaXMudGltZWRvdXRFcnJvcikge1xuICAgICAgICAgIHJlamVjdChfdGhpcy50aW1lZG91dEVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdBYm9ydGVkJyk7XG4gICAgICAgIGVyci5jb2RlID0gJ0FCT1JURUQnO1xuICAgICAgICBlcnIuc3RhdHVzID0gX3RoaXMuc3RhdHVzO1xuICAgICAgICBlcnIubWV0aG9kID0gX3RoaXMubWV0aG9kO1xuICAgICAgICBlcnIudXJsID0gX3RoaXMudXJsO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZi5lbmQoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpO2Vsc2UgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xufTtcblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBjYik7XG59O1xuLyoqXG4gKiBBbGxvdyBmb3IgZXh0ZW5zaW9uXG4gKi9cblxuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5vayA9IGZ1bmN0aW9uIChjYikge1xuICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHJlcXVpcmVkJyk7XG4gIHRoaXMuX29rQ2FsbGJhY2sgPSBjYjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2lzUmVzcG9uc2VPSyA9IGZ1bmN0aW9uIChyZXMpIHtcbiAgaWYgKCFyZXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fb2tDYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLl9va0NhbGxiYWNrKHJlcyk7XG4gIH1cblxuICByZXR1cm4gcmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8IDMwMDtcbn07XG4vKipcbiAqIEdldCByZXF1ZXN0IGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBoZWFkZXIgYGZpZWxkYCB2YWx1ZS5cbiAqIFRoaXMgaXMgYSBkZXByZWNhdGVkIGludGVybmFsIEFQSS4gVXNlIGAuZ2V0KGZpZWxkKWAgaW5zdGVhZC5cbiAqXG4gKiAoZ2V0SGVhZGVyIGlzIG5vIGxvbmdlciB1c2VkIGludGVybmFsbHkgYnkgdGhlIHN1cGVyYWdlbnQgY29kZSBiYXNlKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKiBAZGVwcmVjYXRlZFxuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmdldEhlYWRlciA9IFJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQ7XG4vKipcbiAqIFNldCBoZWFkZXIgYGZpZWxkYCB0byBgdmFsYCwgb3IgbXVsdGlwbGUgZmllbGRzIHdpdGggb25lIG9iamVjdC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAuc2V0KCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLnNldCgnWC1BUEktS2V5JywgJ2Zvb2JhcicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAuc2V0KHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsICdYLUFQSS1LZXknOiAnZm9vYmFyJyB9KVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZmllbGRcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGZpZWxkLCB2YWwpIHtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBmaWVsZCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmaWVsZCwga2V5KSkgdGhpcy5zZXQoa2V5LCBmaWVsZFtrZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXSA9IHZhbDtcbiAgdGhpcy5oZWFkZXJbZmllbGRdID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIFJlbW92ZSBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC51bnNldCgnVXNlci1BZ2VudCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkIGZpZWxkIG5hbWVcbiAqL1xuXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS51bnNldCA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuICBkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIFdyaXRlIHRoZSBmaWVsZCBgbmFtZWAgYW5kIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0XG4gKiBmb3IgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgcmVxdWVzdCBib2RpZXMuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoeyBmb286ICdiYXInLCBiYXo6ICdxdXgnIH0pXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBuYW1lIG5hbWUgb2YgZmllbGRcbiAqIEBwYXJhbSB7U3RyaW5nfEJsb2J8RmlsZXxCdWZmZXJ8ZnMuUmVhZFN0cmVhbX0gdmFsIHZhbHVlIG9mIGZpZWxkXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuZmllbGQgPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gIC8vIG5hbWUgc2hvdWxkIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3QuXG4gIGlmIChuYW1lID09PSBudWxsIHx8IHVuZGVmaW5lZCA9PT0gbmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignLmZpZWxkKG5hbWUsIHZhbCkgbmFtZSBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gIH1cblxuICBpZiAodGhpcy5fZGF0YSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIi5maWVsZCgpIGNhbid0IGJlIHVzZWQgaWYgLnNlbmQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpXCIpO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG5hbWUpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmFtZSwga2V5KSkgdGhpcy5maWVsZChrZXksIG5hbWVba2V5XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgZm9yICh2YXIgaSBpbiB2YWwpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsLCBpKSkgdGhpcy5maWVsZChuYW1lLCB2YWxbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9IC8vIHZhbCBzaG91bGQgYmUgZGVmaW5lZCBub3dcblxuXG4gIGlmICh2YWwgPT09IG51bGwgfHwgdW5kZWZpbmVkID09PSB2YWwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJy5maWVsZChuYW1lLCB2YWwpIHZhbCBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdmFsID0gU3RyaW5nKHZhbCk7XG4gIH1cblxuICB0aGlzLl9nZXRGb3JtRGF0YSgpLmFwcGVuZChuYW1lLCB2YWwpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogQWJvcnQgdGhlIHJlcXVlc3QsIGFuZCBjbGVhciBwb3RlbnRpYWwgdGltZW91dC5cbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSByZXF1ZXN0XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG4gIGlmICh0aGlzLnhocikgdGhpcy54aHIuYWJvcnQoKTsgLy8gYnJvd3NlclxuXG4gIGlmICh0aGlzLnJlcSkgdGhpcy5yZXEuYWJvcnQoKTsgLy8gbm9kZVxuXG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIHRoaXMuZW1pdCgnYWJvcnQnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2F1dGggPSBmdW5jdGlvbiAodXNlciwgcGFzcywgb3B0aW9ucywgYmFzZTY0RW5jb2Rlcikge1xuICB2YXIgX2NvbnRleHQ7XG5cbiAgc3dpdGNoIChvcHRpb25zLnR5cGUpIHtcbiAgICBjYXNlICdiYXNpYyc6XG4gICAgICB0aGlzLnNldCgnQXV0aG9yaXphdGlvbicsIFwiQmFzaWMgXCIuY29uY2F0KGJhc2U2NEVuY29kZXIoKDAsIF9jb25jYXQuZGVmYXVsdCkoX2NvbnRleHQgPSBcIlwiLmNvbmNhdCh1c2VyLCBcIjpcIikpLmNhbGwoX2NvbnRleHQsIHBhc3MpKSkpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyO1xuICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3M7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2JlYXJlcic6XG4gICAgICAvLyB1c2FnZSB3b3VsZCBiZSAuYXV0aChhY2Nlc3NUb2tlbiwgeyB0eXBlOiAnYmVhcmVyJyB9KVxuICAgICAgdGhpcy5zZXQoJ0F1dGhvcml6YXRpb24nLCBcIkJlYXJlciBcIi5jb25jYXQodXNlcikpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIEVuYWJsZSB0cmFuc21pc3Npb24gb2YgY29va2llcyB3aXRoIHgtZG9tYWluIHJlcXVlc3RzLlxuICpcbiAqIE5vdGUgdGhhdCBmb3IgdGhpcyB0byB3b3JrIHRoZSBvcmlnaW4gbXVzdCBub3QgYmVcbiAqIHVzaW5nIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCIgd2l0aCBhIHdpbGRjYXJkLFxuICogYW5kIGFsc28gbXVzdCBzZXQgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiXG4gKiB0byBcInRydWVcIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLndpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uIChvbikge1xuICAvLyBUaGlzIGlzIGJyb3dzZXItb25seSBmdW5jdGlvbmFsaXR5LiBOb2RlIHNpZGUgaXMgbm8tb3AuXG4gIGlmIChvbiA9PT0gdW5kZWZpbmVkKSBvbiA9IHRydWU7XG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IG9uO1xuICByZXR1cm4gdGhpcztcbn07XG4vKipcbiAqIFNldCB0aGUgbWF4IHJlZGlyZWN0cyB0byBgbmAuIERvZXMgbm90aGluZyBpbiBicm93c2VyIFhIUiBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJlZGlyZWN0cyA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuX21heFJlZGlyZWN0cyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogTWF4aW11bSBzaXplIG9mIGJ1ZmZlcmVkIHJlc3BvbnNlIGJvZHksIGluIGJ5dGVzLiBDb3VudHMgdW5jb21wcmVzc2VkIHNpemUuXG4gKiBEZWZhdWx0IDIwME1CLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIG51bWJlciBvZiBieXRlc1xuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKi9cblxuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUubWF4UmVzcG9uc2VTaXplID0gZnVuY3Rpb24gKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQnKTtcbiAgfVxuXG4gIHRoaXMuX21heFJlc3BvbnNlU2l6ZSA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogQ29udmVydCB0byBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IChub3QgSlNPTiBzdHJpbmcpIG9mIHNjYWxhciBwcm9wZXJ0aWVzLlxuICogTm90ZSBhcyB0aGlzIG1ldGhvZCBpcyBkZXNpZ25lZCB0byByZXR1cm4gYSB1c2VmdWwgbm9uLXRoaXMgdmFsdWUsXG4gKiBpdCBjYW5ub3QgYmUgY2hhaW5lZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlc2NyaWJpbmcgbWV0aG9kLCB1cmwsIGFuZCBkYXRhIG9mIHRoaXMgcmVxdWVzdFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICB1cmw6IHRoaXMudXJsLFxuICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyXG4gIH07XG59O1xuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcblxuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBpc09iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICB2YXIgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgaWYgKHRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiLnNlbmQoKSBjYW4ndCBiZSB1c2VkIGlmIC5hdHRhY2goKSBvciAuZmllbGQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpXCIpO1xuICB9XG5cbiAgaWYgKGlzT2JqICYmICF0aGlzLl9kYXRhKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc0hvc3QoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGF0YSAmJiB0aGlzLl9kYXRhICYmIHRoaXMuX2lzSG9zdCh0aGlzLl9kYXRhKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IG1lcmdlIHRoZXNlIHNlbmQgY2FsbHNcIik7XG4gIH0gLy8gbWVyZ2VcblxuXG4gIGlmIChpc09iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHRoaXMuX2RhdGFba2V5XSA9IGRhdGFba2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZGVmYXVsdCB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAgICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnZm9ybScpO1xuICAgIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuXG4gICAgaWYgKHR5cGUgPT09ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSB7XG4gICAgICB2YXIgX2NvbnRleHQyO1xuXG4gICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGF0YSA/ICgwLCBfY29uY2F0LmRlZmF1bHQpKF9jb250ZXh0MiA9IFwiXCIuY29uY2F0KHRoaXMuX2RhdGEsIFwiJlwiKSkuY2FsbChfY29udGV4dDIsIGRhdGEpIDogZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGF0YSA9ICh0aGlzLl9kYXRhIHx8ICcnKSArIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCFpc09iaiB8fCB0aGlzLl9pc0hvc3QoZGF0YSkpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyBkZWZhdWx0IHRvIGpzb25cblxuXG4gIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogU29ydCBgcXVlcnlzdHJpbmdgIGJ5IHRoZSBzb3J0IGZ1bmN0aW9uXG4gKlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIGRlZmF1bHQgb3JkZXJcbiAqICAgICAgIHJlcXVlc3QuZ2V0KCcvdXNlcicpXG4gKiAgICAgICAgIC5xdWVyeSgnbmFtZT1OaWNrJylcbiAqICAgICAgICAgLnF1ZXJ5KCdzZWFyY2g9TWFubnknKVxuICogICAgICAgICAuc29ydFF1ZXJ5KClcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBjdXN0b21pemVkIHNvcnQgZnVuY3Rpb25cbiAqICAgICAgIHJlcXVlc3QuZ2V0KCcvdXNlcicpXG4gKiAgICAgICAgIC5xdWVyeSgnbmFtZT1OaWNrJylcbiAqICAgICAgICAgLnF1ZXJ5KCdzZWFyY2g9TWFubnknKVxuICogICAgICAgICAuc29ydFF1ZXJ5KGZ1bmN0aW9uKGEsIGIpe1xuICogICAgICAgICAgIHJldHVybiBhLmxlbmd0aCAtIGIubGVuZ3RoO1xuICogICAgICAgICB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzb3J0XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc29ydFF1ZXJ5ID0gZnVuY3Rpb24gKHNvcnQpIHtcbiAgLy8gX3NvcnQgZGVmYXVsdCB0byB0cnVlIGJ1dCBvdGhlcndpc2UgY2FuIGJlIGEgZnVuY3Rpb24gb3IgYm9vbGVhblxuICB0aGlzLl9zb3J0ID0gdHlwZW9mIHNvcnQgPT09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IHNvcnQ7XG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogQ29tcG9zZSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gcmVxLnVybFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9maW5hbGl6ZVF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcXVlcnkgPSB0aGlzLl9xdWVyeS5qb2luKCcmJyk7XG5cbiAgaWYgKHF1ZXJ5KSB7XG4gICAgdmFyIF9jb250ZXh0MztcblxuICAgIHRoaXMudXJsICs9ICgoMCwgX2luY2x1ZGVzLmRlZmF1bHQpKF9jb250ZXh0MyA9IHRoaXMudXJsKS5jYWxsKF9jb250ZXh0MywgJz8nKSA/ICcmJyA6ICc/JykgKyBxdWVyeTtcbiAgfVxuXG4gIHRoaXMuX3F1ZXJ5Lmxlbmd0aCA9IDA7IC8vIE1ha2VzIHRoZSBjYWxsIGlkZW1wb3RlbnRcblxuICBpZiAodGhpcy5fc29ydCkge1xuICAgIHZhciBfY29udGV4dDQ7XG5cbiAgICB2YXIgaW5kZXggPSAoMCwgX2luZGV4T2YuZGVmYXVsdCkoX2NvbnRleHQ0ID0gdGhpcy51cmwpLmNhbGwoX2NvbnRleHQ0LCAnPycpO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHZhciBfY29udGV4dDUsIF9jb250ZXh0NjtcblxuICAgICAgdmFyIHF1ZXJ5QXJyID0gKDAsIF9zbGljZS5kZWZhdWx0KShfY29udGV4dDUgPSB0aGlzLnVybCkuY2FsbChfY29udGV4dDUsIGluZGV4ICsgMSkuc3BsaXQoJyYnKTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zb3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICgwLCBfc29ydC5kZWZhdWx0KShxdWVyeUFycikuY2FsbChxdWVyeUFyciwgdGhpcy5fc29ydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3NvcnQuZGVmYXVsdCkocXVlcnlBcnIpLmNhbGwocXVlcnlBcnIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVybCA9ICgwLCBfc2xpY2UuZGVmYXVsdCkoX2NvbnRleHQ2ID0gdGhpcy51cmwpLmNhbGwoX2NvbnRleHQ2LCAwLCBpbmRleCkgKyAnPycgKyBxdWVyeUFyci5qb2luKCcmJyk7XG4gICAgfVxuICB9XG59OyAvLyBGb3IgYmFja3dhcmRzIGNvbXBhdCBvbmx5XG5cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9hcHBlbmRRdWVyeVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCcpO1xufTtcbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fdGltZW91dEVycm9yID0gZnVuY3Rpb24gKHJlYXNvbiwgdGltZW91dCwgZXJybm8pIHtcbiAgaWYgKHRoaXMuX2Fib3J0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXJyID0gbmV3IEVycm9yKFwiXCIuY29uY2F0KHJlYXNvbiArIHRpbWVvdXQsIFwibXMgZXhjZWVkZWRcIikpO1xuICBlcnIudGltZW91dCA9IHRpbWVvdXQ7XG4gIGVyci5jb2RlID0gJ0VDT05OQUJPUlRFRCc7XG4gIGVyci5lcnJubyA9IGVycm5vO1xuICB0aGlzLnRpbWVkb3V0ID0gdHJ1ZTtcbiAgdGhpcy50aW1lZG91dEVycm9yID0gZXJyO1xuICB0aGlzLmFib3J0KCk7XG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fc2V0VGltZW91dHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpczsgLy8gZGVhZGxpbmVcblxuICBpZiAodGhpcy5fdGltZW91dCAmJiAhdGhpcy5fdGltZXIpIHtcbiAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5fdGltZW91dEVycm9yKCdUaW1lb3V0IG9mICcsIHNlbGYuX3RpbWVvdXQsICdFVElNRScpO1xuICAgIH0sIHRoaXMuX3RpbWVvdXQpO1xuICB9IC8vIHJlc3BvbnNlIHRpbWVvdXRcblxuXG4gIGlmICh0aGlzLl9yZXNwb25zZVRpbWVvdXQgJiYgIXRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyKSB7XG4gICAgdGhpcy5fcmVzcG9uc2VUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYuX3RpbWVvdXRFcnJvcignUmVzcG9uc2UgdGltZW91dCBvZiAnLCBzZWxmLl9yZXNwb25zZVRpbWVvdXQsICdFVElNRURPVVQnKTtcbiAgICB9LCB0aGlzLl9yZXNwb25zZVRpbWVvdXQpO1xuICB9XG59O1xuXG4vKioqLyB9KSxcbi8qIDU1OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTYwKTtcblxuLyoqKi8gfSksXG4vKiA1NjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1NjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzUHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBhcnJheU1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYyKTtcbnZhciBzdHJpbmdNZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2NCk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcbnZhciBTdHJpbmdQcm90b3R5cGUgPSBTdHJpbmcucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuaW5jbHVkZXM7XG4gIGlmIChpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoQXJyYXlQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLmluY2x1ZGVzKSkgcmV0dXJuIGFycmF5TWV0aG9kO1xuICBpZiAodHlwZW9mIGl0ID09ICdzdHJpbmcnIHx8IGl0ID09PSBTdHJpbmdQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoU3RyaW5nUHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBTdHJpbmdQcm90b3R5cGUuaW5jbHVkZXMpKSB7XG4gICAgcmV0dXJuIHN0cmluZ01ldGhvZDtcbiAgfSByZXR1cm4gb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU2MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU2Myk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmluY2x1ZGVzO1xuXG5cbi8qKiovIH0pLFxuLyogNTYzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgJGluY2x1ZGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpLmluY2x1ZGVzO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjIpO1xuXG4vLyBGRjk5KyBidWdcbnZhciBCUk9LRU5fT05fU1BBUlNFID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gIUFycmF5KDEpLmluY2x1ZGVzKCk7XG59KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogQlJPS0VOX09OX1NQQVJTRSB9LCB7XG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhlbCAvKiAsIGZyb21JbmRleCA9IDAgKi8pIHtcbiAgICByZXR1cm4gJGluY2x1ZGVzKHRoaXMsIGVsLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5hZGRUb1Vuc2NvcGFibGVzKCdpbmNsdWRlcycpO1xuXG5cbi8qKiovIH0pLFxuLyogNTY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTY1KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ1N0cmluZycpLmluY2x1ZGVzO1xuXG5cbi8qKiovIH0pLFxuLyogNTY1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgdW5jdXJyeVRoaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIG5vdEFSZWdFeHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2Nik7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG52YXIgY29ycmVjdElzUmVnRXhwTG9naWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2OCk7XG5cbnZhciBzdHJpbmdJbmRleE9mID0gdW5jdXJyeVRoaXMoJycuaW5kZXhPZik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1xuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFjb3JyZWN0SXNSZWdFeHBMb2dpYygnaW5jbHVkZXMnKSB9LCB7XG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhzZWFyY2hTdHJpbmcgLyogLCBwb3NpdGlvbiA9IDAgKi8pIHtcbiAgICByZXR1cm4gISF+c3RyaW5nSW5kZXhPZihcbiAgICAgIHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcykpLFxuICAgICAgdG9TdHJpbmcobm90QVJlZ0V4cChzZWFyY2hTdHJpbmcpKSxcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkXG4gICAgKTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA1NjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzUmVnRXhwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NjcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGlzUmVnRXhwKGl0KSkge1xuICAgIHRocm93ICRUeXBlRXJyb3IoXCJUaGUgbWV0aG9kIGRvZXNuJ3QgYWNjZXB0IHJlZ3VsYXIgZXhwcmVzc2lvbnNcIik7XG4gIH0gcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU2NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIE1BVENIID0gd2VsbEtub3duU3ltYm9sKCdtYXRjaCcpO1xuXG4vLyBgSXNSZWdFeHBgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc3JlZ2V4cFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIGlzUmVnRXhwO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICgoaXNSZWdFeHAgPSBpdFtNQVRDSF0pICE9PSB1bmRlZmluZWQgPyAhIWlzUmVnRXhwIDogY2xhc3NvZihpdCkgPT0gJ1JlZ0V4cCcpO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU2OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxudmFyIE1BVENIID0gd2VsbEtub3duU3ltYm9sKCdtYXRjaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICB2YXIgcmVnZXhwID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICB0cnkge1xuICAgICAgcmVnZXhwW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICAgIH0gY2F0Y2ggKGVycm9yMikgeyAvKiBlbXB0eSAqLyB9XG4gIH0gcmV0dXJuIGZhbHNlO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU2OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcwKTtcblxuLyoqKi8gfSksXG4vKiA1NzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTcxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1NzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzUHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbnZhciBtZXRob2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3Mik7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LnNvcnQ7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoQXJyYXlQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLnNvcnQpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDU3MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDU3Myk7XG52YXIgZW50cnlWaXJ0dWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLnNvcnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1NzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciB1bmN1cnJ5VGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgYUNhbGxhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xudmFyIGRlbGV0ZVByb3BlcnR5T3JUaHJvdyA9IF9fd2VicGFja19yZXF1aXJlX18oNTc0KTtcbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBpbnRlcm5hbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3NSk7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM5KTtcbnZhciBGRiA9IF9fd2VicGFja19yZXF1aXJlX18oNTc2KTtcbnZhciBJRV9PUl9FREdFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzcpO1xudmFyIFY4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG52YXIgV0VCS0lUID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NzgpO1xuXG52YXIgdGVzdCA9IFtdO1xudmFyIHVuJFNvcnQgPSB1bmN1cnJ5VGhpcyh0ZXN0LnNvcnQpO1xudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyh0ZXN0LnB1c2gpO1xuXG4vLyBJRTgtXG52YXIgRkFJTFNfT05fVU5ERUZJTkVEID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICB0ZXN0LnNvcnQodW5kZWZpbmVkKTtcbn0pO1xuLy8gVjggYnVnXG52YXIgRkFJTFNfT05fTlVMTCA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdGVzdC5zb3J0KG51bGwpO1xufSk7XG4vLyBPbGQgV2ViS2l0XG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3NvcnQnKTtcblxudmFyIFNUQUJMRV9TT1JUID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZmVhdHVyZSBkZXRlY3Rpb24gY2FuIGJlIHRvbyBzbG93LCBzbyBjaGVjayBlbmdpbmVzIHZlcnNpb25zXG4gIGlmIChWOCkgcmV0dXJuIFY4IDwgNzA7XG4gIGlmIChGRiAmJiBGRiA+IDMpIHJldHVybjtcbiAgaWYgKElFX09SX0VER0UpIHJldHVybiB0cnVlO1xuICBpZiAoV0VCS0lUKSByZXR1cm4gV0VCS0lUIDwgNjAzO1xuXG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGNvZGUsIGNociwgdmFsdWUsIGluZGV4O1xuXG4gIC8vIGdlbmVyYXRlIGFuIGFycmF5IHdpdGggbW9yZSA1MTIgZWxlbWVudHMgKENoYWtyYSBhbmQgb2xkIFY4IGZhaWxzIG9ubHkgaW4gdGhpcyBjYXNlKVxuICBmb3IgKGNvZGUgPSA2NTsgY29kZSA8IDc2OyBjb2RlKyspIHtcbiAgICBjaHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuXG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICBjYXNlIDY2OiBjYXNlIDY5OiBjYXNlIDcwOiBjYXNlIDcyOiB2YWx1ZSA9IDM7IGJyZWFrO1xuICAgICAgY2FzZSA2ODogY2FzZSA3MTogdmFsdWUgPSA0OyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IHZhbHVlID0gMjtcbiAgICB9XG5cbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCA0NzsgaW5kZXgrKykge1xuICAgICAgdGVzdC5wdXNoKHsgazogY2hyICsgaW5kZXgsIHY6IHZhbHVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHRlc3Quc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYi52IC0gYS52OyB9KTtcblxuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0ZXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNociA9IHRlc3RbaW5kZXhdLmsuY2hhckF0KDApO1xuICAgIGlmIChyZXN1bHQuY2hhckF0KHJlc3VsdC5sZW5ndGggLSAxKSAhPT0gY2hyKSByZXN1bHQgKz0gY2hyO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdCAhPT0gJ0RHQkVGSEFDSUpLJztcbn0pO1xuXG52YXIgRk9SQ0VEID0gRkFJTFNfT05fVU5ERUZJTkVEIHx8ICFGQUlMU19PTl9OVUxMIHx8ICFTVFJJQ1RfTUVUSE9EIHx8ICFTVEFCTEVfU09SVDtcblxudmFyIGdldFNvcnRDb21wYXJlID0gZnVuY3Rpb24gKGNvbXBhcmVmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gLTE7XG4gICAgaWYgKHggPT09IHVuZGVmaW5lZCkgcmV0dXJuIDE7XG4gICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gK2NvbXBhcmVmbih4LCB5KSB8fCAwO1xuICAgIHJldHVybiB0b1N0cmluZyh4KSA+IHRvU3RyaW5nKHkpID8gMSA6IC0xO1xuICB9O1xufTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5zb3J0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvcnRcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoY29tcGFyZWZuKSB7XG4gICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSBhQ2FsbGFibGUoY29tcGFyZWZuKTtcblxuICAgIHZhciBhcnJheSA9IHRvT2JqZWN0KHRoaXMpO1xuXG4gICAgaWYgKFNUQUJMRV9TT1JUKSByZXR1cm4gY29tcGFyZWZuID09PSB1bmRlZmluZWQgPyB1biRTb3J0KGFycmF5KSA6IHVuJFNvcnQoYXJyYXksIGNvbXBhcmVmbik7XG5cbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShhcnJheSk7XG4gICAgdmFyIGl0ZW1zTGVuZ3RoLCBpbmRleDtcblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFycmF5TGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoaW5kZXggaW4gYXJyYXkpIHB1c2goaXRlbXMsIGFycmF5W2luZGV4XSk7XG4gICAgfVxuXG4gICAgaW50ZXJuYWxTb3J0KGl0ZW1zLCBnZXRTb3J0Q29tcGFyZShjb21wYXJlZm4pKTtcblxuICAgIGl0ZW1zTGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgIGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChpbmRleCA8IGl0ZW1zTGVuZ3RoKSBhcnJheVtpbmRleF0gPSBpdGVtc1tpbmRleCsrXTtcbiAgICB3aGlsZSAoaW5kZXggPCBhcnJheUxlbmd0aCkgZGVsZXRlUHJvcGVydHlPclRocm93KGFycmF5LCBpbmRleCsrKTtcblxuICAgIHJldHVybiBhcnJheTtcbiAgfVxufSk7XG5cblxuLyoqKi8gfSksXG4vKiA1NzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB0cnlUb1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgUCkge1xuICBpZiAoIWRlbGV0ZSBPW1BdKSB0aHJvdyAkVHlwZUVycm9yKCdDYW5ub3QgZGVsZXRlIHByb3BlcnR5ICcgKyB0cnlUb1N0cmluZyhQKSArICcgb2YgJyArIHRyeVRvU3RyaW5nKE8pKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1NzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFycmF5U2xpY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzMSk7XG5cbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cbnZhciBtZXJnZVNvcnQgPSBmdW5jdGlvbiAoYXJyYXksIGNvbXBhcmVmbikge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgbWlkZGxlID0gZmxvb3IobGVuZ3RoIC8gMik7XG4gIHJldHVybiBsZW5ndGggPCA4ID8gaW5zZXJ0aW9uU29ydChhcnJheSwgY29tcGFyZWZuKSA6IG1lcmdlKFxuICAgIGFycmF5LFxuICAgIG1lcmdlU29ydChhcnJheVNsaWNlKGFycmF5LCAwLCBtaWRkbGUpLCBjb21wYXJlZm4pLFxuICAgIG1lcmdlU29ydChhcnJheVNsaWNlKGFycmF5LCBtaWRkbGUpLCBjb21wYXJlZm4pLFxuICAgIGNvbXBhcmVmblxuICApO1xufTtcblxudmFyIGluc2VydGlvblNvcnQgPSBmdW5jdGlvbiAoYXJyYXksIGNvbXBhcmVmbikge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgaSA9IDE7XG4gIHZhciBlbGVtZW50LCBqO1xuXG4gIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgaiA9IGk7XG4gICAgZWxlbWVudCA9IGFycmF5W2ldO1xuICAgIHdoaWxlIChqICYmIGNvbXBhcmVmbihhcnJheVtqIC0gMV0sIGVsZW1lbnQpID4gMCkge1xuICAgICAgYXJyYXlbal0gPSBhcnJheVstLWpdO1xuICAgIH1cbiAgICBpZiAoaiAhPT0gaSsrKSBhcnJheVtqXSA9IGVsZW1lbnQ7XG4gIH0gcmV0dXJuIGFycmF5O1xufTtcblxudmFyIG1lcmdlID0gZnVuY3Rpb24gKGFycmF5LCBsZWZ0LCByaWdodCwgY29tcGFyZWZuKSB7XG4gIHZhciBsbGVuZ3RoID0gbGVmdC5sZW5ndGg7XG4gIHZhciBybGVuZ3RoID0gcmlnaHQubGVuZ3RoO1xuICB2YXIgbGluZGV4ID0gMDtcbiAgdmFyIHJpbmRleCA9IDA7XG5cbiAgd2hpbGUgKGxpbmRleCA8IGxsZW5ndGggfHwgcmluZGV4IDwgcmxlbmd0aCkge1xuICAgIGFycmF5W2xpbmRleCArIHJpbmRleF0gPSAobGluZGV4IDwgbGxlbmd0aCAmJiByaW5kZXggPCBybGVuZ3RoKVxuICAgICAgPyBjb21wYXJlZm4obGVmdFtsaW5kZXhdLCByaWdodFtyaW5kZXhdKSA8PSAwID8gbGVmdFtsaW5kZXgrK10gOiByaWdodFtyaW5kZXgrK11cbiAgICAgIDogbGluZGV4IDwgbGxlbmd0aCA/IGxlZnRbbGluZGV4KytdIDogcmlnaHRbcmluZGV4KytdO1xuICB9IHJldHVybiBhcnJheTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2VTb3J0O1xuXG5cbi8qKiovIH0pLFxuLyogNTc2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIGZpcmVmb3ggPSB1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSk7XG5cbm1vZHVsZS5leHBvcnRzID0gISFmaXJlZm94ICYmICtmaXJlZm94WzFdO1xuXG5cbi8qKiovIH0pLFxuLyogNTc3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBVQSA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC9NU0lFfFRyaWRlbnQvLnRlc3QoVUEpO1xuXG5cbi8qKiovIH0pLFxuLyogNTc4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxudmFyIHdlYmtpdCA9IHVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhIXdlYmtpdCAmJiArd2Via2l0WzFdO1xuXG5cbi8qKiovIH0pLFxuLyogNTc5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODApO1xuLyoqXG4gKiBFeHBvc2UgYFJlc3BvbnNlQmFzZWAuXG4gKi9cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3BvbnNlQmFzZTtcbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVzcG9uc2VCYXNlYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlc3BvbnNlQmFzZShvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG4vKipcbiAqIE1peGluIHRoZSBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gUmVzcG9uc2VCYXNlLnByb3RvdHlwZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUmVzcG9uc2VCYXNlLnByb3RvdHlwZSwga2V5KSkgb2JqW2tleV0gPSBSZXNwb25zZUJhc2UucHJvdG90eXBlW2tleV07XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cblJlc3BvbnNlQmFzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG4vKipcbiAqIFNldCBoZWFkZXIgcmVsYXRlZCBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgLnR5cGVgIHRoZSBjb250ZW50IHR5cGUgd2l0aG91dCBwYXJhbXNcbiAqXG4gKiBBIHJlc3BvbnNlIG9mIFwiQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJcbiAqIHdpbGwgcHJvdmlkZSB5b3Ugd2l0aCBhIGAudHlwZWAgb2YgXCJ0ZXh0L3BsYWluXCIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlclxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGhlYWRlcikge1xuICAvLyBUT0RPOiBtb2FyIVxuICAvLyBUT0RPOiBtYWtlIHRoaXMgYSB1dGlsXG4gIC8vIGNvbnRlbnQtdHlwZVxuICB2YXIgY3QgPSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddIHx8ICcnO1xuICB0aGlzLnR5cGUgPSB1dGlscy50eXBlKGN0KTsgLy8gcGFyYW1zXG5cbiAgdmFyIHBhcmFtcyA9IHV0aWxzLnBhcmFtcyhjdCk7XG5cbiAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyYW1zLCBrZXkpKSB0aGlzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgfVxuXG4gIHRoaXMubGlua3MgPSB7fTsgLy8gbGlua3NcblxuICB0cnkge1xuICAgIGlmIChoZWFkZXIubGluaykge1xuICAgICAgdGhpcy5saW5rcyA9IHV0aWxzLnBhcnNlTGlua3MoaGVhZGVyLmxpbmspO1xuICAgIH1cbiAgfSBjYXRjaCAoX3VudXNlZCkgey8vIGlnbm9yZVxuICB9XG59O1xuLyoqXG4gKiBTZXQgZmxhZ3Mgc3VjaCBhcyBgLm9rYCBiYXNlZCBvbiBgc3RhdHVzYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBhIDJ4eCByZXNwb25zZSB3aWxsIGdpdmUgeW91IGEgYC5va2Agb2YgX190cnVlX19cbiAqIHdoZXJlYXMgNXh4IHdpbGwgYmUgX19mYWxzZV9fIGFuZCBgLmVycm9yYCB3aWxsIGJlIF9fdHJ1ZV9fLiBUaGVcbiAqIGAuY2xpZW50RXJyb3JgIGFuZCBgLnNlcnZlckVycm9yYCBhcmUgYWxzbyBhdmFpbGFibGUgdG8gYmUgbW9yZVxuICogc3BlY2lmaWMsIGFuZCBgLnN0YXR1c1R5cGVgIGlzIHRoZSBjbGFzcyBvZiBlcnJvciByYW5naW5nIGZyb20gMS4uNVxuICogc29tZXRpbWVzIHVzZWZ1bCBmb3IgbWFwcGluZyByZXNwb25kIGNvbG9ycyBldGMuXG4gKlxuICogXCJzdWdhclwiIHByb3BlcnRpZXMgYXJlIGFsc28gZGVmaW5lZCBmb3IgY29tbW9uIGNhc2VzLiBDdXJyZW50bHkgcHJvdmlkaW5nOlxuICpcbiAqICAgLSAubm9Db250ZW50XG4gKiAgIC0gLmJhZFJlcXVlc3RcbiAqICAgLSAudW5hdXRob3JpemVkXG4gKiAgIC0gLm5vdEFjY2VwdGFibGVcbiAqICAgLSAubm90Rm91bmRcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhdHVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cblJlc3BvbnNlQmFzZS5wcm90b3R5cGUuX3NldFN0YXR1c1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gIHZhciB0eXBlID0gc3RhdHVzIC8gMTAwIHwgMDsgLy8gc3RhdHVzIC8gY2xhc3NcblxuICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXM7XG4gIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlO1xuICB0aGlzLnN0YXR1c1R5cGUgPSB0eXBlOyAvLyBiYXNpY3NcblxuICB0aGlzLmluZm8gPSB0eXBlID09PSAxO1xuICB0aGlzLm9rID0gdHlwZSA9PT0gMjtcbiAgdGhpcy5yZWRpcmVjdCA9IHR5cGUgPT09IDM7XG4gIHRoaXMuY2xpZW50RXJyb3IgPSB0eXBlID09PSA0O1xuICB0aGlzLnNlcnZlckVycm9yID0gdHlwZSA9PT0gNTtcbiAgdGhpcy5lcnJvciA9IHR5cGUgPT09IDQgfHwgdHlwZSA9PT0gNSA/IHRoaXMudG9FcnJvcigpIDogZmFsc2U7IC8vIHN1Z2FyXG5cbiAgdGhpcy5jcmVhdGVkID0gc3RhdHVzID09PSAyMDE7XG4gIHRoaXMuYWNjZXB0ZWQgPSBzdGF0dXMgPT09IDIwMjtcbiAgdGhpcy5ub0NvbnRlbnQgPSBzdGF0dXMgPT09IDIwNDtcbiAgdGhpcy5iYWRSZXF1ZXN0ID0gc3RhdHVzID09PSA0MDA7XG4gIHRoaXMudW5hdXRob3JpemVkID0gc3RhdHVzID09PSA0MDE7XG4gIHRoaXMubm90QWNjZXB0YWJsZSA9IHN0YXR1cyA9PT0gNDA2O1xuICB0aGlzLmZvcmJpZGRlbiA9IHN0YXR1cyA9PT0gNDAzO1xuICB0aGlzLm5vdEZvdW5kID0gc3RhdHVzID09PSA0MDQ7XG4gIHRoaXMudW5wcm9jZXNzYWJsZUVudGl0eSA9IHN0YXR1cyA9PT0gNDIyO1xufTtcblxuLyoqKi8gfSksXG4vKiA1ODAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBtaW1lIHR5cGUgZm9yIHRoZSBnaXZlbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcmVkdWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU4MSkpO1xuXG52YXIgX3NsaWNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSk7XG5cbmV4cG9ydHMudHlwZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5zaGlmdCgpO1xufTtcbi8qKlxuICogUmV0dXJuIGhlYWRlciBmaWVsZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZXhwb3J0cy5wYXJhbXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBfY29udGV4dDtcblxuICByZXR1cm4gKDAsIF9yZWR1Y2UuZGVmYXVsdCkoX2NvbnRleHQgPSBzdHIuc3BsaXQoLyAqOyAqLykpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChvYmosIHN0cikge1xuICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgvICo9ICovKTtcbiAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKTtcbiAgICB2YXIgdmFsID0gcGFydHMuc2hpZnQoKTtcbiAgICBpZiAoa2V5ICYmIHZhbCkgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufTtcbi8qKlxuICogUGFyc2UgTGluayBoZWFkZXIgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZXhwb3J0cy5wYXJzZUxpbmtzID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgX2NvbnRleHQyO1xuXG4gIHJldHVybiAoMCwgX3JlZHVjZS5kZWZhdWx0KShfY29udGV4dDIgPSBzdHIuc3BsaXQoLyAqLCAqLykpLmNhbGwoX2NvbnRleHQyLCBmdW5jdGlvbiAob2JqLCBzdHIpIHtcbiAgICB2YXIgX2NvbnRleHQzLCBfY29udGV4dDQ7XG5cbiAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoLyAqOyAqLyk7XG4gICAgdmFyIHVybCA9ICgwLCBfc2xpY2UuZGVmYXVsdCkoX2NvbnRleHQzID0gcGFydHNbMF0pLmNhbGwoX2NvbnRleHQzLCAxLCAtMSk7XG4gICAgdmFyIHJlbCA9ICgwLCBfc2xpY2UuZGVmYXVsdCkoX2NvbnRleHQ0ID0gcGFydHNbMV0uc3BsaXQoLyAqPSAqLylbMV0pLmNhbGwoX2NvbnRleHQ0LCAxLCAtMSk7XG4gICAgb2JqW3JlbF0gPSB1cmw7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufTtcbi8qKlxuICogU3RyaXAgY29udGVudCByZWxhdGVkIGZpZWxkcyBmcm9tIGBoZWFkZXJgLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJcbiAqIEByZXR1cm4ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmV4cG9ydHMuY2xlYW5IZWFkZXIgPSBmdW5jdGlvbiAoaGVhZGVyLCBjaGFuZ2VzT3JpZ2luKSB7XG4gIGRlbGV0ZSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICBkZWxldGUgaGVhZGVyWydjb250ZW50LWxlbmd0aCddO1xuICBkZWxldGUgaGVhZGVyWyd0cmFuc2Zlci1lbmNvZGluZyddO1xuICBkZWxldGUgaGVhZGVyLmhvc3Q7IC8vIHNlY3VpcnR5XG5cbiAgaWYgKGNoYW5nZXNPcmlnaW4pIHtcbiAgICBkZWxldGUgaGVhZGVyLmF1dGhvcml6YXRpb247XG4gICAgZGVsZXRlIGhlYWRlci5jb29raWU7XG4gIH1cblxuICByZXR1cm4gaGVhZGVyO1xufTtcblxuLyoqKi8gfSksXG4vKiA1ODEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Mik7XG5cbi8qKiovIH0pLFxuLyogNTgyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXJlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Myk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNTgzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc1Byb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgbWV0aG9kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1ODQpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5yZWR1Y2U7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoQXJyYXlQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLnJlZHVjZSkgPyBtZXRob2QgOiBvd247XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTg0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNTg1KTtcbnZhciBlbnRyeVZpcnR1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5JykucmVkdWNlO1xuXG5cbi8qKiovIH0pLFxuLyogNTg1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgJHJlZHVjZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTg2KS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSk7XG52YXIgQ0hST01FX1ZFUlNJT04gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcbnZhciBJU19OT0RFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgncmVkdWNlJyk7XG4vLyBDaHJvbWUgODAtODIgaGFzIGEgY3JpdGljYWwgYnVnXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMDQ5OTgyXG52YXIgQ0hST01FX0JVRyA9ICFJU19OT0RFICYmIENIUk9NRV9WRVJTSU9OID4gNzkgJiYgQ0hST01FX1ZFUlNJT04gPCA4MztcblxuLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhU1RSSUNUX01FVEhPRCB8fCBDSFJPTUVfQlVHIH0sIHtcbiAgcmVkdWNlOiBmdW5jdGlvbiByZWR1Y2UoY2FsbGJhY2tmbiAvKiAsIGluaXRpYWxWYWx1ZSAqLykge1xuICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHJldHVybiAkcmVkdWNlKHRoaXMsIGNhbGxiYWNrZm4sIGxlbmd0aCwgbGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG5cbi8qKiovIH0pLFxuLyogNTg2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xudmFyIEluZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyByZWR1Y2UsIHJlZHVjZVJpZ2h0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfUklHSFQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGF0LCBjYWxsYmFja2ZuLCBhcmd1bWVudHNMZW5ndGgsIG1lbW8pIHtcbiAgICBhQ2FsbGFibGUoY2FsbGJhY2tmbik7XG4gICAgdmFyIE8gPSB0b09iamVjdCh0aGF0KTtcbiAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QoTyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBpbmRleCA9IElTX1JJR0hUID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgdmFyIGkgPSBJU19SSUdIVCA/IC0xIDogMTtcbiAgICBpZiAoYXJndW1lbnRzTGVuZ3RoIDwgMikgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChpbmRleCBpbiBzZWxmKSB7XG4gICAgICAgIG1lbW8gPSBzZWxmW2luZGV4XTtcbiAgICAgICAgaW5kZXggKz0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpbmRleCArPSBpO1xuICAgICAgaWYgKElTX1JJR0hUID8gaW5kZXggPCAwIDogbGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgIHRocm93ICRUeXBlRXJyb3IoJ1JlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICg7SVNfUklHSFQgPyBpbmRleCA+PSAwIDogbGVuZ3RoID4gaW5kZXg7IGluZGV4ICs9IGkpIGlmIChpbmRleCBpbiBzZWxmKSB7XG4gICAgICBtZW1vID0gY2FsbGJhY2tmbihtZW1vLCBzZWxmW2luZGV4XSwgaW5kZXgsIE8pO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuICBsZWZ0OiBjcmVhdGVNZXRob2QoZmFsc2UpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlcmlnaHRcbiAgcmlnaHQ6IGNyZWF0ZU1ldGhvZCh0cnVlKVxufTtcblxuXG4vKioqLyB9KSxcbi8qIDU4NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfc2xpY2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMzgpKTtcblxudmFyIF9mcm9tID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNikpO1xuXG52YXIgX3N5bWJvbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg4NykpO1xuXG52YXIgX2lzSXRlcmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDU4OCkpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgdmFyIF9jb250ZXh0O1xuXG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9ICgwLCBfc2xpY2UuZGVmYXVsdCkoX2NvbnRleHQgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpLmNhbGwoX2NvbnRleHQsIDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuICgwLCBfZnJvbS5kZWZhdWx0KShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBfc3ltYm9sLmRlZmF1bHQgIT09IFwidW5kZWZpbmVkXCIgJiYgKDAsIF9pc0l0ZXJhYmxlMi5kZWZhdWx0KShPYmplY3QoaXRlcikpKSByZXR1cm4gKDAsIF9mcm9tLmRlZmF1bHQpKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhcnIyW2ldID0gYXJyW2ldO1xuICB9XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIEFnZW50KCkge1xuICB0aGlzLl9kZWZhdWx0cyA9IFtdO1xufVxuXG5bJ3VzZScsICdvbicsICdvbmNlJywgJ3NldCcsICdxdWVyeScsICd0eXBlJywgJ2FjY2VwdCcsICdhdXRoJywgJ3dpdGhDcmVkZW50aWFscycsICdzb3J0UXVlcnknLCAncmV0cnknLCAnb2snLCAncmVkaXJlY3RzJywgJ3RpbWVvdXQnLCAnYnVmZmVyJywgJ3NlcmlhbGl6ZScsICdwYXJzZScsICdjYScsICdrZXknLCAncGZ4JywgJ2NlcnQnLCAnZGlzYWJsZVRMU0NlcnRzJ10uZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgLy8gRGVmYXVsdCBzZXR0aW5nIGZvciBhbGwgcmVxdWVzdHMgZnJvbSB0aGlzIGFnZW50XG4gIEFnZW50LnByb3RvdHlwZVtmbl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHRoaXMuX2RlZmF1bHRzLnB1c2goe1xuICAgICAgZm46IGZuLFxuICAgICAgYXJnczogYXJnc1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59KTtcblxuQWdlbnQucHJvdG90eXBlLl9zZXREZWZhdWx0cyA9IGZ1bmN0aW9uIChyZXEpIHtcbiAgdGhpcy5fZGVmYXVsdHMuZm9yRWFjaChmdW5jdGlvbiAoZGVmKSB7XG4gICAgcmVxW2RlZi5mbl0uYXBwbHkocmVxLCBfdG9Db25zdW1hYmxlQXJyYXkoZGVmLmFyZ3MpKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZW50O1xuXG4vKioqLyB9KSxcbi8qIDU4OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTg5KTtcblxuLyoqKi8gfSksXG4vKiA1ODkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5MCk7XG5cblxuLyoqKi8gfSksXG4vKiA1OTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkxKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1OTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1OTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkzKTtcbl9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG4vKioqLyB9KSxcbi8qIDU5MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcbl9fd2VicGFja19yZXF1aXJlX18oNzkpO1xudmFyIGlzSXRlcmFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5NCk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYWJsZTtcblxuXG4vKioqLyB9KSxcbi8qIDU5NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2xhc3NvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xudmFyIGhhc093biA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTyA9ICRPYmplY3QoaXQpO1xuICByZXR1cm4gT1tJVEVSQVRPUl0gIT09IHVuZGVmaW5lZFxuICAgIHx8ICdAQGl0ZXJhdG9yJyBpbiBPXG4gICAgfHwgaGFzT3duKEl0ZXJhdG9ycywgY2xhc3NvZihPKSk7XG59O1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhdi1taW4uanMiLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGFwcGx5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWFwcGx5Jyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJykuZjtcbnZhciBpc0ZvcmNlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1mb3JjZWQnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BhdGgnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xuXG52YXIgd3JhcENvbnN0cnVjdG9yID0gZnVuY3Rpb24gKE5hdGl2ZUNvbnN0cnVjdG9yKSB7XG4gIHZhciBXcmFwcGVyID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFdyYXBwZXIpIHtcbiAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoKTtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IE5hdGl2ZUNvbnN0cnVjdG9yKGEpO1xuICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSwgYik7XG4gICAgICB9IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSwgYiwgYyk7XG4gICAgfSByZXR1cm4gYXBwbHkoTmF0aXZlQ29uc3RydWN0b3IsIHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG4gIFdyYXBwZXIucHJvdG90eXBlID0gTmF0aXZlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICByZXR1cm4gV3JhcHBlcjtcbn07XG5cbi8qXG4gIG9wdGlvbnMudGFyZ2V0ICAgICAgICAgLSBuYW1lIG9mIHRoZSB0YXJnZXQgb2JqZWN0XG4gIG9wdGlvbnMuZ2xvYmFsICAgICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3RcbiAgb3B0aW9ucy5zdGF0ICAgICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5wcm90byAgICAgICAgICAtIGV4cG9ydCBhcyBwcm90b3R5cGUgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5yZWFsICAgICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMuZm9yY2VkICAgICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gIG9wdGlvbnMuYmluZCAgICAgICAgICAgLSBiaW5kIG1ldGhvZHMgdG8gdGhlIHRhcmdldCwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLndyYXAgICAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMudW5zYWZlICAgICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgb3B0aW9ucy5zaGFtICAgICAgICAgICAtIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgb3B0aW9ucy5lbnVtZXJhYmxlICAgICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG4gIG9wdGlvbnMuZG9udENhbGxHZXRTZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4gIG9wdGlvbnMubmFtZSAgICAgICAgICAgLSB0aGUgLm5hbWUgb2YgdGhlIGZ1bmN0aW9uIGlmIGl0IGRvZXMgbm90IG1hdGNoIHRoZSBrZXlcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcbiAgdmFyIFRBUkdFVCA9IG9wdGlvbnMudGFyZ2V0O1xuICB2YXIgR0xPQkFMID0gb3B0aW9ucy5nbG9iYWw7XG4gIHZhciBTVEFUSUMgPSBvcHRpb25zLnN0YXQ7XG4gIHZhciBQUk9UTyA9IG9wdGlvbnMucHJvdG87XG5cbiAgdmFyIG5hdGl2ZVNvdXJjZSA9IEdMT0JBTCA/IGdsb2JhbCA6IFNUQVRJQyA/IGdsb2JhbFtUQVJHRVRdIDogKGdsb2JhbFtUQVJHRVRdIHx8IHt9KS5wcm90b3R5cGU7XG5cbiAgdmFyIHRhcmdldCA9IEdMT0JBTCA/IHBhdGggOiBwYXRoW1RBUkdFVF0gfHwgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHBhdGgsIFRBUkdFVCwge30pW1RBUkdFVF07XG4gIHZhciB0YXJnZXRQcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuXG4gIHZhciBGT1JDRUQsIFVTRV9OQVRJVkUsIFZJUlRVQUxfUFJPVE9UWVBFO1xuICB2YXIga2V5LCBzb3VyY2VQcm9wZXJ0eSwgdGFyZ2V0UHJvcGVydHksIG5hdGl2ZVByb3BlcnR5LCByZXN1bHRQcm9wZXJ0eSwgZGVzY3JpcHRvcjtcblxuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICBGT1JDRUQgPSBpc0ZvcmNlZChHTE9CQUwgPyBrZXkgOiBUQVJHRVQgKyAoU1RBVElDID8gJy4nIDogJyMnKSArIGtleSwgb3B0aW9ucy5mb3JjZWQpO1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIFVTRV9OQVRJVkUgPSAhRk9SQ0VEICYmIG5hdGl2ZVNvdXJjZSAmJiBoYXNPd24obmF0aXZlU291cmNlLCBrZXkpO1xuXG4gICAgdGFyZ2V0UHJvcGVydHkgPSB0YXJnZXRba2V5XTtcblxuICAgIGlmIChVU0VfTkFUSVZFKSBpZiAob3B0aW9ucy5kb250Q2FsbEdldFNldCkge1xuICAgICAgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihuYXRpdmVTb3VyY2UsIGtleSk7XG4gICAgICBuYXRpdmVQcm9wZXJ0eSA9IGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci52YWx1ZTtcbiAgICB9IGVsc2UgbmF0aXZlUHJvcGVydHkgPSBuYXRpdmVTb3VyY2Vba2V5XTtcblxuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgaW1wbGVtZW50YXRpb25cbiAgICBzb3VyY2VQcm9wZXJ0eSA9IChVU0VfTkFUSVZFICYmIG5hdGl2ZVByb3BlcnR5KSA/IG5hdGl2ZVByb3BlcnR5IDogc291cmNlW2tleV07XG5cbiAgICBpZiAoVVNFX05BVElWRSAmJiB0eXBlb2YgdGFyZ2V0UHJvcGVydHkgPT0gdHlwZW9mIHNvdXJjZVByb3BlcnR5KSBjb250aW51ZTtcblxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgaWYgKG9wdGlvbnMuYmluZCAmJiBVU0VfTkFUSVZFKSByZXN1bHRQcm9wZXJ0eSA9IGJpbmQoc291cmNlUHJvcGVydHksIGdsb2JhbCk7XG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5ncyBpbiB0aGlzIHZlcnNpb25cbiAgICBlbHNlIGlmIChvcHRpb25zLndyYXAgJiYgVVNFX05BVElWRSkgcmVzdWx0UHJvcGVydHkgPSB3cmFwQ29uc3RydWN0b3Ioc291cmNlUHJvcGVydHkpO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIGVsc2UgaWYgKFBST1RPICYmIGlzQ2FsbGFibGUoc291cmNlUHJvcGVydHkpKSByZXN1bHRQcm9wZXJ0eSA9IHVuY3VycnlUaGlzKHNvdXJjZVByb3BlcnR5KTtcbiAgICAvLyBkZWZhdWx0IGNhc2VcbiAgICBlbHNlIHJlc3VsdFByb3BlcnR5ID0gc291cmNlUHJvcGVydHk7XG5cbiAgICAvLyBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gICAgaWYgKG9wdGlvbnMuc2hhbSB8fCAoc291cmNlUHJvcGVydHkgJiYgc291cmNlUHJvcGVydHkuc2hhbSkgfHwgKHRhcmdldFByb3BlcnR5ICYmIHRhcmdldFByb3BlcnR5LnNoYW0pKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkocmVzdWx0UHJvcGVydHksICdzaGFtJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRhcmdldCwga2V5LCByZXN1bHRQcm9wZXJ0eSk7XG5cbiAgICBpZiAoUFJPVE8pIHtcbiAgICAgIFZJUlRVQUxfUFJPVE9UWVBFID0gVEFSR0VUICsgJ1Byb3RvdHlwZSc7XG4gICAgICBpZiAoIWhhc093bihwYXRoLCBWSVJUVUFMX1BST1RPVFlQRSkpIHtcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHBhdGgsIFZJUlRVQUxfUFJPVE9UWVBFLCB7fSk7XG4gICAgICB9XG4gICAgICAvLyBleHBvcnQgdmlydHVhbCBwcm90b3R5cGUgbWV0aG9kc1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHBhdGhbVklSVFVBTF9QUk9UT1RZUEVdLCBrZXksIHNvdXJjZVByb3BlcnR5KTtcbiAgICAgIC8vIGV4cG9ydCByZWFsIHByb3RvdHlwZSBtZXRob2RzXG4gICAgICBpZiAob3B0aW9ucy5yZWFsICYmIHRhcmdldFByb3RvdHlwZSAmJiAhdGFyZ2V0UHJvdG90eXBlW2tleV0pIHtcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRhcmdldFByb3RvdHlwZSwga2V5LCBzb3VyY2VQcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9leHBvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIEVTTSBFeHBvcnRzXG4vLyA9PT09PT09PT09PVxuLy8gVGhpcyBtb2R1bGUgaXMgdGhlIHBhY2thZ2UgZW50cnkgcG9pbnQgZm9yIEVTIG1vZHVsZSB1c2Vycy4gSW4gb3RoZXIgd29yZHMsXG4vLyBpdCBpcyB0aGUgbW9kdWxlIHRoZXkgYXJlIGludGVyZmFjaW5nIHdpdGggd2hlbiB0aGV5IGltcG9ydCBmcm9tIHRoZSB3aG9sZVxuLy8gcGFja2FnZSBpbnN0ZWFkIG9mIGZyb20gYSBzdWJtb2R1bGUsIGxpa2UgdGhpczpcbi8vXG4vLyBgYGBqc1xuLy8gaW1wb3J0IHsgbWFwIH0gZnJvbSAndW5kZXJzY29yZSc7XG4vLyBgYGBcbi8vXG4vLyBUaGUgZGlmZmVyZW5jZSB3aXRoIGAuL2luZGV4LWRlZmF1bHRgLCB3aGljaCBpcyB0aGUgcGFja2FnZSBlbnRyeSBwb2ludCBmb3Jcbi8vIENvbW1vbkpTLCBBTUQgYW5kIFVNRCB1c2VycywgaXMgcHVyZWx5IHRlY2huaWNhbC4gSW4gRVMgbW9kdWxlcywgbmFtZWQgYW5kXG4vLyBkZWZhdWx0IGV4cG9ydHMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgc2libGluZ3MsIHNvIHdoZW4geW91IGhhdmUgYSBkZWZhdWx0XG4vLyBleHBvcnQsIGl0cyBwcm9wZXJ0aWVzIGFyZSBub3QgYXV0b21hdGljYWxseSBhdmFpbGFibGUgYXMgbmFtZWQgZXhwb3J0cy4gRm9yXG4vLyB0aGlzIHJlYXNvbiwgd2UgcmUtZXhwb3J0IHRoZSBuYW1lZCBleHBvcnRzIGluIGFkZGl0aW9uIHRvIHByb3ZpZGluZyB0aGUgc2FtZVxuLy8gZGVmYXVsdCBleHBvcnQgYXMgaW4gYC4vaW5kZXgtZGVmYXVsdGAuXG5leHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnLi9pbmRleC1kZWZhdWx0LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vaW5kZXguanMnO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2luZGV4LWFsbC5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2ZhaWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBiaW5kID0gRnVuY3Rpb25Qcm90b3R5cGUuYmluZDtcbnZhciBjYWxsID0gRnVuY3Rpb25Qcm90b3R5cGUuY2FsbDtcbnZhciB1bmN1cnJ5VGhpcyA9IE5BVElWRV9CSU5EICYmIGJpbmQuYmluZChjYWxsLCBjYWxsKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZm4gJiYgdW5jdXJyeVRoaXMoZm4pO1xufSA6IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZm4gJiYgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsLmFwcGx5KGZuLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sJyk7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQnKTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBzeW1ib2xGb3IgPSBTeW1ib2wgJiYgU3ltYm9sWydmb3InXTtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXNPd24oV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSB8fCAhKE5BVElWRV9TWU1CT0wgfHwgdHlwZW9mIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9PSAnc3RyaW5nJykpIHtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSAnU3ltYm9sLicgKyBuYW1lO1xuICAgIGlmIChOQVRJVkVfU1lNQk9MICYmIGhhc093bihTeW1ib2wsIG5hbWUpKSB7XG4gICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBTeW1ib2xbbmFtZV07XG4gICAgfSBlbHNlIGlmIChVU0VfU1lNQk9MX0FTX1VJRCAmJiBzeW1ib2xGb3IpIHtcbiAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IHN5bWJvbEZvcihkZXNjcmlwdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IGNyZWF0ZVdlbGxLbm93blN5bWJvbChkZXNjcmlwdGlvbik7XG4gICAgfVxuICB9IHJldHVybiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIEN1cnJlbnQgdmVyc2lvbi5cbmV4cG9ydCB2YXIgVkVSU0lPTiA9ICcxLjEyLjEnO1xuXG4vLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCAoYHNlbGZgKSBpbiB0aGUgYnJvd3NlciwgYGdsb2JhbGBcbi8vIG9uIHRoZSBzZXJ2ZXIsIG9yIGB0aGlzYCBpbiBzb21lIHZpcnR1YWwgbWFjaGluZXMuIFdlIHVzZSBgc2VsZmBcbi8vIGluc3RlYWQgb2YgYHdpbmRvd2AgZm9yIGBXZWJXb3JrZXJgIHN1cHBvcnQuXG5leHBvcnQgdmFyIHJvb3QgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGYgJiYgc2VsZiB8fFxuICAgICAgICAgIHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsICYmIGdsb2JhbCB8fFxuICAgICAgICAgIEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkgfHxcbiAgICAgICAgICB7fTtcblxuLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbmV4cG9ydCB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuZXhwb3J0IHZhciBTeW1ib2xQcm90byA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sLnByb3RvdHlwZSA6IG51bGw7XG5cbi8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuZXhwb3J0IHZhciBwdXNoID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlID0gQXJyYXlQcm90by5zbGljZSxcbiAgICB0b1N0cmluZyA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8vIE1vZGVybiBmZWF0dXJlIGRldGVjdGlvbi5cbmV4cG9ydCB2YXIgc3VwcG9ydHNBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgc3VwcG9ydHNEYXRhVmlldyA9IHR5cGVvZiBEYXRhVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8vIEFsbCAqKkVDTUFTY3JpcHQgNSsqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2Vcbi8vIGFyZSBkZWNsYXJlZCBoZXJlLlxuZXhwb3J0IHZhciBuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzID0gT2JqZWN0LmtleXMsXG4gICAgbmF0aXZlQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICBuYXRpdmVJc1ZpZXcgPSBzdXBwb3J0c0FycmF5QnVmZmVyICYmIEFycmF5QnVmZmVyLmlzVmlldztcblxuLy8gQ3JlYXRlIHJlZmVyZW5jZXMgdG8gdGhlc2UgYnVpbHRpbiBmdW5jdGlvbnMgYmVjYXVzZSB3ZSBvdmVycmlkZSB0aGVtLlxuZXhwb3J0IHZhciBfaXNOYU4gPSBpc05hTixcbiAgICBfaXNGaW5pdGUgPSBpc0Zpbml0ZTtcblxuLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbmV4cG9ydCB2YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xuZXhwb3J0IHZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsXG4gICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuXG4vLyBUaGUgbGFyZ2VzdCBpbnRlZ2VyIHRoYXQgY2FuIGJlIHJlcHJlc2VudGVkIGV4YWN0bHkuXG5leHBvcnQgdmFyIE1BWF9BUlJBWV9JTkRFWCA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX3NldHVwLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhdGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGF0aCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC13cmFwcGVkJyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpLmY7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE5BTUUpIHtcbiAgdmFyIFN5bWJvbCA9IHBhdGguU3ltYm9sIHx8IChwYXRoLlN5bWJvbCA9IHt9KTtcbiAgaWYgKCFoYXNPd24oU3ltYm9sLCBOQU1FKSkgZGVmaW5lUHJvcGVydHkoU3ltYm9sLCBOQU1FLCB7XG4gICAgdmFsdWU6IHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZihOQU1FKVxuICB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIGBJc0NhbGxhYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PSAnZnVuY3Rpb24nO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtY2FsbGFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgY2hlY2sgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICYmIGl0Lk1hdGggPT0gTWF0aCAmJiBpdDtcbn07XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5tb2R1bGUuZXhwb3J0cyA9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fFxuICBjaGVjayh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvcHJvbWlzZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL3Byb21pc2UuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoY2FsbCkgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBjYWxsLmFwcGx5KGNhbGwsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9mdW5jdGlvbi1jYWxsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB1bmN1cnJ5VGhpcyh7fS5pc1Byb3RvdHlwZU9mKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKHt9Lmhhc093blByb3BlcnR5KTtcblxuLy8gYEhhc093blByb3BlcnR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaGFzb3ducHJvcGVydHlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1oYXNvd24gLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaGFzT3duIHx8IGZ1bmN0aW9uIGhhc093bihpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eSh0b09iamVjdChpdCksIGtleSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcbmltcG9ydCB7IG5hdGl2ZUtleXMsIGhhc0VudW1CdWcgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgaGFzIGZyb20gJy4vX2hhcy5qcyc7XG5pbXBvcnQgY29sbGVjdE5vbkVudW1Qcm9wcyBmcm9tICcuL19jb2xsZWN0Tm9uRW51bVByb3BzLmpzJztcblxuLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYE9iamVjdC5rZXlzYC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKGhhcyhvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICAvLyBBaGVtLCBJRSA8IDkuXG4gIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gIHJldHVybiBrZXlzO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvcGF0aC5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgeyB0b1N0cmluZyB9IGZyb20gJy4vX3NldHVwLmpzJztcblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgYHRvU3RyaW5nYC1iYXNlZCB0eXBlIHRlc3Rlci5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRhZ1Rlc3RlcihuYW1lKSB7XG4gIHZhciB0YWcgPSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09IHRhZztcbiAgfTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fdGFnVGVzdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IGlzQ2FsbGFibGUoaXQpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXRoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BhdGgnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xuXG52YXIgYUZ1bmN0aW9uID0gZnVuY3Rpb24gKHZhcmlhYmxlKSB7XG4gIHJldHVybiBpc0NhbGxhYmxlKHZhcmlhYmxlKSA/IHZhcmlhYmxlIDogdW5kZWZpbmVkO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZXNwYWNlLCBtZXRob2QpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gYUZ1bmN0aW9uKHBhdGhbbmFtZXNwYWNlXSkgfHwgYUZ1bmN0aW9uKGdsb2JhbFtuYW1lc3BhY2VdKVxuICAgIDogcGF0aFtuYW1lc3BhY2VdICYmIHBhdGhbbmFtZXNwYWNlXVttZXRob2RdIHx8IGdsb2JhbFtuYW1lc3BhY2VdICYmIGdsb2JhbFtuYW1lc3BhY2VdW21ldGhvZF07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9nZXQtYnVpbHQtaW4uanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IF8gZnJvbSAnLi91bmRlcnNjb3JlLmpzJztcbmltcG9ydCBiYXNlSXRlcmF0ZWUgZnJvbSAnLi9fYmFzZUl0ZXJhdGVlLmpzJztcbmltcG9ydCBpdGVyYXRlZSBmcm9tICcuL2l0ZXJhdGVlLmpzJztcblxuLy8gVGhlIGZ1bmN0aW9uIHdlIGNhbGwgaW50ZXJuYWxseSB0byBnZW5lcmF0ZSBhIGNhbGxiYWNrLiBJdCBpbnZva2VzXG4vLyBgXy5pdGVyYXRlZWAgaWYgb3ZlcnJpZGRlbiwgb3RoZXJ3aXNlIGBiYXNlSXRlcmF0ZWVgLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gIGlmIChfLml0ZXJhdGVlICE9PSBpdGVyYXRlZSkgcmV0dXJuIF8uaXRlcmF0ZWUodmFsdWUsIGNvbnRleHQpO1xuICByZXR1cm4gYmFzZUl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NiLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBEZXRlY3QgSUU4J3MgaW5jb21wbGV0ZSBkZWZpbmVQcm9wZXJ0eSBpbXBsZW1lbnRhdGlvblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgMSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSlbMV0gIT0gNztcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9kZXNjcmlwdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IFR5cGUoYXJndW1lbnQpIGlzIE9iamVjdGBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc09iamVjdChhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcigkU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYW4tb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFNvbWUgZnVuY3Rpb25zIHRha2UgYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLCBvciBhIGZldyBleHBlY3RlZFxuLy8gYXJndW1lbnRzIGF0IHRoZSBiZWdpbm5pbmcgYW5kIHRoZW4gYSB2YXJpYWJsZSBudW1iZXIgb2YgdmFsdWVzIHRvIG9wZXJhdGVcbi8vIG9uLiBUaGlzIGhlbHBlciBhY2N1bXVsYXRlcyBhbGwgcmVtYWluaW5nIGFyZ3VtZW50cyBwYXN0IHRoZSBmdW5jdGlvbuKAmXNcbi8vIGFyZ3VtZW50IGxlbmd0aCAob3IgYW4gZXhwbGljaXQgYHN0YXJ0SW5kZXhgKSwgaW50byBhbiBhcnJheSB0aGF0IGJlY29tZXNcbi8vIHRoZSBsYXN0IGFyZ3VtZW50LiBTaW1pbGFyIHRvIEVTNuKAmXMgXCJyZXN0IHBhcmFtZXRlclwiLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzdEFyZ3VtZW50cyhmdW5jLCBzdGFydEluZGV4KSB7XG4gIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChhcmd1bWVudHMubGVuZ3RoIC0gc3RhcnRJbmRleCwgMCksXG4gICAgICAgIHJlc3QgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICBpbmRleCA9IDA7XG4gICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0YXJ0SW5kZXgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCByZXN0KTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIHJlc3QpO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCByZXN0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBBcnJheShzdGFydEluZGV4ICsgMSk7XG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgc3RhcnRJbmRleDsgaW5kZXgrKykge1xuICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgIH1cbiAgICBhcmdzW3N0YXJ0SW5kZXhdID0gcmVzdDtcbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9yZXN0QXJndW1lbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL19zZXR1cC5qcyc7XG5cbi8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0IGNhblxuLy8gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIGZ1bmN0aW9ucyBhZGRlZFxuLy8gdGhyb3VnaCBgXy5taXhpbmAuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF8ob2JqKSB7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICB0aGlzLl93cmFwcGVkID0gb2JqO1xufVxuXG5fLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4vLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbl8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl93cmFwcGVkO1xufTtcblxuLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3hpZXMgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4vLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG5fLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gU3RyaW5nKHRoaXMuX3dyYXBwZWQpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmRlcnNjb3JlLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBjcmVhdGVTaXplUHJvcGVydHlDaGVjayBmcm9tICcuL19jcmVhdGVTaXplUHJvcGVydHlDaGVjay5qcyc7XG5pbXBvcnQgZ2V0TGVuZ3RoIGZyb20gJy4vX2dldExlbmd0aC5qcyc7XG5cbi8vIEludGVybmFsIGhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdC5cbi8vIFJlbGF0ZWQ6IGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuLy8gQXZvaWRzIGEgdmVyeSBuYXN0eSBpT1MgOCBKSVQgYnVnIG9uIEFSTS02NC4gIzIwOTRcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVNpemVQcm9wZXJ0eUNoZWNrKGdldExlbmd0aCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2lzQXJyYXlMaWtlLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvY29uY2F0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvaW5zdGFuY2UvY29uY2F0LmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXRoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BhdGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ09OU1RSVUNUT1IpIHtcbiAgcmV0dXJuIHBhdGhbQ09OU1RSVUNUT1IgKyAnUHJvdG90eXBlJ107XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbnRyeS12aXJ0dWFsLmpzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBtZDUgPSByZXF1aXJlKCdtZDUnKTtcbmNvbnN0IHsgZXh0ZW5kIH0gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBBViA9IHJlcXVpcmUoJy4vYXYnKTtcbmNvbnN0IEFWRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9yJyk7XG5jb25zdCB7IGdldFNlc3Npb25Ub2tlbiB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgYWpheCA9IHJlcXVpcmUoJy4vdXRpbHMvYWpheCcpO1xuXG4vLyDorqHnrpcgWC1MQy1TaWduIOeahOetvuWQjeaWueazlVxuY29uc3Qgc2lnbiA9IChrZXksIGlzTWFzdGVyS2V5KSA9PiB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBjb25zdCBzaWduYXR1cmUgPSBtZDUobm93ICsga2V5KTtcbiAgaWYgKGlzTWFzdGVyS2V5KSB7XG4gICAgcmV0dXJuIGAke3NpZ25hdHVyZX0sJHtub3d9LG1hc3RlcmA7XG4gIH1cbiAgcmV0dXJuIGAke3NpZ25hdHVyZX0sJHtub3d9YDtcbn07XG5cbmNvbnN0IHNldEFwcEtleSA9IChoZWFkZXJzLCBzaWduS2V5KSA9PiB7XG4gIGlmIChzaWduS2V5KSB7XG4gICAgaGVhZGVyc1snWC1MQy1TaWduJ10gPSBzaWduKEFWLmFwcGxpY2F0aW9uS2V5KTtcbiAgfSBlbHNlIHtcbiAgICBoZWFkZXJzWydYLUxDLUtleSddID0gQVYuYXBwbGljYXRpb25LZXk7XG4gIH1cbn07XG5cbmNvbnN0IHNldEhlYWRlcnMgPSAoYXV0aE9wdGlvbnMgPSB7fSwgc2lnbktleSkgPT4ge1xuICBjb25zdCBoZWFkZXJzID0ge1xuICAgICdYLUxDLUlkJzogQVYuYXBwbGljYXRpb25JZCxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gIH07XG4gIGxldCB1c2VNYXN0ZXJLZXkgPSBmYWxzZTtcbiAgaWYgKHR5cGVvZiBhdXRoT3B0aW9ucy51c2VNYXN0ZXJLZXkgPT09ICdib29sZWFuJykge1xuICAgIHVzZU1hc3RlcktleSA9IGF1dGhPcHRpb25zLnVzZU1hc3RlcktleTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgQVYuX2NvbmZpZy51c2VNYXN0ZXJLZXkgPT09ICdib29sZWFuJykge1xuICAgIHVzZU1hc3RlcktleSA9IEFWLl9jb25maWcudXNlTWFzdGVyS2V5O1xuICB9XG4gIGlmICh1c2VNYXN0ZXJLZXkpIHtcbiAgICBpZiAoQVYubWFzdGVyS2V5KSB7XG4gICAgICBpZiAoc2lnbktleSkge1xuICAgICAgICBoZWFkZXJzWydYLUxDLVNpZ24nXSA9IHNpZ24oQVYubWFzdGVyS2V5LCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWRlcnNbJ1gtTEMtS2V5J10gPSBgJHtBVi5tYXN0ZXJLZXl9LG1hc3RlcmA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignbWFzdGVyS2V5IGlzIG5vdCBzZXQsIGZhbGwgYmFjayB0byB1c2UgYXBwS2V5Jyk7XG4gICAgICBzZXRBcHBLZXkoaGVhZGVycywgc2lnbktleSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNldEFwcEtleShoZWFkZXJzLCBzaWduS2V5KTtcbiAgfVxuICBpZiAoQVYuaG9va0tleSkge1xuICAgIGhlYWRlcnNbJ1gtTEMtSG9vay1LZXknXSA9IEFWLmhvb2tLZXk7XG4gIH1cbiAgaWYgKEFWLl9jb25maWcucHJvZHVjdGlvbiAhPT0gbnVsbCkge1xuICAgIGhlYWRlcnNbJ1gtTEMtUHJvZCddID0gU3RyaW5nKEFWLl9jb25maWcucHJvZHVjdGlvbik7XG4gIH1cbiAgaGVhZGVyc1twcm9jZXNzLmVudi5QTEFURk9STSA9PT0gJ05PREVfSlMnID8gJ1VzZXItQWdlbnQnIDogJ1gtTEMtVUEnXSA9XG4gICAgQVYuX3NoYXJlZENvbmZpZy51c2VyQWdlbnQ7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgIC8vIFBhc3MgdGhlIHNlc3Npb24gdG9rZW5cbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBnZXRTZXNzaW9uVG9rZW4oYXV0aE9wdGlvbnMpO1xuICAgIGlmIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgIGhlYWRlcnNbJ1gtTEMtU2Vzc2lvbiddID0gc2Vzc2lvblRva2VuO1xuICAgIH0gZWxzZSBpZiAoIUFWLl9jb25maWcuZGlzYWJsZUN1cnJlbnRVc2VyKSB7XG4gICAgICByZXR1cm4gQVYuVXNlci5jdXJyZW50QXN5bmMoKS50aGVuKGN1cnJlbnRVc2VyID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLl9zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICBoZWFkZXJzWydYLUxDLVNlc3Npb24nXSA9IGN1cnJlbnRVc2VyLl9zZXNzaW9uVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH0pO1xufTtcblxuY29uc3QgY3JlYXRlQXBpVXJsID0gKHtcbiAgc2VydmljZSA9ICdhcGknLFxuICB2ZXJzaW9uID0gJzEuMScsXG4gIHBhdGgsXG4gIC8vIHF1ZXJ5LCAvLyBkb24ndCBjYXJlXG4gIC8vIG1ldGhvZCwgLy8gZG9uJ3QgY2FyZVxuICAvLyBkYXRhLCAvLyBkb24ndCBjYXJlXG59KSA9PiB7XG4gIGxldCBhcGlVUkwgPSBBVi5fY29uZmlnLnNlcnZlclVSTHNbc2VydmljZV07XG5cbiAgaWYgKCFhcGlVUkwpIHRocm93IG5ldyBFcnJvcihgdW5kZWZpbmVkIHNlcnZlciBVUkwgZm9yICR7c2VydmljZX1gKTtcblxuICBpZiAoYXBpVVJMLmNoYXJBdChhcGlVUkwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgIGFwaVVSTCArPSAnLyc7XG4gIH1cbiAgYXBpVVJMICs9IHZlcnNpb247XG4gIGlmIChwYXRoKSB7XG4gICAgYXBpVVJMICs9IHBhdGg7XG4gIH1cblxuICByZXR1cm4gYXBpVVJMO1xufTtcblxuLyoqXG4gKiBMb3cgbGV2ZWwgUkVTVCBBUEkgY2xpZW50LiBDYWxsIFJFU1QgZW5kcG9pbnRzIHdpdGggYXV0aG9yaXphdGlvbiBoZWFkZXJzLlxuICogQGZ1bmN0aW9uIEFWLnJlcXVlc3RcbiAqIEBzaW5jZSAzLjAuMFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLm1ldGhvZCBIVFRQIG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMucGF0aCBlbmRwb2ludCBwYXRoLCBlLmcuIGAvY2xhc3Nlcy9UZXN0LzU1NzU5NTc3ZTRiMDI5YWU2MDE1YWMyMGBcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5xdWVyeV0gcXVlcnkgc3RyaW5nIGRpY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5kYXRhXSBIVFRQIGJvZHlcbiAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zLmF1dGhPcHRpb25zXVxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNlcnZpY2UgPSAnYXBpJ11cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy52ZXJzaW9uID0gJzEuMSddXG4gKi9cbmNvbnN0IHJlcXVlc3QgPSAoe1xuICBzZXJ2aWNlLFxuICB2ZXJzaW9uLFxuICBtZXRob2QsXG4gIHBhdGgsXG4gIHF1ZXJ5LFxuICBkYXRhLFxuICBhdXRoT3B0aW9ucyxcbiAgc2lnbktleSA9IHRydWUsXG59KSA9PiB7XG4gIGlmICghKEFWLmFwcGxpY2F0aW9uSWQgJiYgKEFWLmFwcGxpY2F0aW9uS2V5IHx8IEFWLm1hc3RlcktleSkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW5pdGlhbGl6ZWQnKTtcbiAgfVxuICBpZiAoQVYuX2FwcFJvdXRlcikge1xuICAgIEFWLl9hcHBSb3V0ZXIucmVmcmVzaCgpO1xuICB9XG4gIGNvbnN0IHsgcmVxdWVzdFRpbWVvdXQ6IHRpbWVvdXQgfSA9IEFWLl9jb25maWc7XG4gIGNvbnN0IHVybCA9IGNyZWF0ZUFwaVVybCh7IHNlcnZpY2UsIHBhdGgsIHZlcnNpb24gfSk7XG4gIHJldHVybiBzZXRIZWFkZXJzKGF1dGhPcHRpb25zLCBzaWduS2V5KS50aGVuKGhlYWRlcnMgPT5cbiAgICBhamF4KHsgbWV0aG9kLCB1cmwsIHF1ZXJ5LCBkYXRhLCBoZWFkZXJzLCB0aW1lb3V0IH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGxldCBlcnJvckpTT04gPSB7XG4gICAgICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgLTEsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnJlc3BvbnNlVGV4dCxcbiAgICAgIH07XG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuY29kZSkge1xuICAgICAgICBlcnJvckpTT04gPSBlcnJvci5yZXNwb25zZTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2VUZXh0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXJyb3JKU09OID0gSlNPTi5wYXJzZShlcnJvci5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gSWYgd2UgZmFpbCB0byBwYXJzZSB0aGUgZXJyb3IgdGV4dCwgdGhhdCdzIG9rYXkuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVycm9ySlNPTi5yYXdNZXNzYWdlID0gZXJyb3JKU09OLnJhd01lc3NhZ2UgfHwgZXJyb3JKU09OLmVycm9yO1xuICAgICAgaWYgKCFBVi5fc2hhcmVkQ29uZmlnLmtlZXBFcnJvclJhd01lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JKU09OLmVycm9yICs9IGAgWyR7ZXJyb3Iuc3RhdHVzQ29kZSB8fCAnTi9BJ30gJHttZXRob2R9ICR7dXJsfV1gO1xuICAgICAgfVxuICAgICAgLy8gVHJhbnNmb3JtIHRoZSBlcnJvciBpbnRvIGFuIGluc3RhbmNlIG9mIEFWRXJyb3IgYnkgdHJ5aW5nIHRvIHBhcnNlXG4gICAgICAvLyB0aGUgZXJyb3Igc3RyaW5nIGFzIEpTT04uXG4gICAgICBjb25zdCBlcnIgPSBuZXcgQVZFcnJvcihlcnJvckpTT04uY29kZSwgZXJyb3JKU09OLmVycm9yKTtcbiAgICAgIGRlbGV0ZSBlcnJvckpTT04uZXJyb3I7XG4gICAgICB0aHJvdyBfLmV4dGVuZChlcnIsIGVycm9ySlNPTik7XG4gICAgfSlcbiAgKTtcbn07XG5cbi8vIGxhZ2VjeSByZXF1ZXN0XG5jb25zdCBfcmVxdWVzdCA9IChcbiAgcm91dGUsXG4gIGNsYXNzTmFtZSxcbiAgb2JqZWN0SWQsXG4gIG1ldGhvZCxcbiAgZGF0YSxcbiAgYXV0aE9wdGlvbnMsXG4gIHF1ZXJ5XG4pID0+IHtcbiAgbGV0IHBhdGggPSAnJztcbiAgaWYgKHJvdXRlKSBwYXRoICs9IGAvJHtyb3V0ZX1gO1xuICBpZiAoY2xhc3NOYW1lKSBwYXRoICs9IGAvJHtjbGFzc05hbWV9YDtcbiAgaWYgKG9iamVjdElkKSBwYXRoICs9IGAvJHtvYmplY3RJZH1gO1xuICAvLyBmb3IgbWlnZXJhdGlvblxuICBpZiAoZGF0YSAmJiBkYXRhLl9mZXRjaFdoZW5TYXZlKVxuICAgIHRocm93IG5ldyBFcnJvcignX2ZldGNoV2hlblNhdmUgc2hvdWxkIGJlIGluIHRoZSBxdWVyeScpO1xuICBpZiAoZGF0YSAmJiBkYXRhLl93aGVyZSkgdGhyb3cgbmV3IEVycm9yKCdfd2hlcmUgc2hvdWxkIGJlIGluIHRoZSBxdWVyeScpO1xuICBpZiAobWV0aG9kICYmIG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0Jykge1xuICAgIHF1ZXJ5ID0gZXh0ZW5kKHt9LCBxdWVyeSwgZGF0YSk7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgIG1ldGhvZCxcbiAgICBwYXRoLFxuICAgIHF1ZXJ5LFxuICAgIGRhdGEsXG4gICAgYXV0aE9wdGlvbnMsXG4gIH0pO1xufTtcblxuQVYucmVxdWVzdCA9IHJlcXVlc3Q7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBfcmVxdWVzdCxcbiAgcmVxdWVzdCxcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVxdWVzdC5qcyIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogSXNDYWxsYWJsZShhcmd1bWVudCkgaXMgdHJ1ZWBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGEgZnVuY3Rpb24nKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2EtY2FsbGFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHRhZ1Rlc3RlciBmcm9tICcuL190YWdUZXN0ZXIuanMnO1xuaW1wb3J0IHsgcm9vdCB9IGZyb20gJy4vX3NldHVwLmpzJztcblxudmFyIGlzRnVuY3Rpb24gPSB0YWdUZXN0ZXIoJ0Z1bmN0aW9uJyk7XG5cbi8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSBgdHlwZW9mYCBidWdzIGluIG9sZFxuLy8gdjgsIElFIDExICgjMTYyMSksIFNhZmFyaSA4ICgjMTkyOSksIGFuZCBQaGFudG9tSlMgKCMyMjM2KS5cbnZhciBub2RlbGlzdCA9IHJvb3QuZG9jdW1lbnQgJiYgcm9vdC5kb2N1bWVudC5jaGlsZE5vZGVzO1xuaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnICYmIHR5cGVvZiBub2RlbGlzdCAhPSAnZnVuY3Rpb24nKSB7XG4gIGlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0Z1bmN0aW9uO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzRnVuY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHNoYWxsb3dQcm9wZXJ0eSBmcm9tICcuL19zaGFsbG93UHJvcGVydHkuanMnO1xuXG4vLyBJbnRlcm5hbCBoZWxwZXIgdG8gb2J0YWluIHRoZSBgbGVuZ3RoYCBwcm9wZXJ0eSBvZiBhbiBvYmplY3QuXG5leHBvcnQgZGVmYXVsdCBzaGFsbG93UHJvcGVydHkoJ2xlbmd0aCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19nZXRMZW5ndGguanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIG51bGwgb3IgdW5kZWZpbmVkLlxuY29uc3QgaXNOdWxsT3JVbmRlZmluZWQgPSB4ID0+IF8uaXNOdWxsKHgpIHx8IF8uaXNVbmRlZmluZWQoeCk7XG5cbmNvbnN0IGVuc3VyZUFycmF5ID0gdGFyZ2V0ID0+IHtcbiAgaWYgKF8uaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBbdGFyZ2V0XTtcbn07XG5cbmNvbnN0IHRyYW5zZm9ybUZldGNoT3B0aW9ucyA9ICh7IGtleXMsIGluY2x1ZGUsIGluY2x1ZGVBQ0wgfSA9IHt9KSA9PiB7XG4gIGNvbnN0IGZldGNoT3B0aW9ucyA9IHt9O1xuICBpZiAoa2V5cykge1xuICAgIGZldGNoT3B0aW9ucy5rZXlzID0gZW5zdXJlQXJyYXkoa2V5cykuam9pbignLCcpO1xuICB9XG4gIGlmIChpbmNsdWRlKSB7XG4gICAgZmV0Y2hPcHRpb25zLmluY2x1ZGUgPSBlbnN1cmVBcnJheShpbmNsdWRlKS5qb2luKCcsJyk7XG4gIH1cbiAgaWYgKGluY2x1ZGVBQ0wpIHtcbiAgICBmZXRjaE9wdGlvbnMucmV0dXJuQUNMID0gaW5jbHVkZUFDTDtcbiAgfVxuICByZXR1cm4gZmV0Y2hPcHRpb25zO1xufTtcblxuY29uc3QgZ2V0U2Vzc2lvblRva2VuID0gYXV0aE9wdGlvbnMgPT4ge1xuICBpZiAoYXV0aE9wdGlvbnMuc2Vzc2lvblRva2VuKSB7XG4gICAgcmV0dXJuIGF1dGhPcHRpb25zLnNlc3Npb25Ub2tlbjtcbiAgfVxuICBpZiAoXG4gICAgYXV0aE9wdGlvbnMudXNlciAmJlxuICAgIHR5cGVvZiBhdXRoT3B0aW9ucy51c2VyLmdldFNlc3Npb25Ub2tlbiA9PT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm4gYXV0aE9wdGlvbnMudXNlci5nZXRTZXNzaW9uVG9rZW4oKTtcbiAgfVxufTtcblxuY29uc3QgdGFwID0gaW50ZXJjZXB0b3IgPT4gdmFsdWUgPT4gKGludGVyY2VwdG9yKHZhbHVlKSwgdmFsdWUpO1xuXG4vLyBTaGFyZWQgZW1wdHkgY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gYWlkIGluIHByb3RvdHlwZS1jaGFpbiBjcmVhdGlvbi5cbmNvbnN0IEVtcHR5Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHt9O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29ycmVjdGx5IHNldCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLCBmb3Igc3ViY2xhc3Nlcy5cbi8vIFNpbWlsYXIgdG8gYGdvb2cuaW5oZXJpdHNgLCBidXQgdXNlcyBhIGhhc2ggb2YgcHJvdG90eXBlIHByb3BlcnRpZXMgYW5kXG4vLyBjbGFzcyBwcm9wZXJ0aWVzIHRvIGJlIGV4dGVuZGVkLlxuY29uc3QgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhwYXJlbnQsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIHZhciBjaGlsZDtcblxuICAvLyBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHRoZSBuZXcgc3ViY2xhc3MgaXMgZWl0aGVyIGRlZmluZWQgYnkgeW91XG4gIC8vICh0aGUgXCJjb25zdHJ1Y3RvclwiIHByb3BlcnR5IGluIHlvdXIgYGV4dGVuZGAgZGVmaW5pdGlvbiksIG9yIGRlZmF1bHRlZFxuICAvLyBieSB1cyB0byBzaW1wbHkgY2FsbCB0aGUgcGFyZW50J3MgY29uc3RydWN0b3IuXG4gIGlmIChwcm90b1Byb3BzICYmIHByb3RvUHJvcHMuaGFzT3duUHJvcGVydHkoJ2NvbnN0cnVjdG9yJykpIHtcbiAgICBjaGlsZCA9IHByb3RvUHJvcHMuY29uc3RydWN0b3I7XG4gIH0gZWxzZSB7XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBjaGlsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIEluaGVyaXQgY2xhc3MgKHN0YXRpYykgcHJvcGVydGllcyBmcm9tIHBhcmVudC5cbiAgXy5leHRlbmQoY2hpbGQsIHBhcmVudCk7XG5cbiAgLy8gU2V0IHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gaW5oZXJpdCBmcm9tIGBwYXJlbnRgLCB3aXRob3V0IGNhbGxpbmdcbiAgLy8gYHBhcmVudGAncyBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgRW1wdHlDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICBjaGlsZC5wcm90b3R5cGUgPSBuZXcgRW1wdHlDb25zdHJ1Y3RvcigpO1xuXG4gIC8vIEFkZCBwcm90b3R5cGUgcHJvcGVydGllcyAoaW5zdGFuY2UgcHJvcGVydGllcykgdG8gdGhlIHN1YmNsYXNzLFxuICAvLyBpZiBzdXBwbGllZC5cbiAgaWYgKHByb3RvUHJvcHMpIHtcbiAgICBfLmV4dGVuZChjaGlsZC5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICB9XG5cbiAgLy8gQWRkIHN0YXRpYyBwcm9wZXJ0aWVzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaWYgc3VwcGxpZWQuXG4gIGlmIChzdGF0aWNQcm9wcykge1xuICAgIF8uZXh0ZW5kKGNoaWxkLCBzdGF0aWNQcm9wcyk7XG4gIH1cblxuICAvLyBDb3JyZWN0bHkgc2V0IGNoaWxkJ3MgYHByb3RvdHlwZS5jb25zdHJ1Y3RvcmAuXG4gIGNoaWxkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuXG4gIC8vIFNldCBhIGNvbnZlbmllbmNlIHByb3BlcnR5IGluIGNhc2UgdGhlIHBhcmVudCdzIHByb3RvdHlwZSBpc1xuICAvLyBuZWVkZWQgbGF0ZXIuXG4gIGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7XG5cbiAgcmV0dXJuIGNoaWxkO1xufTtcblxuY29uc3QgcGFyc2VEYXRlID0gaXNvODYwMSA9PiBuZXcgRGF0ZShpc284NjAxKTtcblxuY29uc3Qgc2V0VmFsdWUgPSAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiB7XG4gIC8vICcuJyBpcyBub3QgYWxsb3dlZCBpbiBDbGFzcyBrZXlzLCBlc2NhcGluZyBpcyBub3QgaW4gY29uY2VybiBub3cuXG4gIGNvbnN0IHNlZ3MgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3QgbGFzdFNlZyA9IHNlZ3MucG9wKCk7XG4gIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuICBzZWdzLmZvckVhY2goc2VnID0+IHtcbiAgICBpZiAoY3VycmVudFRhcmdldFtzZWddID09PSB1bmRlZmluZWQpIGN1cnJlbnRUYXJnZXRbc2VnXSA9IHt9O1xuICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W3NlZ107XG4gIH0pO1xuICBjdXJyZW50VGFyZ2V0W2xhc3RTZWddID0gdmFsdWU7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5jb25zdCBmaW5kVmFsdWUgPSAodGFyZ2V0LCBrZXkpID0+IHtcbiAgY29uc3Qgc2VncyA9IGtleS5zcGxpdCgnLicpO1xuICBjb25zdCBmaXJzdFNlZyA9IHNlZ3NbMF07XG4gIGNvbnN0IGxhc3RTZWcgPSBzZWdzLnBvcCgpO1xuICBsZXQgY3VycmVudFRhcmdldCA9IHRhcmdldDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRbc2Vnc1tpXV07XG4gICAgaWYgKGN1cnJlbnRUYXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZCwgbGFzdFNlZ107XG4gICAgfVxuICB9XG4gIGNvbnN0IHZhbHVlID0gY3VycmVudFRhcmdldFtsYXN0U2VnXTtcbiAgcmV0dXJuIFt2YWx1ZSwgY3VycmVudFRhcmdldCwgbGFzdFNlZywgZmlyc3RTZWddO1xufTtcblxuY29uc3QgaXNQbGFpbk9iamVjdCA9IG9iaiA9PlxuICBfLmlzT2JqZWN0KG9iaikgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGU7XG5cbmNvbnN0IGNvbnRpbnVlV2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUsIGFzeW5jRnVuY3Rpb24pIHtcbiAgaWYgKHByZWRpY2F0ZSgpKSB7XG4gICAgcmV0dXJuIGFzeW5jRnVuY3Rpb24oKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvbnRpbnVlV2hpbGUocHJlZGljYXRlLCBhc3luY0Z1bmN0aW9uKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNOdWxsT3JVbmRlZmluZWQsXG4gIGVuc3VyZUFycmF5LFxuICB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMsXG4gIGdldFNlc3Npb25Ub2tlbixcbiAgdGFwLFxuICBpbmhlcml0cyxcbiAgcGFyc2VEYXRlLFxuICBzZXRWYWx1ZSxcbiAgZmluZFZhbHVlLFxuICBpc1BsYWluT2JqZWN0LFxuICBjb250aW51ZVdoaWxlLFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtcHVyZS5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbi8vIGBUb09iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvb2JqZWN0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gJE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1vYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcbnZhciBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy92OC1wcm90b3R5cGUtZGVmaW5lLWJ1ZycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciAkZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBFTlVNRVJBQkxFID0gJ2VudW1lcmFibGUnO1xudmFyIENPTkZJR1VSQUJMRSA9ICdjb25maWd1cmFibGUnO1xudmFyIFdSSVRBQkxFID0gJ3dyaXRhYmxlJztcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA/IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKHR5cGVvZiBPID09PSAnZnVuY3Rpb24nICYmIFAgPT09ICdwcm90b3R5cGUnICYmICd2YWx1ZScgaW4gQXR0cmlidXRlcyAmJiBXUklUQUJMRSBpbiBBdHRyaWJ1dGVzICYmICFBdHRyaWJ1dGVzW1dSSVRBQkxFXSkge1xuICAgIHZhciBjdXJyZW50ID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKTtcbiAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50W1dSSVRBQkxFXSkge1xuICAgICAgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gICAgICBBdHRyaWJ1dGVzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IENPTkZJR1VSQUJMRSBpbiBBdHRyaWJ1dGVzID8gQXR0cmlidXRlc1tDT05GSUdVUkFCTEVdIDogY3VycmVudFtDT05GSUdVUkFCTEVdLFxuICAgICAgICBlbnVtZXJhYmxlOiBFTlVNRVJBQkxFIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0VOVU1FUkFCTEVdIDogY3VycmVudFtFTlVNRVJBQkxFXSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfSByZXR1cm4gJGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xufSA6ICRkZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiAkZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgJFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIEluZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSW5kZXhlZE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG5cbi8vIGBMZW5ndGhPZkFycmF5TGlrZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWxlbmd0aG9mYXJyYXlsaWtlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHRvTGVuZ3RoKG9iai5sZW5ndGgpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UuanNcbi8vIG1vZHVsZSBpZCA9IDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9qc29uL3N0cmluZ2lmeVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2pzb24vc3RyaW5naWZ5LmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2Uvc2xpY2VcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9zbGljZS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGNsYXNzb2YoYXJndW1lbnQpID09PSAnU3ltYm9sJykgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZycpO1xuICByZXR1cm4gJFN0cmluZyhhcmd1bWVudCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1zdHJpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgaGFzT3duUHJvcGVydHkgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5cbi8vIEludGVybmFsIGZ1bmN0aW9uIHRvIGNoZWNrIHdoZXRoZXIgYGtleWAgaXMgYW4gb3duIHByb3BlcnR5IG5hbWUgb2YgYG9iamAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYXMob2JqLCBrZXkpIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19oYXMuanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9tYXBcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9tYXAuanNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuLyoqXG4gKiBAY2xhc3MgQVYuRXJyb3JcbiAqL1xuXG5mdW5jdGlvbiBBVkVycm9yKGNvZGUsIG1lc3NhZ2UpIHtcbiAgaWYgKG5ldy50YXJnZXQpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZXJyb3IsIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSk7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIHJldHVybiBuZXcgQVZFcnJvcihjb2RlLCBtZXNzYWdlKTtcbn1cblxuQVZFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3Rvcjoge1xuICAgIHZhbHVlOiBFcnJvcixcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gIH0sXG59KTtcblxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEFWRXJyb3IsIEVycm9yKTtcblxuXy5leHRlbmQoXG4gIEFWRXJyb3IsXG4gIC8qKiBAbGVuZHMgQVYuRXJyb3IgKi8ge1xuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBzb21lIGVycm9yIG90aGVyIHRoYW4gdGhvc2UgZW51bWVyYXRlZCBoZXJlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIE9USEVSX0NBVVNFOiAtMSxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHNvbWV0aGluZyBoYXMgZ29uZSB3cm9uZyB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAgICogSWYgeW91IGdldCB0aGlzIGVycm9yIGNvZGUsIGl0IGlzIEFWJ3MgZmF1bHQuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgSU5URVJOQUxfU0VSVkVSX0VSUk9SOiAxLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBBViBzZXJ2ZXJzIGZhaWxlZC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBDT05ORUNUSU9OX0ZBSUxFRDogMTAwLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgT0JKRUNUX05PVF9GT1VORDogMTAxLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHlvdSB0cmllZCB0byBxdWVyeSB3aXRoIGEgZGF0YXR5cGUgdGhhdCBkb2Vzbid0XG4gICAgICogc3VwcG9ydCBpdCwgbGlrZSBleGFjdCBtYXRjaGluZyBhbiBhcnJheSBvciBvYmplY3QuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgSU5WQUxJRF9RVUVSWTogMTAyLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIGEgbWlzc2luZyBvciBpbnZhbGlkIGNsYXNzbmFtZS4gQ2xhc3NuYW1lcyBhcmVcbiAgICAgKiBjYXNlLXNlbnNpdGl2ZS4gVGhleSBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIsIGFuZCBhLXpBLVowLTlfIGFyZSB0aGVcbiAgICAgKiBvbmx5IHZhbGlkIGNoYXJhY3RlcnMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgSU5WQUxJRF9DTEFTU19OQU1FOiAxMDMsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gdW5zcGVjaWZpZWQgb2JqZWN0IGlkLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIE1JU1NJTkdfT0JKRUNUX0lEOiAxMDQsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gaW52YWxpZCBrZXkgbmFtZS4gS2V5cyBhcmUgY2FzZS1zZW5zaXRpdmUuIFRoZXlcbiAgICAgKiBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIsIGFuZCBhLXpBLVowLTlfIGFyZSB0aGUgb25seSB2YWxpZCBjaGFyYWN0ZXJzLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfS0VZX05BTUU6IDEwNSxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhIG1hbGZvcm1lZCBwb2ludGVyLiBZb3Ugc2hvdWxkIG5vdCBzZWUgdGhpcyB1bmxlc3NcbiAgICAgKiB5b3UgaGF2ZSBiZWVuIG11Y2tpbmcgYWJvdXQgY2hhbmdpbmcgaW50ZXJuYWwgQVYgY29kZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBJTlZBTElEX1BPSU5URVI6IDEwNixcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGJhZGx5IGZvcm1lZCBKU09OIHdhcyByZWNlaXZlZCB1cHN0cmVhbS4gVGhpc1xuICAgICAqIGVpdGhlciBpbmRpY2F0ZXMgeW91IGhhdmUgZG9uZSBzb21ldGhpbmcgdW51c3VhbCB3aXRoIG1vZGlmeWluZyBob3dcbiAgICAgKiB0aGluZ3MgZW5jb2RlIHRvIEpTT04sIG9yIHRoZSBuZXR3b3JrIGlzIGZhaWxpbmcgYmFkbHkuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgSU5WQUxJRF9KU09OOiAxMDcsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgZmVhdHVyZSB5b3UgdHJpZWQgdG8gYWNjZXNzIGlzIG9ubHlcbiAgICAgKiBhdmFpbGFibGUgaW50ZXJuYWxseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBDT01NQU5EX1VOQVZBSUxBQkxFOiAxMDgsXG5cbiAgICAvKipcbiAgICAgKiBZb3UgbXVzdCBjYWxsIEFWLmluaXRpYWxpemUgYmVmb3JlIHVzaW5nIHRoZSBBViBsaWJyYXJ5LlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIE5PVF9JTklUSUFMSVpFRDogMTA5LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBmaWVsZCB3YXMgc2V0IHRvIGFuIGluY29uc2lzdGVudCB0eXBlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOQ09SUkVDVF9UWVBFOiAxMTEsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gaW52YWxpZCBjaGFubmVsIG5hbWUuIEEgY2hhbm5lbCBuYW1lIGlzIGVpdGhlclxuICAgICAqIGFuIGVtcHR5IHN0cmluZyAodGhlIGJyb2FkY2FzdCBjaGFubmVsKSBvciBjb250YWlucyBvbmx5IGEtekEtWjAtOV9cbiAgICAgKiBjaGFyYWN0ZXJzLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfQ0hBTk5FTF9OQU1FOiAxMTIsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBwdXNoIGlzIG1pc2NvbmZpZ3VyZWQuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgUFVTSF9NSVNDT05GSUdVUkVEOiAxMTUsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgb2JqZWN0IGlzIHRvbyBsYXJnZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBPQkpFQ1RfVE9PX0xBUkdFOiAxMTYsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgb3BlcmF0aW9uIGlzbid0IGFsbG93ZWQgZm9yIGNsaWVudHMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgT1BFUkFUSU9OX0ZPUkJJRERFTjogMTE5LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoZSByZXN1bHQgd2FzIG5vdCBmb3VuZCBpbiB0aGUgY2FjaGUuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgQ0FDSEVfTUlTUzogMTIwLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYW4gaW52YWxpZCBrZXkgd2FzIHVzZWQgaW4gYSBuZXN0ZWRcbiAgICAgKiBKU09OT2JqZWN0LlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfTkVTVEVEX0tFWTogMTIxLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYW4gaW52YWxpZCBmaWxlbmFtZSB3YXMgdXNlZCBmb3IgQVZGaWxlLlxuICAgICAqIEEgdmFsaWQgZmlsZSBuYW1lIGNvbnRhaW5zIG9ubHkgYS16QS1aMC05Xy4gY2hhcmFjdGVycyBhbmQgaXMgYmV0d2VlbiAxXG4gICAgICogYW5kIDEyOCBjaGFyYWN0ZXJzLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfRklMRV9OQU1FOiAxMjIsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gaW52YWxpZCBBQ0wgd2FzIHByb3ZpZGVkLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfQUNMOiAxMjMsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgcmVxdWVzdCB0aW1lZCBvdXQgb24gdGhlIHNlcnZlci4gVHlwaWNhbGx5XG4gICAgICogdGhpcyBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVxdWVzdCBpcyB0b28gZXhwZW5zaXZlIHRvIHJ1bi5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBUSU1FT1VUOiAxMjQsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgZW1haWwgYWRkcmVzcyB3YXMgaW52YWxpZC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBJTlZBTElEX0VNQUlMX0FERFJFU1M6IDEyNSxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhIG1pc3NpbmcgY29udGVudCB0eXBlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIE1JU1NJTkdfQ09OVEVOVF9UWVBFOiAxMjYsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYSBtaXNzaW5nIGNvbnRlbnQgbGVuZ3RoLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIE1JU1NJTkdfQ09OVEVOVF9MRU5HVEg6IDEyNyxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhbiBpbnZhbGlkIGNvbnRlbnQgbGVuZ3RoLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfQ09OVEVOVF9MRU5HVEg6IDEyOCxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhIGZpbGUgdGhhdCB3YXMgdG9vIGxhcmdlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIEZJTEVfVE9PX0xBUkdFOiAxMjksXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gZXJyb3Igc2F2aW5nIGEgZmlsZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBGSUxFX1NBVkVfRVJST1I6IDEzMCxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyBhbiBlcnJvciBkZWxldGluZyBhIGZpbGUuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgRklMRV9ERUxFVEVfRVJST1I6IDE1MyxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGEgdW5pcXVlIGZpZWxkIHdhcyBnaXZlbiBhIHZhbHVlIHRoYXQgaXNcbiAgICAgKiBhbHJlYWR5IHRha2VuLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIERVUExJQ0FURV9WQUxVRTogMTM3LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSByb2xlJ3MgbmFtZSBpcyBpbnZhbGlkLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfUk9MRV9OQU1FOiAxMzksXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhbiBhcHBsaWNhdGlvbiBxdW90YSB3YXMgZXhjZWVkZWQuICBVcGdyYWRlIHRvXG4gICAgICogcmVzb2x2ZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBFWENFRURFRF9RVU9UQTogMTQwLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBDbG91ZCBDb2RlIHNjcmlwdCBmYWlsZWQuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgU0NSSVBUX0ZBSUxFRDogMTQxLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBDbG91ZCBDb2RlIHZhbGlkYXRpb24gZmFpbGVkLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIFZBTElEQVRJT05fRVJST1I6IDE0MixcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IGludmFsaWQgaW1hZ2UgZGF0YSB3YXMgcHJvdmlkZWQuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgSU5WQUxJRF9JTUFHRV9EQVRBOiAxNTAsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYW4gdW5zYXZlZCBmaWxlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIFVOU0FWRURfRklMRV9FUlJPUjogMTUxLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIGFuIGludmFsaWQgcHVzaCB0aW1lLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIElOVkFMSURfUFVTSF9USU1FX0VSUk9SOiAxNTIsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgdXNlcm5hbWUgaXMgbWlzc2luZyBvciBlbXB0eS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBVU0VSTkFNRV9NSVNTSU5HOiAyMDAsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgcGFzc3dvcmQgaXMgbWlzc2luZyBvciBlbXB0eS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBQQVNTV09SRF9NSVNTSU5HOiAyMDEsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgdXNlcm5hbWUgaGFzIGFscmVhZHkgYmVlbiB0YWtlbi5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBVU0VSTkFNRV9UQUtFTjogMjAyLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgdGhlIGVtYWlsIGhhcyBhbHJlYWR5IGJlZW4gdGFrZW4uXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgRU1BSUxfVEFLRU46IDIwMyxcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgaW5kaWNhdGluZyB0aGF0IHRoZSBlbWFpbCBpcyBtaXNzaW5nLCBidXQgbXVzdCBiZSBzcGVjaWZpZWQuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgRU1BSUxfTUlTU0lORzogMjA0LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSB1c2VyIHdpdGggdGhlIHNwZWNpZmllZCBlbWFpbCB3YXMgbm90IGZvdW5kLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIEVNQUlMX05PVF9GT1VORDogMjA1LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSB1c2VyIG9iamVjdCB3aXRob3V0IGEgdmFsaWQgc2Vzc2lvbiBjb3VsZFxuICAgICAqIG5vdCBiZSBhbHRlcmVkLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIFNFU1NJT05fTUlTU0lORzogMjA2LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSB1c2VyIGNhbiBvbmx5IGJlIGNyZWF0ZWQgdGhyb3VnaCBzaWdudXAuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgTVVTVF9DUkVBVEVfVVNFUl9USFJPVUdIX1NJR05VUDogMjA3LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYW4gYW4gYWNjb3VudCBiZWluZyBsaW5rZWQgaXMgYWxyZWFkeSBsaW5rZWRcbiAgICAgKiB0byBhbm90aGVyIHVzZXIuXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgQUNDT1VOVF9BTFJFQURZX0xJTktFRDogMjA4LFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSB1c2VyIGNhbm5vdCBiZSBsaW5rZWQgdG8gYW4gYWNjb3VudCBiZWNhdXNlXG4gICAgICogdGhhdCBhY2NvdW50J3MgaWQgY291bGQgbm90IGJlIGZvdW5kLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIExJTktFRF9JRF9NSVNTSU5HOiAyNTAsXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgdGhhdCBhIHVzZXIgd2l0aCBhIGxpbmtlZCAoZS5nLiBGYWNlYm9vaykgYWNjb3VudFxuICAgICAqIGhhcyBhbiBpbnZhbGlkIHNlc3Npb24uXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgSU5WQUxJRF9MSU5LRURfU0VTU0lPTjogMjUxLFxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgY29kZSBpbmRpY2F0aW5nIHRoYXQgYSBzZXJ2aWNlIGJlaW5nIGxpbmtlZCAoZS5nLiBGYWNlYm9vayBvclxuICAgICAqIFR3aXR0ZXIpIGlzIHVuc3VwcG9ydGVkLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIFVOU1VQUE9SVEVEX1NFUlZJQ0U6IDI1MixcbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGluZGljYXRpbmcgYSByZWFsIGVycm9yIGNvZGUgaXMgdW5hdmFpbGFibGUgYmVjYXVzZVxuICAgICAqIHdlIGhhZCB0byB1c2UgYW4gWERvbWFpblJlcXVlc3Qgb2JqZWN0IHRvIGFsbG93IENPUlMgcmVxdWVzdHMgaW5cbiAgICAgKiBJbnRlcm5ldCBFeHBsb3Jlciwgd2hpY2ggc3RyaXBzIHRoZSBib2R5IGZyb20gSFRUUCByZXNwb25zZXMgdGhhdCBoYXZlXG4gICAgICogYSBub24tMlhYIHN0YXR1cyBjb2RlLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIFhfRE9NQUlOX1JFUVVFU1Q6IDYwMixcbiAgfVxuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBVkVycm9yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Vycm9yLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignbmF2aWdhdG9yJywgJ3VzZXJBZ2VudCcpIHx8ICcnO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pdGVyYXRvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgY2xhc3NvZlJhdyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIENPUlJFQ1RfQVJHVU1FTlRTID0gY2xhc3NvZlJhdyhmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxufTtcblxuLy8gZ2V0dGluZyB0YWcgZnJvbSBFUzYrIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYFxubW9kdWxlLmV4cG9ydHMgPSBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPyBjbGFzc29mUmF3IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCB0YWcsIHJlc3VsdDtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKHRhZyA9IHRyeUdldChPID0gJE9iamVjdChpdCksIFRPX1NUUklOR19UQUcpKSA9PSAnc3RyaW5nJyA/IHRhZ1xuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQ09SUkVDVF9BUkdVTUVOVFMgPyBjbGFzc29mUmF3KE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKHJlc3VsdCA9IGNsYXNzb2ZSYXcoTykpID09ICdPYmplY3QnICYmIGlzQ2FsbGFibGUoTy5jYWxsZWUpID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jbGFzc29mLmpzXG4vLyBtb2R1bGUgaWQgPSA0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVudW1lcmFibGUpIHRhcmdldFtrZXldID0gdmFsdWU7XG4gIGVsc2UgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRhcmdldCwga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4uanNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG5cbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gIHZhciByZXNvbHZlLCByZWplY3Q7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uICgkJHJlc29sdmUsICQkcmVqZWN0KSB7XG4gICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIHJlc29sdmUgPSAkJHJlc29sdmU7XG4gICAgcmVqZWN0ID0gJCRyZWplY3Q7XG4gIH0pO1xuICB0aGlzLnJlc29sdmUgPSBhQ2FsbGFibGUocmVzb2x2ZSk7XG4gIHRoaXMucmVqZWN0ID0gYUNhbGxhYmxlKHJlamVjdCk7XG59O1xuXG4vLyBgTmV3UHJvbWlzZUNhcGFiaWxpdHlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1uZXdwcm9taXNlY2FwYWJpbGl0eVxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIChDKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5LmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISFvYmo7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNPYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgbmF0aXZlSXNBcnJheSB9IGZyb20gJy4vX3NldHVwLmpzJztcbmltcG9ydCB0YWdUZXN0ZXIgZnJvbSAnLi9fdGFnVGVzdGVyLmpzJztcblxuLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbi8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBgQXJyYXkuaXNBcnJheWAuXG5leHBvcnQgZGVmYXVsdCBuYXRpdmVJc0FycmF5IHx8IHRhZ1Rlc3RlcignQXJyYXknKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0FycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBvcHRpbWl6ZUNiIGZyb20gJy4vX29wdGltaXplQ2IuanMnO1xuaW1wb3J0IGlzQXJyYXlMaWtlIGZyb20gJy4vX2lzQXJyYXlMaWtlLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8vIFRoZSBjb3JuZXJzdG9uZSBmb3IgY29sbGVjdGlvbiBmdW5jdGlvbnMsIGFuIGBlYWNoYFxuLy8gaW1wbGVtZW50YXRpb24sIGFrYSBgZm9yRWFjaGAuXG4vLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4vLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBpLCBsZW5ndGg7XG4gIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBfa2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaXRlcmF0ZWUob2JqW19rZXlzW2ldXSwgX2tleXNbaV0sIG9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZWFjaC5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2tleXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoe30udG9TdHJpbmcpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gc3RyaW5nU2xpY2UodG9TdHJpbmcoaXQpLCA4LCAtMSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jbGFzc29mLXJhdy5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xudmFyIFY4X1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5tb2R1bGUuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gIC8vIENocm9tZSAzOCBTeW1ib2wgaGFzIGluY29ycmVjdCB0b1N0cmluZyBjb252ZXJzaW9uXG4gIC8vIGBnZXQtb3duLXByb3BlcnR5LXN5bWJvbHNgIHBvbHlmaWxsIHN5bWJvbHMgY29udmVydGVkIHRvIG9iamVjdCBhcmUgbm90IFN5bWJvbCBpbnN0YW5jZXNcbiAgcmV0dXJuICFTdHJpbmcoc3ltYm9sKSB8fCAhKE9iamVjdChzeW1ib2wpIGluc3RhbmNlb2YgU3ltYm9sKSB8fFxuICAgIC8vIENocm9tZSAzOC00MCBzeW1ib2xzIGFyZSBub3QgaW5oZXJpdGVkIGZyb20gRE9NIGNvbGxlY3Rpb25zIHByb3RvdHlwZXMgdG8gaW5zdGFuY2VzXG4gICAgIVN5bWJvbC5zaGFtICYmIFY4X1ZFUlNJT04gJiYgVjhfVkVSU0lPTiA8IDQxO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcblxudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBEZW5vID0gZ2xvYmFsLkRlbm87XG52YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnMgfHwgRGVubyAmJiBEZW5vLnZlcnNpb247XG52YXIgdjggPSB2ZXJzaW9ucyAmJiB2ZXJzaW9ucy52ODtcbnZhciBtYXRjaCwgdmVyc2lvbjtcblxuaWYgKHY4KSB7XG4gIG1hdGNoID0gdjguc3BsaXQoJy4nKTtcbiAgLy8gaW4gb2xkIENocm9tZSwgdmVyc2lvbnMgb2YgVjggaXNuJ3QgVjggPSBDaHJvbWUgLyAxMFxuICAvLyBidXQgdGhlaXIgY29ycmVjdCB2ZXJzaW9ucyBhcmUgbm90IGludGVyZXN0aW5nIGZvciB1c1xuICB2ZXJzaW9uID0gbWF0Y2hbMF0gPiAwICYmIG1hdGNoWzBdIDwgNCA/IDEgOiArKG1hdGNoWzBdICsgbWF0Y2hbMV0pO1xufVxuXG4vLyBCcm93c2VyRlMgTm9kZUpTIGBwcm9jZXNzYCBwb2x5ZmlsbCBpbmNvcnJlY3RseSBzZXQgYC52OGAgdG8gYDAuMGBcbi8vIHNvIGNoZWNrIGB1c2VyQWdlbnRgIGV2ZW4gaWYgYC52OGAgZXhpc3RzLCBidXQgMFxuaWYgKCF2ZXJzaW9uICYmIHVzZXJBZ2VudCkge1xuICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pO1xuICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgIGlmIChtYXRjaCkgdmVyc2lvbiA9ICttYXRjaFsxXTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHZlcnNpb247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkU3RyaW5nID0gU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICB0cnkge1xuICAgIHJldHVybiAkU3RyaW5nKGFyZ3VtZW50KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gJ09iamVjdCc7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RyeS10by1zdHJpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgTkFUSVZFX0JJTkQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUnKTtcblxudmFyIGJpbmQgPSB1bmN1cnJ5VGhpcyh1bmN1cnJ5VGhpcy5iaW5kKTtcblxuLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCkge1xuICBhQ2FsbGFibGUoZm4pO1xuICByZXR1cm4gdGhhdCA9PT0gdW5kZWZpbmVkID8gZm4gOiBOQVRJVkVfQklORCA/IGJpbmQoZm4sIHRoYXQpIDogZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvKiBnbG9iYWwgQWN0aXZlWE9iamVjdCAtLSBvbGQgSUUsIFdTSCAqL1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGRlZmluZVByb3BlcnRpZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW51bS1idWcta2V5cycpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGlkZGVuLWtleXMnKTtcbnZhciBodG1sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2h0bWwnKTtcbnZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQnKTtcbnZhciBzaGFyZWRLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLWtleScpO1xuXG52YXIgR1QgPSAnPic7XG52YXIgTFQgPSAnPCc7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgU0NSSVBUID0gJ3NjcmlwdCc7XG52YXIgSUVfUFJPVE8gPSBzaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG5cbnZhciBFbXB0eUNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG52YXIgc2NyaXB0VGFnID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgcmV0dXJuIExUICsgU0NSSVBUICsgR1QgKyBjb250ZW50ICsgTFQgKyAnLycgKyBTQ1JJUFQgKyBHVDtcbn07XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBBY3RpdmVYIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWCA9IGZ1bmN0aW9uIChhY3RpdmVYRG9jdW1lbnQpIHtcbiAgYWN0aXZlWERvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnJykpO1xuICBhY3RpdmVYRG9jdW1lbnQuY2xvc2UoKTtcbiAgdmFyIHRlbXAgPSBhY3RpdmVYRG9jdW1lbnQucGFyZW50V2luZG93Lk9iamVjdDtcbiAgYWN0aXZlWERvY3VtZW50ID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWtcbiAgcmV0dXJuIHRlbXA7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgdmFyIEpTID0gJ2phdmEnICsgU0NSSVBUICsgJzonO1xuICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBodG1sLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy80NzVcbiAgaWZyYW1lLnNyYyA9IFN0cmluZyhKUyk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUoc2NyaXB0VGFnKCdkb2N1bWVudC5GPU9iamVjdCcpKTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgcmV0dXJuIGlmcmFtZURvY3VtZW50LkY7XG59O1xuXG4vLyBDaGVjayBmb3IgZG9jdW1lbnQuZG9tYWluIGFuZCBhY3RpdmUgeCBzdXBwb3J0XG4vLyBObyBuZWVkIHRvIHVzZSBhY3RpdmUgeCBhcHByb2FjaCB3aGVuIGRvY3VtZW50LmRvbWFpbiBpcyBub3Qgc2V0XG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltL2lzc3Vlcy8xNTBcbi8vIHZhcmlhdGlvbiBvZiBodHRwczovL2dpdGh1Yi5jb20va2l0Y2FtYnJpZGdlL2VzNS1zaGltL2NvbW1pdC80ZjczOGFjMDY2MzQ2XG4vLyBhdm9pZCBJRSBHQyBidWdcbnZhciBhY3RpdmVYRG9jdW1lbnQ7XG52YXIgTnVsbFByb3RvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIGFjdGl2ZVhEb2N1bWVudCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdodG1sZmlsZScpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBpZ25vcmUgKi8gfVxuICBOdWxsUHJvdG9PYmplY3QgPSB0eXBlb2YgZG9jdW1lbnQgIT0gJ3VuZGVmaW5lZCdcbiAgICA/IGRvY3VtZW50LmRvbWFpbiAmJiBhY3RpdmVYRG9jdW1lbnRcbiAgICAgID8gTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWChhY3RpdmVYRG9jdW1lbnQpIC8vIG9sZCBJRVxuICAgICAgOiBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUoKVxuICAgIDogTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWChhY3RpdmVYRG9jdW1lbnQpOyAvLyBXU0hcbiAgdmFyIGxlbmd0aCA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSBkZWxldGUgTnVsbFByb3RvT2JqZWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbbGVuZ3RoXV07XG4gIHJldHVybiBOdWxsUHJvdG9PYmplY3QoKTtcbn07XG5cbmhpZGRlbktleXNbSUVfUFJPVE9dID0gdHJ1ZTtcblxuLy8gYE9iamVjdC5jcmVhdGVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtY3JlYXRlIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eUNvbnN0cnVjdG9yKCk7XG4gICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBOdWxsUHJvdG9PYmplY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRlZmluZVByb3BlcnRpZXNNb2R1bGUuZihyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xudmFyIGRlZmluZUl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1pdGVyYXRvcicpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG5cbnZhciBBUlJBWV9JVEVSQVRPUiA9ICdBcnJheSBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihBUlJBWV9JVEVSQVRPUik7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZW50cmllc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5lbnRyaWVzXG4vLyBgQXJyYXkucHJvdG90eXBlLmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUua2V5c1xuLy8gYEFycmF5LnByb3RvdHlwZS52YWx1ZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUudmFsdWVzXG4vLyBgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAaXRlcmF0b3Jcbi8vIGBDcmVhdGVBcnJheUl0ZXJhdG9yYCBpbnRlcm5hbCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlYXJyYXlpdGVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVJdGVyYXRvcihBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IEFSUkFZX0lURVJBVE9SLFxuICAgIHRhcmdldDogdG9JbmRleGVkT2JqZWN0KGl0ZXJhdGVkKSwgLy8gdGFyZ2V0XG4gICAgaW5kZXg6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gICAga2luZDoga2luZCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBraW5kXG4gIH0pO1xuLy8gYCVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWFycmF5aXRlcmF0b3Jwcm90b3R5cGUlLm5leHRcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgdmFyIHRhcmdldCA9IHN0YXRlLnRhcmdldDtcbiAgdmFyIGtpbmQgPSBzdGF0ZS5raW5kO1xuICB2YXIgaW5kZXggPSBzdGF0ZS5pbmRleCsrO1xuICBpZiAoIXRhcmdldCB8fCBpbmRleCA+PSB0YXJnZXQubGVuZ3RoKSB7XG4gICAgc3RhdGUudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiB7IHZhbHVlOiBpbmRleCwgZG9uZTogZmFsc2UgfTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiB7IHZhbHVlOiB0YXJnZXRbaW5kZXhdLCBkb25lOiBmYWxzZSB9O1xuICByZXR1cm4geyB2YWx1ZTogW2luZGV4LCB0YXJnZXRbaW5kZXhdXSwgZG9uZTogZmFsc2UgfTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZXVubWFwcGVkYXJndW1lbnRzb2JqZWN0XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZW1hcHBlZGFyZ3VtZW50c29iamVjdFxudmFyIHZhbHVlcyA9IEl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vLyBWOCB+IENocm9tZSA0NS0gYnVnXG5pZiAoIUlTX1BVUkUgJiYgREVTQ1JJUFRPUlMgJiYgdmFsdWVzLm5hbWUgIT09ICd2YWx1ZXMnKSB0cnkge1xuICBkZWZpbmVQcm9wZXJ0eSh2YWx1ZXMsICduYW1lJywgeyB2YWx1ZTogJ3ZhbHVlcycgfSk7XG59IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydCcpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBUQUcsIFNUQVRJQywgU0VUX01FVEhPRCkge1xuICBpZiAoaXQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gU1RBVElDID8gaXQgOiBpdC5wcm90b3R5cGU7XG4gICAgaWYgKCFoYXNPd24odGFyZ2V0LCBUT19TVFJJTkdfVEFHKSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBUT19TVFJJTkdfVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IFRBRyB9KTtcbiAgICB9XG4gICAgaWYgKFNFVF9NRVRIT0QgJiYgIVRPX1NUUklOR19UQUdfU1VQUE9SVCkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRhcmdldCwgJ3RvU3RyaW5nJywgdG9TdHJpbmcpO1xuICAgIH1cbiAgfVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcuanNcbi8vIG1vZHVsZSBpZCA9IDYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuUHJvbWlzZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpO1xudmFyIERPTUl0ZXJhYmxlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb20taXRlcmFibGVzJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xuXG5mb3IgKHZhciBDT0xMRUNUSU9OX05BTUUgaW4gRE9NSXRlcmFibGVzKSB7XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV07XG4gIHZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGUgJiYgY2xhc3NvZihDb2xsZWN0aW9uUHJvdG90eXBlKSAhPT0gVE9fU1RSSU5HX1RBRykge1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHLCBDT0xMRUNUSU9OX05BTUUpO1xuICB9XG4gIEl0ZXJhdG9yc1tDT0xMRUNUSU9OX05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQga2V5cyBmcm9tICcuL2tleXMuanMnO1xuXG4vLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWx1ZXMob2JqKSB7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZXNbaV0gPSBvYmpbX2tleXNbaV1dO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdmFsdWVzLmpzXG4vLyBtb2R1bGUgaWQgPSA2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBnZXRMZW5ndGggZnJvbSAnLi9fZ2V0TGVuZ3RoLmpzJztcbmltcG9ydCBpc0FycmF5TGlrZSBmcm9tICcuL19pc0FycmF5TGlrZS5qcyc7XG5pbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuaW1wb3J0IGlzQXJndW1lbnRzIGZyb20gJy4vaXNBcmd1bWVudHMuanMnO1xuXG4vLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmbGF0dGVuKGlucHV0LCBkZXB0aCwgc3RyaWN0LCBvdXRwdXQpIHtcbiAgb3V0cHV0ID0gb3V0cHV0IHx8IFtdO1xuICBpZiAoIWRlcHRoICYmIGRlcHRoICE9PSAwKSB7XG4gICAgZGVwdGggPSBJbmZpbml0eTtcbiAgfSBlbHNlIGlmIChkZXB0aCA8PSAwKSB7XG4gICAgcmV0dXJuIG91dHB1dC5jb25jYXQoaW5wdXQpO1xuICB9XG4gIHZhciBpZHggPSBvdXRwdXQubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgLy8gRmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3QuXG4gICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgIGZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgc3RyaWN0LCBvdXRwdXQpO1xuICAgICAgICBpZHggPSBvdXRwdXQubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGogPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChqIDwgbGVuKSBvdXRwdXRbaWR4KytdID0gdmFsdWVbaisrXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZmxhdHRlbi5qc1xuLy8gbW9kdWxlIGlkID0gNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY2IgZnJvbSAnLi9fY2IuanMnO1xuaW1wb3J0IGlzQXJyYXlMaWtlIGZyb20gJy4vX2lzQXJyYXlMaWtlLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gIHZhciBfa2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIGtleXMob2JqKSxcbiAgICAgIGxlbmd0aCA9IChfa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL21hcC5qc1xuLy8gbW9kdWxlIGlkID0gNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgdXVpZCA9IHJlcXVpcmUoJ3V1aWQvdjQnKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKTtcbmNvbnN0IHsgaW5oZXJpdHMsIHBhcnNlRGF0ZSB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgdmVyc2lvbiA9IHJlcXVpcmUoJy4vdmVyc2lvbicpO1xuY29uc3QgeyBzZXRBZGFwdGVycywgYWRhcHRlck1hbmFnZXIgfSA9IHJlcXVpcmUoJy4vYWRhcHRlcicpO1xuXG5jb25zdCBBViA9IGdsb2JhbC5BViB8fCB7fTtcblxuLy8gQWxsIGludGVybmFsIGNvbmZpZ3VyYXRpb24gaXRlbXNcbkFWLl9jb25maWcgPSB7XG4gIHNlcnZlclVSTHM6IHt9LFxuICB1c2VNYXN0ZXJLZXk6IGZhbHNlLFxuICBwcm9kdWN0aW9uOiBudWxsLFxuICByZWFsdGltZTogbnVsbCxcbiAgcmVxdWVzdFRpbWVvdXQ6IG51bGwsXG59O1xuXG5jb25zdCBpbml0aWFsVXNlckFnZW50ID0gYExlYW5DbG91ZC1KUy1TREsvJHt2ZXJzaW9ufWA7XG5cbi8vIGNvbmZpZ3Mgc2hhcmVkIGJ5IGFsbCBBViBpbnN0YW5jZXNcbkFWLl9zaGFyZWRDb25maWcgPSB7XG4gIHVzZXJBZ2VudDogaW5pdGlhbFVzZXJBZ2VudCxcbiAgbGl2ZVF1ZXJ5UmVhbHRpbWU6IG51bGwsXG59O1xuXG5hZGFwdGVyTWFuYWdlci5vbigncGxhdGZvcm1JbmZvJywgcGxhdGZvcm1JbmZvID0+IHtcbiAgbGV0IHVhID0gaW5pdGlhbFVzZXJBZ2VudDtcbiAgaWYgKHBsYXRmb3JtSW5mbykge1xuICAgIGlmIChwbGF0Zm9ybUluZm8udXNlckFnZW50KSB7XG4gICAgICB1YSA9IHBsYXRmb3JtSW5mby51c2VyQWdlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjb21tZW50cyA9IHBsYXRmb3JtSW5mby5uYW1lO1xuICAgICAgaWYgKHBsYXRmb3JtSW5mby52ZXJzaW9uKSB7XG4gICAgICAgIGNvbW1lbnRzICs9IGAvJHtwbGF0Zm9ybUluZm8udmVyc2lvbn1gO1xuICAgICAgfVxuICAgICAgaWYgKHBsYXRmb3JtSW5mby5leHRyYSkge1xuICAgICAgICBjb21tZW50cyArPSBgOyAke3BsYXRmb3JtSW5mby5leHRyYX1gO1xuICAgICAgfVxuICAgICAgdWEgKz0gYCAoJHtjb21tZW50c30pYDtcbiAgICB9XG4gIH1cbiAgQVYuX3NoYXJlZENvbmZpZy51c2VyQWdlbnQgPSB1YTtcbn0pO1xuXG4vKipcbiAqIENvbnRhaW5zIGFsbCBBViBBUEkgY2xhc3NlcyBhbmQgZnVuY3Rpb25zLlxuICogQG5hbWVzcGFjZSBBVlxuICovXG5cbi8qKlxuICogUmV0dXJucyBwcmVmaXggZm9yIGxvY2FsU3RvcmFnZSBrZXlzIHVzZWQgYnkgdGhpcyBpbnN0YW5jZSBvZiBBVi5cbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFRoZSByZWxhdGl2ZSBzdWZmaXggdG8gYXBwZW5kIHRvIGl0LlxuICogICAgIG51bGwgb3IgdW5kZWZpbmVkIGlzIHRyZWF0ZWQgYXMgdGhlIGVtcHR5IHN0cmluZy5cbiAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGZ1bGwga2V5IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5BVi5fZ2V0QVZQYXRoID0gZnVuY3Rpb24ocGF0aCkge1xuICBpZiAoIUFWLmFwcGxpY2F0aW9uSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBuZWVkIHRvIGNhbGwgQVYuaW5pdGlhbGl6ZSBiZWZvcmUgdXNpbmcgQVYuJyk7XG4gIH1cbiAgaWYgKCFwYXRoKSB7XG4gICAgcGF0aCA9ICcnO1xuICB9XG4gIGlmICghXy5pc1N0cmluZyhwYXRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRyaWVkIHRvIGdldCBhIGxvY2FsU3RvcmFnZSBwYXRoIHRoYXQgd2Fzbid0IGEgU3RyaW5nLlwiKTtcbiAgfVxuICBpZiAocGF0aFswXSA9PT0gJy8nKSB7XG4gICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDEpO1xuICB9XG4gIHJldHVybiAnQVYvJyArIEFWLmFwcGxpY2F0aW9uSWQgKyAnLycgKyBwYXRoO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB1bmlxdWUgc3RyaW5nIGZvciB0aGlzIGFwcCBvbiB0aGlzIG1hY2hpbmUuXG4gKiBHZXRzIHJlc2V0IHdoZW4gbG9jYWxTdG9yYWdlIGlzIGNsZWFyZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5BVi5faW5zdGFsbGF0aW9uSWQgPSBudWxsO1xuQVYuX2dldEluc3RhbGxhdGlvbklkID0gKCkgPT4ge1xuICAvLyBTZWUgaWYgaXQncyBjYWNoZWQgaW4gUkFNLlxuICBpZiAoQVYuX2luc3RhbGxhdGlvbklkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShBVi5faW5zdGFsbGF0aW9uSWQpO1xuICB9XG5cbiAgLy8gVHJ5IHRvIGdldCBpdCBmcm9tIGxvY2FsU3RvcmFnZS5cbiAgY29uc3QgcGF0aCA9IEFWLl9nZXRBVlBhdGgoJ2luc3RhbGxhdGlvbklkJyk7XG4gIHJldHVybiBBVi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbUFzeW5jKHBhdGgpLnRoZW4oX2luc3RhbGxhdGlvbklkID0+IHtcbiAgICBBVi5faW5zdGFsbGF0aW9uSWQgPSBfaW5zdGFsbGF0aW9uSWQ7XG4gICAgaWYgKCFBVi5faW5zdGFsbGF0aW9uSWQpIHtcbiAgICAgIC8vIEl0IHdhc24ndCBpbiBsb2NhbFN0b3JhZ2UsIHNvIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICBBVi5faW5zdGFsbGF0aW9uSWQgPSBfaW5zdGFsbGF0aW9uSWQgPSB1dWlkKCk7XG4gICAgICByZXR1cm4gQVYubG9jYWxTdG9yYWdlXG4gICAgICAgIC5zZXRJdGVtQXN5bmMocGF0aCwgX2luc3RhbGxhdGlvbklkKVxuICAgICAgICAudGhlbigoKSA9PiBfaW5zdGFsbGF0aW9uSWQpO1xuICAgIH1cbiAgICByZXR1cm4gX2luc3RhbGxhdGlvbklkO1xuICB9KTtcbn07XG5cbkFWLl9zdWJzY3JpcHRpb25JZCA9IG51bGw7XG5BVi5fcmVmcmVzaFN1YnNjcmlwdGlvbklkID0gKHBhdGggPSBBVi5fZ2V0QVZQYXRoKCdzdWJzY3JpcHRpb25JZCcpKSA9PiB7XG4gIGNvbnN0IHN1YnNjcmlwdGlvbklkID0gKEFWLl9zdWJzY3JpcHRpb25JZCA9IHV1aWQoKSk7XG4gIHJldHVybiBBVi5sb2NhbFN0b3JhZ2VcbiAgICAuc2V0SXRlbUFzeW5jKHBhdGgsIHN1YnNjcmlwdGlvbklkKVxuICAgIC50aGVuKCgpID0+IHN1YnNjcmlwdGlvbklkKTtcbn07XG5BVi5fZ2V0U3Vic2NyaXB0aW9uSWQgPSAoKSA9PiB7XG4gIC8vIFNlZSBpZiBpdCdzIGNhY2hlZCBpbiBSQU0uXG4gIGlmIChBVi5fc3Vic2NyaXB0aW9uSWQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEFWLl9zdWJzY3JpcHRpb25JZCk7XG4gIH1cblxuICAvLyBUcnkgdG8gZ2V0IGl0IGZyb20gbG9jYWxTdG9yYWdlLlxuICBjb25zdCBwYXRoID0gQVYuX2dldEFWUGF0aCgnc3Vic2NyaXB0aW9uSWQnKTtcbiAgcmV0dXJuIEFWLmxvY2FsU3RvcmFnZS5nZXRJdGVtQXN5bmMocGF0aCkudGhlbihfc3Vic2NyaXB0aW9uSWQgPT4ge1xuICAgIEFWLl9zdWJzY3JpcHRpb25JZCA9IF9zdWJzY3JpcHRpb25JZDtcbiAgICBpZiAoIUFWLl9zdWJzY3JpcHRpb25JZCkge1xuICAgICAgLy8gSXQgd2Fzbid0IGluIGxvY2FsU3RvcmFnZSwgc28gY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgIF9zdWJzY3JpcHRpb25JZCA9IEFWLl9yZWZyZXNoU3Vic2NyaXB0aW9uSWQocGF0aCk7XG4gICAgfVxuICAgIHJldHVybiBfc3Vic2NyaXB0aW9uSWQ7XG4gIH0pO1xufTtcblxuQVYuX3BhcnNlRGF0ZSA9IHBhcnNlRGF0ZTtcblxuLy8gQSBzZWxmLXByb3BhZ2F0aW5nIGV4dGVuZCBmdW5jdGlvbi5cbkFWLl9leHRlbmQgPSBmdW5jdGlvbihwcm90b1Byb3BzLCBjbGFzc1Byb3BzKSB7XG4gIHZhciBjaGlsZCA9IGluaGVyaXRzKHRoaXMsIHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpO1xuICBjaGlsZC5leHRlbmQgPSB0aGlzLmV4dGVuZDtcbiAgcmV0dXJuIGNoaWxkO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIHZhbHVlIGluIGEgQVYgT2JqZWN0IGludG8gdGhlIGFwcHJvcHJpYXRlIHJlcHJlc2VudGF0aW9uLlxuICogVGhpcyBpcyB0aGUgSlMgZXF1aXZhbGVudCBvZiBKYXZhJ3MgQVYubWF5YmVSZWZlcmVuY2VBbmRFbmNvZGUoT2JqZWN0KVxuICogaWYgc2Vlbk9iamVjdHMgaXMgZmFsc2V5LiBPdGhlcndpc2UgYW55IEFWLk9iamVjdHMgbm90IGluXG4gKiBzZWVuT2JqZWN0cyB3aWxsIGJlIGZ1bGx5IGVtYmVkZGVkIHJhdGhlciB0aGFuIGVuY29kZWRcbiAqIGFzIGEgcG9pbnRlci4gIFRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHRvIHByZXZlbnQgZ29pbmcgaW50byBhbiBpbmZpbml0ZVxuICogbG9vcCBiZWNhdXNlIHdlIGhhdmUgY2lyY3VsYXIgcmVmZXJlbmNlcy4gIElmIDxzZWVuT2JqZWN0cz5cbiAqIGlzIHNldCwgdGhlbiBub25lIG9mIHRoZSBBViBPYmplY3RzIHRoYXQgYXJlIHNlcmlhbGl6ZWQgY2FuIGJlIGRpcnR5LlxuICogQHByaXZhdGVcbiAqL1xuQVYuX2VuY29kZSA9IGZ1bmN0aW9uKHZhbHVlLCBzZWVuT2JqZWN0cywgZGlzYWxsb3dPYmplY3RzLCBmdWxsID0gdHJ1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICBpZiAoZGlzYWxsb3dPYmplY3RzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLk9iamVjdHMgbm90IGFsbG93ZWQgaGVyZScpO1xuICAgIH1cbiAgICBpZiAoIXNlZW5PYmplY3RzIHx8IF8uaW5jbHVkZShzZWVuT2JqZWN0cywgdmFsdWUpIHx8ICF2YWx1ZS5faGFzRGF0YSkge1xuICAgICAgcmV0dXJuIHZhbHVlLl90b1BvaW50ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLl90b0Z1bGxKU09OKHNlZW5PYmplY3RzLmNvbmNhdCh2YWx1ZSksIGZ1bGwpO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLkFDTCkge1xuICAgIHJldHVybiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuICBpZiAoXy5pc0RhdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZ1bGwgPyB7IF9fdHlwZTogJ0RhdGUnLCBpc286IHZhbHVlLnRvSlNPTigpIH0gOiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5HZW9Qb2ludCkge1xuICAgIHJldHVybiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBfLm1hcCh2YWx1ZSwgZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIEFWLl9lbmNvZGUoeCwgc2Vlbk9iamVjdHMsIGRpc2FsbG93T2JqZWN0cywgZnVsbCk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKF8uaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNvdXJjZTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5SZWxhdGlvbikge1xuICAgIHJldHVybiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5PcCkge1xuICAgIHJldHVybiB2YWx1ZS50b0pTT04oKTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5GaWxlKSB7XG4gICAgaWYgKCF2YWx1ZS51cmwoKSAmJiAhdmFsdWUuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJpZWQgdG8gc2F2ZSBhbiBvYmplY3QgY29udGFpbmluZyBhbiB1bnNhdmVkIGZpbGUuJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5fdG9GdWxsSlNPTihzZWVuT2JqZWN0cywgZnVsbCk7XG4gIH1cbiAgaWYgKF8uaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIF8ubWFwT2JqZWN0KHZhbHVlLCAodiwgaykgPT5cbiAgICAgIEFWLl9lbmNvZGUodiwgc2Vlbk9iamVjdHMsIGRpc2FsbG93T2JqZWN0cywgZnVsbClcbiAgICApO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogVGhlIGludmVyc2UgZnVuY3Rpb24gb2YgQVYuX2VuY29kZS5cbiAqIEBwcml2YXRlXG4gKi9cbkFWLl9kZWNvZGUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghXy5pc09iamVjdCh2YWx1ZSkgfHwgXy5pc0RhdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIF8ubWFwKHZhbHVlLCB2ID0+IEFWLl9kZWNvZGUodikpO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLk9iamVjdCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBVi5GaWxlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLk9wKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLkdlb1BvaW50KSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLkFDTCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoa2V5ID09PSAnQUNMJykge1xuICAgIHJldHVybiBuZXcgQVYuQUNMKHZhbHVlKTtcbiAgfVxuICBpZiAodmFsdWUuX19vcCkge1xuICAgIHJldHVybiBBVi5PcC5fZGVjb2RlKHZhbHVlKTtcbiAgfVxuICB2YXIgY2xhc3NOYW1lO1xuICBpZiAodmFsdWUuX190eXBlID09PSAnUG9pbnRlcicpIHtcbiAgICBjbGFzc05hbWUgPSB2YWx1ZS5jbGFzc05hbWU7XG4gICAgdmFyIHBvaW50ZXIgPSBBVi5PYmplY3QuX2NyZWF0ZShjbGFzc05hbWUpO1xuICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMykge1xuICAgICAgY29uc3QgdiA9IF8uY2xvbmUodmFsdWUpO1xuICAgICAgZGVsZXRlIHYuX190eXBlO1xuICAgICAgZGVsZXRlIHYuY2xhc3NOYW1lO1xuICAgICAgcG9pbnRlci5fZmluaXNoRmV0Y2godiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXIuX2ZpbmlzaEZldGNoKHsgb2JqZWN0SWQ6IHZhbHVlLm9iamVjdElkIH0sIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50ZXI7XG4gIH1cbiAgaWYgKHZhbHVlLl9fdHlwZSA9PT0gJ09iamVjdCcpIHtcbiAgICAvLyBJdCdzIGFuIE9iamVjdCBpbmNsdWRlZCBpbiBhIHF1ZXJ5IHJlc3VsdC5cbiAgICBjbGFzc05hbWUgPSB2YWx1ZS5jbGFzc05hbWU7XG4gICAgY29uc3QgdiA9IF8uY2xvbmUodmFsdWUpO1xuICAgIGRlbGV0ZSB2Ll9fdHlwZTtcbiAgICBkZWxldGUgdi5jbGFzc05hbWU7XG4gICAgdmFyIG9iamVjdCA9IEFWLk9iamVjdC5fY3JlYXRlKGNsYXNzTmFtZSk7XG4gICAgb2JqZWN0Ll9maW5pc2hGZXRjaCh2LCB0cnVlKTtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG4gIGlmICh2YWx1ZS5fX3R5cGUgPT09ICdEYXRlJykge1xuICAgIHJldHVybiBBVi5fcGFyc2VEYXRlKHZhbHVlLmlzbyk7XG4gIH1cbiAgaWYgKHZhbHVlLl9fdHlwZSA9PT0gJ0dlb1BvaW50Jykge1xuICAgIHJldHVybiBuZXcgQVYuR2VvUG9pbnQoe1xuICAgICAgbGF0aXR1ZGU6IHZhbHVlLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiB2YWx1ZS5sb25naXR1ZGUsXG4gICAgfSk7XG4gIH1cbiAgaWYgKHZhbHVlLl9fdHlwZSA9PT0gJ1JlbGF0aW9uJykge1xuICAgIGlmICgha2V5KSB0aHJvdyBuZXcgRXJyb3IoJ2tleSBtaXNzaW5nIGRlY29kaW5nIGEgUmVsYXRpb24nKTtcbiAgICB2YXIgcmVsYXRpb24gPSBuZXcgQVYuUmVsYXRpb24obnVsbCwga2V5KTtcbiAgICByZWxhdGlvbi50YXJnZXRDbGFzc05hbWUgPSB2YWx1ZS5jbGFzc05hbWU7XG4gICAgcmV0dXJuIHJlbGF0aW9uO1xuICB9XG4gIGlmICh2YWx1ZS5fX3R5cGUgPT09ICdGaWxlJykge1xuICAgIHZhciBmaWxlID0gbmV3IEFWLkZpbGUodmFsdWUubmFtZSk7XG4gICAgY29uc3QgdiA9IF8uY2xvbmUodmFsdWUpO1xuICAgIGRlbGV0ZSB2Ll9fdHlwZTtcbiAgICBmaWxlLl9maW5pc2hGZXRjaCh2KTtcbiAgICByZXR1cm4gZmlsZTtcbiAgfVxuICByZXR1cm4gXy5tYXBPYmplY3QodmFsdWUsIEFWLl9kZWNvZGUpO1xufTtcblxuLyoqXG4gKiBUaGUgaW52ZXJzZSBmdW5jdGlvbiBvZiB7QGxpbmsgQVYuT2JqZWN0I3RvRnVsbEpTT059LlxuICogQHNpbmNlIDMuMC4wXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIHJldHVybiB7QVYuT2JqZWN0fEFWLkZpbGV8YW55fVxuICovXG5BVi5wYXJzZUpTT04gPSBBVi5fZGVjb2RlO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gSlNPTi5wYXJzZSwgZXhjZXB0IHRoYXQgQVYgaW50ZXJuYWwgdHlwZXMgd2lsbCBiZSB1c2VkIGlmIHBvc3NpYmxlLlxuICogSW52ZXJzZSB0byB7QGxpbmsgQVYuc3RyaW5naWZ5fVxuICogQHNpbmNlIDMuMTQuMFxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgdGhlIHN0cmluZyB0byBwYXJzZS5cbiAqIEByZXR1cm4ge0FWLk9iamVjdHxBVi5GaWxlfGFueX1cbiAqL1xuQVYucGFyc2UgPSB0ZXh0ID0+IEFWLnBhcnNlSlNPTihKU09OLnBhcnNlKHRleHQpKTtcbi8qKlxuICogU2VyaWFsaXplIGEgdGFyZ2V0IGNvbnRhaW5pbmcgQVYuT2JqZWN0LCBzaW1pbGFyIHRvIEpTT04uc3RyaW5naWZ5LlxuICogSW52ZXJzZSB0byB7QGxpbmsgQVYucGFyc2V9XG4gKiBAc2luY2UgMy4xNC4wXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbkFWLnN0cmluZ2lmeSA9IHRhcmdldCA9PiBKU09OLnN0cmluZ2lmeShBVi5fZW5jb2RlKHRhcmdldCwgW10sIGZhbHNlLCB0cnVlKSk7XG5cbkFWLl9lbmNvZGVPYmplY3RPckFycmF5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGVuY29kZUFWT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCAmJiBvYmplY3QuX3RvRnVsbEpTT04pIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdC5fdG9GdWxsSlNPTihbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF8ubWFwT2JqZWN0KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBBVi5fZW5jb2RlKHZhbHVlLCBbXSk7XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGVuY29kZUFWT2JqZWN0KG9iamVjdCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVuY29kZUFWT2JqZWN0KHZhbHVlKTtcbiAgfVxufTtcblxuQVYuX2FycmF5RWFjaCA9IF8uZWFjaDtcblxuLyoqXG4gKiBEb2VzIGEgZGVlcCB0cmF2ZXJzYWwgb2YgZXZlcnkgaXRlbSBpbiBvYmplY3QsIGNhbGxpbmcgZnVuYyBvbiBldmVyeSBvbmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gdHJhdmVyc2UgZGVlcGx5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZXZlcnkgaXRlbS4gSXQgd2lsbFxuICogICAgIGJlIHBhc3NlZCB0aGUgaXRlbSBhcyBhbiBhcmd1bWVudC4gSWYgaXQgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSwgdGhhdFxuICogICAgIHZhbHVlIHdpbGwgcmVwbGFjZSB0aGUgaXRlbSBpbiBpdHMgcGFyZW50IGNvbnRhaW5lci5cbiAqIEByZXR1cm5zIHt9IHRoZSByZXN1bHQgb2YgY2FsbGluZyBmdW5jIG9uIHRoZSB0b3AtbGV2ZWwgb2JqZWN0IGl0c2VsZi5cbiAqIEBwcml2YXRlXG4gKi9cbkFWLl90cmF2ZXJzZSA9IGZ1bmN0aW9uKG9iamVjdCwgZnVuYywgc2Vlbikge1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuT2JqZWN0KSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgW107XG4gICAgaWYgKF8uaW5kZXhPZihzZWVuLCBvYmplY3QpID49IDApIHtcbiAgICAgIC8vIFdlJ3ZlIGFscmVhZHkgdmlzaXRlZCB0aGlzIG9iamVjdCBpbiB0aGlzIGNhbGwuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlZW4ucHVzaChvYmplY3QpO1xuICAgIEFWLl90cmF2ZXJzZShvYmplY3QuYXR0cmlidXRlcywgZnVuYywgc2Vlbik7XG4gICAgcmV0dXJuIGZ1bmMob2JqZWN0KTtcbiAgfVxuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuUmVsYXRpb24gfHwgb2JqZWN0IGluc3RhbmNlb2YgQVYuRmlsZSkge1xuICAgIC8vIE5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZSwgYnV0IHdlIGRvbid0IHdhbnQgdG8gcmVjdXJzZSBpbnRvIHRoZVxuICAgIC8vIG9iamVjdCdzIHBhcmVudCBpbmZpbml0ZWx5LCBzbyB3ZSBjYXRjaCB0aGlzIGNhc2UuXG4gICAgcmV0dXJuIGZ1bmMob2JqZWN0KTtcbiAgfVxuICBpZiAoXy5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBfLmVhY2gob2JqZWN0LCBmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgIHZhciBuZXdDaGlsZCA9IEFWLl90cmF2ZXJzZShjaGlsZCwgZnVuYywgc2Vlbik7XG4gICAgICBpZiAobmV3Q2hpbGQpIHtcbiAgICAgICAgb2JqZWN0W2luZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jKG9iamVjdCk7XG4gIH1cbiAgaWYgKF8uaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIEFWLl9lYWNoKG9iamVjdCwgZnVuY3Rpb24oY2hpbGQsIGtleSkge1xuICAgICAgdmFyIG5ld0NoaWxkID0gQVYuX3RyYXZlcnNlKGNoaWxkLCBmdW5jLCBzZWVuKTtcbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICBvYmplY3Rba2V5XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jKG9iamVjdCk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMob2JqZWN0KTtcbn07XG5cbi8qKlxuICogVGhpcyBpcyBsaWtlIF8uZWFjaCwgZXhjZXB0OlxuICogKiBpdCBkb2Vzbid0IHdvcmsgZm9yIHNvLWNhbGxlZCBhcnJheS1saWtlIG9iamVjdHMsXG4gKiAqIGl0IGRvZXMgd29yayBmb3IgZGljdGlvbmFyaWVzIHdpdGggYSBcImxlbmd0aFwiIGF0dHJpYnV0ZS5cbiAqIEBwcml2YXRlXG4gKi9cbkFWLl9vYmplY3RFYWNoID0gQVYuX2VhY2ggPSBmdW5jdGlvbihvYmosIGNhbGxiYWNrKSB7XG4gIGlmIChfLmlzT2JqZWN0KG9iaikpIHtcbiAgICBfLmVhY2goXy5rZXlzKG9iaiksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgY2FsbGJhY2sob2JqW2tleV0sIGtleSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgXy5lYWNoKG9iaiwgY2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqIEBzaW5jZSAzLjE0LjBcbiAqL1xuQVYuZGVidWcgPSB7XG4gIC8qKlxuICAgKiBFbmFibGUgZGVidWdcbiAgICovXG4gIGVuYWJsZTogKG5hbWVzcGFjZXMgPSAnbGVhbmNsb3VkKicpID0+IGRlYnVnLmVuYWJsZShuYW1lc3BhY2VzKSxcbiAgLyoqXG4gICAqIERpc2FibGUgZGVidWdcbiAgICovXG4gIGRpc2FibGU6IGRlYnVnLmRpc2FibGUsXG59O1xuXG4vKipcbiAqIFNwZWNpZnkgQWRhcHRlcnNcbiAqIEBzaW5jZSA0LjQuMFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0FkYXB0ZXJzfSBuZXdBZGFwdGVycyBTZWUge0BsaW5rIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vYWRhcHRlci10eXBlLWRlZmluaXRpb25zIEBsZWFuY2xvdWQvYWRhcHRlci10eXBlc30gZm9yIGRldGFpbGVkIGRlZmluaXRpb25zLlxuICovXG5BVi5zZXRBZGFwdGVycyA9IHNldEFkYXB0ZXJzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFWO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2F2LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9pbmRleC1vZlwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL2luZGV4LW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gWycjMDAwMENDJywgJyMwMDAwRkYnLCAnIzAwMzNDQycsICcjMDAzM0ZGJywgJyMwMDY2Q0MnLCAnIzAwNjZGRicsICcjMDA5OUNDJywgJyMwMDk5RkYnLCAnIzAwQ0MwMCcsICcjMDBDQzMzJywgJyMwMENDNjYnLCAnIzAwQ0M5OScsICcjMDBDQ0NDJywgJyMwMENDRkYnLCAnIzMzMDBDQycsICcjMzMwMEZGJywgJyMzMzMzQ0MnLCAnIzMzMzNGRicsICcjMzM2NkNDJywgJyMzMzY2RkYnLCAnIzMzOTlDQycsICcjMzM5OUZGJywgJyMzM0NDMDAnLCAnIzMzQ0MzMycsICcjMzNDQzY2JywgJyMzM0NDOTknLCAnIzMzQ0NDQycsICcjMzNDQ0ZGJywgJyM2NjAwQ0MnLCAnIzY2MDBGRicsICcjNjYzM0NDJywgJyM2NjMzRkYnLCAnIzY2Q0MwMCcsICcjNjZDQzMzJywgJyM5OTAwQ0MnLCAnIzk5MDBGRicsICcjOTkzM0NDJywgJyM5OTMzRkYnLCAnIzk5Q0MwMCcsICcjOTlDQzMzJywgJyNDQzAwMDAnLCAnI0NDMDAzMycsICcjQ0MwMDY2JywgJyNDQzAwOTknLCAnI0NDMDBDQycsICcjQ0MwMEZGJywgJyNDQzMzMDAnLCAnI0NDMzMzMycsICcjQ0MzMzY2JywgJyNDQzMzOTknLCAnI0NDMzNDQycsICcjQ0MzM0ZGJywgJyNDQzY2MDAnLCAnI0NDNjYzMycsICcjQ0M5OTAwJywgJyNDQzk5MzMnLCAnI0NDQ0MwMCcsICcjQ0NDQzMzJywgJyNGRjAwMDAnLCAnI0ZGMDAzMycsICcjRkYwMDY2JywgJyNGRjAwOTknLCAnI0ZGMDBDQycsICcjRkYwMEZGJywgJyNGRjMzMDAnLCAnI0ZGMzMzMycsICcjRkYzMzY2JywgJyNGRjMzOTknLCAnI0ZGMzNDQycsICcjRkYzM0ZGJywgJyNGRjY2MDAnLCAnI0ZGNjYzMycsICcjRkY5OTAwJywgJyNGRjk5MzMnLCAnI0ZGQ0MwMCcsICcjRkZDQzMzJ107XG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgKHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgd2luZG93LnByb2Nlc3MuX19ud2pzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblxuXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuXG5cbiAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSB8fCAvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8IHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkgfHwgLy8gSXMgZmlyZWZveCA+PSB2MzE/XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxIHx8IC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLyk7XG59XG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICsgdGhpcy5uYW1lc3BhY2UgKyAodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgKyBhcmdzWzBdICsgKHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICsgJysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTsgLy8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblxuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgaWYgKG1hdGNoID09PSAnJSUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW5kZXgrKztcblxuICAgIGlmIChtYXRjaCA9PT0gJyVjJykge1xuICAgICAgLy8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gbG9nKCkge1xuICB2YXIgX2NvbnNvbGU7XG5cbiAgLy8gVGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICh0eXBlb2YgY29uc29sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGNvbnNvbGUpKSA9PT0gJ29iamVjdCcgJiYgY29uc29sZS5sb2cgJiYgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBhcmd1bWVudHMpO1xufVxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTd2FsbG93XG4gICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIH1cbn1cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcblxuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHt9IC8vIFN3YWxsb3dcbiAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblxuXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICAvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG4gICAgLy8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG52YXIgZm9ybWF0dGVycyA9IG1vZHVsZS5leHBvcnRzLmZvcm1hdHRlcnM7XG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgfVxufTtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcbmNvbnN0IHsgaW5oZXJpdHMgfSA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuY29uc3QgQWRhcHRlck1hbmFnZXIgPSBpbmhlcml0cyhFdmVudEVtaXR0ZXIsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgRXZlbnRFbWl0dGVyLmFwcGx5KHRoaXMpO1xuICAgIHRoaXMuX2FkYXB0ZXJzID0ge307XG4gIH0sXG4gIGdldEFkYXB0ZXIobmFtZSkge1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyc1tuYW1lXTtcbiAgICBpZiAoYWRhcHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gYWRhcHRlciBpcyBub3QgY29uZmlndXJlZGApO1xuICAgIH1cbiAgICByZXR1cm4gYWRhcHRlcjtcbiAgfSxcbiAgc2V0QWRhcHRlcnMobmV3QWRhcHRlcnMpIHtcbiAgICBfLmV4dGVuZCh0aGlzLl9hZGFwdGVycywgbmV3QWRhcHRlcnMpO1xuICAgIF8ua2V5cyhuZXdBZGFwdGVycykuZm9yRWFjaChuYW1lID0+IHRoaXMuZW1pdChuYW1lLCBuZXdBZGFwdGVyc1tuYW1lXSkpO1xuICB9LFxufSk7XG5cbmNvbnN0IGFkYXB0ZXJNYW5hZ2VyID0gbmV3IEFkYXB0ZXJNYW5hZ2VyKCk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBZGFwdGVyOiBhZGFwdGVyTWFuYWdlci5nZXRBZGFwdGVyLmJpbmQoYWRhcHRlck1hbmFnZXIpLFxuICBzZXRBZGFwdGVyczogYWRhcHRlck1hbmFnZXIuc2V0QWRhcHRlcnMuYmluZChhZGFwdGVyTWFuYWdlciksXG4gIGFkYXB0ZXJNYW5hZ2VyLFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hZGFwdGVyLmpzIiwidmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBhcHBseSA9IEZ1bmN0aW9uUHJvdG90eXBlLmFwcGx5O1xudmFyIGNhbGwgPSBGdW5jdGlvblByb3RvdHlwZS5jYWxsO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1yZWZsZWN0IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoYXBwbHkpIDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY2FsbC5hcHBseShhcHBseSwgYXJndW1lbnRzKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9mdW5jdGlvbi1hcHBseS5qc1xuLy8gbW9kdWxlIGlkID0gNzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1mdW5jdGlvbi1wcm90b3R5cGUtYmluZCAtLSBzYWZlXG4gIHZhciB0ZXN0ID0gKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkuYmluZCgpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgcmV0dXJuIHR5cGVvZiB0ZXN0ICE9ICdmdW5jdGlvbicgfHwgdGVzdC5oYXNPd25Qcm9wZXJ0eSgncHJvdG90eXBlJyk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUuanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgTyA9IHRvSW5kZXhlZE9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoaGFzT3duKE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCFjYWxsKHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmYsIE8sIFApLCBPW1BdKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVxdWlyZW9iamVjdGNvZXJjaWJsZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanNcbi8vIG1vZHVsZSBpZCA9IDc0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIHN0b3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbn0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgdmVyc2lvbjogJzMuMjMuMycsXG4gIG1vZGU6IElTX1BVUkUgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAxNC0yMDIyIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJyxcbiAgbGljZW5zZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvdjMuMjMuMy9MSUNFTlNFJyxcbiAgc291cmNlOiAnaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMnXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc2hhcmVkLmpzXG4vLyBtb2R1bGUgaWQgPSA3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcbnZhciBpc0FycmF5SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXktaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBnZXRJdGVyYXRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3InKTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgaXRlcmF0b3JDbG9zZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvci1jbG9zZScpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxudmFyIFJlc3VsdCA9IGZ1bmN0aW9uIChzdG9wcGVkLCByZXN1bHQpIHtcbiAgdGhpcy5zdG9wcGVkID0gc3RvcHBlZDtcbiAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG59O1xuXG52YXIgUmVzdWx0UHJvdG90eXBlID0gUmVzdWx0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIHVuYm91bmRGdW5jdGlvbiwgb3B0aW9ucykge1xuICB2YXIgdGhhdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aGF0O1xuICB2YXIgQVNfRU5UUklFUyA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5BU19FTlRSSUVTKTtcbiAgdmFyIElTX0lURVJBVE9SID0gISEob3B0aW9ucyAmJiBvcHRpb25zLklTX0lURVJBVE9SKTtcbiAgdmFyIElOVEVSUlVQVEVEID0gISEob3B0aW9ucyAmJiBvcHRpb25zLklOVEVSUlVQVEVEKTtcbiAgdmFyIGZuID0gYmluZCh1bmJvdW5kRnVuY3Rpb24sIHRoYXQpO1xuICB2YXIgaXRlcmF0b3IsIGl0ZXJGbiwgaW5kZXgsIGxlbmd0aCwgcmVzdWx0LCBuZXh0LCBzdGVwO1xuXG4gIHZhciBzdG9wID0gZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgIGlmIChpdGVyYXRvcikgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ25vcm1hbCcsIGNvbmRpdGlvbik7XG4gICAgcmV0dXJuIG5ldyBSZXN1bHQodHJ1ZSwgY29uZGl0aW9uKTtcbiAgfTtcblxuICB2YXIgY2FsbEZuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKEFTX0VOVFJJRVMpIHtcbiAgICAgIGFuT2JqZWN0KHZhbHVlKTtcbiAgICAgIHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlWzBdLCB2YWx1ZVsxXSwgc3RvcCkgOiBmbih2YWx1ZVswXSwgdmFsdWVbMV0pO1xuICAgIH0gcmV0dXJuIElOVEVSUlVQVEVEID8gZm4odmFsdWUsIHN0b3ApIDogZm4odmFsdWUpO1xuICB9O1xuXG4gIGlmIChJU19JVEVSQVRPUikge1xuICAgIGl0ZXJhdG9yID0gaXRlcmFibGU7XG4gIH0gZWxzZSB7XG4gICAgaXRlckZuID0gZ2V0SXRlcmF0b3JNZXRob2QoaXRlcmFibGUpO1xuICAgIGlmICghaXRlckZuKSB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGl0ZXJhYmxlKSArICcgaXMgbm90IGl0ZXJhYmxlJyk7XG4gICAgLy8gb3B0aW1pc2F0aW9uIGZvciBhcnJheSBpdGVyYXRvcnNcbiAgICBpZiAoaXNBcnJheUl0ZXJhdG9yTWV0aG9kKGl0ZXJGbikpIHtcbiAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShpdGVyYWJsZSk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHJlc3VsdCA9IGNhbGxGbihpdGVyYWJsZVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0ICYmIGlzUHJvdG90eXBlT2YoUmVzdWx0UHJvdG90eXBlLCByZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgICAgfSByZXR1cm4gbmV3IFJlc3VsdChmYWxzZSk7XG4gICAgfVxuICAgIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoaXRlcmFibGUsIGl0ZXJGbik7XG4gIH1cblxuICBuZXh0ID0gaXRlcmF0b3IubmV4dDtcbiAgd2hpbGUgKCEoc3RlcCA9IGNhbGwobmV4dCwgaXRlcmF0b3IpKS5kb25lKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGNhbGxGbihzdGVwLnZhbHVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ3Rocm93JywgZXJyb3IpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnb2JqZWN0JyAmJiByZXN1bHQgJiYgaXNQcm90b3R5cGVPZihSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXRlcmF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IGZhbHNlLCB2YWx1ZTogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IHRydWUsIHZhbHVlOiBlcnJvciB9O1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9wZXJmb3JtLmpzXG4vLyBtb2R1bGUgaWQgPSA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzRm9yY2VkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWZvcmNlZCcpO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBJU19CUk9XU0VSID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1icm93c2VyJyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgVjhfVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbicpO1xuXG52YXIgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciAmJiBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciBTVUJDTEFTU0lORyA9IGZhbHNlO1xudmFyIE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCA9IGlzQ2FsbGFibGUoZ2xvYmFsLlByb21pc2VSZWplY3Rpb25FdmVudCk7XG5cbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IGlzRm9yY2VkKCdQcm9taXNlJywgZnVuY3Rpb24gKCkge1xuICB2YXIgUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UgPSBpbnNwZWN0U291cmNlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvcik7XG4gIHZhciBHTE9CQUxfQ09SRV9KU19QUk9NSVNFID0gUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UgIT09IFN0cmluZyhOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpO1xuICAvLyBWOCA2LjYgKE5vZGUgMTAgYW5kIENocm9tZSA2NikgaGF2ZSBhIGJ1ZyB3aXRoIHJlc29sdmluZyBjdXN0b20gdGhlbmFibGVzXG4gIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTgzMDU2NVxuICAvLyBXZSBjYW4ndCBkZXRlY3QgaXQgc3luY2hyb25vdXNseSwgc28ganVzdCBjaGVjayB2ZXJzaW9uc1xuICBpZiAoIUdMT0JBTF9DT1JFX0pTX1BST01JU0UgJiYgVjhfVkVSU0lPTiA9PT0gNjYpIHJldHVybiB0cnVlO1xuICAvLyBXZSBuZWVkIFByb21pc2UjeyBjYXRjaCwgZmluYWxseSB9IGluIHRoZSBwdXJlIHZlcnNpb24gZm9yIHByZXZlbnRpbmcgcHJvdG90eXBlIHBvbGx1dGlvblxuICBpZiAoSVNfUFVSRSAmJiAhKE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2NhdGNoJ10gJiYgTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnZmluYWxseSddKSkgcmV0dXJuIHRydWU7XG4gIC8vIFdlIGNhbid0IHVzZSBAQHNwZWNpZXMgZmVhdHVyZSBkZXRlY3Rpb24gaW4gVjggc2luY2UgaXQgY2F1c2VzXG4gIC8vIGRlb3B0aW1pemF0aW9uIGFuZCBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc5XG4gIGlmIChWOF9WRVJTSU9OID49IDUxICYmIC9uYXRpdmUgY29kZS8udGVzdChQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSkpIHJldHVybiBmYWxzZTtcbiAgLy8gRGV0ZWN0IGNvcnJlY3RuZXNzIG9mIHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgdmFyIHByb21pc2UgPSBuZXcgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUoMSk7IH0pO1xuICB2YXIgRmFrZVByb21pc2UgPSBmdW5jdGlvbiAoZXhlYykge1xuICAgIGV4ZWMoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xuICB9O1xuICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yID0ge307XG4gIGNvbnN0cnVjdG9yW1NQRUNJRVNdID0gRmFrZVByb21pc2U7XG4gIFNVQkNMQVNTSU5HID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgaWYgKCFTVUJDTEFTU0lORykgcmV0dXJuIHRydWU7XG4gIC8vIFVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgcmV0dXJuICFHTE9CQUxfQ09SRV9KU19QUk9NSVNFICYmIElTX0JST1dTRVIgJiYgIU5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVDtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ09OU1RSVUNUT1I6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SLFxuICBSRUpFQ1RJT05fRVZFTlQ6IE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCxcbiAgU1VCQ0xBU1NJTkc6IFNVQkNMQVNTSU5HXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9wcm9taXNlLWNvbnN0cnVjdG9yLWRldGVjdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgY2hhckF0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1tdWx0aWJ5dGUnKS5jaGFyQXQ7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyIGRlZmluZUl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1pdGVyYXRvcicpO1xuXG52YXIgU1RSSU5HX0lURVJBVE9SID0gJ1N0cmluZyBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihTVFJJTkdfSVRFUkFUT1IpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUtQEBpdGVyYXRvclxuZGVmaW5lSXRlcmF0b3IoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IFNUUklOR19JVEVSQVRPUixcbiAgICBzdHJpbmc6IHRvU3RyaW5nKGl0ZXJhdGVkKSxcbiAgICBpbmRleDogMFxuICB9KTtcbi8vIGAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lc3RyaW5naXRlcmF0b3Jwcm90b3R5cGUlLm5leHRcbn0sIGZ1bmN0aW9uIG5leHQoKSB7XG4gIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gIHZhciBzdHJpbmcgPSBzdGF0ZS5zdHJpbmc7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4O1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBzdHJpbmcubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gY2hhckF0KHN0cmluZywgaW5kZXgpO1xuICBzdGF0ZS5pbmRleCArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB7IHN1cHBvcnRzRGF0YVZpZXcgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgaGFzT2JqZWN0VGFnIGZyb20gJy4vX2hhc09iamVjdFRhZy5qcyc7XG5cbi8vIEluIElFIDEwIC0gRWRnZSAxMywgYERhdGFWaWV3YCBoYXMgc3RyaW5nIHRhZyBgJ1tvYmplY3QgT2JqZWN0XSdgLlxuLy8gSW4gSUUgMTEsIHRoZSBtb3N0IGNvbW1vbiBhbW9uZyB0aGVtLCB0aGlzIHByb2JsZW0gYWxzbyBhcHBsaWVzIHRvXG4vLyBgTWFwYCwgYFdlYWtNYXBgIGFuZCBgU2V0YC5cbmV4cG9ydCB2YXIgaGFzU3RyaW5nVGFnQnVnID0gKFxuICAgICAgc3VwcG9ydHNEYXRhVmlldyAmJiBoYXNPYmplY3RUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcig4KSkpXG4gICAgKSxcbiAgICBpc0lFMTEgPSAodHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCcgJiYgaGFzT2JqZWN0VGFnKG5ldyBNYXApKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fc3RyaW5nVGFnQnVnLmpzXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcbmltcG9ydCB7IGhhc0VudW1CdWcgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgY29sbGVjdE5vbkVudW1Qcm9wcyBmcm9tICcuL19jb2xsZWN0Tm9uRW51bVByb3BzLmpzJztcblxuLy8gUmV0cmlldmUgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFsbEtleXMob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgLy8gQWhlbSwgSUUgPCA5LlxuICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICByZXR1cm4ga2V5cztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9hbGxLZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSA4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBfIGZyb20gJy4vdW5kZXJzY29yZS5qcyc7XG5pbXBvcnQgJy4vdG9QYXRoLmpzJztcblxuLy8gSW50ZXJuYWwgd3JhcHBlciBmb3IgYF8udG9QYXRoYCB0byBlbmFibGUgbWluaWZpY2F0aW9uLlxuLy8gU2ltaWxhciB0byBgY2JgIGZvciBgXy5pdGVyYXRlZWAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1BhdGgocGF0aCkge1xuICByZXR1cm4gXy50b1BhdGgocGF0aCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX3RvUGF0aC5qc1xuLy8gbW9kdWxlIGlkID0gODJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBJbnRlcm5hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gZWZmaWNpZW50IChmb3IgY3VycmVudCBlbmdpbmVzKSB2ZXJzaW9uXG4vLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuLy8gZnVuY3Rpb25zLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3B0aW1pemVDYihmdW5jLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgc3dpdGNoIChhcmdDb3VudCA9PSBudWxsID8gMyA6IGFyZ0NvdW50KSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgIH07XG4gICAgLy8gVGhlIDItYXJndW1lbnQgY2FzZSBpcyBvbWl0dGVkIGJlY2F1c2Ugd2XigJlyZSBub3QgdXNpbmcgaXQuXG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfTtcbiAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX29wdGltaXplQ2IuanNcbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBlYWNoIGZyb20gJy4vZWFjaC5qcyc7XG5cbi8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaWx0ZXIob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZpbHRlci5qc1xuLy8gbW9kdWxlIGlkID0gODRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgaXNBcnJheUxpa2UgZnJvbSAnLi9faXNBcnJheUxpa2UuanMnO1xuaW1wb3J0IHZhbHVlcyBmcm9tICcuL3ZhbHVlcy5qcyc7XG5pbXBvcnQgaW5kZXhPZiBmcm9tICcuL2luZGV4T2YuanMnO1xuXG4vLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIGl0ZW0gKHVzaW5nIGA9PT1gKS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IHZhbHVlcyhvYmopO1xuICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgcmV0dXJuIGluZGV4T2Yob2JqLCBpdGVtLCBmcm9tSW5kZXgpID49IDA7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY29udGFpbnMuanNcbi8vIG1vZHVsZSBpZCA9IDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcblxuLy8gYElzQXJyYXlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1hcnJheS1pc2FycmF5IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZ3VtZW50KSB7XG4gIHJldHVybiBjbGFzc29mKGFyZ3VtZW50KSA9PSAnQXJyYXknO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtYXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IDg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9zeW1ib2xcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9zeW1ib2wuanNcbi8vIG1vZHVsZSBpZCA9IDg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByaW1pdGl2ZScpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xuXG4vLyBgVG9Qcm9wZXJ0eUtleWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmd1bWVudCwgJ3N0cmluZycpO1xuICByZXR1cm4gaXNTeW1ib2woa2V5KSA/IGtleSA6IGtleSArICcnO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5LmpzXG4vLyBtb2R1bGUgaWQgPSA4OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZCcpO1xuXG52YXIgJE9iamVjdCA9IE9iamVjdDtcblxubW9kdWxlLmV4cG9ydHMgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgJFN5bWJvbCA9IGdldEJ1aWx0SW4oJ1N5bWJvbCcpO1xuICByZXR1cm4gaXNDYWxsYWJsZSgkU3ltYm9sKSAmJiBpc1Byb3RvdHlwZU9mKCRTeW1ib2wucHJvdG90eXBlLCAkT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pcy1zeW1ib2wuanNcbi8vIG1vZHVsZSBpZCA9IDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG52YXIgQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NvcnJlY3QtcHJvdG90eXBlLWdldHRlcicpO1xuXG52YXIgSUVfUFJPVE8gPSBzaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG52YXIgJE9iamVjdCA9IE9iamVjdDtcbnZhciBPYmplY3RQcm90b3R5cGUgPSAkT2JqZWN0LnByb3RvdHlwZTtcblxuLy8gYE9iamVjdC5nZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRwcm90b3R5cGVvZlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID8gJE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIChPKSB7XG4gIHZhciBvYmplY3QgPSB0b09iamVjdChPKTtcbiAgaWYgKGhhc093bihvYmplY3QsIElFX1BST1RPKSkgcmV0dXJuIG9iamVjdFtJRV9QUk9UT107XG4gIHZhciBjb25zdHJ1Y3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgaWYgKGlzQ2FsbGFibGUoY29uc3RydWN0b3IpICYmIG9iamVjdCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgJE9iamVjdCA/IE9iamVjdFByb3RvdHlwZSA6IG51bGw7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9vYmplY3QtZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcblxudmFyIGtleXMgPSBzaGFyZWQoJ2tleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBrZXlzW2tleV0gfHwgKGtleXNba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3NoYXJlZC1rZXkuanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gLS0gc2FmZSAqL1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGFQb3NzaWJsZVByb3RvdHlwZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLXBvc3NpYmxlLXByb3RvdHlwZScpO1xuXG4vLyBgT2JqZWN0LnNldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnNldHByb3RvdHlwZW9mXG4vLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1zZXRwcm90b3R5cGVvZiAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbiAoKSB7XG4gIHZhciBDT1JSRUNUX1NFVFRFUiA9IGZhbHNlO1xuICB2YXIgdGVzdCA9IHt9O1xuICB2YXIgc2V0dGVyO1xuICB0cnkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICAgIHNldHRlciA9IHVuY3VycnlUaGlzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCk7XG4gICAgc2V0dGVyKHRlc3QsIFtdKTtcbiAgICBDT1JSRUNUX1NFVFRFUiA9IHRlc3QgaW5zdGFuY2VvZiBBcnJheTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICBhbk9iamVjdChPKTtcbiAgICBhUG9zc2libGVQcm90b3R5cGUocHJvdG8pO1xuICAgIGlmIChDT1JSRUNUX1NFVFRFUikgc2V0dGVyKE8sIHByb3RvKTtcbiAgICBlbHNlIE8uX19wcm90b19fID0gcHJvdG87XG4gICAgcmV0dXJuIE87XG4gIH07XG59KCkgOiB1bmRlZmluZWQpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9oaWRkZW4ta2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mJyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGdldE1ldGhvZChpdCwgSVRFUkFUT1IpXG4gICAgfHwgZ2V0TWV0aG9kKGl0LCAnQEBpdGVyYXRvcicpXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2dldC1pdGVyYXRvci1tZXRob2QuanNcbi8vIG1vZHVsZSBpZCA9IDk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIE5BVElWRV9XRUFLX01BUCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG52YXIgT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQgPSAnT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xudmFyIHNldCwgZ2V0LCBoYXM7XG5cbnZhciBlbmZvcmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBoYXMoaXQpID8gZ2V0KGl0KSA6IHNldChpdCwge30pO1xufTtcblxudmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgaWYgKCFpc09iamVjdChpdCkgfHwgKHN0YXRlID0gZ2V0KGl0KSkudHlwZSAhPT0gVFlQRSkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCcpO1xuICAgIH0gcmV0dXJuIHN0YXRlO1xuICB9O1xufTtcblxuaWYgKE5BVElWRV9XRUFLX01BUCB8fCBzaGFyZWQuc3RhdGUpIHtcbiAgdmFyIHN0b3JlID0gc2hhcmVkLnN0YXRlIHx8IChzaGFyZWQuc3RhdGUgPSBuZXcgV2Vha01hcCgpKTtcbiAgdmFyIHdtZ2V0ID0gdW5jdXJyeVRoaXMoc3RvcmUuZ2V0KTtcbiAgdmFyIHdtaGFzID0gdW5jdXJyeVRoaXMoc3RvcmUuaGFzKTtcbiAgdmFyIHdtc2V0ID0gdW5jdXJyeVRoaXMoc3RvcmUuc2V0KTtcbiAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIGlmICh3bWhhcyhzdG9yZSwgaXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICB3bXNldChzdG9yZSwgaXQsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiB3bWdldChzdG9yZSwgaXQpIHx8IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gd21oYXMoc3RvcmUsIGl0KTtcbiAgfTtcbn0gZWxzZSB7XG4gIHZhciBTVEFURSA9IHNoYXJlZEtleSgnc3RhdGUnKTtcbiAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgaWYgKGhhc093bihpdCwgU1RBVEUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoaXQsIFNUQVRFLCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaGFzT3duKGl0LCBTVEFURSkgPyBpdFtTVEFURV0gOiB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGhhc093bihpdCwgU1RBVEUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0LFxuICBoYXM6IGhhcyxcbiAgZW5mb3JjZTogZW5mb3JjZSxcbiAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3Jcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzb2YoZ2xvYmFsLnByb2Nlc3MpID09ICdwcm9jZXNzJztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLWlzLW5vZGUuanNcbi8vIG1vZHVsZSBpZCA9IDk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgaW5zcGVjdFNvdXJjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZScpO1xuXG52YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBlbXB0eSA9IFtdO1xudmFyIGNvbnN0cnVjdCA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnY29uc3RydWN0Jyk7XG52YXIgY29uc3RydWN0b3JSZWdFeHAgPSAvXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvO1xudmFyIGV4ZWMgPSB1bmN1cnJ5VGhpcyhjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKTtcbnZhciBJTkNPUlJFQ1RfVE9fU1RSSU5HID0gIWNvbnN0cnVjdG9yUmVnRXhwLmV4ZWMobm9vcCk7XG5cbnZhciBpc0NvbnN0cnVjdG9yTW9kZXJuID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICBpZiAoIWlzQ2FsbGFibGUoYXJndW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgY29uc3RydWN0KG5vb3AsIGVtcHR5LCBhcmd1bWVudCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG52YXIgaXNDb25zdHJ1Y3RvckxlZ2FjeSA9IGZ1bmN0aW9uIGlzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgaWYgKCFpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuICBzd2l0Y2ggKGNsYXNzb2YoYXJndW1lbnQpKSB7XG4gICAgY2FzZSAnQXN5bmNGdW5jdGlvbic6XG4gICAgY2FzZSAnR2VuZXJhdG9yRnVuY3Rpb24nOlxuICAgIGNhc2UgJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nOiByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyB3ZSBjYW4ndCBjaGVjayAucHJvdG90eXBlIHNpbmNlIGNvbnN0cnVjdG9ycyBwcm9kdWNlZCBieSAuYmluZCBoYXZlbid0IGl0XG4gICAgLy8gYEZ1bmN0aW9uI3RvU3RyaW5nYCB0aHJvd3Mgb24gc29tZSBidWlsdC1pdCBmdW5jdGlvbiBpbiBzb21lIGxlZ2FjeSBlbmdpbmVzXG4gICAgLy8gKGZvciBleGFtcGxlLCBgRE9NUXVhZGAgYW5kIHNpbWlsYXIgaW4gRkY0MS0pXG4gICAgcmV0dXJuIElOQ09SUkVDVF9UT19TVFJJTkcgfHwgISFleGVjKGNvbnN0cnVjdG9yUmVnRXhwLCBpbnNwZWN0U291cmNlKGFyZ3VtZW50KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbmlzQ29uc3RydWN0b3JMZWdhY3kuc2hhbSA9IHRydWU7XG5cbi8vIGBJc0NvbnN0cnVjdG9yYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjb25zdHJ1Y3RvclxubW9kdWxlLmV4cG9ydHMgPSAhY29uc3RydWN0IHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhbGxlZDtcbiAgcmV0dXJuIGlzQ29uc3RydWN0b3JNb2Rlcm4oaXNDb25zdHJ1Y3Rvck1vZGVybi5jYWxsKVxuICAgIHx8ICFpc0NvbnN0cnVjdG9yTW9kZXJuKE9iamVjdClcbiAgICB8fCAhaXNDb25zdHJ1Y3Rvck1vZGVybihmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWU7IH0pXG4gICAgfHwgY2FsbGVkO1xufSkgPyBpc0NvbnN0cnVjdG9yTGVnYWN5IDogaXNDb25zdHJ1Y3Rvck1vZGVybjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtY29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVuY3VycnlUaGlzKFtdLnNsaWNlKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYXJyYXktc2xpY2UuanNcbi8vIG1vZHVsZSBpZCA9IDk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGV4dGVuZE93biBmcm9tICcuL2V4dGVuZE93bi5qcyc7XG5pbXBvcnQgaXNNYXRjaCBmcm9tICcuL2lzTWF0Y2guanMnO1xuXG4vLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2Zcbi8vIGBrZXk6dmFsdWVgIHBhaXJzLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF0Y2hlcihhdHRycykge1xuICBhdHRycyA9IGV4dGVuZE93bih7fSwgYXR0cnMpO1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIGlzTWF0Y2gob2JqLCBhdHRycyk7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbWF0Y2hlci5qc1xuLy8gbW9kdWxlIGlkID0gMTAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHJlc3RBcmd1bWVudHMgZnJvbSAnLi9yZXN0QXJndW1lbnRzLmpzJztcbmltcG9ydCBleGVjdXRlQm91bmQgZnJvbSAnLi9fZXhlY3V0ZUJvdW5kLmpzJztcbmltcG9ydCBfIGZyb20gJy4vdW5kZXJzY29yZS5qcyc7XG5cbi8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbi8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBgX2AgYWN0c1xuLy8gYXMgYSBwbGFjZWhvbGRlciBieSBkZWZhdWx0LCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIHRvIGJlXG4vLyBwcmUtZmlsbGVkLiBTZXQgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgZm9yIGEgY3VzdG9tIHBsYWNlaG9sZGVyIGFyZ3VtZW50LlxudmFyIHBhcnRpYWwgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGZ1bmMsIGJvdW5kQXJncykge1xuICB2YXIgcGxhY2Vob2xkZXIgPSBwYXJ0aWFsLnBsYWNlaG9sZGVyO1xuICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcG9zaXRpb24gPSAwLCBsZW5ndGggPSBib3VuZEFyZ3MubGVuZ3RoO1xuICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYm91bmRBcmdzW2ldID09PSBwbGFjZWhvbGRlciA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICB9XG4gICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gIH07XG4gIHJldHVybiBib3VuZDtcbn0pO1xuXG5wYXJ0aWFsLnBsYWNlaG9sZGVyID0gXztcbmV4cG9ydCBkZWZhdWx0IHBhcnRpYWw7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGFydGlhbC5qc1xuLy8gbW9kdWxlIGlkID0gMTAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBlYWNoIGZyb20gJy4vZWFjaC5qcyc7XG5cbi8vIEFuIGludGVybmFsIGZ1bmN0aW9uIHVzZWQgZm9yIGFnZ3JlZ2F0ZSBcImdyb3VwIGJ5XCIgb3BlcmF0aW9ucy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdyb3VwKGJlaGF2aW9yLCBwYXJ0aXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gcGFydGl0aW9uID8gW1tdLCBbXV0gOiB7fTtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19ncm91cC5qc1xuLy8gbW9kdWxlIGlkID0gMTAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIHByb3BlcnR5S2V5ID0gdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAocHJvcGVydHlLZXkgaW4gb2JqZWN0KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwgcHJvcGVydHlLZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCB2YWx1ZSkpO1xuICBlbHNlIG9iamVjdFtwcm9wZXJ0eUtleV0gPSB2YWx1ZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gMTAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgVjhfVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbicpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICAvLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgLy8gZGVvcHRpbWl6YXRpb24gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3N1xuICByZXR1cm4gVjhfVkVSU0lPTiA+PSA1MSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IGFycmF5LmNvbnN0cnVjdG9yID0ge307XG4gICAgY29uc3RydWN0b3JbU1BFQ0lFU10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4geyBmb286IDEgfTtcbiAgICB9O1xuICAgIHJldHVybiBhcnJheVtNRVRIT0RfTkFNRV0oQm9vbGVhbikuZm9vICE9PSAxO1xuICB9KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAxMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBJbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBhcnJheVNwZWNpZXNDcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcblxudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS57IGZvckVhY2gsIG1hcCwgZmlsdGVyLCBzb21lLCBldmVyeSwgZmluZCwgZmluZEluZGV4LCBmaWx0ZXJSZWplY3QgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHZhciBJU19NQVAgPSBUWVBFID09IDE7XG4gIHZhciBJU19GSUxURVIgPSBUWVBFID09IDI7XG4gIHZhciBJU19TT01FID0gVFlQRSA9PSAzO1xuICB2YXIgSVNfRVZFUlkgPSBUWVBFID09IDQ7XG4gIHZhciBJU19GSU5EX0lOREVYID0gVFlQRSA9PSA2O1xuICB2YXIgSVNfRklMVEVSX1JFSkVDVCA9IFRZUEUgPT0gNztcbiAgdmFyIE5PX0hPTEVTID0gVFlQRSA9PSA1IHx8IElTX0ZJTkRfSU5ERVg7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQsIHNwZWNpZmljQ3JlYXRlKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCgkdGhpcyk7XG4gICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0KE8pO1xuICAgIHZhciBib3VuZEZ1bmN0aW9uID0gYmluZChjYWxsYmFja2ZuLCB0aGF0KTtcbiAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2Uoc2VsZik7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgY3JlYXRlID0gc3BlY2lmaWNDcmVhdGUgfHwgYXJyYXlTcGVjaWVzQ3JlYXRlO1xuICAgIHZhciB0YXJnZXQgPSBJU19NQVAgPyBjcmVhdGUoJHRoaXMsIGxlbmd0aCkgOiBJU19GSUxURVIgfHwgSVNfRklMVEVSX1JFSkVDVCA/IGNyZWF0ZSgkdGhpcywgMCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHZhbHVlLCByZXN1bHQ7XG4gICAgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChOT19IT0xFUyB8fCBpbmRleCBpbiBzZWxmKSB7XG4gICAgICB2YWx1ZSA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzdWx0ID0gYm91bmRGdW5jdGlvbih2YWx1ZSwgaW5kZXgsIE8pO1xuICAgICAgaWYgKFRZUEUpIHtcbiAgICAgICAgaWYgKElTX01BUCkgdGFyZ2V0W2luZGV4XSA9IHJlc3VsdDsgLy8gbWFwXG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCkgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgIC8vIHNvbWVcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiB2YWx1ZTsgICAgICAgICAgICAgLy8gZmluZFxuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIGluZGV4OyAgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICBjYXNlIDI6IHB1c2godGFyZ2V0LCB2YWx1ZSk7ICAgICAgLy8gZmlsdGVyXG4gICAgICAgIH0gZWxzZSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBmYWxzZTsgICAgICAgICAgICAgLy8gZXZlcnlcbiAgICAgICAgICBjYXNlIDc6IHB1c2godGFyZ2V0LCB2YWx1ZSk7ICAgICAgLy8gZmlsdGVyUmVqZWN0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHRhcmdldDtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mb3JlYWNoXG4gIGZvckVhY2g6IGNyZWF0ZU1ldGhvZCgwKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5tYXBgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbiAgbWFwOiBjcmVhdGVNZXRob2QoMSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gIGZpbHRlcjogY3JlYXRlTWV0aG9kKDIpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLnNvbWVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb21lXG4gIHNvbWU6IGNyZWF0ZU1ldGhvZCgzKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5ldmVyeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmV2ZXJ5XG4gIGV2ZXJ5OiBjcmVhdGVNZXRob2QoNCksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRcbiAgZmluZDogY3JlYXRlTWV0aG9kKDUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRJbmRleFxuICBmaW5kSW5kZXg6IGNyZWF0ZU1ldGhvZCg2KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJSZWplY3RgIG1ldGhvZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hcnJheS1maWx0ZXJpbmdcbiAgZmlsdGVyUmVqZWN0OiBjcmVhdGVNZXRob2QoNylcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMTA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IHsgdGltZW91dCB9ID0gcmVxdWlyZSgncHJvbWlzZS10aW1lb3V0Jyk7XG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJyk7XG5jb25zdCBkZWJ1Z1JlcXVlc3QgPSBkZWJ1ZygnbGVhbmNsb3VkOnJlcXVlc3QnKTtcbmNvbnN0IGRlYnVnUmVxdWVzdEVycm9yID0gZGVidWcoJ2xlYW5jbG91ZDpyZXF1ZXN0OmVycm9yJyk7XG5jb25zdCB7IGdldEFkYXB0ZXIgfSA9IHJlcXVpcmUoJy4uL2FkYXB0ZXInKTtcblxubGV0IHJlcXVlc3RzQ291bnQgPSAwO1xuXG5jb25zdCBhamF4ID0gKHtcbiAgbWV0aG9kLFxuICB1cmwsXG4gIHF1ZXJ5LFxuICBkYXRhLFxuICBoZWFkZXJzID0ge30sXG4gIHRpbWVvdXQ6IHRpbWUsXG4gIG9ucHJvZ3Jlc3MsXG59KSA9PiB7XG4gIGlmIChxdWVyeSkge1xuICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gT2JqZWN0LmtleXMocXVlcnkpXG4gICAgICAubWFwKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHYgPSB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQodil9YDtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKHFzID0+IHFzKVxuICAgICAgLmpvaW4oJyYnKTtcbiAgICB1cmwgPSBgJHt1cmx9PyR7cXVlcnlTdHJpbmd9YDtcbiAgfVxuXG4gIGNvbnN0IGNvdW50ID0gcmVxdWVzdHNDb3VudCsrO1xuICBkZWJ1Z1JlcXVlc3QoXG4gICAgJ3JlcXVlc3QoJWQpICVzICVzICVvICVvICVvJyxcbiAgICBjb3VudCxcbiAgICBtZXRob2QsXG4gICAgdXJsLFxuICAgIHF1ZXJ5LFxuICAgIGRhdGEsXG4gICAgaGVhZGVyc1xuICApO1xuXG4gIGNvbnN0IHJlcXVlc3QgPSBnZXRBZGFwdGVyKCdyZXF1ZXN0Jyk7XG4gIGNvbnN0IHByb21pc2UgPSByZXF1ZXN0KHVybCwgeyBtZXRob2QsIGhlYWRlcnMsIGRhdGEsIG9ucHJvZ3Jlc3MgfSlcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBkZWJ1Z1JlcXVlc3QoXG4gICAgICAgICdyZXNwb25zZSglZCkgJWQgJU8gJW8nLFxuICAgICAgICBjb3VudCxcbiAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZS5kYXRhIHx8IHJlc3BvbnNlLnRleHQsXG4gICAgICAgIHJlc3BvbnNlLmhlYWRlclxuICAgICAgKTtcbiAgICAgIGlmIChyZXNwb25zZS5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKCFkZWJ1Zy5lbmFibGVkKCdsZWFuY2xvdWQ6cmVxdWVzdCcpKSB7XG4gICAgICAgICAgZGVidWdSZXF1ZXN0RXJyb3IoXG4gICAgICAgICAgICAncmVxdWVzdCglZCkgJXMgJXMgJW8gJW8gJW8nLFxuICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBkZWJ1Z1JlcXVlc3RFcnJvcihcbiAgICAgICAgICAncmVzcG9uc2UoJWQpICVkICVPICVvJyxcbiAgICAgICAgICBjb3VudCxcbiAgICAgICAgICBlcnJvci5yZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgZXJyb3IucmVzcG9uc2UuZGF0YSB8fCBlcnJvci5yZXNwb25zZS50ZXh0LFxuICAgICAgICAgIGVycm9yLnJlc3BvbnNlLmhlYWRlclxuICAgICAgICApO1xuICAgICAgICBlcnJvci5zdGF0dXNDb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICBlcnJvci5yZXNwb25zZVRleHQgPSBlcnJvci5yZXNwb25zZS50ZXh0O1xuICAgICAgICBlcnJvci5yZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlLmRhdGE7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbiAgcmV0dXJuIHRpbWUgPyB0aW1lb3V0KHByb21pc2UsIHRpbWUpIDogcHJvbWlzZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYWpheDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9hamF4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9maW5kXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvaW5zdGFuY2UvZmluZC5qc1xuLy8gbW9kdWxlIGlkID0gMTA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAxMDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xudmFyIHNwbGl0ID0gdW5jdXJyeVRoaXMoJycuc3BsaXQpO1xuXG4vLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAtLSBzYWZlXG4gIHJldHVybiAhJE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApO1xufSkgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNsYXNzb2YoaXQpID09ICdTdHJpbmcnID8gc3BsaXQoaXQsICcnKSA6ICRPYmplY3QoaXQpO1xufSA6ICRPYmplY3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAxMDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcblxuLy8gYEdldE1ldGhvZGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoViwgUCkge1xuICB2YXIgZnVuYyA9IFZbUF07XG4gIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhQ2FsbGFibGUoZnVuYyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9nZXQtbWV0aG9kLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHknKTtcblxudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgZGVmaW5lR2xvYmFsUHJvcGVydHkoU0hBUkVELCB7fSk7XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3NoYXJlZC1zdG9yZS5qc1xuLy8gbW9kdWxlIGlkID0gMTExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG52YXIgaWQgPSAwO1xudmFyIHBvc3RmaXggPSBNYXRoLnJhbmRvbSgpO1xudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoMS4wLnRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyAoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgdG9TdHJpbmcoKytpZCArIHBvc3RmaXgsIDM2KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3VpZC5qc1xuLy8gbW9kdWxlIGlkID0gMTEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgRVhJU1RTID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gRVhJU1RTID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaW50ZXJuYWxPYmplY3RLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW51bS1idWcta2V5cycpO1xuXG52YXIgaGlkZGVuS2V5cyA9IGVudW1CdWdLZXlzLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZVxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcy5qc1xuLy8gbW9kdWxlIGlkID0gMTE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuICBpbmNsdWRlczogY3JlYXRlTWV0aG9kKHRydWUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG4gIGluZGV4T2Y6IGNyZWF0ZU1ldGhvZChmYWxzZSlcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbnRlZ2VyLW9yLWluZmluaXR5Jyk7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICB2YXIgaW50ZWdlciA9IHRvSW50ZWdlck9ySW5maW5pdHkoaW5kZXgpO1xuICByZXR1cm4gaW50ZWdlciA8IDAgPyBtYXgoaW50ZWdlciArIGxlbmd0aCwgMCkgOiBtaW4oaW50ZWdlciwgbGVuZ3RoKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdHJ1bmMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbWF0aC10cnVuYycpO1xuXG4vLyBgVG9JbnRlZ2VyT3JJbmZpbml0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvaW50ZWdlcm9yaW5maW5pdHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBudW1iZXIgPSArYXJndW1lbnQ7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gIHJldHVybiBudW1iZXIgIT09IG51bWJlciB8fCBudW1iZXIgPT09IDAgPyAwIDogdHJ1bmMobnVtYmVyKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHkuanNcbi8vIG1vZHVsZSBpZCA9IDExN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSBbXG4gICdjb25zdHJ1Y3RvcicsXG4gICdoYXNPd25Qcm9wZXJ0eScsXG4gICdpc1Byb3RvdHlwZU9mJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgJ3RvU3RyaW5nJyxcbiAgJ3ZhbHVlT2YnXG5dO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMuanNcbi8vIG1vZHVsZSBpZCA9IDExOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBpbnRlcm5hbE9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG5cbi8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3Qta2V5cyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyIHRlc3QgPSB7fTtcblxudGVzdFtUT19TVFJJTkdfVEFHXSA9ICd6JztcblxubW9kdWxlLmV4cG9ydHMgPSBTdHJpbmcodGVzdCkgPT09ICdbb2JqZWN0IHpdJztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdG8tc3RyaW5nLXRhZy1zdXBwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIHN0b3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IHVuY3VycnlUaGlzKEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKCFpc0NhbGxhYmxlKHN0b3JlLmluc3BlY3RTb3VyY2UpKSB7XG4gIHN0b3JlLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZyhpdCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmUuaW5zcGVjdFNvdXJjZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UuanNcbi8vIG1vZHVsZSBpZCA9IDEyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIE5hbWVkIEV4cG9ydHNcbi8vID09PT09PT09PT09PT1cblxuLy8gICAgIFVuZGVyc2NvcmUuanMgMS4xMi4xXG4vLyAgICAgaHR0cHM6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAyMCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbi8vIEJhc2VsaW5lIHNldHVwLlxuZXhwb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4vX3NldHVwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcmVzdEFyZ3VtZW50cyB9IGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5cbi8vIE9iamVjdCBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS1cbi8vIE91ciBtb3N0IGZ1bmRhbWVudGFsIGZ1bmN0aW9ucyBvcGVyYXRlIG9uIGFueSBKYXZhU2NyaXB0IG9iamVjdC5cbi8vIE1vc3QgZnVuY3Rpb25zIGluIFVuZGVyc2NvcmUgZGVwZW5kIG9uIGF0IGxlYXN0IG9uZSBmdW5jdGlvbiBpbiB0aGlzIHNlY3Rpb24uXG5cbi8vIEEgZ3JvdXAgb2YgZnVuY3Rpb25zIHRoYXQgY2hlY2sgdGhlIHR5cGVzIG9mIGNvcmUgSmF2YVNjcmlwdCB2YWx1ZXMuXG4vLyBUaGVzZSBhcmUgb2Z0ZW4gaW5mb3JtYWxseSByZWZlcnJlZCB0byBhcyB0aGUgXCJpc1R5cGVcIiBmdW5jdGlvbnMuXG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzT2JqZWN0IH0gZnJvbSAnLi9pc09iamVjdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzTnVsbCB9IGZyb20gJy4vaXNOdWxsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNVbmRlZmluZWQgfSBmcm9tICcuL2lzVW5kZWZpbmVkLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNCb29sZWFuIH0gZnJvbSAnLi9pc0Jvb2xlYW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc0VsZW1lbnQgfSBmcm9tICcuL2lzRWxlbWVudC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzU3RyaW5nIH0gZnJvbSAnLi9pc1N0cmluZy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzTnVtYmVyIH0gZnJvbSAnLi9pc051bWJlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzRGF0ZSB9IGZyb20gJy4vaXNEYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNSZWdFeHAgfSBmcm9tICcuL2lzUmVnRXhwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNFcnJvciB9IGZyb20gJy4vaXNFcnJvci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzU3ltYm9sIH0gZnJvbSAnLi9pc1N5bWJvbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzQXJyYXlCdWZmZXIgfSBmcm9tICcuL2lzQXJyYXlCdWZmZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc0RhdGFWaWV3IH0gZnJvbSAnLi9pc0RhdGFWaWV3LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNBcnJheSB9IGZyb20gJy4vaXNBcnJheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc0FyZ3VtZW50cyB9IGZyb20gJy4vaXNBcmd1bWVudHMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc0Zpbml0ZSB9IGZyb20gJy4vaXNGaW5pdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc05hTiB9IGZyb20gJy4vaXNOYU4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc1R5cGVkQXJyYXkgfSBmcm9tICcuL2lzVHlwZWRBcnJheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzRW1wdHkgfSBmcm9tICcuL2lzRW1wdHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc01hdGNoIH0gZnJvbSAnLi9pc01hdGNoLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNFcXVhbCB9IGZyb20gJy4vaXNFcXVhbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzTWFwIH0gZnJvbSAnLi9pc01hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGlzV2Vha01hcCB9IGZyb20gJy4vaXNXZWFrTWFwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNTZXQgfSBmcm9tICcuL2lzU2V0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNXZWFrU2V0IH0gZnJvbSAnLi9pc1dlYWtTZXQuanMnO1xuXG4vLyBGdW5jdGlvbnMgdGhhdCB0cmVhdCBhbiBvYmplY3QgYXMgYSBkaWN0aW9uYXJ5IG9mIGtleS12YWx1ZSBwYWlycy5cbmV4cG9ydCB7IGRlZmF1bHQgYXMga2V5cyB9IGZyb20gJy4va2V5cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFsbEtleXMgfSBmcm9tICcuL2FsbEtleXMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2YWx1ZXMgfSBmcm9tICcuL3ZhbHVlcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBhaXJzIH0gZnJvbSAnLi9wYWlycy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGludmVydCB9IGZyb20gJy4vaW52ZXJ0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZnVuY3Rpb25zLFxuICAgICAgICAgZGVmYXVsdCBhcyBtZXRob2RzICAgfSBmcm9tICcuL2Z1bmN0aW9ucy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGV4dGVuZCB9IGZyb20gJy4vZXh0ZW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZXh0ZW5kT3duLFxuICAgICAgICAgZGVmYXVsdCBhcyBhc3NpZ24gICAgfSBmcm9tICcuL2V4dGVuZE93bi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZSB9IGZyb20gJy4vY3JlYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY2xvbmUgfSBmcm9tICcuL2Nsb25lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdGFwIH0gZnJvbSAnLi90YXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBnZXQgfSBmcm9tICcuL2dldC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGhhcyB9IGZyb20gJy4vaGFzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWFwT2JqZWN0IH0gZnJvbSAnLi9tYXBPYmplY3QuanMnO1xuXG4vLyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEEgYml0IG9mIGEgZ3JhYiBiYWc6IFByZWRpY2F0ZS1nZW5lcmF0aW5nIGZ1bmN0aW9ucyBmb3IgdXNlIHdpdGggZmlsdGVycyBhbmRcbi8vIGxvb3BzLCBzdHJpbmcgZXNjYXBpbmcgYW5kIHRlbXBsYXRpbmcsIGNyZWF0ZSByYW5kb20gbnVtYmVycyBhbmQgdW5pcXVlIGlkcyxcbi8vIGFuZCBmdW5jdGlvbnMgdGhhdCBmYWNpbGl0YXRlIFVuZGVyc2NvcmUncyBjaGFpbmluZyBhbmQgaXRlcmF0aW9uIGNvbnZlbnRpb25zLlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjb25zdGFudCB9IGZyb20gJy4vY29uc3RhbnQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBub29wIH0gZnJvbSAnLi9ub29wLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdG9QYXRoIH0gZnJvbSAnLi90b1BhdGguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwcm9wZXJ0eSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwcm9wZXJ0eU9mIH0gZnJvbSAnLi9wcm9wZXJ0eU9mLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWF0Y2hlcixcbiAgICAgICAgIGRlZmF1bHQgYXMgbWF0Y2hlcyB9IGZyb20gJy4vbWF0Y2hlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRpbWVzIH0gZnJvbSAnLi90aW1lcy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJhbmRvbSB9IGZyb20gJy4vcmFuZG9tLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbm93IH0gZnJvbSAnLi9ub3cuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlc2NhcGUgfSBmcm9tICcuL2VzY2FwZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRlbXBsYXRlU2V0dGluZ3MgfSBmcm9tICcuL3RlbXBsYXRlU2V0dGluZ3MuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0ZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyByZXN1bHQgfSBmcm9tICcuL3Jlc3VsdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuaXF1ZUlkIH0gZnJvbSAnLi91bmlxdWVJZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNoYWluIH0gZnJvbSAnLi9jaGFpbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGl0ZXJhdGVlIH0gZnJvbSAnLi9pdGVyYXRlZS5qcyc7XG5cbi8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoZXNlIGZ1bmN0aW9ucyB0YWtlIGEgZnVuY3Rpb24gYXMgYW4gYXJndW1lbnQgYW5kIHJldHVybiBhIG5ldyBmdW5jdGlvblxuLy8gYXMgdGhlIHJlc3VsdC4gQWxzbyBrbm93biBhcyBoaWdoZXItb3JkZXIgZnVuY3Rpb25zLlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJ0aWFsIH0gZnJvbSAnLi9wYXJ0aWFsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmluZCB9IGZyb20gJy4vYmluZC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGJpbmRBbGwgfSBmcm9tICcuL2JpbmRBbGwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBtZW1vaXplIH0gZnJvbSAnLi9tZW1vaXplLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVsYXkgfSBmcm9tICcuL2RlbGF5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVmZXIgfSBmcm9tICcuL2RlZmVyLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdGhyb3R0bGUgfSBmcm9tICcuL3Rocm90dGxlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVib3VuY2UgfSBmcm9tICcuL2RlYm91bmNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgd3JhcCB9IGZyb20gJy4vd3JhcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG5lZ2F0ZSB9IGZyb20gJy4vbmVnYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY29tcG9zZSB9IGZyb20gJy4vY29tcG9zZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFmdGVyIH0gZnJvbSAnLi9hZnRlci5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGJlZm9yZSB9IGZyb20gJy4vYmVmb3JlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgb25jZSB9IGZyb20gJy4vb25jZS5qcyc7XG5cbi8vIEZpbmRlcnNcbi8vIC0tLS0tLS1cbi8vIEZ1bmN0aW9ucyB0aGF0IGV4dHJhY3QgKHRoZSBwb3NpdGlvbiBvZikgYSBzaW5nbGUgZWxlbWVudCBmcm9tIGFuIG9iamVjdFxuLy8gb3IgYXJyYXkgYmFzZWQgb24gc29tZSBjcml0ZXJpb24uXG5leHBvcnQgeyBkZWZhdWx0IGFzIGZpbmRLZXkgfSBmcm9tICcuL2ZpbmRLZXkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmaW5kSW5kZXggfSBmcm9tICcuL2ZpbmRJbmRleC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZpbmRMYXN0SW5kZXggfSBmcm9tICcuL2ZpbmRMYXN0SW5kZXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzb3J0ZWRJbmRleCB9IGZyb20gJy4vc29ydGVkSW5kZXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpbmRleE9mIH0gZnJvbSAnLi9pbmRleE9mLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbGFzdEluZGV4T2YgfSBmcm9tICcuL2xhc3RJbmRleE9mLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmluZCxcbiAgICAgICAgIGRlZmF1bHQgYXMgZGV0ZWN0IH0gZnJvbSAnLi9maW5kLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmluZFdoZXJlIH0gZnJvbSAnLi9maW5kV2hlcmUuanMnO1xuXG4vLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZ1bmN0aW9ucyB0aGF0IHdvcmsgb24gYW55IGNvbGxlY3Rpb24gb2YgZWxlbWVudHM6IGVpdGhlciBhbiBhcnJheSwgb3Jcbi8vIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMuXG5leHBvcnQgeyBkZWZhdWx0IGFzIGVhY2gsXG4gICAgICAgICBkZWZhdWx0IGFzIGZvckVhY2ggfSBmcm9tICcuL2VhY2guanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBtYXAsXG4gICAgICAgICBkZWZhdWx0IGFzIGNvbGxlY3QgfSBmcm9tICcuL21hcC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJlZHVjZSxcbiAgICAgICAgIGRlZmF1bHQgYXMgZm9sZGwsXG4gICAgICAgICBkZWZhdWx0IGFzIGluamVjdCB9IGZyb20gJy4vcmVkdWNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcmVkdWNlUmlnaHQsXG4gICAgICAgICBkZWZhdWx0IGFzIGZvbGRyICAgICAgIH0gZnJvbSAnLi9yZWR1Y2VSaWdodC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZpbHRlcixcbiAgICAgICAgIGRlZmF1bHQgYXMgc2VsZWN0IH0gZnJvbSAnLi9maWx0ZXIuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyByZWplY3QgfSBmcm9tICcuL3JlamVjdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGV2ZXJ5LFxuICAgICAgICAgZGVmYXVsdCBhcyBhbGwgICB9IGZyb20gJy4vZXZlcnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzb21lLFxuICAgICAgICAgZGVmYXVsdCBhcyBhbnkgIH0gZnJvbSAnLi9zb21lLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY29udGFpbnMsXG4gICAgICAgICBkZWZhdWx0IGFzIGluY2x1ZGVzLFxuICAgICAgICAgZGVmYXVsdCBhcyBpbmNsdWRlICB9IGZyb20gJy4vY29udGFpbnMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpbnZva2UgfSBmcm9tICcuL2ludm9rZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBsdWNrIH0gZnJvbSAnLi9wbHVjay5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHdoZXJlIH0gZnJvbSAnLi93aGVyZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG1heCB9IGZyb20gJy4vbWF4LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWluIH0gZnJvbSAnLi9taW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzaHVmZmxlIH0gZnJvbSAnLi9zaHVmZmxlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2FtcGxlIH0gZnJvbSAnLi9zYW1wbGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzb3J0QnkgfSBmcm9tICcuL3NvcnRCeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGdyb3VwQnkgfSBmcm9tICcuL2dyb3VwQnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpbmRleEJ5IH0gZnJvbSAnLi9pbmRleEJ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY291bnRCeSB9IGZyb20gJy4vY291bnRCeS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBhcnRpdGlvbiB9IGZyb20gJy4vcGFydGl0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdG9BcnJheSB9IGZyb20gJy4vdG9BcnJheS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHNpemUgfSBmcm9tICcuL3NpemUuanMnO1xuXG4vLyBgXy5waWNrYCBhbmQgYF8ub21pdGAgYXJlIGFjdHVhbGx5IG9iamVjdCBmdW5jdGlvbnMsIGJ1dCB3ZSBwdXRcbi8vIHRoZW0gaGVyZSBpbiBvcmRlciB0byBjcmVhdGUgYSBtb3JlIG5hdHVyYWwgcmVhZGluZyBvcmRlciBpbiB0aGVcbi8vIG1vbm9saXRoaWMgYnVpbGQgYXMgdGhleSBkZXBlbmQgb24gYF8uY29udGFpbnNgLlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBwaWNrIH0gZnJvbSAnLi9waWNrLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgb21pdCB9IGZyb20gJy4vb21pdC5qcyc7XG5cbi8vIEFycmF5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tXG4vLyBGdW5jdGlvbnMgdGhhdCBvcGVyYXRlIG9uIGFycmF5cyAoYW5kIGFycmF5LWxpa2VzKSBvbmx5LCBiZWNhdXNlIHRoZXnigJlyZVxuLy8gZXhwcmVzc2VkIGluIHRlcm1zIG9mIG9wZXJhdGlvbnMgb24gYW4gb3JkZXJlZCBsaXN0IG9mIHZhbHVlcy5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmlyc3QsXG4gICAgICAgICBkZWZhdWx0IGFzIGhlYWQsXG4gICAgICAgICBkZWZhdWx0IGFzIHRha2UgIH0gZnJvbSAnLi9maXJzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGluaXRpYWwgfSBmcm9tICcuL2luaXRpYWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBsYXN0IH0gZnJvbSAnLi9sYXN0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcmVzdCxcbiAgICAgICAgIGRlZmF1bHQgYXMgdGFpbCxcbiAgICAgICAgIGRlZmF1bHQgYXMgZHJvcCB9IGZyb20gJy4vcmVzdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNvbXBhY3QgfSBmcm9tICcuL2NvbXBhY3QuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmbGF0dGVuIH0gZnJvbSAnLi9mbGF0dGVuLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgd2l0aG91dCB9IGZyb20gJy4vd2l0aG91dC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuaXEsXG4gICAgICAgICBkZWZhdWx0IGFzIHVuaXF1ZSB9IGZyb20gJy4vdW5pcS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuaW9uIH0gZnJvbSAnLi91bmlvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGludGVyc2VjdGlvbiB9IGZyb20gJy4vaW50ZXJzZWN0aW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGlmZmVyZW5jZSB9IGZyb20gJy4vZGlmZmVyZW5jZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVuemlwLFxuICAgICAgICAgZGVmYXVsdCBhcyB0cmFuc3Bvc2UgfSBmcm9tICcuL3VuemlwLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgemlwIH0gZnJvbSAnLi96aXAuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvYmplY3QgfSBmcm9tICcuL29iamVjdC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHJhbmdlIH0gZnJvbSAnLi9yYW5nZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNodW5rIH0gZnJvbSAnLi9jaHVuay5qcyc7XG5cbi8vIE9PUFxuLy8gLS0tXG4vLyBUaGVzZSBtb2R1bGVzIHN1cHBvcnQgdGhlIFwib2JqZWN0LW9yaWVudGVkXCIgY2FsbGluZyBzdHlsZS4gU2VlIGFsc29cbi8vIGB1bmRlcnNjb3JlLmpzYCBhbmQgYGluZGV4LWRlZmF1bHQuanNgLlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBtaXhpbiB9IGZyb20gJy4vbWl4aW4uanMnO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vdW5kZXJzY29yZS1hcnJheS1tZXRob2RzLmpzJztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHRhZ1Rlc3RlciBmcm9tICcuL190YWdUZXN0ZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB0YWdUZXN0ZXIoJ1N0cmluZycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzU3RyaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdGFnVGVzdGVyIGZyb20gJy4vX3RhZ1Rlc3Rlci5qcyc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuL2lzRnVuY3Rpb24uanMnO1xuaW1wb3J0IGlzQXJyYXlCdWZmZXIgZnJvbSAnLi9pc0FycmF5QnVmZmVyLmpzJztcbmltcG9ydCB7IGhhc1N0cmluZ1RhZ0J1ZyB9IGZyb20gJy4vX3N0cmluZ1RhZ0J1Zy5qcyc7XG5cbnZhciBpc0RhdGFWaWV3ID0gdGFnVGVzdGVyKCdEYXRhVmlldycpO1xuXG4vLyBJbiBJRSAxMCAtIEVkZ2UgMTMsIHdlIG5lZWQgYSBkaWZmZXJlbnQgaGV1cmlzdGljXG4vLyB0byBkZXRlcm1pbmUgd2hldGhlciBhbiBvYmplY3QgaXMgYSBgRGF0YVZpZXdgLlxuZnVuY3Rpb24gaWUxMElzRGF0YVZpZXcob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiBpc0Z1bmN0aW9uKG9iai5nZXRJbnQ4KSAmJiBpc0FycmF5QnVmZmVyKG9iai5idWZmZXIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCAoaGFzU3RyaW5nVGFnQnVnID8gaWUxMElzRGF0YVZpZXcgOiBpc0RhdGFWaWV3KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0RhdGFWaWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdGFnVGVzdGVyIGZyb20gJy4vX3RhZ1Rlc3Rlci5qcyc7XG5pbXBvcnQgaGFzIGZyb20gJy4vX2hhcy5qcyc7XG5cbnZhciBpc0FyZ3VtZW50cyA9IHRhZ1Rlc3RlcignQXJndW1lbnRzJyk7XG5cbi8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUgPCA5KSwgd2hlcmVcbi8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4oZnVuY3Rpb24oKSB7XG4gIGlmICghaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIGlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cbn0oKSk7XG5cbmV4cG9ydCBkZWZhdWx0IGlzQXJndW1lbnRzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzQXJndW1lbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgc2hhbGxvd1Byb3BlcnR5IGZyb20gJy4vX3NoYWxsb3dQcm9wZXJ0eS5qcyc7XG5cbi8vIEludGVybmFsIGhlbHBlciB0byBvYnRhaW4gdGhlIGBieXRlTGVuZ3RoYCBwcm9wZXJ0eSBvZiBhbiBvYmplY3QuXG5leHBvcnQgZGVmYXVsdCBzaGFsbG93UHJvcGVydHkoJ2J5dGVMZW5ndGgnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZ2V0Qnl0ZUxlbmd0aC5qc1xuLy8gbW9kdWxlIGlkID0gMTI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGdldExlbmd0aCBmcm9tICcuL19nZXRMZW5ndGguanMnO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcbmltcG9ydCBhbGxLZXlzIGZyb20gJy4vYWxsS2V5cy5qcyc7XG5cbi8vIFNpbmNlIHRoZSByZWd1bGFyIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYCB0eXBlIHRlc3RzIGRvbid0IHdvcmsgZm9yXG4vLyBzb21lIHR5cGVzIGluIElFIDExLCB3ZSB1c2UgYSBmaW5nZXJwcmludGluZyBoZXVyaXN0aWMgaW5zdGVhZCwgYmFzZWRcbi8vIG9uIHRoZSBtZXRob2RzLiBJdCdzIG5vdCBncmVhdCwgYnV0IGl0J3MgdGhlIGJlc3Qgd2UgZ290LlxuLy8gVGhlIGZpbmdlcnByaW50IG1ldGhvZCBsaXN0cyBhcmUgZGVmaW5lZCBiZWxvdy5cbmV4cG9ydCBmdW5jdGlvbiBpZTExZmluZ2VycHJpbnQobWV0aG9kcykge1xuICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKG1ldGhvZHMpO1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYE1hcGAsIGBXZWFrTWFwYCBhbmQgYFNldGAgaGF2ZSBubyBlbnVtZXJhYmxlIGtleXMuXG4gICAgdmFyIGtleXMgPSBhbGxLZXlzKG9iaik7XG4gICAgaWYgKGdldExlbmd0aChrZXlzKSkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihvYmpbbWV0aG9kc1tpXV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIElmIHdlIGFyZSB0ZXN0aW5nIGFnYWluc3QgYFdlYWtNYXBgLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0XG4gICAgLy8gYG9iamAgZG9lc24ndCBoYXZlIGEgYGZvckVhY2hgIG1ldGhvZCBpbiBvcmRlciB0byBkaXN0aW5ndWlzaFxuICAgIC8vIGl0IGZyb20gYSByZWd1bGFyIGBNYXBgLlxuICAgIHJldHVybiBtZXRob2RzICE9PSB3ZWFrTWFwTWV0aG9kcyB8fCAhaXNGdW5jdGlvbihvYmpbZm9yRWFjaE5hbWVdKTtcbiAgfTtcbn1cblxuLy8gSW4gdGhlIGludGVyZXN0IG9mIGNvbXBhY3QgbWluaWZpY2F0aW9uLCB3ZSB3cml0ZVxuLy8gZWFjaCBzdHJpbmcgaW4gdGhlIGZpbmdlcnByaW50cyBvbmx5IG9uY2UuXG52YXIgZm9yRWFjaE5hbWUgPSAnZm9yRWFjaCcsXG4gICAgaGFzTmFtZSA9ICdoYXMnLFxuICAgIGNvbW1vbkluaXQgPSBbJ2NsZWFyJywgJ2RlbGV0ZSddLFxuICAgIG1hcFRhaWwgPSBbJ2dldCcsIGhhc05hbWUsICdzZXQnXTtcblxuLy8gYE1hcGAsIGBXZWFrTWFwYCBhbmQgYFNldGAgZWFjaCBoYXZlIHNsaWdodGx5IGRpZmZlcmVudFxuLy8gY29tYmluYXRpb25zIG9mIHRoZSBhYm92ZSBzdWJsaXN0cy5cbmV4cG9ydCB2YXIgbWFwTWV0aG9kcyA9IGNvbW1vbkluaXQuY29uY2F0KGZvckVhY2hOYW1lLCBtYXBUYWlsKSxcbiAgICB3ZWFrTWFwTWV0aG9kcyA9IGNvbW1vbkluaXQuY29uY2F0KG1hcFRhaWwpLFxuICAgIHNldE1ldGhvZHMgPSBbJ2FkZCddLmNvbmNhdChjb21tb25Jbml0LCBmb3JFYWNoTmFtZSwgaGFzTmFtZSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX21ldGhvZEZpbmdlcnByaW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoa2V5c0Z1bmMsIGRlZmF1bHRzKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAoZGVmYXVsdHMpIG9iaiA9IE9iamVjdChvYmopO1xuICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgIGtleXMgPSBrZXlzRnVuYyhzb3VyY2UpLFxuICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICBpZiAoIWRlZmF1bHRzIHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZUFzc2lnbmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlQXNzaWduZXIgZnJvbSAnLi9fY3JlYXRlQXNzaWduZXIuanMnO1xuaW1wb3J0IGtleXMgZnJvbSAnLi9rZXlzLmpzJztcblxuLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pblxuLy8gb2JqZWN0KHMpLlxuLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVBc3NpZ25lcihrZXlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9leHRlbmRPd24uanNcbi8vIG1vZHVsZSBpZCA9IDEzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIEludGVybmFsIGZ1bmN0aW9uIHRvIG9idGFpbiBhIG5lc3RlZCBwcm9wZXJ0eSBpbiBgb2JqYCBhbG9uZyBgcGF0aGAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWVwR2V0KG9iaiwgcGF0aCkge1xuICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICB9XG4gIHJldHVybiBsZW5ndGggPyBvYmogOiB2b2lkIDA7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2RlZXBHZXQuanNcbi8vIG1vZHVsZSBpZCA9IDEzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaWRlbnRpdHkuanNcbi8vIG1vZHVsZSBpZCA9IDEzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBkZWVwR2V0IGZyb20gJy4vX2RlZXBHZXQuanMnO1xuaW1wb3J0IHRvUGF0aCBmcm9tICcuL190b1BhdGguanMnO1xuXG4vLyBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBwYXNzZWQgYW4gb2JqZWN0LCB3aWxsIHRyYXZlcnNlIHRoYXQgb2JqZWN04oCZc1xuLy8gcHJvcGVydGllcyBkb3duIHRoZSBnaXZlbiBgcGF0aGAsIHNwZWNpZmllZCBhcyBhbiBhcnJheSBvZiBrZXlzIG9yIGluZGljZXMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gIHBhdGggPSB0b1BhdGgocGF0aCk7XG4gIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gZGVlcEdldChvYmosIHBhdGgpO1xuICB9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3Byb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG5leHBvcnQgZGVmYXVsdCBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9ub3cuanNcbi8vIG1vZHVsZSBpZCA9IDEzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFJldHVybnMgYSBuZWdhdGVkIHZlcnNpb24gb2YgdGhlIHBhc3NlZC1pbiBwcmVkaWNhdGUuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL25lZ2F0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMTM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyIGZyb20gJy4vX2NyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyLmpzJztcblxuLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHRydXRoIHRlc3QuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9maW5kSW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBtYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHByb3BlcnR5IGZyb20gJy4vcHJvcGVydHkuanMnO1xuXG4vLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBfLm1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwbHVjayhvYmosIGtleSkge1xuICByZXR1cm4gbWFwKG9iaiwgcHJvcGVydHkoa2V5KSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGx1Y2suanNcbi8vIG1vZHVsZSBpZCA9IDEzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSwgYXJndW1lbnQpIHtcbiAgdmFyIG1ldGhvZCA9IFtdW01FVEhPRF9OQU1FXTtcbiAgcmV0dXJuICEhbWV0aG9kICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jYWxsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgbWV0aG9kLmNhbGwobnVsbCwgYXJndW1lbnQgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gMTsgfSwgMSk7XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdC5qc1xuLy8gbW9kdWxlIGlkID0gMTM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gMTQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIF9TeW1ib2wgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiAobW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBfU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIF9TeW1ib2wkaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIF9TeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfU3ltYm9sICYmIG9iaiAhPT0gX1N5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzKSwgX3R5cGVvZihvYmopO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvdHlwZW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbmV4cG9ydHMuZiA9IHdlbGxLbm93blN5bWJvbDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZC5qc1xuLy8gbW9kdWxlIGlkID0gMTQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IDE0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAhJHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAxOiAyIH0sIDEpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcbmV4cG9ydHMuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBWKTtcbiAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG59IDogJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9vYmplY3QtcHJvcGVydHktaXMtZW51bWVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMTQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyogZXNsaW50LWRpc2FibGUgZXMteC9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciBOQVRJVkVfU1lNQk9MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfU1lNQk9MXG4gICYmICFTeW1ib2wuc2hhbVxuICAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qc1xuLy8gbW9kdWxlIGlkID0gMTQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG5cbi8vIFRoYW5rcyB0byBJRTggZm9yIGl0cyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhREVTQ1JJUFRPUlMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUuanNcbi8vIG1vZHVsZSBpZCA9IDE0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcblxudmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxudmFyIGlzRm9yY2VkID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gIHJldHVybiB2YWx1ZSA9PSBQT0xZRklMTCA/IHRydWVcbiAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgOiBpc0NhbGxhYmxlKGRldGVjdGlvbikgPyBmYWlscyhkZXRlY3Rpb24pXG4gICAgOiAhIWRldGVjdGlvbjtcbn07XG5cbnZhciBub3JtYWxpemUgPSBpc0ZvcmNlZC5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlcGxhY2VtZW50LCAnLicpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgZGF0YSA9IGlzRm9yY2VkLmRhdGEgPSB7fTtcbnZhciBOQVRJVkUgPSBpc0ZvcmNlZC5OQVRJVkUgPSAnTic7XG52YXIgUE9MWUZJTEwgPSBpc0ZvcmNlZC5QT0xZRklMTCA9ICdQJztcblxubW9kdWxlLmV4cG9ydHMgPSBpc0ZvcmNlZDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtZm9yY2VkLmpzXG4vLyBtb2R1bGUgaWQgPSAxNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBWOCB+IENocm9tZSAzNi1cbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMzMzRcbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdwcm90b3R5cGUnLCB7XG4gICAgdmFsdWU6IDQyLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KS5wcm90b3R5cGUgIT0gNDI7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdjgtcHJvdG90eXBlLWRlZmluZS1idWcuanNcbi8vIG1vZHVsZSBpZCA9IDE0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEYoKSB7IC8qIGVtcHR5ICovIH1cbiAgRi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBudWxsO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1vYmplY3QtZ2V0cHJvdG90eXBlb2YgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgRigpKSAhPT0gRi5wcm90b3R5cGU7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY29ycmVjdC1wcm90b3R5cGUtZ2V0dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBpbmRleE9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzJykuaW5kZXhPZjtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG5cbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pICFoYXNPd24oaGlkZGVuS2V5cywga2V5KSAmJiBoYXNPd24oTywga2V5KSAmJiBwdXNoKHJlc3VsdCwga2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhc093bihPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCBwdXNoKHJlc3VsdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbi8vIG1vZHVsZSBpZCA9IDE1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Y4LXByb3RvdHlwZS1kZWZpbmUtYnVnJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0aWVzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTICYmICFWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIgcHJvcHMgPSB0b0luZGV4ZWRPYmplY3QoUHJvcGVydGllcyk7XG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYoTywga2V5ID0ga2V5c1tpbmRleCsrXSwgcHJvcHNba2V5XSk7XG4gIHJldHVybiBPO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdkb2N1bWVudCcsICdkb2N1bWVudEVsZW1lbnQnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaHRtbC5qc1xuLy8gbW9kdWxlIGlkID0gMTUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvdHlwZVtJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2lzLWFycmF5LWl0ZXJhdG9yLW1ldGhvZC5qc1xuLy8gbW9kdWxlIGlkID0gMTU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xudmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvci1tZXRob2QnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50LCB1c2luZ0l0ZXJhdG9yKSB7XG4gIHZhciBpdGVyYXRvck1ldGhvZCA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0SXRlcmF0b3JNZXRob2QoYXJndW1lbnQpIDogdXNpbmdJdGVyYXRvcjtcbiAgaWYgKGFDYWxsYWJsZShpdGVyYXRvck1ldGhvZCkpIHJldHVybiBhbk9iamVjdChjYWxsKGl0ZXJhdG9yTWV0aG9kLCBhcmd1bWVudCkpO1xuICB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGl0ZXJhYmxlJyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9nZXQtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDE1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwga2luZCwgdmFsdWUpIHtcbiAgdmFyIGlubmVyUmVzdWx0LCBpbm5lckVycm9yO1xuICBhbk9iamVjdChpdGVyYXRvcik7XG4gIHRyeSB7XG4gICAgaW5uZXJSZXN1bHQgPSBnZXRNZXRob2QoaXRlcmF0b3IsICdyZXR1cm4nKTtcbiAgICBpZiAoIWlubmVyUmVzdWx0KSB7XG4gICAgICBpZiAoa2luZCA9PT0gJ3Rocm93JykgdGhyb3cgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlubmVyUmVzdWx0ID0gY2FsbChpbm5lclJlc3VsdCwgaXRlcmF0b3IpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlubmVyRXJyb3IgPSB0cnVlO1xuICAgIGlubmVyUmVzdWx0ID0gZXJyb3I7XG4gIH1cbiAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICBpZiAoaW5uZXJFcnJvcikgdGhyb3cgaW5uZXJSZXN1bHQ7XG4gIGFuT2JqZWN0KGlubmVyUmVzdWx0KTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXRlcmF0b3ItY2xvc2UuanNcbi8vIG1vZHVsZSBpZCA9IDE1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIEZ1bmN0aW9uTmFtZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLWl0ZXJhdG9yLWNvbnN0cnVjdG9yJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YnKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xudmFyIEl0ZXJhdG9yc0NvcmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUnKTtcblxudmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gRnVuY3Rpb25OYW1lLlBST1BFUjtcbnZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IEZ1bmN0aW9uTmFtZS5DT05GSUdVUkFCTEU7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSBJdGVyYXRvcnNDb3JlLkl0ZXJhdG9yUHJvdG90eXBlO1xudmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSBJdGVyYXRvcnNDb3JlLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlM7XG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcbnZhciBFTlRSSUVTID0gJ2VudHJpZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEl0ZXJhYmxlLCBOQU1FLCBJdGVyYXRvckNvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXG4gIHZhciBnZXRJdGVyYXRpb25NZXRob2QgPSBmdW5jdGlvbiAoS0lORCkge1xuICAgIGlmIChLSU5EID09PSBERUZBVUxUICYmIGRlZmF1bHRJdGVyYXRvcikgcmV0dXJuIGRlZmF1bHRJdGVyYXRvcjtcbiAgICBpZiAoIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgS0lORCBpbiBJdGVyYWJsZVByb3RvdHlwZSkgcmV0dXJuIEl0ZXJhYmxlUHJvdG90eXBlW0tJTkRdO1xuICAgIHN3aXRjaCAoS0lORCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMsIEtJTkQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgRU5UUklFUzogcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzKTsgfTtcbiAgfTtcblxuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IGZhbHNlO1xuICB2YXIgSXRlcmFibGVQcm90b3R5cGUgPSBJdGVyYWJsZS5wcm90b3R5cGU7XG4gIHZhciBuYXRpdmVJdGVyYXRvciA9IEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SXVxuICAgIHx8IEl0ZXJhYmxlUHJvdG90eXBlWydAQGl0ZXJhdG9yJ11cbiAgICB8fCBERUZBVUxUICYmIEl0ZXJhYmxlUHJvdG90eXBlW0RFRkFVTFRdO1xuICB2YXIgZGVmYXVsdEl0ZXJhdG9yID0gIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgbmF0aXZlSXRlcmF0b3IgfHwgZ2V0SXRlcmF0aW9uTWV0aG9kKERFRkFVTFQpO1xuICB2YXIgYW55TmF0aXZlSXRlcmF0b3IgPSBOQU1FID09ICdBcnJheScgPyBJdGVyYWJsZVByb3RvdHlwZS5lbnRyaWVzIHx8IG5hdGl2ZUl0ZXJhdG9yIDogbmF0aXZlSXRlcmF0b3I7XG4gIHZhciBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIG1ldGhvZHMsIEtFWTtcblxuICAvLyBmaXggbmF0aXZlXG4gIGlmIChhbnlOYXRpdmVJdGVyYXRvcikge1xuICAgIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKGFueU5hdGl2ZUl0ZXJhdG9yLmNhbGwobmV3IEl0ZXJhYmxlKCkpKTtcbiAgICBpZiAoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICBpZiAoIUlTX1BVUkUgJiYgZ2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlKSAhPT0gSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgc2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBJdGVyYXRvclByb3RvdHlwZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSkpIHtcbiAgICAgICAgICBkZWZpbmVCdWlsdEluKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIFRPX1NUUklOR19UQUcsIHRydWUsIHRydWUpO1xuICAgICAgaWYgKElTX1BVUkUpIEl0ZXJhdG9yc1tUT19TVFJJTkdfVEFHXSA9IHJldHVyblRoaXM7XG4gICAgfVxuICB9XG5cbiAgLy8gZml4IEFycmF5LnByb3RvdHlwZS57IHZhbHVlcywgQEBpdGVyYXRvciB9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoUFJPUEVSX0ZVTkNUSU9OX05BTUUgJiYgREVGQVVMVCA9PSBWQUxVRVMgJiYgbmF0aXZlSXRlcmF0b3IgJiYgbmF0aXZlSXRlcmF0b3IubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgaWYgKCFJU19QVVJFICYmIENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmFibGVQcm90b3R5cGUsICduYW1lJywgVkFMVUVTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gdHJ1ZTtcbiAgICAgIGRlZmF1bHRJdGVyYXRvciA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIGNhbGwobmF0aXZlSXRlcmF0b3IsIHRoaXMpOyB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIGV4cG9ydCBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBnZXRJdGVyYXRpb25NZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/IGRlZmF1bHRJdGVyYXRvciA6IGdldEl0ZXJhdGlvbk1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChFTlRSSUVTKVxuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChLRVkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIHx8ICEoS0VZIGluIEl0ZXJhYmxlUHJvdG90eXBlKSkge1xuICAgICAgICBkZWZpbmVCdWlsdEluKEl0ZXJhYmxlUHJvdG90eXBlLCBLRVksIG1ldGhvZHNbS0VZXSk7XG4gICAgICB9XG4gICAgfSBlbHNlICQoeyB0YXJnZXQ6IE5BTUUsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIH0sIG1ldGhvZHMpO1xuICB9XG5cbiAgLy8gZGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUlTX1BVUkUgfHwgRk9SQ0VEKSAmJiBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl0gIT09IGRlZmF1bHRJdGVyYXRvcikge1xuICAgIGRlZmluZUJ1aWx0SW4oSXRlcmFibGVQcm90b3R5cGUsIElURVJBVE9SLCBkZWZhdWx0SXRlcmF0b3IsIHsgbmFtZTogREVGQVVMVCB9KTtcbiAgfVxuICBJdGVyYXRvcnNbTkFNRV0gPSBkZWZhdWx0SXRlcmF0b3I7XG5cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDE1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy14L25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG52YXIgRVhJU1RTID0gaGFzT3duKEZ1bmN0aW9uUHJvdG90eXBlLCAnbmFtZScpO1xuLy8gYWRkaXRpb25hbCBwcm90ZWN0aW9uIGZyb20gbWluaWZpZWQgLyBtYW5nbGVkIC8gZHJvcHBlZCBmdW5jdGlvbiBuYW1lc1xudmFyIFBST1BFUiA9IEVYSVNUUyAmJiAoZnVuY3Rpb24gc29tZXRoaW5nKCkgeyAvKiBlbXB0eSAqLyB9KS5uYW1lID09PSAnc29tZXRoaW5nJztcbnZhciBDT05GSUdVUkFCTEUgPSBFWElTVFMgJiYgKCFERVNDUklQVE9SUyB8fCAoREVTQ1JJUFRPUlMgJiYgZ2V0RGVzY3JpcHRvcihGdW5jdGlvblByb3RvdHlwZSwgJ25hbWUnKS5jb25maWd1cmFibGUpKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEVYSVNUUzogRVhJU1RTLFxuICBQUk9QRVI6IFBST1BFUixcbiAgQ09ORklHVVJBQkxFOiBDT05GSUdVUkFCTEVcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2Z1bmN0aW9uLW5hbWUuanNcbi8vIG1vZHVsZSBpZCA9IDE1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSBmYWxzZTtcblxuLy8gYCVJdGVyYXRvclByb3RvdHlwZSVgIG9iamVjdFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0laXRlcmF0b3Jwcm90b3R5cGUlLW9iamVjdFxudmFyIEl0ZXJhdG9yUHJvdG90eXBlLCBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUsIGFycmF5SXRlcmF0b3I7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzLXgvbm8tYXJyYXktcHJvdG90eXBlLWtleXMgLS0gc2FmZSAqL1xuaWYgKFtdLmtleXMpIHtcbiAgYXJyYXlJdGVyYXRvciA9IFtdLmtleXMoKTtcbiAgLy8gU2FmYXJpIDggaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gIGlmICghKCduZXh0JyBpbiBhcnJheUl0ZXJhdG9yKSkgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyA9IHRydWU7XG4gIGVsc2Uge1xuICAgIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKGdldFByb3RvdHlwZU9mKGFycmF5SXRlcmF0b3IpKTtcbiAgICBpZiAoUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKSBJdGVyYXRvclByb3RvdHlwZSA9IFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxufVxuXG52YXIgTkVXX0lURVJBVE9SX1BST1RPVFlQRSA9IEl0ZXJhdG9yUHJvdG90eXBlID09IHVuZGVmaW5lZCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZXN0ID0ge307XG4gIC8vIEZGNDQtIGxlZ2FjeSBpdGVyYXRvcnMgY2FzZVxuICByZXR1cm4gSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdLmNhbGwodGVzdCkgIT09IHRlc3Q7XG59KTtcblxuaWYgKE5FV19JVEVSQVRPUl9QUk9UT1RZUEUpIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5lbHNlIGlmIChJU19QVVJFKSBJdGVyYXRvclByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG5cbi8vIGAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0laXRlcmF0b3Jwcm90b3R5cGUlLUBAaXRlcmF0b3JcbmlmICghaXNDYWxsYWJsZShJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0pKSB7XG4gIGRlZmluZUJ1aWx0SW4oSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgSXRlcmF0b3JQcm90b3R5cGU6IEl0ZXJhdG9yUHJvdG90eXBlLFxuICBCVUdHWV9TQUZBUklfSVRFUkFUT1JTOiBCVUdHWV9TQUZBUklfSVRFUkFUT1JTXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pdGVyYXRvcnMtY29yZS5qc1xuLy8gbW9kdWxlIGlkID0gMTU5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGFDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNvbnN0cnVjdG9yJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbi8vIGBTcGVjaWVzQ29uc3RydWN0b3JgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zcGVjaWVzY29uc3RydWN0b3Jcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIGRlZmF1bHRDb25zdHJ1Y3Rvcikge1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yO1xuICB2YXIgUztcbiAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA9PSB1bmRlZmluZWQgPyBkZWZhdWx0Q29uc3RydWN0b3IgOiBhQ29uc3RydWN0b3IoUyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zcGVjaWVzLWNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jb25zdHJ1Y3RvcicpO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IElzQ29uc3RydWN0b3IoYXJndW1lbnQpIGlzIHRydWVgXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhhcmd1bWVudCkgKyAnIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9hLWNvbnN0cnVjdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGFwcGx5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWFwcGx5Jyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaHRtbCcpO1xudmFyIGFycmF5U2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2UnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG52YXIgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdmFsaWRhdGUtYXJndW1lbnRzLWxlbmd0aCcpO1xudmFyIElTX0lPUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtaW9zJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgc2V0ID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbnZhciBjbGVhciA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgRGlzcGF0Y2ggPSBnbG9iYWwuRGlzcGF0Y2g7XG52YXIgRnVuY3Rpb24gPSBnbG9iYWwuRnVuY3Rpb247XG52YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG52YXIgU3RyaW5nID0gZ2xvYmFsLlN0cmluZztcbnZhciBjb3VudGVyID0gMDtcbnZhciBxdWV1ZSA9IHt9O1xudmFyIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xudmFyIGxvY2F0aW9uLCBkZWZlciwgY2hhbm5lbCwgcG9ydDtcblxudHJ5IHtcbiAgLy8gRGVubyB0aHJvd3MgYSBSZWZlcmVuY2VFcnJvciBvbiBgbG9jYXRpb25gIGFjY2VzcyB3aXRob3V0IGAtLWxvY2F0aW9uYCBmbGFnXG4gIGxvY2F0aW9uID0gZ2xvYmFsLmxvY2F0aW9uO1xufSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuXG52YXIgcnVuID0gZnVuY3Rpb24gKGlkKSB7XG4gIGlmIChoYXNPd24ocXVldWUsIGlkKSkge1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG5cbnZhciBydW5uZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBydW4oaWQpO1xuICB9O1xufTtcblxudmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHJ1bihldmVudC5kYXRhKTtcbn07XG5cbnZhciBwb3N0ID0gZnVuY3Rpb24gKGlkKSB7XG4gIC8vIG9sZCBlbmdpbmVzIGhhdmUgbm90IGxvY2F0aW9uLm9yaWdpblxuICBnbG9iYWwucG9zdE1lc3NhZ2UoU3RyaW5nKGlkKSwgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCk7XG59O1xuXG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldCB8fCAhY2xlYXIpIHtcbiAgc2V0ID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGhhbmRsZXIpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgZm4gPSBpc0NhbGxhYmxlKGhhbmRsZXIpID8gaGFuZGxlciA6IEZ1bmN0aW9uKGhhbmRsZXIpO1xuICAgIHZhciBhcmdzID0gYXJyYXlTbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBhcHBseShmbiwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhciA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmIChJU19OT0RFKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2socnVubmVyKGlkKSk7XG4gICAgfTtcbiAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gIH0gZWxzZSBpZiAoRGlzcGF0Y2ggJiYgRGlzcGF0Y2gubm93KSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIERpc3BhdGNoLm5vdyhydW5uZXIoaWQpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIC8vIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjI0XG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwgJiYgIUlTX0lPUykge1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gYmluZChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0KTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZiAoXG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiZcbiAgICBpc0NhbGxhYmxlKGdsb2JhbC5wb3N0TWVzc2FnZSkgJiZcbiAgICAhZ2xvYmFsLmltcG9ydFNjcmlwdHMgJiZcbiAgICBsb2NhdGlvbiAmJiBsb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2ZpbGU6JyAmJlxuICAgICFmYWlscyhwb3N0KVxuICApIHtcbiAgICBkZWZlciA9IHBvc3Q7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIHJ1bihpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHNldFRpbWVvdXQocnVubmVyKGlkKSwgMCk7XG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXQsXG4gIGNsZWFyOiBjbGVhclxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvdGFzay5qc1xuLy8gbW9kdWxlIGlkID0gMTYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KHVzZXJBZ2VudCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS1pcy1pb3MuanNcbi8vIG1vZHVsZSBpZCA9IDE2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3InKTtcbnZhciBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2hlY2stY29ycmVjdG5lc3Mtb2YtaXRlcmF0aW9uJyk7XG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKS5DT05TVFJVQ1RPUjtcblxubW9kdWxlLmV4cG9ydHMgPSBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiB8fCAhY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uKGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IuYWxsKGl0ZXJhYmxlKS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9wcm9taXNlLXN0YXRpY3MtaW5jb3JyZWN0LWl0ZXJhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMTY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciBjYWxsZWQgPSAwO1xuICB2YXIgaXRlcmF0b3JXaXRoUmV0dXJuID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGRvbmU6ICEhY2FsbGVkKysgfTtcbiAgICB9LFxuICAgICdyZXR1cm4nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBTQUZFX0NMT1NJTkcgPSB0cnVlO1xuICAgIH1cbiAgfTtcbiAgaXRlcmF0b3JXaXRoUmV0dXJuW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tYXJyYXktZnJvbSwgbm8tdGhyb3ctbGl0ZXJhbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBBcnJheS5mcm9tKGl0ZXJhdG9yV2l0aFJldHVybiwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgU0tJUF9DTE9TSU5HKSB7XG4gIGlmICghU0tJUF9DTE9TSU5HICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIElURVJBVElPTl9TVVBQT1JUID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogSVRFUkFUSU9OX1NVUFBPUlQgPSB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleGVjKG9iamVjdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIElURVJBVElPTl9TVVBQT1JUO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY2hlY2stY29ycmVjdG5lc3Mtb2YtaXRlcmF0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDLCB4KSB7XG4gIGFuT2JqZWN0KEMpO1xuICBpZiAoaXNPYmplY3QoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIHg7XG4gIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5LmYoQyk7XG4gIHZhciByZXNvbHZlID0gcHJvbWlzZUNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgcmVzb2x2ZSh4KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9wcm9taXNlLXJlc29sdmUuanNcbi8vIG1vZHVsZSBpZCA9IDE2NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHZvaWQgMDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc1VuZGVmaW5lZC5qc1xuLy8gbW9kdWxlIGlkID0gMTY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgdG9TdHJpbmcgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5cbi8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuP1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCb29sZWFuKG9iaikge1xuICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNCb29sZWFuLmpzXG4vLyBtb2R1bGUgaWQgPSAxNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdGFnVGVzdGVyIGZyb20gJy4vX3RhZ1Rlc3Rlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHRhZ1Rlc3RlcignTnVtYmVyJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNOdW1iZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB0YWdUZXN0ZXIgZnJvbSAnLi9fdGFnVGVzdGVyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgdGFnVGVzdGVyKCdTeW1ib2wnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc1N5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gMTcwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHRhZ1Rlc3RlciBmcm9tICcuL190YWdUZXN0ZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB0YWdUZXN0ZXIoJ0FycmF5QnVmZmVyJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNBcnJheUJ1ZmZlci5qc1xuLy8gbW9kdWxlIGlkID0gMTcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgX2lzTmFOIH0gZnJvbSAnLi9fc2V0dXAuanMnO1xuaW1wb3J0IGlzTnVtYmVyIGZyb20gJy4vaXNOdW1iZXIuanMnO1xuXG4vLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc05hTihvYmopIHtcbiAgcmV0dXJuIGlzTnVtYmVyKG9iaikgJiYgX2lzTmFOKG9iaik7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNOYU4uanNcbi8vIG1vZHVsZSBpZCA9IDE3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB7IHN1cHBvcnRzQXJyYXlCdWZmZXIsIG5hdGl2ZUlzVmlldywgdG9TdHJpbmcgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgaXNEYXRhVmlldyBmcm9tICcuL2lzRGF0YVZpZXcuanMnO1xuaW1wb3J0IGNvbnN0YW50IGZyb20gJy4vY29uc3RhbnQuanMnO1xuaW1wb3J0IGlzQnVmZmVyTGlrZSBmcm9tICcuL19pc0J1ZmZlckxpa2UuanMnO1xuXG4vLyBJcyBhIGdpdmVuIHZhbHVlIGEgdHlwZWQgYXJyYXk/XG52YXIgdHlwZWRBcnJheVBhdHRlcm4gPSAvXFxbb2JqZWN0ICgoSXxVaSludCg4fDE2fDMyKXxGbG9hdCgzMnw2NCl8VWludDhDbGFtcGVkfEJpZyhJfFVpKW50NjQpQXJyYXlcXF0vO1xuZnVuY3Rpb24gaXNUeXBlZEFycmF5KG9iaikge1xuICAvLyBgQXJyYXlCdWZmZXIuaXNWaWV3YCBpcyB0aGUgbW9zdCBmdXR1cmUtcHJvb2YsIHNvIHVzZSBpdCB3aGVuIGF2YWlsYWJsZS5cbiAgLy8gT3RoZXJ3aXNlLCBmYWxsIGJhY2sgb24gdGhlIGFib3ZlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgcmV0dXJuIG5hdGl2ZUlzVmlldyA/IChuYXRpdmVJc1ZpZXcob2JqKSAmJiAhaXNEYXRhVmlldyhvYmopKSA6XG4gICAgICAgICAgICAgICAgaXNCdWZmZXJMaWtlKG9iaikgJiYgdHlwZWRBcnJheVBhdHRlcm4udGVzdCh0b1N0cmluZy5jYWxsKG9iaikpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdXBwb3J0c0FycmF5QnVmZmVyID8gaXNUeXBlZEFycmF5IDogY29uc3RhbnQoZmFsc2UpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzVHlwZWRBcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gMTczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb24uIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2NvbnN0YW50LmpzXG4vLyBtb2R1bGUgaWQgPSAxNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgeyBNQVhfQVJSQVlfSU5ERVggfSBmcm9tICcuL19zZXR1cC5qcyc7XG5cbi8vIENvbW1vbiBpbnRlcm5hbCBsb2dpYyBmb3IgYGlzQXJyYXlMaWtlYCBhbmQgYGlzQnVmZmVyTGlrZWAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTaXplUHJvcGVydHlDaGVjayhnZXRTaXplUHJvcGVydHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgc2l6ZVByb3BlcnR5ID0gZ2V0U2l6ZVByb3BlcnR5KGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2Ygc2l6ZVByb3BlcnR5ID09ICdudW1iZXInICYmIHNpemVQcm9wZXJ0eSA+PSAwICYmIHNpemVQcm9wZXJ0eSA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fY3JlYXRlU2l6ZVByb3BlcnR5Q2hlY2suanNcbi8vIG1vZHVsZSBpZCA9IDE3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIEludGVybmFsIGhlbHBlciB0byBnZW5lcmF0ZSBhIGZ1bmN0aW9uIHRvIG9idGFpbiBwcm9wZXJ0eSBga2V5YCBmcm9tIGBvYmpgLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hhbGxvd1Byb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW2tleV07XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX3NoYWxsb3dQcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gMTc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgbm9uRW51bWVyYWJsZVByb3BzLCBPYmpQcm90byB9IGZyb20gJy4vX3NldHVwLmpzJztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXNGdW5jdGlvbi5qcyc7XG5pbXBvcnQgaGFzIGZyb20gJy4vX2hhcy5qcyc7XG5cbi8vIEludGVybmFsIGhlbHBlciB0byBjcmVhdGUgYSBzaW1wbGUgbG9va3VwIHN0cnVjdHVyZS5cbi8vIGBjb2xsZWN0Tm9uRW51bVByb3BzYCB1c2VkIHRvIGRlcGVuZCBvbiBgXy5jb250YWluc2AsIGJ1dCB0aGlzIGxlZCB0b1xuLy8gY2lyY3VsYXIgaW1wb3J0cy4gYGVtdWxhdGVkU2V0YCBpcyBhIG9uZS1vZmYgc29sdXRpb24gdGhhdCBvbmx5IHdvcmtzIGZvclxuLy8gYXJyYXlzIG9mIHN0cmluZ3MuXG5mdW5jdGlvbiBlbXVsYXRlZFNldChrZXlzKSB7XG4gIHZhciBoYXNoID0ge307XG4gIGZvciAodmFyIGwgPSBrZXlzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyArK2kpIGhhc2hba2V5c1tpXV0gPSB0cnVlO1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5zOiBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGhhc2hba2V5XTsgfSxcbiAgICBwdXNoOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGhhc2hba2V5XSA9IHRydWU7XG4gICAgICByZXR1cm4ga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBJbnRlcm5hbCBoZWxwZXIuIENoZWNrcyBga2V5c2AgZm9yIHRoZSBwcmVzZW5jZSBvZiBrZXlzIGluIElFIDwgOSB0aGF0IHdvbid0XG4vLyBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC4gRXh0ZW5kcyBga2V5c2AgaW4gcGxhY2UgaWZcbi8vIG5lZWRlZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gIGtleXMgPSBlbXVsYXRlZFNldChrZXlzKTtcbiAgdmFyIG5vbkVudW1JZHggPSBub25FbnVtZXJhYmxlUHJvcHMubGVuZ3RoO1xuICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gIHZhciBwcm90byA9IGlzRnVuY3Rpb24oY29uc3RydWN0b3IpICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSB8fCBPYmpQcm90bztcblxuICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgdmFyIHByb3AgPSAnY29uc3RydWN0b3InO1xuICBpZiAoaGFzKG9iaiwgcHJvcCkgJiYgIWtleXMuY29udGFpbnMocHJvcCkpIGtleXMucHVzaChwcm9wKTtcblxuICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgcHJvcCA9IG5vbkVudW1lcmFibGVQcm9wc1tub25FbnVtSWR4XTtcbiAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAha2V5cy5jb250YWlucyhwcm9wKSkge1xuICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19jb2xsZWN0Tm9uRW51bVByb3BzLmpzXG4vLyBtb2R1bGUgaWQgPSAxNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQga2V5cyBmcm9tICcuL2tleXMuanMnO1xuXG4vLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBhdHRycykge1xuICB2YXIgX2tleXMgPSBrZXlzKGF0dHJzKSwgbGVuZ3RoID0gX2tleXMubGVuZ3RoO1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICB2YXIgb2JqID0gT2JqZWN0KG9iamVjdCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gX2tleXNbaV07XG4gICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc01hdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAxNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQga2V5cyBmcm9tICcuL2tleXMuanMnO1xuXG4vLyBJbnZlcnQgdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3QuIFRoZSB2YWx1ZXMgbXVzdCBiZSBzZXJpYWxpemFibGUuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbnZlcnQob2JqKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdmFyIF9rZXlzID0ga2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gX2tleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbb2JqW19rZXlzW2ldXV0gPSBfa2V5c1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ludmVydC5qc1xuLy8gbW9kdWxlIGlkID0gMTc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcblxuLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZnVuY3Rpb25zKG9iaikge1xuICB2YXIgbmFtZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBuYW1lcy5zb3J0KCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZnVuY3Rpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAxODBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlQXNzaWduZXIgZnJvbSAnLi9fY3JlYXRlQXNzaWduZXIuanMnO1xuaW1wb3J0IGFsbEtleXMgZnJvbSAnLi9hbGxLZXlzLmpzJztcblxuLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVBc3NpZ25lcihhbGxLZXlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9leHRlbmQuanNcbi8vIG1vZHVsZSBpZCA9IDE4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBjcmVhdGVBc3NpZ25lciBmcm9tICcuL19jcmVhdGVBc3NpZ25lci5qcyc7XG5pbXBvcnQgYWxsS2V5cyBmcm9tICcuL2FsbEtleXMuanMnO1xuXG4vLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQXNzaWduZXIoYWxsS2V5cywgdHJ1ZSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZGVmYXVsdHMuanNcbi8vIG1vZHVsZSBpZCA9IDE4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcbmltcG9ydCB7IG5hdGl2ZUNyZWF0ZSB9IGZyb20gJy4vX3NldHVwLmpzJztcblxuLy8gQ3JlYXRlIGEgbmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuZnVuY3Rpb24gY3RvcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7fTtcbn1cblxuLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gYW5vdGhlci5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJhc2VDcmVhdGUocHJvdG90eXBlKSB7XG4gIGlmICghaXNPYmplY3QocHJvdG90eXBlKSkgcmV0dXJuIHt9O1xuICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gIHZhciBDdG9yID0gY3RvcigpO1xuICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2Jhc2VDcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDE4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcbmltcG9ydCBpc0FycmF5IGZyb20gJy4vaXNBcnJheS5qcyc7XG5pbXBvcnQgZXh0ZW5kIGZyb20gJy4vZXh0ZW5kLmpzJztcblxuLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgcmV0dXJuIGlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogZXh0ZW5kKHt9LCBvYmopO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2Nsb25lLmpzXG4vLyBtb2R1bGUgaWQgPSAxODRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdG9QYXRoIGZyb20gJy4vX3RvUGF0aC5qcyc7XG5pbXBvcnQgZGVlcEdldCBmcm9tICcuL19kZWVwR2V0LmpzJztcbmltcG9ydCBpc1VuZGVmaW5lZCBmcm9tICcuL2lzVW5kZWZpbmVkLmpzJztcblxuLy8gR2V0IHRoZSB2YWx1ZSBvZiB0aGUgKGRlZXApIHByb3BlcnR5IG9uIGBwYXRoYCBmcm9tIGBvYmplY3RgLlxuLy8gSWYgYW55IHByb3BlcnR5IGluIGBwYXRoYCBkb2VzIG5vdCBleGlzdCBvciBpZiB0aGUgdmFsdWUgaXNcbi8vIGB1bmRlZmluZWRgLCByZXR1cm4gYGRlZmF1bHRWYWx1ZWAgaW5zdGVhZC5cbi8vIFRoZSBgcGF0aGAgaXMgbm9ybWFsaXplZCB0aHJvdWdoIGBfLnRvUGF0aGAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgdmFyIHZhbHVlID0gZGVlcEdldChvYmplY3QsIHRvUGF0aChwYXRoKSk7XG4gIHJldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9nZXQuanNcbi8vIG1vZHVsZSBpZCA9IDE4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBfIGZyb20gJy4vdW5kZXJzY29yZS5qcyc7XG5pbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuXG4vLyBOb3JtYWxpemUgYSAoZGVlcCkgcHJvcGVydHkgYHBhdGhgIHRvIGFycmF5LlxuLy8gTGlrZSBgXy5pdGVyYXRlZWAsIHRoaXMgZnVuY3Rpb24gY2FuIGJlIGN1c3RvbWl6ZWQuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1BhdGgocGF0aCkge1xuICByZXR1cm4gaXNBcnJheShwYXRoKSA/IHBhdGggOiBbcGF0aF07XG59XG5fLnRvUGF0aCA9IHRvUGF0aDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90b1BhdGguanNcbi8vIG1vZHVsZSBpZCA9IDE4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBpZGVudGl0eSBmcm9tICcuL2lkZW50aXR5LmpzJztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXNGdW5jdGlvbi5qcyc7XG5pbXBvcnQgaXNPYmplY3QgZnJvbSAnLi9pc09iamVjdC5qcyc7XG5pbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuaW1wb3J0IG1hdGNoZXIgZnJvbSAnLi9tYXRjaGVyLmpzJztcbmltcG9ydCBwcm9wZXJ0eSBmcm9tICcuL3Byb3BlcnR5LmpzJztcbmltcG9ydCBvcHRpbWl6ZUNiIGZyb20gJy4vX29wdGltaXplQ2IuanMnO1xuXG4vLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoXG4vLyBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyIGBfLmlkZW50aXR5YCxcbi8vIGFuIGFyYml0cmFyeSBjYWxsYmFjaywgYSBwcm9wZXJ0eSBtYXRjaGVyLCBvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGlkZW50aXR5O1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gIGlmIChpc09iamVjdCh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpKSByZXR1cm4gbWF0Y2hlcih2YWx1ZSk7XG4gIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2Jhc2VJdGVyYXRlZS5qc1xuLy8gbW9kdWxlIGlkID0gMTg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IF8gZnJvbSAnLi91bmRlcnNjb3JlLmpzJztcbmltcG9ydCBiYXNlSXRlcmF0ZWUgZnJvbSAnLi9fYmFzZUl0ZXJhdGVlLmpzJztcblxuLy8gRXh0ZXJuYWwgd3JhcHBlciBmb3Igb3VyIGNhbGxiYWNrIGdlbmVyYXRvci4gVXNlcnMgbWF5IGN1c3RvbWl6ZVxuLy8gYF8uaXRlcmF0ZWVgIGlmIHRoZXkgd2FudCBhZGRpdGlvbmFsIHByZWRpY2F0ZS9pdGVyYXRlZSBzaG9ydGhhbmQgc3R5bGVzLlxuLy8gVGhpcyBhYnN0cmFjdGlvbiBoaWRlcyB0aGUgaW50ZXJuYWwtb25seSBgYXJnQ291bnRgIGFyZ3VtZW50LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXRlcmF0ZWUodmFsdWUsIGNvbnRleHQpIHtcbiAgcmV0dXJuIGJhc2VJdGVyYXRlZSh2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xufVxuXy5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2l0ZXJhdGVlLmpzXG4vLyBtb2R1bGUgaWQgPSAxODhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbi4gT2Z0ZW4gdXNlZnVsIG91dHNpZGUgb2YgVW5kZXJzY29yZS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5vb3AoKXt9XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbm9vcC5qc1xuLy8gbW9kdWxlIGlkID0gMTg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBgbWluYCBhbmQgYG1heGAgKGluY2x1c2l2ZSkuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByYW5kb20obWluLCBtYXgpIHtcbiAgaWYgKG1heCA9PSBudWxsKSB7XG4gICAgbWF4ID0gbWluO1xuICAgIG1pbiA9IDA7XG4gIH1cbiAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmFuZG9tLmpzXG4vLyBtb2R1bGUgaWQgPSAxOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQga2V5cyBmcm9tICcuL2tleXMuanMnO1xuXG4vLyBJbnRlcm5hbCBoZWxwZXIgdG8gZ2VuZXJhdGUgZnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzXG4vLyB0by9mcm9tIEhUTUwgaW50ZXJwb2xhdGlvbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUVzY2FwZXIobWFwKSB7XG4gIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gbWFwW21hdGNoXTtcbiAgfTtcbiAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkLlxuICB2YXIgc291cmNlID0gJyg/OicgKyBrZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICB2YXIgdGVzdFJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UpO1xuICB2YXIgcmVwbGFjZVJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UsICdnJyk7XG4gIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICBzdHJpbmcgPSBzdHJpbmcgPT0gbnVsbCA/ICcnIDogJycgKyBzdHJpbmc7XG4gICAgcmV0dXJuIHRlc3RSZWdleHAudGVzdChzdHJpbmcpID8gc3RyaW5nLnJlcGxhY2UocmVwbGFjZVJlZ2V4cCwgZXNjYXBlcikgOiBzdHJpbmc7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZUVzY2FwZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIEludGVybmFsIGxpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG5leHBvcnQgZGVmYXVsdCB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL19lc2NhcGVNYXAuanNcbi8vIG1vZHVsZSBpZCA9IDE5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBfIGZyb20gJy4vdW5kZXJzY29yZS5qcyc7XG5cbi8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycy4gQ2hhbmdlIHRoZVxuLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuZXhwb3J0IGRlZmF1bHQgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICBldmFsdWF0ZTogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgaW50ZXJwb2xhdGU6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICBlc2NhcGU6IC88JS0oW1xcc1xcU10rPyklPi9nXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3RlbXBsYXRlU2V0dGluZ3MuanNcbi8vIG1vZHVsZSBpZCA9IDE5M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBiYXNlQ3JlYXRlIGZyb20gJy4vX2Jhc2VDcmVhdGUuanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuXG4vLyBJbnRlcm5hbCBmdW5jdGlvbiB0byBleGVjdXRlIGBzb3VyY2VGdW5jYCBib3VuZCB0byBgY29udGV4dGAgd2l0aCBvcHRpb25hbFxuLy8gYGFyZ3NgLiBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3Igb3IgYXMgYVxuLy8gbm9ybWFsIGZ1bmN0aW9uLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhlY3V0ZUJvdW5kKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgdmFyIHNlbGYgPSBiYXNlQ3JlYXRlKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gIGlmIChpc09iamVjdChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICByZXR1cm4gc2VsZjtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fZXhlY3V0ZUJvdW5kLmpzXG4vLyBtb2R1bGUgaWQgPSAxOTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgcmVzdEFyZ3VtZW50cyBmcm9tICcuL3Jlc3RBcmd1bWVudHMuanMnO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcbmltcG9ydCBleGVjdXRlQm91bmQgZnJvbSAnLi9fZXhlY3V0ZUJvdW5kLmpzJztcblxuLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4vLyBvcHRpb25hbGx5KS5cbmV4cG9ydCBkZWZhdWx0IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJncykge1xuICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JpbmQgbXVzdCBiZSBjYWxsZWQgb24gYSBmdW5jdGlvbicpO1xuICB2YXIgYm91bmQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKGNhbGxBcmdzKSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgY29udGV4dCwgdGhpcywgYXJncy5jb25jYXQoY2FsbEFyZ3MpKTtcbiAgfSk7XG4gIHJldHVybiBib3VuZDtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2JpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDE5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5cbi8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbi8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC5cbmV4cG9ydCBkZWZhdWx0IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgfSwgd2FpdCk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9kZWxheS5qc1xuLy8gbW9kdWxlIGlkID0gMTk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlXG4vLyBOdGggY2FsbC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJlZm9yZSh0aW1lcywgZnVuYykge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICgtLXRpbWVzID4gMCkge1xuICAgICAgbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaWYgKHRpbWVzIDw9IDEpIGZ1bmMgPSBudWxsO1xuICAgIHJldHVybiBtZW1vO1xuICB9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2JlZm9yZS5qc1xuLy8gbW9kdWxlIGlkID0gMTk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSB0cnV0aCB0ZXN0LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluZEtleShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSBrZXlzKG9iaiksIGtleTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gX2tleXNbaV07XG4gICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZmluZEtleS5qc1xuLy8gbW9kdWxlIGlkID0gMTk4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBnZXRMZW5ndGggZnJvbSAnLi9fZ2V0TGVuZ3RoLmpzJztcblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHZhciBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAxOTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIgZnJvbSAnLi9fY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIuanMnO1xuXG4vLyBSZXR1cm5zIHRoZSBsYXN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSB0cnV0aCB0ZXN0LlxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZpbmRMYXN0SW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIwMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBjYiBmcm9tICcuL19jYi5qcyc7XG5pbXBvcnQgZ2V0TGVuZ3RoIGZyb20gJy4vX2dldExlbmd0aC5qcyc7XG5cbi8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbi8vIGFuIG9iamVjdCBzaG91bGQgYmUgaW5zZXJ0ZWQgc28gYXMgdG8gbWFpbnRhaW4gb3JkZXIuIFVzZXMgYmluYXJ5IHNlYXJjaC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCBvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICB2YXIgbG93ID0gMCwgaGlnaCA9IGdldExlbmd0aChhcnJheSk7XG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgaWYgKGl0ZXJhdGVlKGFycmF5W21pZF0pIDwgdmFsdWUpIGxvdyA9IG1pZCArIDE7IGVsc2UgaGlnaCA9IG1pZDtcbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3NvcnRlZEluZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgc29ydGVkSW5kZXggZnJvbSAnLi9zb3J0ZWRJbmRleC5qcyc7XG5pbXBvcnQgZmluZEluZGV4IGZyb20gJy4vZmluZEluZGV4LmpzJztcbmltcG9ydCBjcmVhdGVJbmRleEZpbmRlciBmcm9tICcuL19jcmVhdGVJbmRleEZpbmRlci5qcyc7XG5cbi8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbi8vIG9yIC0xIGlmIHRoZSBpdGVtIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgYXJyYXkuXG4vLyBJZiB0aGUgYXJyYXkgaXMgbGFyZ2UgYW5kIGFscmVhZHkgaW4gc29ydCBvcmRlciwgcGFzcyBgdHJ1ZWBcbi8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVJbmRleEZpbmRlcigxLCBmaW5kSW5kZXgsIHNvcnRlZEluZGV4KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbmRleE9mLmpzXG4vLyBtb2R1bGUgaWQgPSAyMDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZ2V0TGVuZ3RoIGZyb20gJy4vX2dldExlbmd0aC5qcyc7XG5pbXBvcnQgeyBzbGljZSB9IGZyb20gJy4vX3NldHVwLmpzJztcbmltcG9ydCBpc05hTiBmcm9tICcuL2lzTmFOLmpzJztcblxuLy8gSW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGBfLmluZGV4T2ZgIGFuZCBgXy5sYXN0SW5kZXhPZmAgZnVuY3Rpb25zLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlSW5kZXhGaW5kZXIoZGlyLCBwcmVkaWNhdGVGaW5kLCBzb3J0ZWRJbmRleCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGlkeCkge1xuICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICBpZiAodHlwZW9mIGlkeCA9PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlbmd0aCA9IGlkeCA+PSAwID8gTWF0aC5taW4oaWR4ICsgMSwgbGVuZ3RoKSA6IGlkeCArIGxlbmd0aCArIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzb3J0ZWRJbmRleCAmJiBpZHggJiYgbGVuZ3RoKSB7XG4gICAgICBpZHggPSBzb3J0ZWRJbmRleChhcnJheSwgaXRlbSk7XG4gICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgIH1cbiAgICBpZiAoaXRlbSAhPT0gaXRlbSkge1xuICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBpc05hTik7XG4gICAgICByZXR1cm4gaWR4ID49IDAgPyBpZHggKyBpIDogLTE7XG4gICAgfVxuICAgIGZvciAoaWR4ID0gZGlyID4gMCA/IGkgOiBsZW5ndGggLSAxOyBpZHggPj0gMCAmJiBpZHggPCBsZW5ndGg7IGlkeCArPSBkaXIpIHtcbiAgICAgIGlmIChhcnJheVtpZHhdID09PSBpdGVtKSByZXR1cm4gaWR4O1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZUluZGV4RmluZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgaXNBcnJheUxpa2UgZnJvbSAnLi9faXNBcnJheUxpa2UuanMnO1xuaW1wb3J0IGZpbmRJbmRleCBmcm9tICcuL2ZpbmRJbmRleC5qcyc7XG5pbXBvcnQgZmluZEtleSBmcm9tICcuL2ZpbmRLZXkuanMnO1xuXG4vLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaW5kKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHZhciBrZXlGaW5kZXIgPSBpc0FycmF5TGlrZShvYmopID8gZmluZEluZGV4IDogZmluZEtleTtcbiAgdmFyIGtleSA9IGtleUZpbmRlcihvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZmluZC5qc1xuLy8gbW9kdWxlIGlkID0gMjA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGlzQXJyYXlMaWtlIGZyb20gJy4vX2lzQXJyYXlMaWtlLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5pbXBvcnQgb3B0aW1pemVDYiBmcm9tICcuL19vcHRpbWl6ZUNiLmpzJztcblxuLy8gSW50ZXJuYWwgaGVscGVyIHRvIGNyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uLCBpdGVyYXRpbmcgbGVmdCBvciByaWdodC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgLy8gV3JhcCBjb2RlIHRoYXQgcmVhc3NpZ25zIGFyZ3VtZW50IHZhcmlhYmxlcyBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHRoYW5cbiAgLy8gdGhlIG9uZSB0aGF0IGFjY2Vzc2VzIGBhcmd1bWVudHMubGVuZ3RoYCB0byBhdm9pZCBhIHBlcmYgaGl0LiAoIzE5OTEpXG4gIHZhciByZWR1Y2VyID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgaW5pdGlhbCkge1xuICAgIHZhciBfa2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIGtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKF9rZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgIG1lbW8gPSBvYmpbX2tleXMgPyBfa2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICBpbmRleCArPSBkaXI7XG4gICAgfVxuICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0gX2tleXMgPyBfa2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiBtZW1vO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID49IDM7XG4gICAgcmV0dXJuIHJlZHVjZXIob2JqLCBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KSwgbWVtbywgaW5pdGlhbCk7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2NyZWF0ZVJlZHVjZS5qc1xuLy8gbW9kdWxlIGlkID0gMjA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGlzQXJyYXlMaWtlIGZyb20gJy4vX2lzQXJyYXlMaWtlLmpzJztcbmltcG9ydCB2YWx1ZXMgZnJvbSAnLi92YWx1ZXMuanMnO1xuaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBlYWNoIGZyb20gJy4vZWFjaC5qcyc7XG5cbi8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1heChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgaWYgKGl0ZXJhdGVlID09IG51bGwgfHwgdHlwZW9mIGl0ZXJhdGVlID09ICdudW1iZXInICYmIHR5cGVvZiBvYmpbMF0gIT0gJ29iamVjdCcgJiYgb2JqICE9IG51bGwpIHtcbiAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogdmFsdWVzKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHYsIGluZGV4LCBsaXN0KSB7XG4gICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHYsIGluZGV4LCBsaXN0KTtcbiAgICAgIGlmIChjb21wdXRlZCA+IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gLUluZmluaXR5ICYmIHJlc3VsdCA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJlc3VsdCA9IHY7XG4gICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbWF4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgaXNBcnJheUxpa2UgZnJvbSAnLi9faXNBcnJheUxpa2UuanMnO1xuaW1wb3J0IGNsb25lIGZyb20gJy4vY2xvbmUuanMnO1xuaW1wb3J0IHZhbHVlcyBmcm9tICcuL3ZhbHVlcy5qcyc7XG5pbXBvcnQgZ2V0TGVuZ3RoIGZyb20gJy4vX2dldExlbmd0aC5qcyc7XG5pbXBvcnQgcmFuZG9tIGZyb20gJy4vcmFuZG9tLmpzJztcblxuLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24gdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbi8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4vLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzYW1wbGUob2JqLCBuLCBndWFyZCkge1xuICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSB2YWx1ZXMob2JqKTtcbiAgICByZXR1cm4gb2JqW3JhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICB9XG4gIHZhciBzYW1wbGUgPSBpc0FycmF5TGlrZShvYmopID8gY2xvbmUob2JqKSA6IHZhbHVlcyhvYmopO1xuICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKHNhbXBsZSk7XG4gIG4gPSBNYXRoLm1heChNYXRoLm1pbihuLCBsZW5ndGgpLCAwKTtcbiAgdmFyIGxhc3QgPSBsZW5ndGggLSAxO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbjsgaW5kZXgrKykge1xuICAgIHZhciByYW5kID0gcmFuZG9tKGluZGV4LCBsYXN0KTtcbiAgICB2YXIgdGVtcCA9IHNhbXBsZVtpbmRleF07XG4gICAgc2FtcGxlW2luZGV4XSA9IHNhbXBsZVtyYW5kXTtcbiAgICBzYW1wbGVbcmFuZF0gPSB0ZW1wO1xuICB9XG4gIHJldHVybiBzYW1wbGUuc2xpY2UoMCwgbik7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvc2FtcGxlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgcmVzdEFyZ3VtZW50cyBmcm9tICcuL3Jlc3RBcmd1bWVudHMuanMnO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcbmltcG9ydCBvcHRpbWl6ZUNiIGZyb20gJy4vX29wdGltaXplQ2IuanMnO1xuaW1wb3J0IGFsbEtleXMgZnJvbSAnLi9hbGxLZXlzLmpzJztcbmltcG9ydCBrZXlJbk9iaiBmcm9tICcuL19rZXlJbk9iai5qcyc7XG5pbXBvcnQgZmxhdHRlbiBmcm9tICcuL19mbGF0dGVuLmpzJztcblxuLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgYWxsb3dlZCBwcm9wZXJ0aWVzLlxuZXhwb3J0IGRlZmF1bHQgcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihvYmosIGtleXMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9LCBpdGVyYXRlZSA9IGtleXNbMF07XG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgaWYgKGlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMSkgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBrZXlzWzFdKTtcbiAgICBrZXlzID0gYWxsS2V5cyhvYmopO1xuICB9IGVsc2Uge1xuICAgIGl0ZXJhdGVlID0ga2V5SW5PYmo7XG4gICAga2V5cyA9IGZsYXR0ZW4oa2V5cywgZmFsc2UsIGZhbHNlKTtcbiAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9waWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyMDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgeyBzbGljZSB9IGZyb20gJy4vX3NldHVwLmpzJztcblxuLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgbGFzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEVzcGVjaWFsbHkgdXNlZnVsIG9uXG4vLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWwoYXJyYXksIG4sIGd1YXJkKSB7XG4gIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAwLCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSAobiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pKSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW5pdGlhbC5qc1xuLy8gbW9kdWxlIGlkID0gMjA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgc2xpY2UgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5cbi8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBgYXJyYXlgLiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuLy8gdGhlIGBhcmd1bWVudHNgIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVybiB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGVcbi8vIGBhcnJheWAuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXN0KGFycmF5LCBuLCBndWFyZCkge1xuICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3Jlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDIxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5pbXBvcnQgZmxhdHRlbiBmcm9tICcuL19mbGF0dGVuLmpzJztcbmltcG9ydCBmaWx0ZXIgZnJvbSAnLi9maWx0ZXIuanMnO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gJy4vY29udGFpbnMuanMnO1xuXG4vLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4vLyBPbmx5IHRoZSBlbGVtZW50cyBwcmVzZW50IGluIGp1c3QgdGhlIGZpcnN0IGFycmF5IHdpbGwgcmVtYWluLlxuZXhwb3J0IGRlZmF1bHQgcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheSwgcmVzdCkge1xuICByZXN0ID0gZmxhdHRlbihyZXN0LCB0cnVlLCB0cnVlKTtcbiAgcmV0dXJuIGZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgIHJldHVybiAhY29udGFpbnMocmVzdCwgdmFsdWUpO1xuICB9KTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2RpZmZlcmVuY2UuanNcbi8vIG1vZHVsZSBpZCA9IDIxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBpc0Jvb2xlYW4gZnJvbSAnLi9pc0Jvb2xlYW4uanMnO1xuaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBnZXRMZW5ndGggZnJvbSAnLi9fZ2V0TGVuZ3RoLmpzJztcbmltcG9ydCBjb250YWlucyBmcm9tICcuL2NvbnRhaW5zLmpzJztcblxuLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbi8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbi8vIFRoZSBmYXN0ZXIgYWxnb3JpdGhtIHdpbGwgbm90IHdvcmsgd2l0aCBhbiBpdGVyYXRlZSBpZiB0aGUgaXRlcmF0ZWVcbi8vIGlzIG5vdCBhIG9uZS10by1vbmUgZnVuY3Rpb24sIHNvIHByb3ZpZGluZyBhbiBpdGVyYXRlZSB3aWxsIGRpc2FibGVcbi8vIHRoZSBmYXN0ZXIgYWxnb3JpdGhtLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGlmICghaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgIGlzU29ydGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBzZWVuID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICBpZiAoaXNTb3J0ZWQgJiYgIWl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIWNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmlxLmpzXG4vLyBtb2R1bGUgaWQgPSAyMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgbWF4IGZyb20gJy4vbWF4LmpzJztcbmltcG9ydCBnZXRMZW5ndGggZnJvbSAnLi9fZ2V0TGVuZ3RoLmpzJztcbmltcG9ydCBwbHVjayBmcm9tICcuL3BsdWNrLmpzJztcblxuLy8gQ29tcGxlbWVudCBvZiB6aXAuIFVuemlwIGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIGFuZCBncm91cHNcbi8vIGVhY2ggYXJyYXkncyBlbGVtZW50cyBvbiBzaGFyZWQgaW5kaWNlcy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSAmJiBtYXgoYXJyYXksIGdldExlbmd0aCkubGVuZ3RoIHx8IDA7XG4gIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICByZXN1bHRbaW5kZXhdID0gcGx1Y2soYXJyYXksIGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3VuemlwLmpzXG4vLyBtb2R1bGUgaWQgPSAyMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgXyBmcm9tICcuL3VuZGVyc2NvcmUuanMnO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFpblJlc3VsdChpbnN0YW5jZSwgb2JqKSB7XG4gIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fY2hhaW5SZXN1bHQuanNcbi8vIG1vZHVsZSBpZCA9IDIxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1hcnJheScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvZXMtbm90LWV4Y2VlZC1zYWZlLWludGVnZXInKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcbnZhciBhcnJheVNwZWNpZXNDcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgVjhfVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbicpO1xuXG52YXIgSVNfQ09OQ0FUX1NQUkVBREFCTEUgPSB3ZWxsS25vd25TeW1ib2woJ2lzQ29uY2F0U3ByZWFkYWJsZScpO1xuXG4vLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbi8vIGRlb3B0aW1pemF0aW9uIGFuZCBzZXJpb3VzIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc5XG52YXIgSVNfQ09OQ0FUX1NQUkVBREFCTEVfU1VQUE9SVCA9IFY4X1ZFUlNJT04gPj0gNTEgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFycmF5ID0gW107XG4gIGFycmF5W0lTX0NPTkNBVF9TUFJFQURBQkxFXSA9IGZhbHNlO1xuICByZXR1cm4gYXJyYXkuY29uY2F0KClbMF0gIT09IGFycmF5O1xufSk7XG5cbnZhciBTUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdjb25jYXQnKTtcblxudmFyIGlzQ29uY2F0U3ByZWFkYWJsZSA9IGZ1bmN0aW9uIChPKSB7XG4gIGlmICghaXNPYmplY3QoTykpIHJldHVybiBmYWxzZTtcbiAgdmFyIHNwcmVhZGFibGUgPSBPW0lTX0NPTkNBVF9TUFJFQURBQkxFXTtcbiAgcmV0dXJuIHNwcmVhZGFibGUgIT09IHVuZGVmaW5lZCA/ICEhc3ByZWFkYWJsZSA6IGlzQXJyYXkoTyk7XG59O1xuXG52YXIgRk9SQ0VEID0gIUlTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgfHwgIVNQRUNJRVNfU1VQUE9SVDtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5jb25jYXRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuY29uY2F0XG4vLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAaXNDb25jYXRTcHJlYWRhYmxlIGFuZCBAQHNwZWNpZXNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBhcml0eTogMSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdChhcmcpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpO1xuICAgIHZhciBBID0gYXJyYXlTcGVjaWVzQ3JlYXRlKE8sIDApO1xuICAgIHZhciBuID0gMDtcbiAgICB2YXIgaSwgaywgbGVuZ3RoLCBsZW4sIEU7XG4gICAgZm9yIChpID0gLTEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgRSA9IGkgPT09IC0xID8gTyA6IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChpc0NvbmNhdFNwcmVhZGFibGUoRSkpIHtcbiAgICAgICAgbGVuID0gbGVuZ3RoT2ZBcnJheUxpa2UoRSk7XG4gICAgICAgIGRvZXNOb3RFeGNlZWRTYWZlSW50ZWdlcihuICsgbGVuKTtcbiAgICAgICAgZm9yIChrID0gMDsgayA8IGxlbjsgaysrLCBuKyspIGlmIChrIGluIEUpIGNyZWF0ZVByb3BlcnR5KEEsIG4sIEVba10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyKG4gKyAxKTtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkoQSwgbisrLCBFKTtcbiAgICAgIH1cbiAgICB9XG4gICAgQS5sZW5ndGggPSBuO1xuICAgIHJldHVybiBBO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qc1xuLy8gbW9kdWxlIGlkID0gMjE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3InKTtcblxuLy8gYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvc3RhYmxlL29iamVjdC9rZXlzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy1zdGFibGUvb2JqZWN0L2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IDIxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgYXBwbHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHknKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXknKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG52YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZScpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCcpO1xuXG52YXIgJHN0cmluZ2lmeSA9IGdldEJ1aWx0SW4oJ0pTT04nLCAnc3RyaW5naWZ5Jyk7XG52YXIgZXhlYyA9IHVuY3VycnlUaGlzKC8uLy5leGVjKTtcbnZhciBjaGFyQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQXQpO1xudmFyIGNoYXJDb2RlQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQ29kZUF0KTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgbnVtYmVyVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcygxLjAudG9TdHJpbmcpO1xuXG52YXIgdGVzdGVyID0gL1tcXHVEODAwLVxcdURGRkZdL2c7XG52YXIgbG93ID0gL15bXFx1RDgwMC1cXHVEQkZGXSQvO1xudmFyIGhpID0gL15bXFx1REMwMC1cXHVERkZGXSQvO1xuXG52YXIgV1JPTkdfU1lNQk9MU19DT05WRVJTSU9OID0gIU5BVElWRV9TWU1CT0wgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgc3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJykoKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgcmV0dXJuICRzdHJpbmdpZnkoW3N5bWJvbF0pICE9ICdbbnVsbF0nXG4gICAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gICAgfHwgJHN0cmluZ2lmeSh7IGE6IHN5bWJvbCB9KSAhPSAne30nXG4gICAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgICB8fCAkc3RyaW5naWZ5KE9iamVjdChzeW1ib2wpKSAhPSAne30nO1xufSk7XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXdlbGwtZm9ybWVkLXN0cmluZ2lmeVxudmFyIElMTF9GT1JNRURfVU5JQ09ERSA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICRzdHJpbmdpZnkoJ1xcdURGMDZcXHVEODM0JykgIT09ICdcIlxcXFx1ZGYwNlxcXFx1ZDgzNFwiJ1xuICAgIHx8ICRzdHJpbmdpZnkoJ1xcdURFQUQnKSAhPT0gJ1wiXFxcXHVkZWFkXCInO1xufSk7XG5cbnZhciBzdHJpbmdpZnlXaXRoU3ltYm9sc0ZpeCA9IGZ1bmN0aW9uIChpdCwgcmVwbGFjZXIpIHtcbiAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cyk7XG4gIHZhciAkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgaWYgKCFpc09iamVjdChyZXBsYWNlcikgJiYgaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgaWYgKGlzQ2FsbGFibGUoJHJlcGxhY2VyKSkgdmFsdWUgPSBjYWxsKCRyZXBsYWNlciwgdGhpcywga2V5LCB2YWx1ZSk7XG4gICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICByZXR1cm4gYXBwbHkoJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG59O1xuXG52YXIgZml4SWxsRm9ybWVkID0gZnVuY3Rpb24gKG1hdGNoLCBvZmZzZXQsIHN0cmluZykge1xuICB2YXIgcHJldiA9IGNoYXJBdChzdHJpbmcsIG9mZnNldCAtIDEpO1xuICB2YXIgbmV4dCA9IGNoYXJBdChzdHJpbmcsIG9mZnNldCArIDEpO1xuICBpZiAoKGV4ZWMobG93LCBtYXRjaCkgJiYgIWV4ZWMoaGksIG5leHQpKSB8fCAoZXhlYyhoaSwgbWF0Y2gpICYmICFleGVjKGxvdywgcHJldikpKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyBudW1iZXJUb1N0cmluZyhjaGFyQ29kZUF0KG1hdGNoLCAwKSwgMTYpO1xuICB9IHJldHVybiBtYXRjaDtcbn07XG5cbmlmICgkc3RyaW5naWZ5KSB7XG4gIC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi5zdHJpbmdpZnlcbiAgJCh7IHRhcmdldDogJ0pTT04nLCBzdGF0OiB0cnVlLCBhcml0eTogMywgZm9yY2VkOiBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gfHwgSUxMX0ZPUk1FRF9VTklDT0RFIH0sIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0LCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICAgIHZhciBhcmdzID0gYXJyYXlTbGljZShhcmd1bWVudHMpO1xuICAgICAgdmFyIHJlc3VsdCA9IGFwcGx5KFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiA/IHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4IDogJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG4gICAgICByZXR1cm4gSUxMX0ZPUk1FRF9VTklDT0RFICYmIHR5cGVvZiByZXN1bHQgPT0gJ3N0cmluZycgPyByZXBsYWNlKHJlc3VsdCwgdGVzdGVyLCBmaXhJbGxGb3JtZWQpIDogcmVzdWx0O1xuICAgIH1cbiAgfSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qc1xuLy8gbW9kdWxlIGlkID0gMjE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3V1aWQvdjQuanNcbi8vIG1vZHVsZSBpZCA9IDIxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMjIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMjIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSAnNC4xNC4wJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZXJzaW9uLmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGV4aXN0cyBPbmx5IGNoZWNrIGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7QXJyYXl8Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50LCBleGlzdHMpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGF2YWlsYWJsZSA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChleGlzdHMpIHJldHVybiAhIWF2YWlsYWJsZTtcbiAgaWYgKCFhdmFpbGFibGUpIHJldHVybiBbXTtcbiAgaWYgKGF2YWlsYWJsZS5mbikgcmV0dXJuIFthdmFpbGFibGUuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXZhaWxhYmxlLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGF2YWlsYWJsZVtpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcylcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMsIHRydWUpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgICAgbGlzdGVuZXJzLmZuID09PSBmblxuICAgICAgJiYgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKVxuICAgICAgJiYgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuXG4gICAgICAgIHx8IChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSlcbiAgICAgICAgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYXBwbHkgYW55bW9yZS5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHsgZ2V0QWRhcHRlciB9ID0gcmVxdWlyZSgnLi9hZGFwdGVyJyk7XG5cbnZhciBzeW5jQXBpTmFtZXMgPSBbJ2dldEl0ZW0nLCAnc2V0SXRlbScsICdyZW1vdmVJdGVtJywgJ2NsZWFyJ107XG5cbmNvbnN0IGxvY2FsU3RvcmFnZSA9IHtcbiAgZ2V0IGFzeW5jKCkge1xuICAgIHJldHVybiBnZXRBZGFwdGVyKCdzdG9yYWdlJykuYXN5bmM7XG4gIH0sXG59O1xuXG4vLyB3cmFwIHN5bmMgYXBpcyB3aXRoIGFzeW5jIG9uZXMuXG5zeW5jQXBpTmFtZXMuZm9yRWFjaChmdW5jdGlvbihhcGlOYW1lKSB7XG4gIGxvY2FsU3RvcmFnZVthcGlOYW1lICsgJ0FzeW5jJ10gPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzdG9yYWdlID0gZ2V0QWRhcHRlcignc3RvcmFnZScpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RvcmFnZVthcGlOYW1lXS5hcHBseShzdG9yYWdlLCBhcmd1bWVudHMpKTtcbiAgfTtcblxuICBsb2NhbFN0b3JhZ2VbYXBpTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzdG9yYWdlID0gZ2V0QWRhcHRlcignc3RvcmFnZScpO1xuICAgIGlmICghc3RvcmFnZS5hc3luYykge1xuICAgICAgcmV0dXJuIHN0b3JhZ2VbYXBpTmFtZV0uYXBwbHkoc3RvcmFnZSwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAnU3luY2hyb25vdXMgQVBJIFsnICsgYXBpTmFtZSArICddIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBydW50aW1lLidcbiAgICApO1xuICAgIGVycm9yLmNvZGUgPSAnU1lOQ19BUElfTk9UX0FWQUlMQUJMRSc7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2NhbFN0b3JhZ2U7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbG9jYWxzdG9yYWdlLmpzIiwiY29uc3Qgc3RvcmFnZSA9IHJlcXVpcmUoJy4vbG9jYWxzdG9yYWdlJyk7XG5jb25zdCBBViA9IHJlcXVpcmUoJy4vYXYnKTtcblxuY29uc3QgcmVtb3ZlQXN5bmMgPSAoZXhwb3J0cy5yZW1vdmVBc3luYyA9IHN0b3JhZ2UucmVtb3ZlSXRlbUFzeW5jLmJpbmQoXG4gIHN0b3JhZ2VcbikpO1xuXG5jb25zdCBnZXRDYWNoZURhdGEgPSAoY2FjaGVEYXRhLCBrZXkpID0+IHtcbiAgdHJ5IHtcbiAgICBjYWNoZURhdGEgPSBKU09OLnBhcnNlKGNhY2hlRGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoY2FjaGVEYXRhKSB7XG4gICAgY29uc3QgZXhwaXJlZCA9IGNhY2hlRGF0YS5leHBpcmVkQXQgJiYgY2FjaGVEYXRhLmV4cGlyZWRBdCA8IERhdGUubm93KCk7XG4gICAgaWYgKCFleHBpcmVkKSB7XG4gICAgICByZXR1cm4gY2FjaGVEYXRhLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVtb3ZlQXN5bmMoa2V5KS50aGVuKCgpID0+IG51bGwpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0cy5nZXRBc3luYyA9IGtleSA9PiB7XG4gIGtleSA9IGBBVi8ke0FWLmFwcGxpY2F0aW9uSWR9LyR7a2V5fWA7XG4gIHJldHVybiBzdG9yYWdlLmdldEl0ZW1Bc3luYyhrZXkpLnRoZW4oY2FjaGUgPT4gZ2V0Q2FjaGVEYXRhKGNhY2hlLCBrZXkpKTtcbn07XG5cbmV4cG9ydHMuc2V0QXN5bmMgPSAoa2V5LCB2YWx1ZSwgdHRsKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0geyB2YWx1ZSB9O1xuICBpZiAodHlwZW9mIHR0bCA9PT0gJ251bWJlcicpIHtcbiAgICBjYWNoZS5leHBpcmVkQXQgPSBEYXRlLm5vdygpICsgdHRsO1xuICB9XG4gIHJldHVybiBzdG9yYWdlLnNldEl0ZW1Bc3luYyhcbiAgICBgQVYvJHtBVi5hcHBsaWNhdGlvbklkfS8ke2tleX1gLFxuICAgIEpTT04uc3RyaW5naWZ5KGNhY2hlKVxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jYWNoZS5qcyIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDIyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9pbnN0YW5jZS9zbGljZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2Uvc2xpY2UuanNcbi8vIG1vZHVsZSBpZCA9IDIyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSAyMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvZmVhdHVyZXMvc3ltYm9sXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9zeW1ib2wuanNcbi8vIG1vZHVsZSBpZCA9IDIyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvc3ltYm9sL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcblxudmFyICRBcnJheSA9IEFycmF5O1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgdmFyIGsgPSB0b0Fic29sdXRlSW5kZXgoc3RhcnQsIGxlbmd0aCk7XG4gIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gIHZhciByZXN1bHQgPSAkQXJyYXkobWF4KGZpbiAtIGssIDApKTtcbiAgZm9yICh2YXIgbiA9IDA7IGsgPCBmaW47IGsrKywgbisrKSBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIG4sIE9ba10pO1xuICByZXN1bHQubGVuZ3RoID0gbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXNsaWNlLXNpbXBsZS5qc1xuLy8gbW9kdWxlIGlkID0gMjMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBTeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKTtcbiAgdmFyIFN5bWJvbFByb3RvdHlwZSA9IFN5bWJvbCAmJiBTeW1ib2wucHJvdG90eXBlO1xuICB2YXIgdmFsdWVPZiA9IFN5bWJvbFByb3RvdHlwZSAmJiBTeW1ib2xQcm90b3R5cGUudmFsdWVPZjtcbiAgdmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCgndG9QcmltaXRpdmUnKTtcblxuICBpZiAoU3ltYm9sUHJvdG90eXBlICYmICFTeW1ib2xQcm90b3R5cGVbVE9fUFJJTUlUSVZFXSkge1xuICAgIC8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3ByaW1pdGl2ZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgLmxlbmd0aFxuICAgIGRlZmluZUJ1aWx0SW4oU3ltYm9sUHJvdG90eXBlLCBUT19QUklNSVRJVkUsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICByZXR1cm4gY2FsbCh2YWx1ZU9mLCB0aGlzKTtcbiAgICB9LCB7IGFyaXR5OiAxIH0pO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zeW1ib2wtZGVmaW5lLXRvLXByaW1pdGl2ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCcpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy14L25vLXN5bWJvbCAtLSBzYWZlICovXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9TWU1CT0wgJiYgISFTeW1ib2xbJ2ZvciddICYmICEhU3ltYm9sLmtleUZvcjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbC1yZWdpc3RyeS5qc1xuLy8gbW9kdWxlIGlkID0gMjMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5pdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLml0ZXJhdG9yXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDIzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9zeW1ib2wvaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvc3RhYmxlL2FycmF5L2Zyb21cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9hcnJheS9mcm9tLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vZXMvYXJyYXkvZnJvbScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvYXJyYXkvZnJvbS5qc1xuLy8gbW9kdWxlIGlkID0gMjM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2dldC1pdGVyYXRvci1tZXRob2RcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2dldC1pdGVyYXRvci1tZXRob2QuanNcbi8vIG1vZHVsZSBpZCA9IDIzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZScpO1xudmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciAkRnVuY3Rpb24gPSBGdW5jdGlvbjtcbnZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyhbXS5jb25jYXQpO1xudmFyIGpvaW4gPSB1bmN1cnJ5VGhpcyhbXS5qb2luKTtcbnZhciBmYWN0b3JpZXMgPSB7fTtcblxudmFyIGNvbnN0cnVjdCA9IGZ1bmN0aW9uIChDLCBhcmdzTGVuZ3RoLCBhcmdzKSB7XG4gIGlmICghaGFzT3duKGZhY3RvcmllcywgYXJnc0xlbmd0aCkpIHtcbiAgICBmb3IgKHZhciBsaXN0ID0gW10sIGkgPSAwOyBpIDwgYXJnc0xlbmd0aDsgaSsrKSBsaXN0W2ldID0gJ2FbJyArIGkgKyAnXSc7XG4gICAgZmFjdG9yaWVzW2FyZ3NMZW5ndGhdID0gJEZ1bmN0aW9uKCdDLGEnLCAncmV0dXJuIG5ldyBDKCcgKyBqb2luKGxpc3QsICcsJykgKyAnKScpO1xuICB9IHJldHVybiBmYWN0b3JpZXNbYXJnc0xlbmd0aF0oQywgYXJncyk7XG59O1xuXG4vLyBgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYmluZFxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/ICRGdW5jdGlvbi5iaW5kIDogZnVuY3Rpb24gYmluZCh0aGF0IC8qICwgLi4uYXJncyAqLykge1xuICB2YXIgRiA9IGFDYWxsYWJsZSh0aGlzKTtcbiAgdmFyIFByb3RvdHlwZSA9IEYucHJvdG90eXBlO1xuICB2YXIgcGFydEFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cywgMSk7XG4gIHZhciBib3VuZEZ1bmN0aW9uID0gZnVuY3Rpb24gYm91bmQoLyogYXJncy4uLiAqLykge1xuICAgIHZhciBhcmdzID0gY29uY2F0KHBhcnRBcmdzLCBhcnJheVNsaWNlKGFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgYm91bmRGdW5jdGlvbiA/IGNvbnN0cnVjdChGLCBhcmdzLmxlbmd0aCwgYXJncykgOiBGLmFwcGx5KHRoYXQsIGFyZ3MpO1xuICB9O1xuICBpZiAoaXNPYmplY3QoUHJvdG90eXBlKSkgYm91bmRGdW5jdGlvbi5wcm90b3R5cGUgPSBQcm90b3R5cGU7XG4gIHJldHVybiBib3VuZEZ1bmN0aW9uO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gMjM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMjQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2luc3RhbmNlL2JpbmRcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2luc3RhbmNlL2JpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDI0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBjaGFyZW5jID0ge1xuICAvLyBVVEYtOCBlbmNvZGluZ1xuICB1dGY4OiB7XG4gICAgLy8gQ29udmVydCBhIHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBzdHJpbmdUb0J5dGVzOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBjaGFyZW5jLmJpbi5zdHJpbmdUb0J5dGVzKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgc3RyaW5nXG4gICAgYnl0ZXNUb1N0cmluZzogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGNoYXJlbmMuYmluLmJ5dGVzVG9TdHJpbmcoYnl0ZXMpKSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEJpbmFyeSBlbmNvZGluZ1xuICBiaW46IHtcbiAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheVxuICAgIHN0cmluZ1RvQnl0ZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspXG4gICAgICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBzdHJpbmdcbiAgICBieXRlc1RvU3RyaW5nOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgZm9yICh2YXIgc3RyID0gW10sIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHN0ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pKTtcbiAgICAgIHJldHVybiBzdHIuam9pbignJyk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNoYXJlbmM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jaGFyZW5jL2NoYXJlbmMuanNcbi8vIG1vZHVsZSBpZCA9IDI0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIGEgc3RyaW5nIG9mIGFsbCB2YWxpZCB1bmljb2RlIHdoaXRlc3BhY2VzXG5tb2R1bGUuZXhwb3J0cyA9ICdcXHUwMDA5XFx1MDAwQVxcdTAwMEJcXHUwMDBDXFx1MDAwRFxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTIwMDBcXHUyMDAxXFx1MjAwMicgK1xuICAnXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMEFcXHUyMDJGXFx1MjA1RlxcdTMwMDBcXHUyMDI4XFx1MjAyOVxcdUZFRkYnO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy93aGl0ZXNwYWNlcy5qc1xuLy8gbW9kdWxlIGlkID0gMjQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL3NyYy9pcy1vYmplY3QuanMiLCJjb25zdCBBViA9IHJlcXVpcmUoJy4vY29yZScpO1xuY29uc3QgdXNlQWRhdHBlcnMgPSByZXF1aXJlKCcuL3VzZS1hZGFwdGVycycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVzZUFkYXRwZXJzKEFWKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9lbnRyeS9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vaW5kZXgnKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9lbnRyeS9jb3JlLmpzIiwiLyohXG4gKiBMZWFuQ2xvdWQgSmF2YVNjcmlwdCBTREtcbiAqIGh0dHBzOi8vbGVhbmNsb3VkLmNuXG4gKlxuICogQ29weXJpZ2h0IDIwMTYgTGVhbkNsb3VkLmNuLCBJbmMuXG4gKiBUaGUgTGVhbkNsb3VkIEphdmFTY3JpcHQgU0RLIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuY29uc3QgQVYgPSByZXF1aXJlKCcuL2F2Jyk7XG5cbkFWLl8gPSBfO1xuQVYudmVyc2lvbiA9IHJlcXVpcmUoJy4vdmVyc2lvbicpO1xuQVYuUHJvbWlzZSA9IFByb21pc2U7XG5BVi5sb2NhbFN0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2Fsc3RvcmFnZScpO1xuQVYuQ2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJyk7XG5BVi5FcnJvciA9IHJlcXVpcmUoJy4vZXJyb3InKTtcblxucmVxdWlyZSgnLi9pbml0Jyk7XG5yZXF1aXJlKCcuL2V2ZW50JykoQVYpO1xucmVxdWlyZSgnLi9nZW9wb2ludCcpKEFWKTtcbnJlcXVpcmUoJy4vYWNsJykoQVYpO1xucmVxdWlyZSgnLi9vcCcpKEFWKTtcbnJlcXVpcmUoJy4vcmVsYXRpb24nKShBVik7XG5yZXF1aXJlKCcuL2ZpbGUnKShBVik7XG5yZXF1aXJlKCcuL29iamVjdCcpKEFWKTtcbnJlcXVpcmUoJy4vcm9sZScpKEFWKTtcbnJlcXVpcmUoJy4vdXNlcicpKEFWKTtcbnJlcXVpcmUoJy4vcXVlcnknKShBVik7XG5yZXF1aXJlKCcuL2xpdmUtcXVlcnknKShBVik7XG5yZXF1aXJlKCcuL2NhcHRjaGEnKShBVik7XG5yZXF1aXJlKCcuL2Nsb3VkZnVuY3Rpb24nKShBVik7XG5yZXF1aXJlKCcuL3B1c2gnKShBVik7XG5yZXF1aXJlKCcuL3N0YXR1cycpKEFWKTtcbnJlcXVpcmUoJy4vc2VhcmNoJykoQVYpO1xucmVxdWlyZSgnLi9pbnNpZ2h0JykoQVYpO1xucmVxdWlyZSgnLi9mcmllbmRzaGlwJykoQVYpO1xuXG5BVi5Db252ZXJzYXRpb24gPSByZXF1aXJlKCcuL2NvbnZlcnNhdGlvbicpO1xucmVxdWlyZSgnLi9sZWFkZXJib2FyZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBBVjtcblxuLyoqXG4gKiBPcHRpb25zIHRvIGNvbnRyb2xsIHRoZSBhdXRoZW50aWNhdGlvbiBmb3IgYW4gb3BlcmF0aW9uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdXRoT3B0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFtzZXNzaW9uVG9rZW5dIFNwZWNpZnkgYSB1c2VyIHRvIGV4Y3V0ZSB0aGUgb3BlcmF0aW9uIGFzLlxuICogQHByb3BlcnR5IHtBVi5Vc2VyfSBbdXNlcl0gU3BlY2lmeSBhIHVzZXIgdG8gZXhjdXRlIHRoZSBvcGVyYXRpb24gYXMuIFRoZSB1c2VyIG11c3QgaGF2ZSBfc2Vzc2lvblRva2VuLiBUaGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQgaWYgc2Vzc2lvblRva2VuIG9wdGlvbiBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3VzZU1hc3RlcktleV0gSW5kaWNhdGVzIHdoZXRoZXIgbWFzdGVyS2V5IGlzIHVzZWQgZm9yIHRoaXMgb3BlcmF0aW9uLiBPbmx5IHZhbGlkIHdoZW4gbWFzdGVyS2V5IGlzIHNldC5cbiAqL1xuXG4vKipcbiAqIE9wdGlvbnMgdG8gY29udHJvbGwgdGhlIGF1dGhlbnRpY2F0aW9uIGZvciBhbiBTTVMgb3BlcmF0aW9uXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTTVNBdXRoT3B0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFtzZXNzaW9uVG9rZW5dIFNwZWNpZnkgYSB1c2VyIHRvIGV4Y3V0ZSB0aGUgb3BlcmF0aW9uIGFzLlxuICogQHByb3BlcnR5IHtBVi5Vc2VyfSBbdXNlcl0gU3BlY2lmeSBhIHVzZXIgdG8gZXhjdXRlIHRoZSBvcGVyYXRpb24gYXMuIFRoZSB1c2VyIG11c3QgaGF2ZSBfc2Vzc2lvblRva2VuLiBUaGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQgaWYgc2Vzc2lvblRva2VuIG9wdGlvbiBwcm92aWRlZC5cbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3VzZU1hc3RlcktleV0gSW5kaWNhdGVzIHdoZXRoZXIgbWFzdGVyS2V5IGlzIHVzZWQgZm9yIHRoaXMgb3BlcmF0aW9uLiBPbmx5IHZhbGlkIHdoZW4gbWFzdGVyS2V5IGlzIHNldC5cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbdmFsaWRhdGVUb2tlbl0gYSB2YWxpZGF0ZSB0b2tlbiByZXR1cm5lZCBieSB7QGxpbmsgQVYuQ2xvdWQudmVyaWZ5Q2FwdGNoYX1cbiAqL1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL3Byb21pc2UnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvcHJvbWlzZS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5hZ2dyZWdhdGUtZXJyb3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5wcm9taXNlJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnByb21pc2UuYWxsLXNldHRsZWQnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMucHJvbWlzZS5hbnknKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5Jyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvcicpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvcGF0aCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguUHJvbWlzZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9wcm9taXNlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHJlcGxhY2VkIHRvIG1vZHVsZSBiZWxvd1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5hZ2dyZWdhdGUtZXJyb3IuY29uc3RydWN0b3InKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFnZ3JlZ2F0ZS1lcnJvci5qc1xuLy8gbW9kdWxlIGlkID0gMjUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YnKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZicpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgY2xlYXJFcnJvclN0YWNrID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsZWFyLWVycm9yLXN0YWNrJyk7XG52YXIgaW5zdGFsbEVycm9yQ2F1c2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zdGFsbC1lcnJvci1jYXVzZScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xudmFyIG5vcm1hbGl6ZVN0cmluZ0FyZ3VtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25vcm1hbGl6ZS1zdHJpbmctYXJndW1lbnQnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBFUlJPUl9TVEFDS19JTlNUQUxMQUJMRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lcnJvci1zdGFjay1pbnN0YWxsYWJsZScpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciAkRXJyb3IgPSBFcnJvcjtcbnZhciBwdXNoID0gW10ucHVzaDtcblxudmFyICRBZ2dyZWdhdGVFcnJvciA9IGZ1bmN0aW9uIEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgbWVzc2FnZSAvKiAsIG9wdGlvbnMgKi8pIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgdmFyIGlzSW5zdGFuY2UgPSBpc1Byb3RvdHlwZU9mKEFnZ3JlZ2F0ZUVycm9yUHJvdG90eXBlLCB0aGlzKTtcbiAgdmFyIHRoYXQ7XG4gIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgIHRoYXQgPSBzZXRQcm90b3R5cGVPZihuZXcgJEVycm9yKCksIGlzSW5zdGFuY2UgPyBnZXRQcm90b3R5cGVPZih0aGlzKSA6IEFnZ3JlZ2F0ZUVycm9yUHJvdG90eXBlKTtcbiAgfSBlbHNlIHtcbiAgICB0aGF0ID0gaXNJbnN0YW5jZSA/IHRoaXMgOiBjcmVhdGUoQWdncmVnYXRlRXJyb3JQcm90b3R5cGUpO1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh0aGF0LCBUT19TVFJJTkdfVEFHLCAnRXJyb3InKTtcbiAgfVxuICBpZiAobWVzc2FnZSAhPT0gdW5kZWZpbmVkKSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkodGhhdCwgJ21lc3NhZ2UnLCBub3JtYWxpemVTdHJpbmdBcmd1bWVudChtZXNzYWdlKSk7XG4gIGlmIChFUlJPUl9TVEFDS19JTlNUQUxMQUJMRSkgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHRoYXQsICdzdGFjaycsIGNsZWFyRXJyb3JTdGFjayh0aGF0LnN0YWNrLCAxKSk7XG4gIGluc3RhbGxFcnJvckNhdXNlKHRoYXQsIG9wdGlvbnMpO1xuICB2YXIgZXJyb3JzQXJyYXkgPSBbXTtcbiAgaXRlcmF0ZShlcnJvcnMsIHB1c2gsIHsgdGhhdDogZXJyb3JzQXJyYXkgfSk7XG4gIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh0aGF0LCAnZXJyb3JzJywgZXJyb3JzQXJyYXkpO1xuICByZXR1cm4gdGhhdDtcbn07XG5cbmlmIChzZXRQcm90b3R5cGVPZikgc2V0UHJvdG90eXBlT2YoJEFnZ3JlZ2F0ZUVycm9yLCAkRXJyb3IpO1xuZWxzZSBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKCRBZ2dyZWdhdGVFcnJvciwgJEVycm9yLCB7IG5hbWU6IHRydWUgfSk7XG5cbnZhciBBZ2dyZWdhdGVFcnJvclByb3RvdHlwZSA9ICRBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUgPSBjcmVhdGUoJEVycm9yLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3RvcjogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsICRBZ2dyZWdhdGVFcnJvciksXG4gIG1lc3NhZ2U6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCAnJyksXG4gIG5hbWU6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCAnQWdncmVnYXRlRXJyb3InKVxufSk7XG5cbi8vIGBBZ2dyZWdhdGVFcnJvcmAgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYWdncmVnYXRlLWVycm9yLWNvbnN0cnVjdG9yXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgYXJpdHk6IDIgfSwge1xuICBBZ2dyZWdhdGVFcnJvcjogJEFnZ3JlZ2F0ZUVycm9yXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFnZ3JlZ2F0ZS1lcnJvci5jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMjUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgb3JkaW5hcnlUb1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vcmRpbmFyeS10by1wcmltaXRpdmUnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG52YXIgVE9fUFJJTUlUSVZFID0gd2VsbEtub3duU3ltYm9sKCd0b1ByaW1pdGl2ZScpO1xuXG4vLyBgVG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgaWYgKCFpc09iamVjdChpbnB1dCkgfHwgaXNTeW1ib2woaW5wdXQpKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBleG90aWNUb1ByaW0gPSBnZXRNZXRob2QoaW5wdXQsIFRPX1BSSU1JVElWRSk7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChleG90aWNUb1ByaW0pIHtcbiAgICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ2RlZmF1bHQnO1xuICAgIHJlc3VsdCA9IGNhbGwoZXhvdGljVG9QcmltLCBpbnB1dCwgcHJlZik7XG4gICAgaWYgKCFpc09iamVjdChyZXN1bHQpIHx8IGlzU3ltYm9sKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfVxuICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gIHJldHVybiBvcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBwcmVmKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3RvLXByaW1pdGl2ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBPcmRpbmFyeVRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb3JkaW5hcnl0b3ByaW1pdGl2ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChwcmVmID09PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlKGZuID0gaW5wdXQudG9TdHJpbmcpICYmICFpc09iamVjdCh2YWwgPSBjYWxsKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAoaXNDYWxsYWJsZShmbiA9IGlucHV0LnZhbHVlT2YpICYmICFpc09iamVjdCh2YWwgPSBjYWxsKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAocHJlZiAhPT0gJ3N0cmluZycgJiYgaXNDYWxsYWJsZShmbiA9IGlucHV0LnRvU3RyaW5nKSAmJiAhaXNPYmplY3QodmFsID0gY2FsbChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29yZGluYXJ5LXRvLXByaW1pdGl2ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB0cnkge1xuICAgIGRlZmluZVByb3BlcnR5KGdsb2JhbCwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IDI1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmICh0eXBlb2YgYXJndW1lbnQgPT0gJ29iamVjdCcgfHwgaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IHNldCBcIiArICRTdHJpbmcoYXJndW1lbnQpICsgJyBhcyBhIHByb3RvdHlwZScpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYS1wb3NzaWJsZS1wcm90b3R5cGUuanNcbi8vIG1vZHVsZSBpZCA9IDI1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIG93bktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb3duLWtleXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UsIGV4Y2VwdGlvbnMpIHtcbiAgdmFyIGtleXMgPSBvd25LZXlzKHNvdXJjZSk7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlLmY7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKCFoYXNPd24odGFyZ2V0LCBrZXkpICYmICEoZXhjZXB0aW9ucyAmJiBoYXNPd24oZXhjZXB0aW9ucywga2V5KSkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NvcHktY29uc3RydWN0b3ItcHJvcGVydGllcy5qc1xuLy8gbW9kdWxlIGlkID0gMjU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcycpO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG5cbnZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyhbXS5jb25jYXQpO1xuXG4vLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzXG5tb2R1bGUuZXhwb3J0cyA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnb3duS2V5cycpIHx8IGZ1bmN0aW9uIG93bktleXMoaXQpIHtcbiAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYoYW5PYmplY3QoaXQpKTtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICByZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gY29uY2F0KGtleXMsIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkpIDoga2V5cztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL293bi1rZXlzLmpzXG4vLyBtb2R1bGUgaWQgPSAyNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cbi8vIGBNYXRoLnRydW5jYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWF0aC50cnVuY1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tbWF0aC10cnVuYyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgudHJ1bmMgfHwgZnVuY3Rpb24gdHJ1bmMoeCkge1xuICB2YXIgbiA9ICt4O1xuICByZXR1cm4gKG4gPiAwID8gZmxvb3IgOiBjZWlsKShuKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL21hdGgtdHJ1bmMuanNcbi8vIG1vZHVsZSBpZCA9IDI1OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB0b0ludGVnZXJPckluZmluaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHknKTtcblxudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXJPckluZmluaXR5KGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy90by1sZW5ndGguanNcbi8vIG1vZHVsZSBpZCA9IDI1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxudmFyICRFcnJvciA9IEVycm9yO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcblxudmFyIFRFU1QgPSAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gU3RyaW5nKCRFcnJvcihhcmcpLnN0YWNrKTsgfSkoJ3p4Y2FzZCcpO1xudmFyIFY4X09SX0NIQUtSQV9TVEFDS19FTlRSWSA9IC9cXG5cXHMqYXQgW146XSo6W15cXG5dKi87XG52YXIgSVNfVjhfT1JfQ0hBS1JBX1NUQUNLID0gVjhfT1JfQ0hBS1JBX1NUQUNLX0VOVFJZLnRlc3QoVEVTVCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0YWNrLCBkcm9wRW50cmllcykge1xuICBpZiAoSVNfVjhfT1JfQ0hBS1JBX1NUQUNLICYmIHR5cGVvZiBzdGFjayA9PSAnc3RyaW5nJyAmJiAhJEVycm9yLnByZXBhcmVTdGFja1RyYWNlKSB7XG4gICAgd2hpbGUgKGRyb3BFbnRyaWVzLS0pIHN0YWNrID0gcmVwbGFjZShzdGFjaywgVjhfT1JfQ0hBS1JBX1NUQUNLX0VOVFJZLCAnJyk7XG4gIH0gcmV0dXJuIHN0YWNrO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY2xlYXItZXJyb3Itc3RhY2suanNcbi8vIG1vZHVsZSBpZCA9IDI2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG5cbi8vIGBJbnN0YWxsRXJyb3JDYXVzZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvcHJvcG9zYWwtZXJyb3ItY2F1c2UvI3NlYy1lcnJvcm9iamVjdHMtaW5zdGFsbC1lcnJvci1jYXVzZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgb3B0aW9ucykge1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NhdXNlJyBpbiBvcHRpb25zKSB7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KE8sICdjYXVzZScsIG9wdGlvbnMuY2F1c2UpO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pbnN0YWxsLWVycm9yLWNhdXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50LCAkZGVmYXVsdCkge1xuICByZXR1cm4gYXJndW1lbnQgPT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gJycgOiAkZGVmYXVsdCA6IHRvU3RyaW5nKGFyZ3VtZW50KTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL25vcm1hbGl6ZS1zdHJpbmctYXJndW1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDI2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBlcnJvciA9IEVycm9yKCdhJyk7XG4gIGlmICghKCdzdGFjaycgaW4gZXJyb3IpKSByZXR1cm4gdHJ1ZTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yLCAnc3RhY2snLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgNykpO1xuICByZXR1cm4gZXJyb3Iuc3RhY2sgIT09IDc7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZXJyb3Itc3RhY2staW5zdGFsbGFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDI2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcblxudmFyIFdlYWtNYXAgPSBnbG9iYWwuV2Vha01hcDtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0NhbGxhYmxlKFdlYWtNYXApICYmIC9uYXRpdmUgY29kZS8udGVzdChpbnNwZWN0U291cmNlKFdlYWtNYXApKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbmF0aXZlLXdlYWstbWFwLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUnKS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQsIEVOVU1FUkFCTEVfTkVYVCkge1xuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgSXRlcmF0b3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCshRU5VTUVSQUJMRV9ORVhULCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JDb25zdHJ1Y3RvciwgVE9fU1RSSU5HX1RBRywgZmFsc2UsIHRydWUpO1xuICBJdGVyYXRvcnNbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICByZXR1cm4gSXRlcmF0b3JDb25zdHJ1Y3Rvcjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2NyZWF0ZS1pdGVyYXRvci1jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMjY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcblxuLy8gYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IHt9LnRvU3RyaW5nIDogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDI2NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFRPRE86IFJlbW92ZSB0aGlzIG1vZHVsZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3Mgc3BsaXQgdG8gbW9kdWxlcyBsaXN0ZWQgYmVsb3dcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMucHJvbWlzZS5jb25zdHJ1Y3RvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLmFsbCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLmNhdGNoJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnByb21pc2UucmFjZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLnJlamVjdCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLnJlc29sdmUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuanNcbi8vIG1vZHVsZSBpZCA9IDI2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIElTX05PREUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLW5vZGUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgc2V0U3BlY2llcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtc3BlY2llcycpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4taW5zdGFuY2UnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHRhc2sgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdGFzaycpLnNldDtcbnZhciBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbWljcm90YXNrJyk7XG52YXIgaG9zdFJlcG9ydEVycm9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9ob3N0LXJlcG9ydC1lcnJvcnMnKTtcbnZhciBwZXJmb3JtID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BlcmZvcm0nKTtcbnZhciBRdWV1ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9xdWV1ZScpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3InKTtcbnZhciBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG5cbnZhciBQUk9NSVNFID0gJ1Byb21pc2UnO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xudmFyIE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCA9IFByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5SRUpFQ1RJT05fRVZFTlQ7XG52YXIgTkFUSVZFX1BST01JU0VfU1VCQ0xBU1NJTkcgPSBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24uU1VCQ0xBU1NJTkc7XG52YXIgZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihQUk9NSVNFKTtcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciAmJiBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xudmFyIFByb21pc2VDb25zdHJ1Y3RvciA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcjtcbnZhciBQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZVByb3RvdHlwZTtcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7XG52YXIgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHk7XG5cbnZhciBESVNQQVRDSF9FVkVOVCA9ICEhKGRvY3VtZW50ICYmIGRvY3VtZW50LmNyZWF0ZUV2ZW50ICYmIGdsb2JhbC5kaXNwYXRjaEV2ZW50KTtcbnZhciBVTkhBTkRMRURfUkVKRUNUSU9OID0gJ3VuaGFuZGxlZHJlamVjdGlvbic7XG52YXIgUkVKRUNUSU9OX0hBTkRMRUQgPSAncmVqZWN0aW9uaGFuZGxlZCc7XG52YXIgUEVORElORyA9IDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG52YXIgSEFORExFRCA9IDE7XG52YXIgVU5IQU5ETEVEID0gMjtcblxudmFyIEludGVybmFsLCBPd25Qcm9taXNlQ2FwYWJpbGl0eSwgUHJvbWlzZVdyYXBwZXIsIG5hdGl2ZVRoZW47XG5cbi8vIGhlbHBlcnNcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIGlzQ2FsbGFibGUodGhlbiA9IGl0LnRoZW4pID8gdGhlbiA6IGZhbHNlO1xufTtcblxudmFyIGNhbGxSZWFjdGlvbiA9IGZ1bmN0aW9uIChyZWFjdGlvbiwgc3RhdGUpIHtcbiAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG4gIHZhciBvayA9IHN0YXRlLnN0YXRlID09IEZVTEZJTExFRDtcbiAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbDtcbiAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICB2YXIgcmVqZWN0ID0gcmVhY3Rpb24ucmVqZWN0O1xuICB2YXIgZG9tYWluID0gcmVhY3Rpb24uZG9tYWluO1xuICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gIHRyeSB7XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgaWYgKHN0YXRlLnJlamVjdGlvbiA9PT0gVU5IQU5ETEVEKSBvbkhhbmRsZVVuaGFuZGxlZChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlamVjdGlvbiA9IEhBTkRMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpOyAvLyBjYW4gdGhyb3dcbiAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgZXhpdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgIGNhbGwodGhlbiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZG9tYWluICYmICFleGl0ZWQpIGRvbWFpbi5leGl0KCk7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgfVxufTtcblxudmFyIG5vdGlmeSA9IGZ1bmN0aW9uIChzdGF0ZSwgaXNSZWplY3QpIHtcbiAgaWYgKHN0YXRlLm5vdGlmaWVkKSByZXR1cm47XG4gIHN0YXRlLm5vdGlmaWVkID0gdHJ1ZTtcbiAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVhY3Rpb25zID0gc3RhdGUucmVhY3Rpb25zO1xuICAgIHZhciByZWFjdGlvbjtcbiAgICB3aGlsZSAocmVhY3Rpb24gPSByZWFjdGlvbnMuZ2V0KCkpIHtcbiAgICAgIGNhbGxSZWFjdGlvbihyZWFjdGlvbiwgc3RhdGUpO1xuICAgIH1cbiAgICBzdGF0ZS5ub3RpZmllZCA9IGZhbHNlO1xuICAgIGlmIChpc1JlamVjdCAmJiAhc3RhdGUucmVqZWN0aW9uKSBvblVuaGFuZGxlZChzdGF0ZSk7XG4gIH0pO1xufTtcblxudmFyIGRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgcHJvbWlzZSwgcmVhc29uKSB7XG4gIHZhciBldmVudCwgaGFuZGxlcjtcbiAgaWYgKERJU1BBVENIX0VWRU5UKSB7XG4gICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldmVudC5wcm9taXNlID0gcHJvbWlzZTtcbiAgICBldmVudC5yZWFzb24gPSByZWFzb247XG4gICAgZXZlbnQuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCB0cnVlKTtcbiAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0gZWxzZSBldmVudCA9IHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiByZWFzb24gfTtcbiAgaWYgKCFOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQgJiYgKGhhbmRsZXIgPSBnbG9iYWxbJ29uJyArIG5hbWVdKSkgaGFuZGxlcihldmVudCk7XG4gIGVsc2UgaWYgKG5hbWUgPT09IFVOSEFORExFRF9SRUpFQ1RJT04pIGhvc3RSZXBvcnRFcnJvcnMoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHJlYXNvbik7XG59O1xuXG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY2FsbCh0YXNrLCBnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHN0YXRlLmZhY2FkZTtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB2YXIgSVNfVU5IQU5ETEVEID0gaXNVbmhhbmRsZWQoc3RhdGUpO1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKElTX1VOSEFORExFRCkge1xuICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChJU19OT0RFKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFVOSEFORExFRF9SRUpFQ1RJT04sIHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHN0YXRlLnJlamVjdGlvbiA9IElTX05PREUgfHwgaXNVbmhhbmRsZWQoc3RhdGUpID8gVU5IQU5ETEVEIDogSEFORExFRDtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHRocm93IHJlc3VsdC52YWx1ZTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5yZWplY3Rpb24gIT09IEhBTkRMRUQgJiYgIXN0YXRlLnBhcmVudDtcbn07XG5cbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBjYWxsKHRhc2ssIGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gc3RhdGUuZmFjYWRlO1xuICAgIGlmIChJU19OT0RFKSB7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgZGlzcGF0Y2hFdmVudChSRUpFQ1RJT05fSEFORExFRCwgcHJvbWlzZSwgc3RhdGUudmFsdWUpO1xuICB9KTtcbn07XG5cbnZhciBiaW5kID0gZnVuY3Rpb24gKGZuLCBzdGF0ZSwgdW53cmFwKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBmbihzdGF0ZSwgdmFsdWUsIHVud3JhcCk7XG4gIH07XG59O1xuXG52YXIgaW50ZXJuYWxSZWplY3QgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlLCB1bndyYXApIHtcbiAgaWYgKHN0YXRlLmRvbmUpIHJldHVybjtcbiAgc3RhdGUuZG9uZSA9IHRydWU7XG4gIGlmICh1bndyYXApIHN0YXRlID0gdW53cmFwO1xuICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICBzdGF0ZS5zdGF0ZSA9IFJFSkVDVEVEO1xuICBub3RpZnkoc3RhdGUsIHRydWUpO1xufTtcblxudmFyIGludGVybmFsUmVzb2x2ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgdmFsdWUsIHVud3JhcCkge1xuICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuO1xuICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgaWYgKHVud3JhcCkgc3RhdGUgPSB1bndyYXA7XG4gIHRyeSB7XG4gICAgaWYgKHN0YXRlLmZhY2FkZSA9PT0gdmFsdWUpIHRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIHZhciB0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSk7XG4gICAgaWYgKHRoZW4pIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBkb25lOiBmYWxzZSB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGwodGhlbiwgdmFsdWUsXG4gICAgICAgICAgICBiaW5kKGludGVybmFsUmVzb2x2ZSwgd3JhcHBlciwgc3RhdGUpLFxuICAgICAgICAgICAgYmluZChpbnRlcm5hbFJlamVjdCwgd3JhcHBlciwgc3RhdGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpbnRlcm5hbFJlamVjdCh3cmFwcGVyLCBlcnJvciwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHN0YXRlLnN0YXRlID0gRlVMRklMTEVEO1xuICAgICAgbm90aWZ5KHN0YXRlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGludGVybmFsUmVqZWN0KHsgZG9uZTogZmFsc2UgfSwgZXJyb3IsIHN0YXRlKTtcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmIChGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUikge1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICBQcm9taXNlQ29uc3RydWN0b3IgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCBQcm9taXNlUHJvdG90eXBlKTtcbiAgICBhQ2FsbGFibGUoZXhlY3V0b3IpO1xuICAgIGNhbGwoSW50ZXJuYWwsIHRoaXMpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUHJvbWlzZVN0YXRlKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihiaW5kKGludGVybmFsUmVzb2x2ZSwgc3RhdGUpLCBiaW5kKGludGVybmFsUmVqZWN0LCBzdGF0ZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpbnRlcm5hbFJlamVjdChzdGF0ZSwgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBQcm9taXNlUHJvdG90eXBlID0gUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICAgIHR5cGU6IFBST01JU0UsXG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIG5vdGlmaWVkOiBmYWxzZSxcbiAgICAgIHBhcmVudDogZmFsc2UsXG4gICAgICByZWFjdGlvbnM6IG5ldyBRdWV1ZSgpLFxuICAgICAgcmVqZWN0aW9uOiBmYWxzZSxcbiAgICAgIHN0YXRlOiBQRU5ESU5HLFxuICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIGBQcm9taXNlLnByb3RvdHlwZS50aGVuYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnByb3RvdHlwZS50aGVuXG4gIEludGVybmFsLnByb3RvdHlwZSA9IGRlZmluZUJ1aWx0SW4oUHJvbWlzZVByb3RvdHlwZSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUodGhpcyk7XG4gICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIFByb21pc2VDb25zdHJ1Y3RvcikpO1xuICAgIHN0YXRlLnBhcmVudCA9IHRydWU7XG4gICAgcmVhY3Rpb24ub2sgPSBpc0NhbGxhYmxlKG9uRnVsZmlsbGVkKSA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICByZWFjdGlvbi5mYWlsID0gaXNDYWxsYWJsZShvblJlamVjdGVkKSAmJiBvblJlamVjdGVkO1xuICAgIHJlYWN0aW9uLmRvbWFpbiA9IElTX05PREUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICBpZiAoc3RhdGUuc3RhdGUgPT0gUEVORElORykgc3RhdGUucmVhY3Rpb25zLmFkZChyZWFjdGlvbik7XG4gICAgZWxzZSBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbFJlYWN0aW9uKHJlYWN0aW9uLCBzdGF0ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gIH0pO1xuXG4gIE93blByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gbmV3IEludGVybmFsKCk7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUocHJvbWlzZSk7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnJlc29sdmUgPSBiaW5kKGludGVybmFsUmVzb2x2ZSwgc3RhdGUpO1xuICAgIHRoaXMucmVqZWN0ID0gYmluZChpbnRlcm5hbFJlamVjdCwgc3RhdGUpO1xuICB9O1xuXG4gIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgcmV0dXJuIEMgPT09IFByb21pc2VDb25zdHJ1Y3RvciB8fCBDID09PSBQcm9taXNlV3JhcHBlclxuICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xuXG4gIGlmICghSVNfUFVSRSAmJiBpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikgJiYgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIG5hdGl2ZVRoZW4gPSBOYXRpdmVQcm9taXNlUHJvdG90eXBlLnRoZW47XG5cbiAgICBpZiAoIU5BVElWRV9QUk9NSVNFX1NVQkNMQVNTSU5HKSB7XG4gICAgICAvLyBtYWtlIGBQcm9taXNlI3RoZW5gIHJldHVybiBhIHBvbHlmaWxsZWQgYFByb21pc2VgIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgICBkZWZpbmVCdWlsdEluKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsICd0aGVuJywgZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUNvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBjYWxsKG5hdGl2ZVRoZW4sIHRoYXQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY0MFxuICAgICAgfSwgeyB1bnNhZmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gbWFrZSBgLmNvbnN0cnVjdG9yID09PSBQcm9taXNlYCB3b3JrIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBOYXRpdmVQcm9taXNlUHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxuICAgIC8vIG1ha2UgYGluc3RhbmNlb2YgUHJvbWlzZWAgd29yayBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgICAgc2V0UHJvdG90eXBlT2YoTmF0aXZlUHJvbWlzZVByb3RvdHlwZSwgUHJvbWlzZVByb3RvdHlwZSk7XG4gICAgfVxuICB9XG59XG5cbiQoeyBnbG9iYWw6IHRydWUsIGNvbnN0cnVjdG9yOiB0cnVlLCB3cmFwOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgUHJvbWlzZTogUHJvbWlzZUNvbnN0cnVjdG9yXG59KTtcblxuc2V0VG9TdHJpbmdUYWcoUHJvbWlzZUNvbnN0cnVjdG9yLCBQUk9NSVNFLCBmYWxzZSwgdHJ1ZSk7XG5zZXRTcGVjaWVzKFBST01JU0UpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMucHJvbWlzZS5jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gMjY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENPTlNUUlVDVE9SX05BTUUpIHtcbiAgdmFyIENvbnN0cnVjdG9yID0gZ2V0QnVpbHRJbihDT05TVFJVQ1RPUl9OQU1FKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgQ29uc3RydWN0b3IgJiYgIUNvbnN0cnVjdG9yW1NQRUNJRVNdKSB7XG4gICAgZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFNQRUNJRVMsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIH0pO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zZXQtc3BlY2llcy5qc1xuLy8gbW9kdWxlIGlkID0gMjY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFByb3RvdHlwZSkge1xuICBpZiAoaXNQcm90b3R5cGVPZihQcm90b3R5cGUsIGl0KSkgcmV0dXJuIGl0O1xuICB0aHJvdyAkVHlwZUVycm9yKCdJbmNvcnJlY3QgaW52b2NhdGlvbicpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYW4taW5zdGFuY2UuanNcbi8vIG1vZHVsZSBpZCA9IDI3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChwYXNzZWQsIHJlcXVpcmVkKSB7XG4gIGlmIChwYXNzZWQgPCByZXF1aXJlZCkgdGhyb3cgJFR5cGVFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcbiAgcmV0dXJuIHBhc3NlZDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3ZhbGlkYXRlLWFyZ3VtZW50cy1sZW5ndGguanNcbi8vIG1vZHVsZSBpZCA9IDI3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpLmY7XG52YXIgbWFjcm90YXNrID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Rhc2snKS5zZXQ7XG52YXIgSVNfSU9TID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1pb3MnKTtcbnZhciBJU19JT1NfUEVCQkxFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1pb3MtcGViYmxlJyk7XG52YXIgSVNfV0VCT1NfV0VCS0lUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy13ZWJvcy13ZWJraXQnKTtcbnZhciBJU19OT0RFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1ub2RlJyk7XG5cbnZhciBNdXRhdGlvbk9ic2VydmVyID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgZG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIFByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbi8vIE5vZGUuanMgMTEgc2hvd3MgRXhwZXJpbWVudGFsV2FybmluZyBvbiBnZXR0aW5nIGBxdWV1ZU1pY3JvdGFza2BcbnZhciBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsLCAncXVldWVNaWNyb3Rhc2snKTtcbnZhciBxdWV1ZU1pY3JvdGFzayA9IHF1ZXVlTWljcm90YXNrRGVzY3JpcHRvciAmJiBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IudmFsdWU7XG5cbnZhciBmbHVzaCwgaGVhZCwgbGFzdCwgbm90aWZ5LCB0b2dnbGUsIG5vZGUsIHByb21pc2UsIHRoZW47XG5cbi8vIG1vZGVybiBlbmdpbmVzIGhhdmUgcXVldWVNaWNyb3Rhc2sgbWV0aG9kXG5pZiAoIXF1ZXVlTWljcm90YXNrKSB7XG4gIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChJU19OT0RFICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpIHBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgIGZuID0gaGVhZC5mbjtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGhlYWQpIG5vdGlmeSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG4gIC8vIGFsc28gZXhjZXB0IFdlYk9TIFdlYmtpdCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODk4XG4gIGlmICghSVNfSU9TICYmICFJU19OT0RFICYmICFJU19XRUJPU19XRUJLSVQgJiYgTXV0YXRpb25PYnNlcnZlciAmJiBkb2N1bWVudCkge1xuICAgIHRvZ2dsZSA9IHRydWU7XG4gICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICB9O1xuICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuICB9IGVsc2UgaWYgKCFJU19JT1NfUEVCQkxFICYmIFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKSB7XG4gICAgLy8gUHJvbWlzZS5yZXNvbHZlIHdpdGhvdXQgYW4gYXJndW1lbnQgdGhyb3dzIGFuIGVycm9yIGluIExHIFdlYk9TIDJcbiAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgLy8gd29ya2Fyb3VuZCBvZiBXZWJLaXQgfiBpT1MgU2FmYXJpIDEwLjEgYnVnXG4gICAgcHJvbWlzZS5jb25zdHJ1Y3RvciA9IFByb21pc2U7XG4gICAgdGhlbiA9IGJpbmQocHJvbWlzZS50aGVuLCBwcm9taXNlKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBOb2RlLmpzIHdpdGhvdXQgcHJvbWlzZXNcbiAgfSBlbHNlIGlmIChJU19OT0RFKSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnZVxuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuYmluZChnbG9iYWwpXG4gICAgbWFjcm90YXNrID0gYmluZChtYWNyb3Rhc2ssIGdsb2JhbCk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWFjcm90YXNrKGZsdXNoKTtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcXVldWVNaWNyb3Rhc2sgfHwgZnVuY3Rpb24gKGZuKSB7XG4gIHZhciB0YXNrID0geyBmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCB9O1xuICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzaztcbiAgaWYgKCFoZWFkKSB7XG4gICAgaGVhZCA9IHRhc2s7XG4gICAgbm90aWZ5KCk7XG4gIH0gbGFzdCA9IHRhc2s7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9taWNyb3Rhc2suanNcbi8vIG1vZHVsZSBpZCA9IDI3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gL2lwYWR8aXBob25lfGlwb2QvaS50ZXN0KHVzZXJBZ2VudCkgJiYgZ2xvYmFsLlBlYmJsZSAhPT0gdW5kZWZpbmVkO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbmdpbmUtaXMtaW9zLXBlYmJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMjczXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QodXNlckFnZW50KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLWlzLXdlYm9zLXdlYmtpdC5qc1xuLy8gbW9kdWxlIGlkID0gMjc0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgY29uc29sZSA9IGdsb2JhbC5jb25zb2xlO1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgYXJndW1lbnRzLmxlbmd0aCA9PSAxID8gY29uc29sZS5lcnJvcihhKSA6IGNvbnNvbGUuZXJyb3IoYSwgYik7XG4gIH1cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2hvc3QtcmVwb3J0LWVycm9ycy5qc1xuLy8gbW9kdWxlIGlkID0gMjc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmhlYWQgPSBudWxsO1xuICB0aGlzLnRhaWwgPSBudWxsO1xufTtcblxuUXVldWUucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIGVudHJ5ID0geyBpdGVtOiBpdGVtLCBuZXh0OiBudWxsIH07XG4gICAgaWYgKHRoaXMuaGVhZCkgdGhpcy50YWlsLm5leHQgPSBlbnRyeTtcbiAgICBlbHNlIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgIHRoaXMudGFpbCA9IGVudHJ5O1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmhlYWQ7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICB0aGlzLmhlYWQgPSBlbnRyeS5uZXh0O1xuICAgICAgaWYgKHRoaXMudGFpbCA9PT0gZW50cnkpIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICByZXR1cm4gZW50cnkuaXRlbTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUXVldWU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL3F1ZXVlLmpzXG4vLyBtb2R1bGUgaWQgPSAyNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgdHlwZW9mIERlbm8gIT0gJ29iamVjdCc7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS1pcy1icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAyNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcbnZhciBwZXJmb3JtID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BlcmZvcm0nKTtcbnZhciBpdGVyYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdGUnKTtcbnZhciBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLXN0YXRpY3MtaW5jb3JyZWN0LWl0ZXJhdGlvbicpO1xuXG4vLyBgUHJvbWlzZS5hbGxgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFsbFxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OIH0sIHtcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHByb21pc2VSZXNvbHZlID0gYUNhbGxhYmxlKEMucmVzb2x2ZSk7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGl0ZXJhdGUoaXRlcmFibGUsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNvdW50ZXIrKztcbiAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIGNhbGwoJHByb21pc2VSZXNvbHZlLCBDLCBwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGlmIChhbHJlYWR5Q2FsbGVkKSByZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZXJyb3IpIHJlamVjdChyZXN1bHQudmFsdWUpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMucHJvbWlzZS5hbGwuanNcbi8vIG1vZHVsZSBpZCA9IDI3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uJykuQ09OU1RSVUNUT1I7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcblxudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuLy8gYFByb21pc2UucHJvdG90eXBlLmNhdGNoYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgcHJvdG86IHRydWUsIGZvcmNlZDogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IsIHJlYWw6IHRydWUgfSwge1xuICAnY2F0Y2gnOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgfVxufSk7XG5cbi8vIG1ha2VzIHN1cmUgdGhhdCBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzIGBQcm9taXNlI2NhdGNoYCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbmlmICghSVNfUFVSRSAmJiBpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikpIHtcbiAgdmFyIG1ldGhvZCA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKS5wcm90b3R5cGVbJ2NhdGNoJ107XG4gIGlmIChOYXRpdmVQcm9taXNlUHJvdG90eXBlWydjYXRjaCddICE9PSBtZXRob2QpIHtcbiAgICBkZWZpbmVCdWlsdEluKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsICdjYXRjaCcsIG1ldGhvZCwgeyB1bnNhZmU6IHRydWUgfSk7XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuY2F0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDI3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGVyZm9ybScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xudmFyIFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2Utc3RhdGljcy1pbmNvcnJlY3QtaXRlcmF0aW9uJyk7XG5cbi8vIGBQcm9taXNlLnJhY2VgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJhY2VcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiB9LCB7XG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHByb21pc2VSZXNvbHZlID0gYUNhbGxhYmxlKEMucmVzb2x2ZSk7XG4gICAgICBpdGVyYXRlKGl0ZXJhYmxlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICBjYWxsKCRwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UucmFjZS5qc1xuLy8gbW9kdWxlIGlkID0gMjgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uJykuQ09OU1RSVUNUT1I7XG5cbi8vIGBQcm9taXNlLnJlamVjdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVqZWN0XG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgfSwge1xuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKHRoaXMpO1xuICAgIGNhbGwoY2FwYWJpbGl0eS5yZWplY3QsIHVuZGVmaW5lZCwgcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLnJlamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMjgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3InKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpLkNPTlNUUlVDVE9SO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtcmVzb2x2ZScpO1xuXG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKTtcbnZhciBDSEVDS19XUkFQUEVSID0gSVNfUFVSRSAmJiAhRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1I7XG5cbi8vIGBQcm9taXNlLnJlc29sdmVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJlc29sdmVcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBJU19QVVJFIHx8IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKENIRUNLX1dSQVBQRVIgJiYgdGhpcyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA/IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA6IHRoaXMsIHgpO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UucmVzb2x2ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wZXJmb3JtJyk7XG52YXIgaXRlcmF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRlJyk7XG5cbi8vIGBQcm9taXNlLmFsbFNldHRsZWRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFsbHNldHRsZWRcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSB9LCB7XG4gIGFsbFNldHRsZWQ6IGZ1bmN0aW9uIGFsbFNldHRsZWQoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUoQy5yZXNvbHZlKTtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gY291bnRlcisrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgY2FsbChwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0geyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbjogZXJyb3IgfTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLmFsbC1zZXR0bGVkLmpzXG4vLyBtb2R1bGUgaWQgPSAyODNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGVyZm9ybScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xuXG52YXIgUFJPTUlTRV9BTllfRVJST1IgPSAnTm8gb25lIHByb21pc2UgcmVzb2x2ZWQnO1xuXG4vLyBgUHJvbWlzZS5hbnlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFueVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlIH0sIHtcbiAgYW55OiBmdW5jdGlvbiBhbnkoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIEFnZ3JlZ2F0ZUVycm9yID0gZ2V0QnVpbHRJbignQWdncmVnYXRlRXJyb3InKTtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcm9taXNlUmVzb2x2ZSA9IGFDYWxsYWJsZShDLnJlc29sdmUpO1xuICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICB2YXIgYWxyZWFkeVJlc29sdmVkID0gZmFsc2U7XG4gICAgICBpdGVyYXRlKGl0ZXJhYmxlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgaW5kZXggPSBjb3VudGVyKys7XG4gICAgICAgIHZhciBhbHJlYWR5UmVqZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIGNhbGwocHJvbWlzZVJlc29sdmUsIEMsIHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlSZWplY3RlZCB8fCBhbHJlYWR5UmVzb2x2ZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5UmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeVJlamVjdGVkIHx8IGFscmVhZHlSZXNvbHZlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3JzW2luZGV4XSA9IGVycm9yO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzLCBQUk9NSVNFX0FOWV9FUlJPUikpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgLS1yZW1haW5pbmcgfHwgcmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihlcnJvcnMsIFBST01JU0VfQU5ZX0VSUk9SKSk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5wcm9taXNlLmFueS5qc1xuLy8gbW9kdWxlIGlkID0gMjg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtcmVzb2x2ZScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG5cbnZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbi8vIFNhZmFyaSBidWcgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIwMDgyOVxudmFyIE5PTl9HRU5FUklDID0gISFOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby10aGVuYWJsZSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBOYXRpdmVQcm9taXNlUHJvdG90eXBlWydmaW5hbGx5J10uY2FsbCh7IHRoZW46IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSB9LCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xufSk7XG5cbi8vIGBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUuZmluYWxseVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBwcm90bzogdHJ1ZSwgcmVhbDogdHJ1ZSwgZm9yY2VkOiBOT05fR0VORVJJQyB9LCB7XG4gICdmaW5hbGx5JzogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGdldEJ1aWx0SW4oJ1Byb21pc2UnKSk7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBpc0NhbGxhYmxlKG9uRmluYWxseSk7XG4gICAgcmV0dXJuIHRoaXMudGhlbihcbiAgICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICB9IDogb25GaW5hbGx5LFxuICAgICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IGU7IH0pO1xuICAgICAgfSA6IG9uRmluYWxseVxuICAgICk7XG4gIH1cbn0pO1xuXG4vLyBtYWtlcyBzdXJlIHRoYXQgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJcyBgUHJvbWlzZSNmaW5hbGx5YCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbmlmICghSVNfUFVSRSAmJiBpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikpIHtcbiAgdmFyIG1ldGhvZCA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKS5wcm90b3R5cGVbJ2ZpbmFsbHknXTtcbiAgaWYgKE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2ZpbmFsbHknXSAhPT0gbWV0aG9kKSB7XG4gICAgZGVmaW5lQnVpbHRJbihOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAnZmluYWxseScsIG1ldGhvZCwgeyB1bnNhZmU6IHRydWUgfSk7XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnByb21pc2UuZmluYWxseS5qc1xuLy8gbW9kdWxlIGlkID0gMjg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW50ZWdlci1vci1pbmZpbml0eScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG5cbnZhciBjaGFyQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQXQpO1xudmFyIGNoYXJDb2RlQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQ29kZUF0KTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChDT05WRVJUX1RPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBwb3MpIHtcbiAgICB2YXIgUyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoJHRoaXMpKTtcbiAgICB2YXIgcG9zaXRpb24gPSB0b0ludGVnZXJPckluZmluaXR5KHBvcyk7XG4gICAgdmFyIHNpemUgPSBTLmxlbmd0aDtcbiAgICB2YXIgZmlyc3QsIHNlY29uZDtcbiAgICBpZiAocG9zaXRpb24gPCAwIHx8IHBvc2l0aW9uID49IHNpemUpIHJldHVybiBDT05WRVJUX1RPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGZpcnN0ID0gY2hhckNvZGVBdChTLCBwb3NpdGlvbik7XG4gICAgcmV0dXJuIGZpcnN0IDwgMHhEODAwIHx8IGZpcnN0ID4gMHhEQkZGIHx8IHBvc2l0aW9uICsgMSA9PT0gc2l6ZVxuICAgICAgfHwgKHNlY29uZCA9IGNoYXJDb2RlQXQoUywgcG9zaXRpb24gKyAxKSkgPCAweERDMDAgfHwgc2Vjb25kID4gMHhERkZGXG4gICAgICAgID8gQ09OVkVSVF9UT19TVFJJTkdcbiAgICAgICAgICA/IGNoYXJBdChTLCBwb3NpdGlvbilcbiAgICAgICAgICA6IGZpcnN0XG4gICAgICAgIDogQ09OVkVSVF9UT19TVFJJTkdcbiAgICAgICAgICA/IHN0cmluZ1NsaWNlKFMsIHBvc2l0aW9uLCBwb3NpdGlvbiArIDIpXG4gICAgICAgICAgOiAoZmlyc3QgLSAweEQ4MDAgPDwgMTApICsgKHNlY29uZCAtIDB4REMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLmNvZGVwb2ludGF0XG4gIGNvZGVBdDogY3JlYXRlTWV0aG9kKGZhbHNlKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUuYXRgIG1ldGhvZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWF0aGlhc2J5bmVucy9TdHJpbmcucHJvdG90eXBlLmF0XG4gIGNoYXJBdDogY3JlYXRlTWV0aG9kKHRydWUpXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zdHJpbmctbXVsdGlieXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAyODZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBpdGVyYWJsZSBET00gY29sbGVjdGlvbnNcbi8vIGZsYWcgLSBgaXRlcmFibGVgIGludGVyZmFjZSAtICdlbnRyaWVzJywgJ2tleXMnLCAndmFsdWVzJywgJ2ZvckVhY2gnIG1ldGhvZHNcbm1vZHVsZS5leHBvcnRzID0ge1xuICBDU1NSdWxlTGlzdDogMCxcbiAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogMCxcbiAgQ1NTVmFsdWVMaXN0OiAwLFxuICBDbGllbnRSZWN0TGlzdDogMCxcbiAgRE9NUmVjdExpc3Q6IDAsXG4gIERPTVN0cmluZ0xpc3Q6IDAsXG4gIERPTVRva2VuTGlzdDogMSxcbiAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IDAsXG4gIEZpbGVMaXN0OiAwLFxuICBIVE1MQWxsQ29sbGVjdGlvbjogMCxcbiAgSFRNTENvbGxlY3Rpb246IDAsXG4gIEhUTUxGb3JtRWxlbWVudDogMCxcbiAgSFRNTFNlbGVjdEVsZW1lbnQ6IDAsXG4gIE1lZGlhTGlzdDogMCxcbiAgTWltZVR5cGVBcnJheTogMCxcbiAgTmFtZWROb2RlTWFwOiAwLFxuICBOb2RlTGlzdDogMSxcbiAgUGFpbnRSZXF1ZXN0TGlzdDogMCxcbiAgUGx1Z2luOiAwLFxuICBQbHVnaW5BcnJheTogMCxcbiAgU1ZHTGVuZ3RoTGlzdDogMCxcbiAgU1ZHTnVtYmVyTGlzdDogMCxcbiAgU1ZHUGF0aFNlZ0xpc3Q6IDAsXG4gIFNWR1BvaW50TGlzdDogMCxcbiAgU1ZHU3RyaW5nTGlzdDogMCxcbiAgU1ZHVHJhbnNmb3JtTGlzdDogMCxcbiAgU291cmNlQnVmZmVyTGlzdDogMCxcbiAgU3R5bGVTaGVldExpc3Q6IDAsXG4gIFRleHRUcmFja0N1ZUxpc3Q6IDAsXG4gIFRleHRUcmFja0xpc3Q6IDAsXG4gIFRvdWNoTGlzdDogMFxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZG9tLWl0ZXJhYmxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMjg3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gRGVmYXVsdCBFeHBvcnRcbi8vID09PT09PT09PT09PT09XG4vLyBJbiB0aGlzIG1vZHVsZSwgd2UgbWl4IG91ciBidW5kbGVkIGV4cG9ydHMgaW50byB0aGUgYF9gIG9iamVjdCBhbmQgZXhwb3J0XG4vLyB0aGUgcmVzdWx0LiBUaGlzIGlzIGFuYWxvZ291cyB0byBzZXR0aW5nIGBtb2R1bGUuZXhwb3J0cyA9IF9gIGluIENvbW1vbkpTLlxuLy8gSGVuY2UsIHRoaXMgbW9kdWxlIGlzIGFsc28gdGhlIGVudHJ5IHBvaW50IG9mIG91ciBVTUQgYnVuZGxlIGFuZCB0aGUgcGFja2FnZVxuLy8gZW50cnkgcG9pbnQgZm9yIENvbW1vbkpTIGFuZCBBTUQgdXNlcnMuIEluIG90aGVyIHdvcmRzLCB0aGlzIGlzICh0aGUgc291cmNlXG4vLyBvZikgdGhlIG1vZHVsZSB5b3UgYXJlIGludGVyZmFjaW5nIHdpdGggd2hlbiB5b3UgZG8gYW55IG9mIHRoZSBmb2xsb3dpbmc6XG4vL1xuLy8gYGBganNcbi8vIC8vIENvbW1vbkpTXG4vLyB2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbi8vXG4vLyAvLyBBTURcbi8vIGRlZmluZShbJ3VuZGVyc2NvcmUnXSwgZnVuY3Rpb24oXykgey4uLn0pO1xuLy9cbi8vIC8vIFVNRCBpbiB0aGUgYnJvd3NlclxuLy8gLy8gXyBpcyBhdmFpbGFibGUgYXMgYSBnbG9iYWwgdmFyaWFibGVcbi8vIGBgYFxuaW1wb3J0ICogYXMgYWxsRXhwb3J0cyBmcm9tICcuL2luZGV4LmpzJztcbmltcG9ydCB7IG1peGluIH0gZnJvbSAnLi9pbmRleC5qcyc7XG5cbi8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC5cbnZhciBfID0gbWl4aW4oYWxsRXhwb3J0cyk7XG4vLyBMZWdhY3kgTm9kZS5qcyBBUEkuXG5fLl8gPSBfO1xuLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIEFQSS5cbmV4cG9ydCBkZWZhdWx0IF87XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW5kZXgtZGVmYXVsdC5qc1xuLy8gbW9kdWxlIGlkID0gMjg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNOdWxsKG9iaikge1xuICByZXR1cm4gb2JqID09PSBudWxsO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzTnVsbC5qc1xuLy8gbW9kdWxlIGlkID0gMjg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIERPTSBlbGVtZW50P1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xuICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNFbGVtZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAyOTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdGFnVGVzdGVyIGZyb20gJy4vX3RhZ1Rlc3Rlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHRhZ1Rlc3RlcignRGF0ZScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzRGF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMjkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHRhZ1Rlc3RlciBmcm9tICcuL190YWdUZXN0ZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB0YWdUZXN0ZXIoJ1JlZ0V4cCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzUmVnRXhwLmpzXG4vLyBtb2R1bGUgaWQgPSAyOTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdGFnVGVzdGVyIGZyb20gJy4vX3RhZ1Rlc3Rlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHRhZ1Rlc3RlcignRXJyb3InKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pc0Vycm9yLmpzXG4vLyBtb2R1bGUgaWQgPSAyOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgdGFnVGVzdGVyIGZyb20gJy4vX3RhZ1Rlc3Rlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHRhZ1Rlc3RlcignT2JqZWN0Jyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2hhc09iamVjdFRhZy5qc1xuLy8gbW9kdWxlIGlkID0gMjk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHsgX2lzRmluaXRlIH0gZnJvbSAnLi9fc2V0dXAuanMnO1xuaW1wb3J0IGlzU3ltYm9sIGZyb20gJy4vaXNTeW1ib2wuanMnO1xuXG4vLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Zpbml0ZShvYmopIHtcbiAgcmV0dXJuICFpc1N5bWJvbChvYmopICYmIF9pc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzRmluaXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAyOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlU2l6ZVByb3BlcnR5Q2hlY2sgZnJvbSAnLi9fY3JlYXRlU2l6ZVByb3BlcnR5Q2hlY2suanMnO1xuaW1wb3J0IGdldEJ5dGVMZW5ndGggZnJvbSAnLi9fZ2V0Qnl0ZUxlbmd0aC5qcyc7XG5cbi8vIEludGVybmFsIGhlbHBlciB0byBkZXRlcm1pbmUgd2hldGhlciB3ZSBzaG91bGQgc3BlbmQgZXh0ZW5zaXZlIGNoZWNrcyBhZ2FpbnN0XG4vLyBgQXJyYXlCdWZmZXJgIGV0IGFsLlxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlU2l6ZVByb3BlcnR5Q2hlY2soZ2V0Qnl0ZUxlbmd0aCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX2lzQnVmZmVyTGlrZS5qc1xuLy8gbW9kdWxlIGlkID0gMjk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGdldExlbmd0aCBmcm9tICcuL19nZXRMZW5ndGguanMnO1xuaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcbmltcG9ydCBpc1N0cmluZyBmcm9tICcuL2lzU3RyaW5nLmpzJztcbmltcG9ydCBpc0FyZ3VtZW50cyBmcm9tICcuL2lzQXJndW1lbnRzLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuLy8gQW4gXCJlbXB0eVwiIG9iamVjdCBoYXMgbm8gZW51bWVyYWJsZSBvd24tcHJvcGVydGllcy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gIC8vIFNraXAgdGhlIG1vcmUgZXhwZW5zaXZlIGB0b1N0cmluZ2AtYmFzZWQgdHlwZSBjaGVja3MgaWYgYG9iamAgaGFzIG5vXG4gIC8vIGAubGVuZ3RoYC5cbiAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChvYmopO1xuICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiAoXG4gICAgaXNBcnJheShvYmopIHx8IGlzU3RyaW5nKG9iaikgfHwgaXNBcmd1bWVudHMob2JqKVxuICApKSByZXR1cm4gbGVuZ3RoID09PSAwO1xuICByZXR1cm4gZ2V0TGVuZ3RoKGtleXMob2JqKSkgPT09IDA7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNFbXB0eS5qc1xuLy8gbW9kdWxlIGlkID0gMjk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IF8gZnJvbSAnLi91bmRlcnNjb3JlLmpzJztcbmltcG9ydCB7IHRvU3RyaW5nLCBTeW1ib2xQcm90byB9IGZyb20gJy4vX3NldHVwLmpzJztcbmltcG9ydCBnZXRCeXRlTGVuZ3RoIGZyb20gJy4vX2dldEJ5dGVMZW5ndGguanMnO1xuaW1wb3J0IGlzVHlwZWRBcnJheSBmcm9tICcuL2lzVHlwZWRBcnJheS5qcyc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuL2lzRnVuY3Rpb24uanMnO1xuaW1wb3J0IHsgaGFzU3RyaW5nVGFnQnVnIH0gIGZyb20gJy4vX3N0cmluZ1RhZ0J1Zy5qcyc7XG5pbXBvcnQgaXNEYXRhVmlldyBmcm9tICcuL2lzRGF0YVZpZXcuanMnO1xuaW1wb3J0IGtleXMgZnJvbSAnLi9rZXlzLmpzJztcbmltcG9ydCBoYXMgZnJvbSAnLi9faGFzLmpzJztcbmltcG9ydCB0b0J1ZmZlclZpZXcgZnJvbSAnLi9fdG9CdWZmZXJWaWV3LmpzJztcblxuLy8gV2UgdXNlIHRoaXMgc3RyaW5nIHR3aWNlLCBzbyBnaXZlIGl0IGEgbmFtZSBmb3IgbWluaWZpY2F0aW9uLlxudmFyIHRhZ0RhdGFWaWV3ID0gJ1tvYmplY3QgRGF0YVZpZXddJztcblxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBfLmlzRXF1YWxgLlxuZnVuY3Rpb24gZXEoYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cHM6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gIC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICBpZiAoYSAhPT0gYSkgcmV0dXJuIGIgIT09IGI7XG4gIC8vIEV4aGF1c3QgcHJpbWl0aXZlIGNoZWNrc1xuICB2YXIgdHlwZSA9IHR5cGVvZiBhO1xuICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gZGVlcEVxKGEsIGIsIGFTdGFjaywgYlN0YWNrKTtcbn1cblxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBfLmlzRXF1YWxgLlxuZnVuY3Rpb24gZGVlcEVxKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAvLyBXb3JrIGFyb3VuZCBhIGJ1ZyBpbiBJRSAxMCAtIEVkZ2UgMTMuXG4gIGlmIChoYXNTdHJpbmdUYWdCdWcgJiYgY2xhc3NOYW1lID09ICdbb2JqZWN0IE9iamVjdF0nICYmIGlzRGF0YVZpZXcoYSkpIHtcbiAgICBpZiAoIWlzRGF0YVZpZXcoYikpIHJldHVybiBmYWxzZTtcbiAgICBjbGFzc05hbWUgPSB0YWdEYXRhVmlldztcbiAgfVxuICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgIC8vIFRoZXNlIHR5cGVzIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOLlxuICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICByZXR1cm4gK2EgPT09IDAgPyAxIC8gK2EgPT09IDEgLyBiIDogK2EgPT09ICtiO1xuICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1lcmljIHByaW1pdGl2ZSB2YWx1ZXMuIERhdGVzIGFyZSBjb21wYXJlZCBieSB0aGVpclxuICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgcmV0dXJuICthID09PSArYjtcbiAgICBjYXNlICdbb2JqZWN0IFN5bWJvbF0nOlxuICAgICAgcmV0dXJuIFN5bWJvbFByb3RvLnZhbHVlT2YuY2FsbChhKSA9PT0gU3ltYm9sUHJvdG8udmFsdWVPZi5jYWxsKGIpO1xuICAgIGNhc2UgJ1tvYmplY3QgQXJyYXlCdWZmZXJdJzpcbiAgICBjYXNlIHRhZ0RhdGFWaWV3OlxuICAgICAgLy8gQ29lcmNlIHRvIHR5cGVkIGFycmF5IHNvIHdlIGNhbiBmYWxsIHRocm91Z2guXG4gICAgICByZXR1cm4gZGVlcEVxKHRvQnVmZmVyVmlldyhhKSwgdG9CdWZmZXJWaWV3KGIpLCBhU3RhY2ssIGJTdGFjayk7XG4gIH1cblxuICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSAnW29iamVjdCBBcnJheV0nO1xuICBpZiAoIWFyZUFycmF5cyAmJiBpc1R5cGVkQXJyYXkoYSkpIHtcbiAgICAgIHZhciBieXRlTGVuZ3RoID0gZ2V0Qnl0ZUxlbmd0aChhKTtcbiAgICAgIGlmIChieXRlTGVuZ3RoICE9PSBnZXRCeXRlTGVuZ3RoKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoYS5idWZmZXIgPT09IGIuYnVmZmVyICYmIGEuYnl0ZU9mZnNldCA9PT0gYi5ieXRlT2Zmc2V0KSByZXR1cm4gdHJ1ZTtcbiAgICAgIGFyZUFycmF5cyA9IHRydWU7XG4gIH1cbiAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICBpZiAodHlwZW9mIGEgIT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgdmFyIGFDdG9yID0gYS5jb25zdHJ1Y3RvciwgYkN0b3IgPSBiLmNvbnN0cnVjdG9yO1xuICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShpc0Z1bmN0aW9uKGFDdG9yKSAmJiBhQ3RvciBpbnN0YW5jZW9mIGFDdG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xuICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gIC8vIEl0J3MgZG9uZSBoZXJlIHNpbmNlIHdlIG9ubHkgbmVlZCB0aGVtIGZvciBvYmplY3RzIGFuZCBhcnJheXMgY29tcGFyaXNvbi5cbiAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAvLyB1bmlxdWUgbmVzdGVkIHN0cnVjdHVyZXMuXG4gICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gIH1cblxuICAvLyBBZGQgdGhlIGZpcnN0IG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gIGFTdGFjay5wdXNoKGEpO1xuICBiU3RhY2sucHVzaChiKTtcblxuICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgaWYgKGFyZUFycmF5cykge1xuICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICB2YXIgX2tleXMgPSBrZXlzKGEpLCBrZXk7XG4gICAgbGVuZ3RoID0gX2tleXMubGVuZ3RoO1xuICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICBpZiAoa2V5cyhiKS5sZW5ndGggIT09IGxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICBrZXkgPSBfa2V5c1tsZW5ndGhdO1xuICAgICAgaWYgKCEoaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gIGFTdGFjay5wb3AoKTtcbiAgYlN0YWNrLnBvcCgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGVxKGEsIGIpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzRXF1YWwuanNcbi8vIG1vZHVsZSBpZCA9IDI5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBnZXRCeXRlTGVuZ3RoIGZyb20gJy4vX2dldEJ5dGVMZW5ndGguanMnO1xuXG4vLyBJbnRlcm5hbCBmdW5jdGlvbiB0byB3cmFwIG9yIHNoYWxsb3ctY29weSBhbiBBcnJheUJ1ZmZlcixcbi8vIHR5cGVkIGFycmF5IG9yIERhdGFWaWV3IHRvIGEgbmV3IHZpZXcsIHJldXNpbmcgdGhlIGJ1ZmZlci5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvQnVmZmVyVmlldyhidWZmZXJTb3VyY2UpIHtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFxuICAgIGJ1ZmZlclNvdXJjZS5idWZmZXIgfHwgYnVmZmVyU291cmNlLFxuICAgIGJ1ZmZlclNvdXJjZS5ieXRlT2Zmc2V0IHx8IDAsXG4gICAgZ2V0Qnl0ZUxlbmd0aChidWZmZXJTb3VyY2UpXG4gICk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvX3RvQnVmZmVyVmlldy5qc1xuLy8gbW9kdWxlIGlkID0gMjk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHRhZ1Rlc3RlciBmcm9tICcuL190YWdUZXN0ZXIuanMnO1xuaW1wb3J0IHsgaXNJRTExIH0gZnJvbSAnLi9fc3RyaW5nVGFnQnVnLmpzJztcbmltcG9ydCB7IGllMTFmaW5nZXJwcmludCwgbWFwTWV0aG9kcyB9ICBmcm9tICcuL19tZXRob2RGaW5nZXJwcmludC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzSUUxMSA/IGllMTFmaW5nZXJwcmludChtYXBNZXRob2RzKSA6IHRhZ1Rlc3RlcignTWFwJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNNYXAuanNcbi8vIG1vZHVsZSBpZCA9IDMwMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB0YWdUZXN0ZXIgZnJvbSAnLi9fdGFnVGVzdGVyLmpzJztcbmltcG9ydCB7IGlzSUUxMSB9IGZyb20gJy4vX3N0cmluZ1RhZ0J1Zy5qcyc7XG5pbXBvcnQgeyBpZTExZmluZ2VycHJpbnQsIHdlYWtNYXBNZXRob2RzIH0gIGZyb20gJy4vX21ldGhvZEZpbmdlcnByaW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgaXNJRTExID8gaWUxMWZpbmdlcnByaW50KHdlYWtNYXBNZXRob2RzKSA6IHRhZ1Rlc3RlcignV2Vha01hcCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2lzV2Vha01hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHRhZ1Rlc3RlciBmcm9tICcuL190YWdUZXN0ZXIuanMnO1xuaW1wb3J0IHsgaXNJRTExIH0gZnJvbSAnLi9fc3RyaW5nVGFnQnVnLmpzJztcbmltcG9ydCB7IGllMTFmaW5nZXJwcmludCwgc2V0TWV0aG9kcyB9ICBmcm9tICcuL19tZXRob2RGaW5nZXJwcmludC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzSUUxMSA/IGllMTFmaW5nZXJwcmludChzZXRNZXRob2RzKSA6IHRhZ1Rlc3RlcignU2V0Jyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNTZXQuanNcbi8vIG1vZHVsZSBpZCA9IDMwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCB0YWdUZXN0ZXIgZnJvbSAnLi9fdGFnVGVzdGVyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgdGFnVGVzdGVyKCdXZWFrU2V0Jyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaXNXZWFrU2V0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQga2V5cyBmcm9tICcuL2tleXMuanMnO1xuXG4vLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbi8vIFRoZSBvcHBvc2l0ZSBvZiBgXy5vYmplY3RgIHdpdGggb25lIGFyZ3VtZW50LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFpcnMob2JqKSB7XG4gIHZhciBfa2V5cyA9IGtleXMob2JqKTtcbiAgdmFyIGxlbmd0aCA9IF9rZXlzLmxlbmd0aDtcbiAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHBhaXJzW2ldID0gW19rZXlzW2ldLCBvYmpbX2tleXNbaV1dXTtcbiAgfVxuICByZXR1cm4gcGFpcnM7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGFpcnMuanNcbi8vIG1vZHVsZSBpZCA9IDMwNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBiYXNlQ3JlYXRlIGZyb20gJy4vX2Jhc2VDcmVhdGUuanMnO1xuaW1wb3J0IGV4dGVuZE93biBmcm9tICcuL2V4dGVuZE93bi5qcyc7XG5cbi8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbi8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyBjcmVhdGVkIG9iamVjdC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BzKSB7XG4gIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gIGlmIChwcm9wcykgZXh0ZW5kT3duKHJlc3VsdCwgcHJvcHMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2NyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMzA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gSW52b2tlcyBgaW50ZXJjZXB0b3JgIHdpdGggdGhlIGBvYmpgIGFuZCB0aGVuIHJldHVybnMgYG9iamAuXG4vLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbi8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGFwKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgcmV0dXJuIG9iajtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90YXAuanNcbi8vIG1vZHVsZSBpZCA9IDMwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBfaGFzIGZyb20gJy4vX2hhcy5qcyc7XG5pbXBvcnQgdG9QYXRoIGZyb20gJy4vX3RvUGF0aC5qcyc7XG5cbi8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHkgb25cbi8vIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuIFVubGlrZSB0aGUgaW50ZXJuYWwgYGhhc2Bcbi8vIGZ1bmN0aW9uLCB0aGlzIHB1YmxpYyB2ZXJzaW9uIGNhbiBhbHNvIHRyYXZlcnNlIG5lc3RlZCBwcm9wZXJ0aWVzLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFzKG9iaiwgcGF0aCkge1xuICBwYXRoID0gdG9QYXRoKHBhdGgpO1xuICB2YXIgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGF0aFtpXTtcbiAgICBpZiAoIV9oYXMob2JqLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgb2JqID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuICEhbGVuZ3RoO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2hhcy5qc1xuLy8gbW9kdWxlIGlkID0gMzA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGBpdGVyYXRlZWAgdG8gZWFjaCBlbGVtZW50IG9mIGBvYmpgLlxuLy8gSW4gY29udHJhc3QgdG8gYF8ubWFwYCBpdCByZXR1cm5zIGFuIG9iamVjdC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1hcE9iamVjdChvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSBfa2V5cy5sZW5ndGgsXG4gICAgICByZXN1bHRzID0ge307XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzW2luZGV4XTtcbiAgICByZXN1bHRzW2N1cnJlbnRLZXldID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL21hcE9iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IG5vb3AgZnJvbSAnLi9ub29wLmpzJztcbmltcG9ydCBnZXQgZnJvbSAnLi9nZXQuanMnO1xuXG4vLyBHZW5lcmF0ZXMgYSBmdW5jdGlvbiBmb3IgYSBnaXZlbiBvYmplY3QgdGhhdCByZXR1cm5zIGEgZ2l2ZW4gcHJvcGVydHkuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iaikge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiBub29wO1xuICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgIHJldHVybiBnZXQob2JqLCBwYXRoKTtcbiAgfTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9wcm9wZXJ0eU9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgb3B0aW1pemVDYiBmcm9tICcuL19vcHRpbWl6ZUNiLmpzJztcblxuLy8gUnVuIGEgZnVuY3Rpb24gKipuKiogdGltZXMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdGVlKGkpO1xuICByZXR1cm4gYWNjdW07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdGltZXMuanNcbi8vIG1vZHVsZSBpZCA9IDMxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBjcmVhdGVFc2NhcGVyIGZyb20gJy4vX2NyZWF0ZUVzY2FwZXIuanMnO1xuaW1wb3J0IGVzY2FwZU1hcCBmcm9tICcuL19lc2NhcGVNYXAuanMnO1xuXG4vLyBGdW5jdGlvbiBmb3IgZXNjYXBpbmcgc3RyaW5ncyB0byBIVE1MIGludGVycG9sYXRpb24uXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFc2NhcGVyKGVzY2FwZU1hcCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZXNjYXBlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlRXNjYXBlciBmcm9tICcuL19jcmVhdGVFc2NhcGVyLmpzJztcbmltcG9ydCB1bmVzY2FwZU1hcCBmcm9tICcuL191bmVzY2FwZU1hcC5qcyc7XG5cbi8vIEZ1bmN0aW9uIGZvciB1bmVzY2FwaW5nIHN0cmluZ3MgZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVFc2NhcGVyKHVuZXNjYXBlTWFwKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmVzY2FwZS5qc1xuLy8gbW9kdWxlIGlkID0gMzEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGludmVydCBmcm9tICcuL2ludmVydC5qcyc7XG5pbXBvcnQgZXNjYXBlTWFwIGZyb20gJy4vX2VzY2FwZU1hcC5qcyc7XG5cbi8vIEludGVybmFsIGxpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgdW5lc2NhcGluZy5cbmV4cG9ydCBkZWZhdWx0IGludmVydChlc2NhcGVNYXApO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL191bmVzY2FwZU1hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4vZGVmYXVsdHMuanMnO1xuaW1wb3J0IF8gZnJvbSAnLi91bmRlcnNjb3JlLmpzJztcbmltcG9ydCAnLi90ZW1wbGF0ZVNldHRpbmdzLmpzJztcblxuLy8gV2hlbiBjdXN0b21pemluZyBgXy50ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4vLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4vLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbnZhciBub01hdGNoID0gLyguKV4vO1xuXG4vLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuLy8gc3RyaW5nIGxpdGVyYWwuXG52YXIgZXNjYXBlcyA9IHtcbiAgXCInXCI6IFwiJ1wiLFxuICAnXFxcXCc6ICdcXFxcJyxcbiAgJ1xccic6ICdyJyxcbiAgJ1xcbic6ICduJyxcbiAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAnXFx1MjAyOSc6ICd1MjAyOSdcbn07XG5cbnZhciBlc2NhcGVSZWdFeHAgPSAvXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2c7XG5cbmZ1bmN0aW9uIGVzY2FwZUNoYXIobWF0Y2gpIHtcbiAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xufVxuXG52YXIgYmFyZUlkZW50aWZpZXIgPSAvXlxccyooXFx3fFxcJCkrXFxzKiQvO1xuXG4vLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4vLyBOQjogYG9sZFNldHRpbmdzYCBvbmx5IGV4aXN0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZXh0LCBzZXR0aW5ncywgb2xkU2V0dGluZ3MpIHtcbiAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgc2V0dGluZ3MgPSBkZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAoc2V0dGluZ3MuZXNjYXBlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgXS5qb2luKCd8JykgKyAnfCQnLCAnZycpO1xuXG4gIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBzb3VyY2UgPSBcIl9fcCs9J1wiO1xuICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZVJlZ0V4cCwgZXNjYXBlQ2hhcik7XG4gICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICBpZiAoZXNjYXBlKSB7XG4gICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgIH0gZWxzZSBpZiAoZXZhbHVhdGUpIHtcbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgfVxuXG4gICAgLy8gQWRvYmUgVk1zIG5lZWQgdGhlIG1hdGNoIHJldHVybmVkIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3Qgb2Zmc2V0LlxuICAgIHJldHVybiBtYXRjaDtcbiAgfSk7XG4gIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgdmFyIGFyZ3VtZW50ID0gc2V0dGluZ3MudmFyaWFibGU7XG4gIGlmIChhcmd1bWVudCkge1xuICAgIGlmICghYmFyZUlkZW50aWZpZXIudGVzdChhcmd1bWVudCkpIHRocm93IG5ldyBFcnJvcihhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuICAgIGFyZ3VtZW50ID0gJ29iaic7XG4gIH1cblxuICBzb3VyY2UgPSBcInZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixcIiArXG4gICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gIHZhciByZW5kZXI7XG4gIHRyeSB7XG4gICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKGFyZ3VtZW50LCAnXycsIHNvdXJjZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgdmFyIHRlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgfTtcblxuICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90ZW1wbGF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMzE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pc0Z1bmN0aW9uLmpzJztcbmltcG9ydCB0b1BhdGggZnJvbSAnLi9fdG9QYXRoLmpzJztcblxuLy8gVHJhdmVyc2VzIHRoZSBjaGlsZHJlbiBvZiBgb2JqYCBhbG9uZyBgcGF0aGAuIElmIGEgY2hpbGQgaXMgYSBmdW5jdGlvbiwgaXRcbi8vIGlzIGludm9rZWQgd2l0aCBpdHMgcGFyZW50IGFzIGNvbnRleHQuIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBmaW5hbFxuLy8gY2hpbGQsIG9yIGBmYWxsYmFja2AgaWYgYW55IGNoaWxkIGlzIHVuZGVmaW5lZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc3VsdChvYmosIHBhdGgsIGZhbGxiYWNrKSB7XG4gIHBhdGggPSB0b1BhdGgocGF0aCk7XG4gIHZhciBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmYWxsYmFjaykgPyBmYWxsYmFjay5jYWxsKG9iaikgOiBmYWxsYmFjaztcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtwYXRoW2ldXTtcbiAgICBpZiAocHJvcCA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wID0gZmFsbGJhY2s7XG4gICAgICBpID0gbGVuZ3RoOyAvLyBFbnN1cmUgd2UgZG9uJ3QgY29udGludWUgaXRlcmF0aW5nLlxuICAgIH1cbiAgICBvYmogPSBpc0Z1bmN0aW9uKHByb3ApID8gcHJvcC5jYWxsKG9iaikgOiBwcm9wO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmVzdWx0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbnZhciBpZENvdW50ZXIgPSAwO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3VuaXF1ZUlkLmpzXG4vLyBtb2R1bGUgaWQgPSAzMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgXyBmcm9tICcuL3VuZGVyc2NvcmUuanMnO1xuXG4vLyBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFpbihvYmopIHtcbiAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY2hhaW4uanNcbi8vIG1vZHVsZSBpZCA9IDMxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5pbXBvcnQgZmxhdHRlbiBmcm9tICcuL19mbGF0dGVuLmpzJztcbmltcG9ydCBiaW5kIGZyb20gJy4vYmluZC5qcyc7XG5cbi8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4vLyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuXG5leHBvcnQgZGVmYXVsdCByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKG9iaiwga2V5cykge1xuICBrZXlzID0gZmxhdHRlbihrZXlzLCBmYWxzZSwgZmFsc2UpO1xuICB2YXIgaW5kZXggPSBrZXlzLmxlbmd0aDtcbiAgaWYgKGluZGV4IDwgMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgIG9ialtrZXldID0gYmluZChvYmpba2V5XSwgb2JqKTtcbiAgfVxuICByZXR1cm4gb2JqO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvYmluZEFsbC5qc1xuLy8gbW9kdWxlIGlkID0gMzE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGhhcyBmcm9tICcuL19oYXMuanMnO1xuXG4vLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCBoYXNoZXIpIHtcbiAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgIGlmICghaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICB9O1xuICBtZW1vaXplLmNhY2hlID0ge307XG4gIHJldHVybiBtZW1vaXplO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL21lbW9pemUuanNcbi8vIG1vZHVsZSBpZCA9IDMxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBwYXJ0aWFsIGZyb20gJy4vcGFydGlhbC5qcyc7XG5pbXBvcnQgZGVsYXkgZnJvbSAnLi9kZWxheS5qcyc7XG5pbXBvcnQgXyBmcm9tICcuL3VuZGVyc2NvcmUuanMnO1xuXG4vLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbi8vIGNsZWFyZWQuXG5leHBvcnQgZGVmYXVsdCBwYXJ0aWFsKGRlbGF5LCBfLCAxKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9kZWZlci5qc1xuLy8gbW9kdWxlIGlkID0gMzIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IG5vdyBmcm9tICcuL25vdy5qcyc7XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4vLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4vLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gIHZhciBwcmV2aW91cyA9IDA7XG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuXG4gIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBub3coKTtcbiAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICB9O1xuXG4gIHZhciB0aHJvdHRsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX25vdyA9IG5vdygpO1xuICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBfbm93O1xuICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKF9ub3cgLSBwcmV2aW91cyk7XG4gICAgY29udGV4dCA9IHRoaXM7XG4gICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gX25vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB0aHJvdHRsZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHByZXZpb3VzID0gMDtcbiAgICB0aW1lb3V0ID0gY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiB0aHJvdHRsZWQ7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvdGhyb3R0bGUuanNcbi8vIG1vZHVsZSBpZCA9IDMyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5pbXBvcnQgbm93IGZyb20gJy4vbm93LmpzJztcblxuLy8gV2hlbiBhIHNlcXVlbmNlIG9mIGNhbGxzIG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBlbmRzLCB0aGUgYXJndW1lbnRcbi8vIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZC4gVGhlIGVuZCBvZiBhIHNlcXVlbmNlIGlzIGRlZmluZWQgYnkgdGhlIGB3YWl0YFxuLy8gcGFyYW1ldGVyLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRoZSBhcmd1bWVudCBmdW5jdGlvbiB3aWxsIGJlXG4vLyB0cmlnZ2VyZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgc2VxdWVuY2UgaW5zdGVhZCBvZiBhdCB0aGUgZW5kLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gIHZhciB0aW1lb3V0LCBwcmV2aW91cywgYXJncywgcmVzdWx0LCBjb250ZXh0O1xuXG4gIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXNzZWQgPSBub3coKSAtIHByZXZpb3VzO1xuICAgIGlmICh3YWl0ID4gcGFzc2VkKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIHBhc3NlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKCFpbW1lZGlhdGUpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCBiZWNhdXNlIGBmdW5jYCBjYW4gcmVjdXJzaXZlbHkgaW52b2tlIGBkZWJvdW5jZWRgLlxuICAgICAgaWYgKCF0aW1lb3V0KSBhcmdzID0gY29udGV4dCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHZhciBkZWJvdW5jZWQgPSByZXN0QXJndW1lbnRzKGZ1bmN0aW9uKF9hcmdzKSB7XG4gICAgY29udGV4dCA9IHRoaXM7XG4gICAgYXJncyA9IF9hcmdzO1xuICAgIHByZXZpb3VzID0gbm93KCk7XG4gICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoaW1tZWRpYXRlKSByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICBkZWJvdW5jZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBhcmdzID0gY29udGV4dCA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9kZWJvdW5jZS5qc1xuLy8gbW9kdWxlIGlkID0gMzIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHBhcnRpYWwgZnJvbSAnLi9wYXJ0aWFsLmpzJztcblxuLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4vLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kXG4vLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd3JhcChmdW5jLCB3cmFwcGVyKSB7XG4gIHJldHVybiBwYXJ0aWFsKHdyYXBwZXIsIGZ1bmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3dyYXAuanNcbi8vIG1vZHVsZSBpZCA9IDMyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBhIGxpc3Qgb2YgZnVuY3Rpb25zLCBlYWNoXG4vLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBzdGFydCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpID0gc3RhcnQ7XG4gICAgdmFyIHJlc3VsdCA9IGFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9jb21wb3NlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgb24gYW5kIGFmdGVyIHRoZSBOdGggY2FsbC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFmdGVyKHRpbWVzLCBmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2FmdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgcGFydGlhbCBmcm9tICcuL3BhcnRpYWwuanMnO1xuaW1wb3J0IGJlZm9yZSBmcm9tICcuL2JlZm9yZS5qcyc7XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbmV4cG9ydCBkZWZhdWx0IHBhcnRpYWwoYmVmb3JlLCAyKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9vbmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZmluZExhc3RJbmRleCBmcm9tICcuL2ZpbmRMYXN0SW5kZXguanMnO1xuaW1wb3J0IGNyZWF0ZUluZGV4RmluZGVyIGZyb20gJy4vX2NyZWF0ZUluZGV4RmluZGVyLmpzJztcblxuLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBvY2N1cnJlbmNlIG9mIGFuIGl0ZW0gaW4gYW4gYXJyYXksXG4vLyBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlSW5kZXhGaW5kZXIoLTEsIGZpbmRMYXN0SW5kZXgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2xhc3RJbmRleE9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZmluZCBmcm9tICcuL2ZpbmQuanMnO1xuaW1wb3J0IG1hdGNoZXIgZnJvbSAnLi9tYXRjaGVyLmpzJztcblxuLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgXy5maW5kYDogZ2V0dGluZyB0aGUgZmlyc3Rcbi8vIG9iamVjdCBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluZFdoZXJlKG9iaiwgYXR0cnMpIHtcbiAgcmV0dXJuIGZpbmQob2JqLCBtYXRjaGVyKGF0dHJzKSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZmluZFdoZXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlUmVkdWNlIGZyb20gJy4vX2NyZWF0ZVJlZHVjZS5qcyc7XG5cbi8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbi8vIG9yIGBmb2xkbGAuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVSZWR1Y2UoMSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmVkdWNlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY3JlYXRlUmVkdWNlIGZyb20gJy4vX2NyZWF0ZVJlZHVjZS5qcyc7XG5cbi8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlUmVkdWNlKC0xKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9yZWR1Y2VSaWdodC5qc1xuLy8gbW9kdWxlIGlkID0gMzMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGZpbHRlciBmcm9tICcuL2ZpbHRlci5qcyc7XG5pbXBvcnQgbmVnYXRlIGZyb20gJy4vbmVnYXRlLmpzJztcbmltcG9ydCBjYiBmcm9tICcuL19jYi5qcyc7XG5cbi8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWplY3Qob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgcmV0dXJuIGZpbHRlcihvYmosIG5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcmVqZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgY2IgZnJvbSAnLi9fY2IuanMnO1xuaW1wb3J0IGlzQXJyYXlMaWtlIGZyb20gJy4vX2lzQXJyYXlMaWtlLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgcGFzcyBhIHRydXRoIHRlc3QuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBldmVyeShvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB2YXIgX2tleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBrZXlzKG9iaiksXG4gICAgICBsZW5ndGggPSAoX2tleXMgfHwgb2JqKS5sZW5ndGg7XG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICB2YXIgY3VycmVudEtleSA9IF9rZXlzID8gX2tleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZXZlcnkuanNcbi8vIG1vZHVsZSBpZCA9IDMzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBjYiBmcm9tICcuL19jYi5qcyc7XG5pbXBvcnQgaXNBcnJheUxpa2UgZnJvbSAnLi9faXNBcnJheUxpa2UuanMnO1xuaW1wb3J0IGtleXMgZnJvbSAnLi9rZXlzLmpzJztcblxuLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgcGFzc2VzIGEgdHJ1dGggdGVzdC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvbWUob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgdmFyIF9rZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYga2V5cyhvYmopLFxuICAgICAgbGVuZ3RoID0gKF9rZXlzIHx8IG9iaikubGVuZ3RoO1xuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGN1cnJlbnRLZXkgPSBfa2V5cyA/IF9rZXlzW2luZGV4XSA6IGluZGV4O1xuICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvc29tZS5qc1xuLy8gbW9kdWxlIGlkID0gMzMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IHJlc3RBcmd1bWVudHMgZnJvbSAnLi9yZXN0QXJndW1lbnRzLmpzJztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXNGdW5jdGlvbi5qcyc7XG5pbXBvcnQgbWFwIGZyb20gJy4vbWFwLmpzJztcbmltcG9ydCBkZWVwR2V0IGZyb20gJy4vX2RlZXBHZXQuanMnO1xuaW1wb3J0IHRvUGF0aCBmcm9tICcuL190b1BhdGguanMnO1xuXG4vLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbmV4cG9ydCBkZWZhdWx0IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBwYXRoLCBhcmdzKSB7XG4gIHZhciBjb250ZXh0UGF0aCwgZnVuYztcbiAgaWYgKGlzRnVuY3Rpb24ocGF0aCkpIHtcbiAgICBmdW5jID0gcGF0aDtcbiAgfSBlbHNlIHtcbiAgICBwYXRoID0gdG9QYXRoKHBhdGgpO1xuICAgIGNvbnRleHRQYXRoID0gcGF0aC5zbGljZSgwLCAtMSk7XG4gICAgcGF0aCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gbWFwKG9iaiwgZnVuY3Rpb24oY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBmdW5jO1xuICAgIGlmICghbWV0aG9kKSB7XG4gICAgICBpZiAoY29udGV4dFBhdGggJiYgY29udGV4dFBhdGgubGVuZ3RoKSB7XG4gICAgICAgIGNvbnRleHQgPSBkZWVwR2V0KGNvbnRleHQsIGNvbnRleHRQYXRoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgICBtZXRob2QgPSBjb250ZXh0W3BhdGhdO1xuICAgIH1cbiAgICByZXR1cm4gbWV0aG9kID09IG51bGwgPyBtZXRob2QgOiBtZXRob2QuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH0pO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvaW52b2tlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZmlsdGVyIGZyb20gJy4vZmlsdGVyLmpzJztcbmltcG9ydCBtYXRjaGVyIGZyb20gJy4vbWF0Y2hlci5qcyc7XG5cbi8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYF8uZmlsdGVyYDogc2VsZWN0aW5nIG9ubHlcbi8vIG9iamVjdHMgY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdoZXJlKG9iaiwgYXR0cnMpIHtcbiAgcmV0dXJuIGZpbHRlcihvYmosIG1hdGNoZXIoYXR0cnMpKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy93aGVyZS5qc1xuLy8gbW9kdWxlIGlkID0gMzM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGlzQXJyYXlMaWtlIGZyb20gJy4vX2lzQXJyYXlMaWtlLmpzJztcbmltcG9ydCB2YWx1ZXMgZnJvbSAnLi92YWx1ZXMuanMnO1xuaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBlYWNoIGZyb20gJy4vZWFjaC5qcyc7XG5cbi8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1pbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gIHZhciByZXN1bHQgPSBJbmZpbml0eSwgbGFzdENvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gIGlmIChpdGVyYXRlZSA9PSBudWxsIHx8IHR5cGVvZiBpdGVyYXRlZSA9PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqWzBdICE9ICdvYmplY3QnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IHZhbHVlcyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2LCBpbmRleCwgbGlzdCkge1xuICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2LCBpbmRleCwgbGlzdCk7XG4gICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmVzdWx0ID0gdjtcbiAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9taW4uanNcbi8vIG1vZHVsZSBpZCA9IDMzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBzYW1wbGUgZnJvbSAnLi9zYW1wbGUuanMnO1xuXG4vLyBTaHVmZmxlIGEgY29sbGVjdGlvbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNodWZmbGUob2JqKSB7XG4gIHJldHVybiBzYW1wbGUob2JqLCBJbmZpbml0eSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvc2h1ZmZsZS5qc1xuLy8gbW9kdWxlIGlkID0gMzM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGNiIGZyb20gJy4vX2NiLmpzJztcbmltcG9ydCBwbHVjayBmcm9tICcuL3BsdWNrLmpzJztcbmltcG9ydCBtYXAgZnJvbSAnLi9tYXAuanMnO1xuXG4vLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzb3J0Qnkob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICB2YXIgaW5kZXggPSAwO1xuICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgcmV0dXJuIHBsdWNrKG1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGxpc3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaW5kZXg6IGluZGV4KyssXG4gICAgICBjcml0ZXJpYTogaXRlcmF0ZWUodmFsdWUsIGtleSwgbGlzdClcbiAgICB9O1xuICB9KS5zb3J0KGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgaWYgKGEgIT09IGIpIHtcbiAgICAgIGlmIChhID4gYiB8fCBhID09PSB2b2lkIDApIHJldHVybiAxO1xuICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xuICB9KSwgJ3ZhbHVlJyk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvc29ydEJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAzMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZ3JvdXAgZnJvbSAnLi9fZ3JvdXAuanMnO1xuaW1wb3J0IGhhcyBmcm9tICcuL19oYXMuanMnO1xuXG4vLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbi4gUGFzcyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlXG4vLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbmV4cG9ydCBkZWZhdWx0IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICBpZiAoaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvZ3JvdXBCeS5qc1xuLy8gbW9kdWxlIGlkID0gMzM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGdyb3VwIGZyb20gJy4vX2dyb3VwLmpzJztcblxuLy8gSW5kZXhlcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLCBzaW1pbGFyIHRvIGBfLmdyb3VwQnlgLCBidXQgZm9yXG4vLyB3aGVuIHlvdSBrbm93IHRoYXQgeW91ciBpbmRleCB2YWx1ZXMgd2lsbCBiZSB1bmlxdWUuXG5leHBvcnQgZGVmYXVsdCBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2luZGV4QnkuanNcbi8vIG1vZHVsZSBpZCA9IDM0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBncm91cCBmcm9tICcuL19ncm91cC5qcyc7XG5pbXBvcnQgaGFzIGZyb20gJy4vX2hhcy5qcyc7XG5cbi8vIENvdW50cyBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IHRoYXQgZ3JvdXAgYnkgYSBjZXJ0YWluIGNyaXRlcmlvbi4gUGFzc1xuLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4vLyBjcml0ZXJpb24uXG5leHBvcnQgZGVmYXVsdCBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgaWYgKGhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY291bnRCeS5qc1xuLy8gbW9kdWxlIGlkID0gMzQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGdyb3VwIGZyb20gJy4vX2dyb3VwLmpzJztcblxuLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBwYXNzIHRoZSBnaXZlblxuLy8gdHJ1dGggdGVzdCwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHBhc3MgdGhlIHRydXRoIHRlc3QuXG5leHBvcnQgZGVmYXVsdCBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBwYXNzKSB7XG4gIHJlc3VsdFtwYXNzID8gMCA6IDFdLnB1c2godmFsdWUpO1xufSwgdHJ1ZSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvcGFydGl0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuaW1wb3J0IHsgc2xpY2UgfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgaXNTdHJpbmcgZnJvbSAnLi9pc1N0cmluZy5qcyc7XG5pbXBvcnQgaXNBcnJheUxpa2UgZnJvbSAnLi9faXNBcnJheUxpa2UuanMnO1xuaW1wb3J0IG1hcCBmcm9tICcuL21hcC5qcyc7XG5pbXBvcnQgaWRlbnRpdHkgZnJvbSAnLi9pZGVudGl0eS5qcyc7XG5pbXBvcnQgdmFsdWVzIGZyb20gJy4vdmFsdWVzLmpzJztcblxuLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbnZhciByZVN0clN5bWJvbCA9IC9bXlxcdWQ4MDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxbXFx1ZDgwMC1cXHVkZmZmXS9nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgaWYgKGlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgaWYgKGlzU3RyaW5nKG9iaikpIHtcbiAgICAvLyBLZWVwIHN1cnJvZ2F0ZSBwYWlyIGNoYXJhY3RlcnMgdG9nZXRoZXIuXG4gICAgcmV0dXJuIG9iai5tYXRjaChyZVN0clN5bWJvbCk7XG4gIH1cbiAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBtYXAob2JqLCBpZGVudGl0eSk7XG4gIHJldHVybiB2YWx1ZXMob2JqKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy90b0FycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSAzNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgaXNBcnJheUxpa2UgZnJvbSAnLi9faXNBcnJheUxpa2UuanMnO1xuaW1wb3J0IGtleXMgZnJvbSAnLi9rZXlzLmpzJztcblxuLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYSBjb2xsZWN0aW9uLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2l6ZShvYmopIHtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iaikgPyBvYmoubGVuZ3RoIDoga2V5cyhvYmopLmxlbmd0aDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9zaXplLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBJbnRlcm5hbCBgXy5waWNrYCBoZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYGtleWAgaXMgYW4gZW51bWVyYWJsZVxuLy8gcHJvcGVydHkgbmFtZSBvZiBgb2JqYC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGtleUluT2JqKHZhbHVlLCBrZXksIG9iaikge1xuICByZXR1cm4ga2V5IGluIG9iajtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9fa2V5SW5PYmouanNcbi8vIG1vZHVsZSBpZCA9IDM0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuL2lzRnVuY3Rpb24uanMnO1xuaW1wb3J0IG5lZ2F0ZSBmcm9tICcuL25lZ2F0ZS5qcyc7XG5pbXBvcnQgbWFwIGZyb20gJy4vbWFwLmpzJztcbmltcG9ydCBmbGF0dGVuIGZyb20gJy4vX2ZsYXR0ZW4uanMnO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gJy4vY29udGFpbnMuanMnO1xuaW1wb3J0IHBpY2sgZnJvbSAnLi9waWNrLmpzJztcblxuLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGRpc2FsbG93ZWQgcHJvcGVydGllcy5cbmV4cG9ydCBkZWZhdWx0IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24ob2JqLCBrZXlzKSB7XG4gIHZhciBpdGVyYXRlZSA9IGtleXNbMF0sIGNvbnRleHQ7XG4gIGlmIChpc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgIGl0ZXJhdGVlID0gbmVnYXRlKGl0ZXJhdGVlKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSBjb250ZXh0ID0ga2V5c1sxXTtcbiAgfSBlbHNlIHtcbiAgICBrZXlzID0gbWFwKGZsYXR0ZW4oa2V5cywgZmFsc2UsIGZhbHNlKSwgU3RyaW5nKTtcbiAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJldHVybiAhY29udGFpbnMoa2V5cywga2V5KTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBwaWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvb21pdC5qc1xuLy8gbW9kdWxlIGlkID0gMzQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGluaXRpYWwgZnJvbSAnLi9pbml0aWFsLmpzJztcblxuLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4vLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpcnN0KGFycmF5LCBuLCBndWFyZCkge1xuICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPCAxKSByZXR1cm4gbiA9PSBudWxsIHx8IGd1YXJkID8gdm9pZCAwIDogW107XG4gIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgcmV0dXJuIGluaXRpYWwoYXJyYXksIGFycmF5Lmxlbmd0aCAtIG4pO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZpcnN0LmpzXG4vLyBtb2R1bGUgaWQgPSAzNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgcmVzdCBmcm9tICcuL3Jlc3QuanMnO1xuXG4vLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4vLyB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGFzdChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoIDwgMSkgcmV0dXJuIG4gPT0gbnVsbCB8fCBndWFyZCA/IHZvaWQgMCA6IFtdO1xuICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gIHJldHVybiByZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvbGFzdC5qc1xuLy8gbW9kdWxlIGlkID0gMzQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IGZpbHRlciBmcm9tICcuL2ZpbHRlci5qcyc7XG5cbi8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgcmV0dXJuIGZpbHRlcihhcnJheSwgQm9vbGVhbik7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvY29tcGFjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IF9mbGF0dGVuIGZyb20gJy4vX2ZsYXR0ZW4uanMnO1xuXG4vLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IgdXAgdG8gYGRlcHRoYC5cbi8vIFBhc3NpbmcgYHRydWVgIG9yIGBmYWxzZWAgYXMgYGRlcHRoYCBtZWFucyBgMWAgb3IgYEluZmluaXR5YCwgcmVzcGVjdGl2ZWx5LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmxhdHRlbihhcnJheSwgZGVwdGgpIHtcbiAgcmV0dXJuIF9mbGF0dGVuKGFycmF5LCBkZXB0aCwgZmFsc2UpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL2ZsYXR0ZW4uanNcbi8vIG1vZHVsZSBpZCA9IDM1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5pbXBvcnQgZGlmZmVyZW5jZSBmcm9tICcuL2RpZmZlcmVuY2UuanMnO1xuXG4vLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbmV4cG9ydCBkZWZhdWx0IHJlc3RBcmd1bWVudHMoZnVuY3Rpb24oYXJyYXksIG90aGVyQXJyYXlzKSB7XG4gIHJldHVybiBkaWZmZXJlbmNlKGFycmF5LCBvdGhlckFycmF5cyk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy93aXRob3V0LmpzXG4vLyBtb2R1bGUgaWQgPSAzNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgcmVzdEFyZ3VtZW50cyBmcm9tICcuL3Jlc3RBcmd1bWVudHMuanMnO1xuaW1wb3J0IHVuaXEgZnJvbSAnLi91bmlxLmpzJztcbmltcG9ydCBmbGF0dGVuIGZyb20gJy4vX2ZsYXR0ZW4uanMnO1xuXG4vLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2Zcbi8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuZXhwb3J0IGRlZmF1bHQgcmVzdEFyZ3VtZW50cyhmdW5jdGlvbihhcnJheXMpIHtcbiAgcmV0dXJuIHVuaXEoZmxhdHRlbihhcnJheXMsIHRydWUsIHRydWUpKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3VuaW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZ2V0TGVuZ3RoIGZyb20gJy4vX2dldExlbmd0aC5qcyc7XG5pbXBvcnQgY29udGFpbnMgZnJvbSAnLi9jb250YWlucy5qcyc7XG5cbi8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyBldmVyeSBpdGVtIHNoYXJlZCBiZXR3ZWVuIGFsbCB0aGVcbi8vIHBhc3NlZC1pbiBhcnJheXMuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24oYXJyYXkpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgIGlmIChjb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICB2YXIgajtcbiAgICBmb3IgKGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoIWNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9pbnRlcnNlY3Rpb24uanNcbi8vIG1vZHVsZSBpZCA9IDM1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCByZXN0QXJndW1lbnRzIGZyb20gJy4vcmVzdEFyZ3VtZW50cy5qcyc7XG5pbXBvcnQgdW56aXAgZnJvbSAnLi91bnppcC5qcyc7XG5cbi8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbi8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuZXhwb3J0IGRlZmF1bHQgcmVzdEFyZ3VtZW50cyh1bnppcCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91bmRlcnNjb3JlL21vZHVsZXMvemlwLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgZ2V0TGVuZ3RoICBmcm9tICcuL19nZXRMZW5ndGguanMnO1xuXG4vLyBDb252ZXJ0cyBsaXN0cyBpbnRvIG9iamVjdHMuIFBhc3MgZWl0aGVyIGEgc2luZ2xlIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gXG4vLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2Zcbi8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy4gUGFzc2luZyBieSBwYWlycyBpcyB0aGUgcmV2ZXJzZSBvZiBgXy5wYWlyc2AuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvYmplY3QobGlzdCwgdmFsdWVzKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChsaXN0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbbGlzdFtpXVswXV0gPSBsaXN0W2ldWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL29iamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbi8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgIHN0b3AgPSBzdGFydCB8fCAwO1xuICAgIHN0YXJ0ID0gMDtcbiAgfVxuICBpZiAoIXN0ZXApIHtcbiAgICBzdGVwID0gc3RvcCA8IHN0YXJ0ID8gLTEgOiAxO1xuICB9XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApLCAwKTtcbiAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgcmFuZ2VbaWR4XSA9IHN0YXJ0O1xuICB9XG5cbiAgcmV0dXJuIHJhbmdlO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL3JhbmdlLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgeyBzbGljZSB9IGZyb20gJy4vX3NldHVwLmpzJztcblxuLy8gQ2h1bmsgYSBzaW5nbGUgYXJyYXkgaW50byBtdWx0aXBsZSBhcnJheXMsIGVhY2ggY29udGFpbmluZyBgY291bnRgIG9yIGZld2VyXG4vLyBpdGVtcy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNodW5rKGFycmF5LCBjb3VudCkge1xuICBpZiAoY291bnQgPT0gbnVsbCB8fCBjb3VudCA8IDEpIHJldHVybiBbXTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICByZXN1bHQucHVzaChzbGljZS5jYWxsKGFycmF5LCBpLCBpICs9IGNvdW50KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy9jaHVuay5qc1xuLy8gbW9kdWxlIGlkID0gMzU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IF8gZnJvbSAnLi91bmRlcnNjb3JlLmpzJztcbmltcG9ydCBlYWNoIGZyb20gJy4vZWFjaC5qcyc7XG5pbXBvcnQgZnVuY3Rpb25zIGZyb20gJy4vZnVuY3Rpb25zLmpzJztcbmltcG9ydCB7IHB1c2ggfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgY2hhaW5SZXN1bHQgZnJvbSAnLi9fY2hhaW5SZXN1bHQuanMnO1xuXG4vLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZWFjaChmdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2hhaW5SZXN1bHQodGhpcywgZnVuYy5hcHBseShfLCBhcmdzKSk7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBfO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS9tb2R1bGVzL21peGluLmpzXG4vLyBtb2R1bGUgaWQgPSAzNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgXyBmcm9tICcuL3VuZGVyc2NvcmUuanMnO1xuaW1wb3J0IGVhY2ggZnJvbSAnLi9lYWNoLmpzJztcbmltcG9ydCB7IEFycmF5UHJvdG8gfSBmcm9tICcuL19zZXR1cC5qcyc7XG5pbXBvcnQgY2hhaW5SZXN1bHQgZnJvbSAnLi9fY2hhaW5SZXN1bHQuanMnO1xuXG4vLyBBZGQgYWxsIG11dGF0b3IgYEFycmF5YCBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09PSAnc2hpZnQnIHx8IG5hbWUgPT09ICdzcGxpY2UnKSAmJiBvYmoubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBvYmpbMF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFpblJlc3VsdCh0aGlzLCBvYmopO1xuICB9O1xufSk7XG5cbi8vIEFkZCBhbGwgYWNjZXNzb3IgYEFycmF5YCBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqID0gdGhpcy5fd3JhcHBlZDtcbiAgICBpZiAob2JqICE9IG51bGwpIG9iaiA9IG1ldGhvZC5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGNoYWluUmVzdWx0KHRoaXMsIG9iaik7XG4gIH07XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgXztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3VuZGVyc2NvcmUvbW9kdWxlcy91bmRlcnNjb3JlLWFycmF5LW1ldGhvZHMuanNcbi8vIG1vZHVsZSBpZCA9IDM1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9pbnN0YW5jZS9jb25jYXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2NvbmNhdC5qc1xuLy8gbW9kdWxlIGlkID0gMzYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIG1ldGhvZCA9IHJlcXVpcmUoJy4uL2FycmF5L3ZpcnR1YWwvY29uY2F0Jyk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LmNvbmNhdDtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuY29uY2F0KSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvY29uY2F0LmpzXG4vLyBtb2R1bGUgaWQgPSAzNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi8uLi9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCcpO1xudmFyIGVudHJ5VmlydHVhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2ludGVybmFscy9lbnRyeS12aXJ0dWFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmNvbmNhdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS92aXJ0dWFsL2NvbmNhdC5qc1xuLy8gbW9kdWxlIGlkID0gMzYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDB4MUZGRkZGRkZGRkZGRkY7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID4gTUFYX1NBRkVfSU5URUdFUikgdGhyb3cgJFR5cGVFcnJvcignTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2RvZXMtbm90LWV4Y2VlZC1zYWZlLWludGVnZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5Jyk7XG52YXIgaXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jb25zdHJ1Y3RvcicpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyICRBcnJheSA9IEFycmF5O1xuXG4vLyBhIHBhcnQgb2YgYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSkge1xuICB2YXIgQztcbiAgaWYgKGlzQXJyYXkob3JpZ2luYWxBcnJheSkpIHtcbiAgICBDID0gb3JpZ2luYWxBcnJheS5jb25zdHJ1Y3RvcjtcbiAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgIGlmIChpc0NvbnN0cnVjdG9yKEMpICYmIChDID09PSAkQXJyYXkgfHwgaXNBcnJheShDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgIGVsc2UgaWYgKGlzT2JqZWN0KEMpKSB7XG4gICAgICBDID0gQ1tTUEVDSUVTXTtcbiAgICAgIGlmIChDID09PSBudWxsKSBDID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSByZXR1cm4gQyA9PT0gdW5kZWZpbmVkID8gJEFycmF5IDogQztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDM2NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9pbnN0YW5jZS9tYXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL21hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIG1ldGhvZCA9IHJlcXVpcmUoJy4uL2FycmF5L3ZpcnR1YWwvbWFwJyk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0Lm1hcDtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUubWFwKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvbWFwLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi8uLi9tb2R1bGVzL2VzLmFycmF5Lm1hcCcpO1xudmFyIGVudHJ5VmlydHVhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2ludGVybmFscy9lbnRyeS12aXJ0dWFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLm1hcDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS92aXJ0dWFsL21hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzY3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJG1hcCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24nKS5tYXA7XG52YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydCcpO1xuXG52YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ21hcCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbi8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIG1hcDogZnVuY3Rpb24gbWFwKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgcmV0dXJuICRtYXAodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qc1xuLy8gbW9kdWxlIGlkID0gMzY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL29iamVjdC9rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3Qva2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gMzY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5vYmplY3Qua2V5cycpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvcGF0aCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguT2JqZWN0LmtleXM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvb2JqZWN0L2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IDM3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIG5hdGl2ZUtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG52YXIgRkFJTFNfT05fUFJJTUlUSVZFUyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgbmF0aXZlS2V5cygxKTsgfSk7XG5cbi8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGQUlMU19PTl9QUklNSVRJVkVTIH0sIHtcbiAga2V5czogZnVuY3Rpb24ga2V5cyhpdCkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanNcbi8vIG1vZHVsZSBpZCA9IDM3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9qc29uL3N0cmluZ2lmeScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvanNvbi9zdHJpbmdpZnkuanNcbi8vIG1vZHVsZSBpZCA9IDM3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnknKTtcbnZhciBwYXRoID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL3BhdGgnKTtcbnZhciBhcHBseSA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9mdW5jdGlvbi1hcHBseScpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMteC9uby1qc29uIC0tIHNhZmVcbmlmICghcGF0aC5KU09OKSBwYXRoLkpTT04gPSB7IHN0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnkgfTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0LCByZXBsYWNlciwgc3BhY2UpIHtcbiAgcmV0dXJuIGFwcGx5KHBhdGguSlNPTi5zdHJpbmdpZnksIG51bGwsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2pzb24vc3RyaW5naWZ5LmpzXG4vLyBtb2R1bGUgaWQgPSAzNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vZXMvaW5zdGFuY2UvaW5kZXgtb2YnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2luZGV4LW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgbWV0aG9kID0gcmVxdWlyZSgnLi4vYXJyYXkvdmlydHVhbC9pbmRleC1vZicpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5pbmRleE9mO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5pbmRleE9mKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvaW5kZXgtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDM3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uLy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YnKTtcbnZhciBlbnRyeVZpcnR1YWwgPSByZXF1aXJlKCcuLi8uLi8uLi9pbnRlcm5hbHMvZW50cnktdmlydHVhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5pbmRleE9mO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvaW5kZXgtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDM3NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIGVzLXgvbm8tYXJyYXktcHJvdG90eXBlLWluZGV4b2YgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyICRJbmRleE9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzJykuaW5kZXhPZjtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QnKTtcblxudmFyIHVuJEluZGV4T2YgPSB1bmN1cnJ5VGhpcyhbXS5pbmRleE9mKTtcblxudmFyIE5FR0FUSVZFX1pFUk8gPSAhIXVuJEluZGV4T2YgJiYgMSAvIHVuJEluZGV4T2YoWzFdLCAxLCAtMCkgPCAwO1xudmFyIFNUUklDVF9NRVRIT0QgPSBhcnJheU1ldGhvZElzU3RyaWN0KCdpbmRleE9mJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBORUdBVElWRV9aRVJPIHx8ICFTVFJJQ1RfTUVUSE9EIH0sIHtcbiAgaW5kZXhPZjogZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hFbGVtZW50IC8qICwgZnJvbUluZGV4ID0gMCAqLykge1xuICAgIHZhciBmcm9tSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gTkVHQVRJVkVfWkVST1xuICAgICAgLy8gY29udmVydCAtMCB0byArMFxuICAgICAgPyB1biRJbmRleE9mKHRoaXMsIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCkgfHwgMFxuICAgICAgOiAkSW5kZXhPZih0aGlzLCBzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3InKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIG1ldGhvZCA9IHJlcXVpcmUoJy4uL2FycmF5L3ZpcnR1YWwva2V5cycpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbnZhciBET01JdGVyYWJsZXMgPSB7XG4gIERPTVRva2VuTGlzdDogdHJ1ZSxcbiAgTm9kZUxpc3Q6IHRydWVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5rZXlzO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5rZXlzKVxuICAgIHx8IGhhc093bihET01JdGVyYWJsZXMsIGNsYXNzb2YoaXQpKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IDM3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi8uLi9lcy9hcnJheS92aXJ0dWFsL2tleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2FycmF5L3ZpcnR1YWwva2V5cy5qc1xuLy8gbW9kdWxlIGlkID0gMzc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vLi4vbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nJyk7XG52YXIgZW50cnlWaXJ0dWFsID0gcmVxdWlyZSgnLi4vLi4vLi4vaW50ZXJuYWxzL2VudHJ5LXZpcnR1YWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5Jykua2V5cztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS92aXJ0dWFsL2tleXMuanNcbi8vIG1vZHVsZSBpZCA9IDM4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMzgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW2J0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1dKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzXG4vLyBtb2R1bGUgaWQgPSAzODJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcbiAgY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1ZztcbiAgY3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuICBjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG4gIGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG4gIGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuICBjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG4gIE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgY3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuICB9KTtcbiAgLyoqXG4gICogQWN0aXZlIGBkZWJ1Z2AgaW5zdGFuY2VzLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLmluc3RhbmNlcyA9IFtdO1xuICAvKipcbiAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuICBjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuICAvKipcbiAgKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gICpcbiAgKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gICovXG5cbiAgY3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuICAvKipcbiAgKiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuICAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuICAqIEBhcGkgcHJpdmF0ZVxuICAqL1xuXG4gIGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICAgIHZhciBoYXNoID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcbiAgfVxuXG4gIGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG4gIC8qKlxuICAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cbiAgZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG4gICAgdmFyIHByZXZUaW1lO1xuXG4gICAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgICAvLyBEaXNhYmxlZD9cbiAgICAgIGlmICghZGVidWcuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VsZiA9IGRlYnVnOyAvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXG4gICAgICB2YXIgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcbiAgICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgICBzZWxmLmRpZmYgPSBtcztcbiAgICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICAgIHByZXZUaW1lID0gY3VycjtcbiAgICAgIGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cbiAgICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgICAgfSAvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXG5cbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24gKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgICBpZiAobWF0Y2ggPT09ICclJScpIHtcbiAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCsrO1xuICAgICAgICB2YXIgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTsgLy8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXG4gICAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTsgLy8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblxuICAgICAgY3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuICAgICAgdmFyIGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuICAgICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgIGRlYnVnLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG4gICAgZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG4gICAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuICAgIGRlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuICAgIGRlYnVnLmV4dGVuZCA9IGV4dGVuZDsgLy8gRGVidWcuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG4gICAgLy8gZGVidWcucmF3TG9nID0gcmF3TG9nO1xuICAgIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cbiAgICBpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuICAgIH1cblxuICAgIGNyZWF0ZURlYnVnLmluc3RhbmNlcy5wdXNoKGRlYnVnKTtcbiAgICByZXR1cm4gZGVidWc7XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBpbmRleCA9IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5pbmRleE9mKHRoaXMpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgY3JlYXRlRGVidWcuaW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcbiAgICByZXR1cm4gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcbiAgfVxuICAvKipcbiAgKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gICAgY3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcbiAgICBjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuICAgIGNyZWF0ZURlYnVnLnNraXBzID0gW107XG4gICAgdmFyIGk7XG4gICAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcbiAgICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoIXNwbGl0W2ldKSB7XG4gICAgICAgIC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcblxuICAgICAgaWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuICAgICAgICBjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluc3RhbmNlID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzW2ldO1xuICAgICAgaW5zdGFuY2UuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQoaW5zdGFuY2UubmFtZXNwYWNlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gICpcbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICBjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuICB9XG4gIC8qKlxuICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICogQHJldHVybiB7Qm9vbGVhbn1cbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gICAgaWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgbGVuO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAqIENvZXJjZSBgdmFsYC5cbiAgKlxuICAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICAqIEByZXR1cm4ge01peGVkfVxuICAqIEBhcGkgcHJpdmF0ZVxuICAqL1xuXG5cbiAgZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgY3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG4gIHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qc1xuLy8gbW9kdWxlIGlkID0gMzgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvcGF0aCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzODVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIG5hdGl2ZUdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mJyk7XG52YXIgQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NvcnJlY3QtcHJvdG90eXBlLWdldHRlcicpO1xuXG52YXIgRkFJTFNfT05fUFJJTUlUSVZFUyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgbmF0aXZlR2V0UHJvdG90eXBlT2YoMSk7IH0pO1xuXG4vLyBgT2JqZWN0LmdldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGQUlMU19PTl9QUklNSVRJVkVTLCBzaGFtOiAhQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSIH0sIHtcbiAgZ2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KSB7XG4gICAgcmV0dXJuIG5hdGl2ZUdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH1cbn0pO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gMzg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzODdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9wYXRoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDM4OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1zZXQtcHJvdG90eXBlLW9mJyk7XG5cbi8vIGBPYmplY3Quc2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Quc2V0cHJvdG90eXBlb2ZcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlIH0sIHtcbiAgc2V0UHJvdG90eXBlT2Y6IHNldFByb3RvdHlwZU9mXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSAzODlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBBViA9IHJlcXVpcmUoJy4vYXYnKTtcbmNvbnN0IEFwcFJvdXRlciA9IHJlcXVpcmUoJy4vYXBwLXJvdXRlcicpO1xuY29uc3QgeyBpc051bGxPclVuZGVmaW5lZCB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgeyBleHRlbmQsIGlzT2JqZWN0LCBpc0VtcHR5IH0gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbmNvbnN0IGlzQ05BcHAgPSBhcHBJZCA9PiBhcHBJZC5zbGljZSgtOSkgIT09ICctTWRZWGJNTUknO1xuXG5jb25zdCBmaWxsU2VydmVyVVJMcyA9IHVybCA9PiAoe1xuICBwdXNoOiB1cmwsXG4gIHN0YXRzOiB1cmwsXG4gIGVuZ2luZTogdXJsLFxuICBhcGk6IHVybCxcbiAgcnRtOiB1cmwsXG59KTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFNlcnZlclVSTHMoYXBwSWQpIHtcbiAgaWYgKGlzQ05BcHAoYXBwSWQpKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IGlkID0gYXBwSWQuc2xpY2UoMCwgOCkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgZG9tYWluID0gJ2xuY2xkZ2xvYmFsLmNvbSc7XG4gIHJldHVybiB7XG4gICAgcHVzaDogYGh0dHBzOi8vJHtpZH0ucHVzaC4ke2RvbWFpbn1gLFxuICAgIHN0YXRzOiBgaHR0cHM6Ly8ke2lkfS5zdGF0cy4ke2RvbWFpbn1gLFxuICAgIGVuZ2luZTogYGh0dHBzOi8vJHtpZH0uZW5naW5lLiR7ZG9tYWlufWAsXG4gICAgYXBpOiBgaHR0cHM6Ly8ke2lkfS5hcGkuJHtkb21haW59YCxcbiAgICBydG06IGBodHRwczovLyR7aWR9LnJ0bS4ke2RvbWFpbn1gLFxuICB9O1xufVxuXG5sZXQgX2Rpc2FibGVBcHBSb3V0ZXIgPSBmYWxzZTtcbmxldCBfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuLyoqXG4gKiBVUkxzIGZvciBzZXJ2aWNlc1xuICogQHR5cGVkZWYge09iamVjdH0gU2VydmVyVVJMc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFthcGldIHNlcnZlclVSTCBmb3IgQVBJIHNlcnZpY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbZW5naW5lXSBzZXJ2ZXJVUkwgZm9yIGVuZ2luZSBzZXJ2aWNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3N0YXRzXSBzZXJ2ZXJVUkwgZm9yIHN0YXRzIHNlcnZpY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbcHVzaF0gc2VydmVyVVJMIGZvciBwdXNoIHNlcnZpY2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbcnRtXSBzZXJ2ZXJVUkwgZm9yIExpdmVRdWVyeSBzZXJ2aWNlXG4gKi9cblxuLyoqXG4gKiBDYWxsIHRoaXMgbWV0aG9kIGZpcnN0IHRvIHNldCB1cCB5b3VyIGF1dGhlbnRpY2F0aW9uIHRva2VucyBmb3IgQVYuXG4gKiBZb3UgY2FuIGdldCB5b3VyIGFwcCBrZXlzIGZyb20gdGhlIExlYW5DbG91ZCBkYXNoYm9hcmQgb24gaHR0cDovL2xlYW5jbG91ZC5jbiAuXG4gKiBAZnVuY3Rpb24gQVYuaW5pdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmFwcElkIGFwcGxpY2F0aW9uIGlkXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5hcHBLZXkgYXBwbGljYXRpb24ga2V5XG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWFzdGVyS2V5XSBhcHBsaWNhdGlvbiBtYXN0ZXIga2V5XG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnByb2R1Y3Rpb25dXG4gKiBAcGFyYW0ge1N0cmluZ3xTZXJ2ZXJVUkxzfSBbb3B0aW9ucy5zZXJ2ZXJVUkxdIFVSTHMgZm9yIHNlcnZpY2VzLiBpZiBhIHN0cmluZyB3YXMgZ2l2ZW4sIGl0IHdpbGwgYmUgYXBwbGllZCBmb3IgYWxsIHNlcnZpY2VzLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kaXNhYmxlQ3VycmVudFVzZXJdXG4gKi9cbkFWLmluaXQgPSBmdW5jdGlvbiBpbml0KG9wdGlvbnMsIC4uLnBhcmFtcykge1xuICBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIEFWLmluaXQoe1xuICAgICAgYXBwSWQ6IG9wdGlvbnMsXG4gICAgICBhcHBLZXk6IHBhcmFtc1swXSxcbiAgICAgIG1hc3RlcktleTogcGFyYW1zWzFdLFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHtcbiAgICBhcHBJZCxcbiAgICBhcHBLZXksXG4gICAgbWFzdGVyS2V5LFxuICAgIGhvb2tLZXksXG4gICAgc2VydmVyVVJMLFxuICAgIHNlcnZlclVSTHMgPSBzZXJ2ZXJVUkwsXG4gICAgZGlzYWJsZUN1cnJlbnRVc2VyLFxuICAgIHByb2R1Y3Rpb24sXG4gICAgcmVhbHRpbWUsXG4gIH0gPSBvcHRpb25zO1xuICBpZiAoX2luaXRpYWxpemVkKVxuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdJbml0aWFsaXppbmcgTGVhbkNsb3VkIFN0b3JhZ2UgU0RLIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuIFJlaW5pdGlhbGl6aW5nIHRoZSBTREsgbWlnaHQgY2F1c2UgcHJvYmxlbXMgbGlrZSB1bmV4cGVjdGVkIGNyb3NzLWFwcCBkYXRhIHdyaXRpbmcgYW5kIGludmFsaWQgcmVsYXRpb25zLidcbiAgICApO1xuICBpZiAoIWFwcElkKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcHBJZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIGlmICghYXBwS2V5KSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcHBLZXkgbXVzdCBiZSBhIHN0cmluZycpO1xuICBpZiAocHJvY2Vzcy5lbnYuUExBVEZPUk0gIT09ICdOT0RFX0pTJyAmJiBtYXN0ZXJLZXkpXG4gICAgY29uc29sZS53YXJuKCdNYXN0ZXJLZXkgaXMgbm90IHN1cHBvc2VkIHRvIGJlIHVzZWQgYXQgY2xpZW50IHNpZGUuJyk7XG4gIGlmIChpc0NOQXBwKGFwcElkKSkge1xuICAgIGlmICghc2VydmVyVVJMcyAmJiBpc0VtcHR5KEFWLl9jb25maWcuc2VydmVyVVJMcykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGBzZXJ2ZXJVUkwgb3B0aW9uIGlzIHJlcXVpcmVkIGZvciBhcHBzIGZyb20gQ04gcmVnaW9uYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGFwcElkICE9PSBBVi5fY29uZmlnLmFwcGxpY2F0aW9uSWQpIHtcbiAgICAvLyBvdmVyd3JpdGUgYWxsIGtleXMgd2hlbiByZWluaXRpYWxpemluZyBhcyBhIG5ldyBhcHBcbiAgICBBVi5fY29uZmlnLm1hc3RlcktleSA9IG1hc3RlcktleTtcbiAgICBBVi5fY29uZmlnLmhvb2tLZXkgPSBob29rS2V5O1xuICB9IGVsc2Uge1xuICAgIGlmIChtYXN0ZXJLZXkpIEFWLl9jb25maWcubWFzdGVyS2V5ID0gbWFzdGVyS2V5O1xuICAgIGlmIChob29rS2V5KSBBVi5fY29uZmlnLmhvb2tLZXkgPSBob29rS2V5O1xuICB9XG4gIEFWLl9jb25maWcuYXBwbGljYXRpb25JZCA9IGFwcElkO1xuICBBVi5fY29uZmlnLmFwcGxpY2F0aW9uS2V5ID0gYXBwS2V5O1xuICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHByb2R1Y3Rpb24pKSB7XG4gICAgQVYuc2V0UHJvZHVjdGlvbihwcm9kdWN0aW9uKTtcbiAgfVxuICBpZiAodHlwZW9mIGRpc2FibGVDdXJyZW50VXNlciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIgPSBkaXNhYmxlQ3VycmVudFVzZXI7XG4gIGNvbnN0IGRpc2FibGVBcHBSb3V0ZXIgPVxuICAgIF9kaXNhYmxlQXBwUm91dGVyIHx8IHR5cGVvZiBzZXJ2ZXJVUkxzICE9PSAndW5kZWZpbmVkJztcbiAgaWYgKCFkaXNhYmxlQXBwUm91dGVyKSB7XG4gICAgQVYuX2FwcFJvdXRlciA9IG5ldyBBcHBSb3V0ZXIoQVYpO1xuICB9XG4gIEFWLl9zZXRTZXJ2ZXJVUkxzKFxuICAgIGV4dGVuZChcbiAgICAgIHt9LFxuICAgICAgZ2V0RGVmYXVsdFNlcnZlclVSTHMoYXBwSWQpLFxuICAgICAgQVYuX2NvbmZpZy5zZXJ2ZXJVUkxzLFxuICAgICAgdHlwZW9mIHNlcnZlclVSTHMgPT09ICdzdHJpbmcnID8gZmlsbFNlcnZlclVSTHMoc2VydmVyVVJMcykgOiBzZXJ2ZXJVUkxzXG4gICAgKSxcbiAgICBkaXNhYmxlQXBwUm91dGVyXG4gICk7XG4gIGlmIChyZWFsdGltZSkge1xuICAgIEFWLl9jb25maWcucmVhbHRpbWUgPSByZWFsdGltZTtcbiAgfSBlbHNlIGlmIChBVi5fc2hhcmVkQ29uZmlnLmxpdmVRdWVyeVJlYWx0aW1lKSB7XG4gICAgY29uc3QgeyBhcGksIHJ0bSB9ID0gQVYuX2NvbmZpZy5zZXJ2ZXJVUkxzO1xuICAgIEFWLl9jb25maWcucmVhbHRpbWUgPSBuZXcgQVYuX3NoYXJlZENvbmZpZy5saXZlUXVlcnlSZWFsdGltZSh7XG4gICAgICBhcHBJZCxcbiAgICAgIGFwcEtleSxcbiAgICAgIHNlcnZlcjoge1xuICAgICAgICBhcGksXG4gICAgICAgIFJUTVJvdXRlcjogcnRtLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuICBfaW5pdGlhbGl6ZWQgPSB0cnVlO1xufTtcblxuLy8gSWYgd2UncmUgcnVubmluZyBpbiBub2RlLmpzLCBhbGxvdyB1c2luZyB0aGUgbWFzdGVyIGtleS5cbmlmIChwcm9jZXNzLmVudi5QTEFURk9STSA9PT0gJ05PREVfSlMnKSB7XG4gIEFWLkNsb3VkID0gQVYuQ2xvdWQgfHwge307XG4gIC8qKlxuICAgKiBTd2l0Y2hlcyB0aGUgTGVhbkNsb3VkIFNESyB0byB1c2luZyB0aGUgTWFzdGVyIGtleS4gIFRoZSBNYXN0ZXIga2V5IGdyYW50c1xuICAgKiBwcml2ZWxlZ2VkIGFjY2VzcyB0byB0aGUgZGF0YSBpbiBMZWFuQ2xvdWQgYW5kIGNhbiBiZSB1c2VkIHRvIGJ5cGFzcyBBQ0xzIGFuZFxuICAgKiBvdGhlciByZXN0cmljdGlvbnMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgY2xpZW50IFNES3MuXG4gICAqIDxwPjxzdHJvbmc+PGVtPkF2YWlsYWJsZSBpbiBDbG91ZCBDb2RlIGFuZCBOb2RlLmpzIG9ubHkuPC9lbT48L3N0cm9uZz5cbiAgICogPC9wPlxuICAgKi9cbiAgQVYuQ2xvdWQudXNlTWFzdGVyS2V5ID0gKCkgPT4ge1xuICAgIEFWLl9jb25maWcudXNlTWFzdGVyS2V5ID0gdHJ1ZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDYWxsIHRoaXMgbWV0aG9kIHRvIHNldCBwcm9kdWN0aW9uIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICogQGZ1bmN0aW9uIEFWLnNldFByb2R1Y3Rpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvZHVjdGlvbiBUcnVlIGlzIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQsYW5kXG4gKiAgaXQncyB0cnVlIGJ5IGRlZmF1bHQuXG4gKi9cbkFWLnNldFByb2R1Y3Rpb24gPSBwcm9kdWN0aW9uID0+IHtcbiAgaWYgKCFpc051bGxPclVuZGVmaW5lZChwcm9kdWN0aW9uKSkge1xuICAgIEFWLl9jb25maWcucHJvZHVjdGlvbiA9IHByb2R1Y3Rpb24gPyAxIDogMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBjaGFuZ2UgdG8gZGVmYXVsdCB2YWx1ZVxuICAgIEFWLl9jb25maWcucHJvZHVjdGlvbiA9IG51bGw7XG4gIH1cbn07XG5cbkFWLl9zZXRTZXJ2ZXJVUkxzID0gKHVybHMsIGRpc2FibGVBcHBSb3V0ZXIgPSB0cnVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdXJscyAhPT0gJ3N0cmluZycpIHtcbiAgICBleHRlbmQoQVYuX2NvbmZpZy5zZXJ2ZXJVUkxzLCB1cmxzKTtcbiAgfSBlbHNlIHtcbiAgICBBVi5fY29uZmlnLnNlcnZlclVSTHMgPSBmaWxsU2VydmVyVVJMcyh1cmxzKTtcbiAgfVxuICBpZiAoZGlzYWJsZUFwcFJvdXRlcikge1xuICAgIGlmIChBVi5fYXBwUm91dGVyKSB7XG4gICAgICBBVi5fYXBwUm91dGVyLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2Rpc2FibGVBcHBSb3V0ZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogU2V0IHNlcnZlciBVUkxzIGZvciBzZXJ2aWNlcy5cbiAqIEBmdW5jdGlvbiBBVi5zZXRTZXJ2ZXJVUkxcbiAqIEBzaW5jZSA0LjMuMFxuICogQHBhcmFtIHtTdHJpbmd8U2VydmVyVVJMc30gdXJscyBVUkxzIGZvciBzZXJ2aWNlcy4gaWYgYSBzdHJpbmcgd2FzIGdpdmVuLCBpdCB3aWxsIGJlIGFwcGxpZWQgZm9yIGFsbCBzZXJ2aWNlcy5cbiAqIFlvdSBjYW4gYWxzbyBzZXQgdGhlbSB3aGVuIGluaXRpYWxpemluZyBTREsgd2l0aCBgb3B0aW9ucy5zZXJ2ZXJVUkxgXG4gKi9cbkFWLnNldFNlcnZlclVSTCA9IHVybHMgPT4gQVYuX3NldFNlcnZlclVSTHModXJscyk7XG5BVi5zZXRTZXJ2ZXJVUkxzID0gQVYuc2V0U2VydmVyVVJMO1xuXG5BVi5rZWVwRXJyb3JSYXdNZXNzYWdlID0gdmFsdWUgPT4ge1xuICBBVi5fc2hhcmVkQ29uZmlnLmtlZXBFcnJvclJhd01lc3NhZ2UgPSB2YWx1ZTtcbn07XG5cbi8qKlxuICogU2V0IGEgZGVhZGxpbmUgZm9yIHJlcXVlc3RzIHRvIGNvbXBsZXRlLlxuICogTm90ZSB0aGF0IGZpbGUgdXBsb2FkIHJlcXVlc3RzIGFyZSBub3QgYWZmZWN0ZWQuXG4gKiBAZnVuY3Rpb24gQVYuc2V0UmVxdWVzdFRpbWVvdXRcbiAqIEBzaW5jZSAzLjYuMFxuICogQHBhcmFtIHtudW1iZXJ9IG1zXG4gKi9cbkFWLnNldFJlcXVlc3RUaW1lb3V0ID0gbXMgPT4ge1xuICBBVi5fY29uZmlnLnJlcXVlc3RUaW1lb3V0ID0gbXM7XG59O1xuXG4vLyBiYWNrd29yZCBjb21wYXRpYmxlXG5BVi5pbml0aWFsaXplID0gQVYuaW5pdDtcblxuY29uc3QgZGVmaW5lQ29uZmlnID0gcHJvcGVydHkgPT5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFWLCBwcm9wZXJ0eSwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBBVi5fY29uZmlnW3Byb3BlcnR5XTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgQVYuX2NvbmZpZ1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9LFxuICB9KTtcblxuWydhcHBsaWNhdGlvbklkJywgJ2FwcGxpY2F0aW9uS2V5JywgJ21hc3RlcktleScsICdob29rS2V5J10uZm9yRWFjaChcbiAgZGVmaW5lQ29uZmlnXG4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luaXQuanMiLCJ2YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgbWV0aG9kID0gcmVxdWlyZSgnLi4vYXJyYXkvdmlydHVhbC9zbGljZScpO1xuXG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5zbGljZTtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuc2xpY2UpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9zbGljZS5qc1xuLy8gbW9kdWxlIGlkID0gMzkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vLi4vbW9kdWxlcy9lcy5hcnJheS5zbGljZScpO1xudmFyIGVudHJ5VmlydHVhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2ludGVybmFscy9lbnRyeS12aXJ0dWFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLnNsaWNlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvc2xpY2UuanNcbi8vIG1vZHVsZSBpZCA9IDM5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXknKTtcbnZhciBpc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNvbnN0cnVjdG9yJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0Jyk7XG52YXIgdW4kU2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2UnKTtcblxudmFyIEhBU19TUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdzbGljZScpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyICRBcnJheSA9IEFycmF5O1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnNsaWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNsaWNlXG4vLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW5ndGgpO1xuICAgIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gICAgLy8gaW5saW5lIGBBcnJheVNwZWNpZXNDcmVhdGVgIGZvciB1c2FnZSBuYXRpdmUgYEFycmF5I3NsaWNlYCB3aGVyZSBpdCdzIHBvc3NpYmxlXG4gICAgdmFyIENvbnN0cnVjdG9yLCByZXN1bHQsIG47XG4gICAgaWYgKGlzQXJyYXkoTykpIHtcbiAgICAgIENvbnN0cnVjdG9yID0gTy5jb25zdHJ1Y3RvcjtcbiAgICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgICBpZiAoaXNDb25zdHJ1Y3RvcihDb25zdHJ1Y3RvcikgJiYgKENvbnN0cnVjdG9yID09PSAkQXJyYXkgfHwgaXNBcnJheShDb25zdHJ1Y3Rvci5wcm90b3R5cGUpKSkge1xuICAgICAgICBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoQ29uc3RydWN0b3IpKSB7XG4gICAgICAgIENvbnN0cnVjdG9yID0gQ29uc3RydWN0b3JbU1BFQ0lFU107XG4gICAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gbnVsbCkgQ29uc3RydWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoQ29uc3RydWN0b3IgPT09ICRBcnJheSB8fCBDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1biRTbGljZShPLCBrLCBmaW4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgKENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQgPyAkQXJyYXkgOiBDb25zdHJ1Y3RvcikobWF4KGZpbiAtIGssIDApKTtcbiAgICBmb3IgKG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgaWYgKGsgaW4gTykgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBuLCBPW2tdKTtcbiAgICByZXN1bHQubGVuZ3RoID0gbjtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzXG4vLyBtb2R1bGUgaWQgPSAzOTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciBwYXRoID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL3BhdGgnKTtcblxudmFyIE9iamVjdCA9IHBhdGguT2JqZWN0O1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG5cbmlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkuc2hhbSkgZGVmaW5lUHJvcGVydHkuc2hhbSA9IHRydWU7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gMzk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAhPT0gZGVmaW5lUHJvcGVydHksIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIGRlZmluZVByb3BlcnR5OiBkZWZpbmVQcm9wZXJ0eVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSAzOTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBhamF4ID0gcmVxdWlyZSgnLi91dGlscy9hamF4Jyk7XG5jb25zdCBDYWNoZSA9IHJlcXVpcmUoJy4vY2FjaGUnKTtcblxuZnVuY3Rpb24gQXBwUm91dGVyKEFWKSB7XG4gIHRoaXMuQVYgPSBBVjtcbiAgdGhpcy5sb2NrZWRVbnRpbCA9IDA7XG4gIENhY2hlLmdldEFzeW5jKCdzZXJ2ZXJVUkxzJylcbiAgICAudGhlbihkYXRhID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgICBpZiAoIWRhdGEpIHJldHVybiB0aGlzLmxvY2soMCk7XG4gICAgICBjb25zdCB7IHNlcnZlclVSTHMsIGxvY2tlZFVudGlsIH0gPSBkYXRhO1xuICAgICAgdGhpcy5BVi5fc2V0U2VydmVyVVJMcyhzZXJ2ZXJVUkxzLCBmYWxzZSk7XG4gICAgICB0aGlzLmxvY2tlZFVudGlsID0gbG9ja2VkVW50aWw7XG4gICAgfSlcbiAgICAuY2F0Y2goKCkgPT4gdGhpcy5sb2NrKDApKTtcbn1cblxuQXBwUm91dGVyLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG59O1xuQXBwUm91dGVyLnByb3RvdHlwZS5sb2NrID0gZnVuY3Rpb24gbG9jayh0dGwpIHtcbiAgdGhpcy5sb2NrZWRVbnRpbCA9IERhdGUubm93KCkgKyB0dGw7XG59O1xuQXBwUm91dGVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgaWYgKERhdGUubm93KCkgPCB0aGlzLmxvY2tlZFVudGlsKSByZXR1cm47XG4gIHRoaXMubG9jaygxMCk7XG4gIGNvbnN0IHVybCA9ICdodHRwczovL2FwcC1yb3V0ZXIuY29tLzIvcm91dGUnO1xuICByZXR1cm4gYWpheCh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmwsXG4gICAgcXVlcnk6IHtcbiAgICAgIGFwcElkOiB0aGlzLkFWLmFwcGxpY2F0aW9uSWQsXG4gICAgfSxcbiAgfSlcbiAgICAudGhlbihzZXJ2ZXJzID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgICBsZXQgdHRsID0gc2VydmVycy50dGw7XG4gICAgICBpZiAoIXR0bCkgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIHR0bCcpO1xuICAgICAgdHRsID0gdHRsICogMTAwMDtcbiAgICAgIGNvbnN0IHByb3RvY2FsID0gJ2h0dHBzOi8vJztcbiAgICAgIGNvbnN0IHNlcnZlclVSTHMgPSB7XG4gICAgICAgIHB1c2g6IHByb3RvY2FsICsgc2VydmVycy5wdXNoX3NlcnZlcixcbiAgICAgICAgc3RhdHM6IHByb3RvY2FsICsgc2VydmVycy5zdGF0c19zZXJ2ZXIsXG4gICAgICAgIGVuZ2luZTogcHJvdG9jYWwgKyBzZXJ2ZXJzLmVuZ2luZV9zZXJ2ZXIsXG4gICAgICAgIGFwaTogcHJvdG9jYWwgKyBzZXJ2ZXJzLmFwaV9zZXJ2ZXIsXG4gICAgICB9O1xuICAgICAgdGhpcy5BVi5fc2V0U2VydmVyVVJMcyhzZXJ2ZXJVUkxzLCBmYWxzZSk7XG4gICAgICB0aGlzLmxvY2sodHRsKTtcbiAgICAgIHJldHVybiBDYWNoZS5zZXRBc3luYyhcbiAgICAgICAgJ3NlcnZlclVSTHMnLFxuICAgICAgICB7XG4gICAgICAgICAgc2VydmVyVVJMcyxcbiAgICAgICAgICBsb2NrZWRVbnRpbDogdGhpcy5sb2NrZWRVbnRpbCxcbiAgICAgICAgfSxcbiAgICAgICAgdHRsXG4gICAgICApO1xuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIC8vIGJ5cGFzcyBhbGwgZXJyb3JzXG4gICAgICBjb25zb2xlLndhcm4oYHJlZnJlc2ggc2VydmVyIFVSTHMgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB0aGlzLmxvY2soNjAwKTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXBwUm91dGVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC1yb3V0ZXIuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL2Z1bGwvc3ltYm9sJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvc3ltYm9sL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzOTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vYWN0dWFsL3N5bWJvbCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lc25leHQuc3ltYm9sLmFzeW5jLWRpc3Bvc2UnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5kaXNwb3NlJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzbmV4dC5zeW1ib2wubWF0Y2hlcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lc25leHQuc3ltYm9sLm1ldGFkYXRhLWtleScpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lc25leHQuc3ltYm9sLm9ic2VydmFibGUnKTtcbi8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgXG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzbmV4dC5zeW1ib2wubWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5wYXR0ZXJuLW1hdGNoJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzbmV4dC5zeW1ib2wucmVwbGFjZS1hbGwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZnVsbC9zeW1ib2wvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9zdGFibGUvc3ltYm9sJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2FjdHVhbC9zeW1ib2wvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM5OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0Jyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24nKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sLmhhcy1pbnN0YW5jZScpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5zeW1ib2wuaXMtY29uY2F0LXNwcmVhZGFibGUnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN5bWJvbC5tYXRjaCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5zeW1ib2wubWF0Y2gtYWxsJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN5bWJvbC5yZXBsYWNlJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN5bWJvbC5zZWFyY2gnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sLnNwZWNpZXMnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sLnNwbGl0Jyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN5bWJvbC50by1wcmltaXRpdmUnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sLnRvLXN0cmluZy10YWcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuc3ltYm9sLnVuc2NvcGFibGVzJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLmpzb24udG8tc3RyaW5nLXRhZycpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5tYXRoLnRvLXN0cmluZy10YWcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMucmVmbGVjdC50by1zdHJpbmctdGFnJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9wYXRoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0aC5TeW1ib2w7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvc3ltYm9sL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0MDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHNwbGl0IHRvIG1vZHVsZXMgbGlzdGVkIGJlbG93XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnN5bWJvbC5jb25zdHJ1Y3RvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5zeW1ib2wuZm9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnN5bWJvbC5rZXktZm9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5Jyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5qc1xuLy8gbW9kdWxlIGlkID0gNDAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG52YXIgJHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIG5hdGl2ZU9iamVjdENyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGRlZmluZVByb3BlcnRpZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQnKTtcbnZhciBzaGFyZWRLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLWtleScpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGlkZGVuLWtleXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC13cmFwcGVkJyk7XG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIGRlZmluZVN5bWJvbFRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N5bWJvbC1kZWZpbmUtdG8tcHJpbWl0aXZlJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG52YXIgJGZvckVhY2ggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktaXRlcmF0aW9uJykuZm9yRWFjaDtcblxudmFyIEhJRERFTiA9IHNoYXJlZEtleSgnaGlkZGVuJyk7XG52YXIgU1lNQk9MID0gJ1N5bWJvbCc7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFNZTUJPTCk7XG5cbnZhciBPYmplY3RQcm90b3R5cGUgPSBPYmplY3RbUFJPVE9UWVBFXTtcbnZhciAkU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBTeW1ib2xQcm90b3R5cGUgPSAkU3ltYm9sICYmICRTeW1ib2xbUFJPVE9UWVBFXTtcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbnZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbnZhciBuYXRpdmVEZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlLmY7XG52YXIgbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbC5mO1xudmFyIG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZjtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG5cbnZhciBBbGxTeW1ib2xzID0gc2hhcmVkKCdzeW1ib2xzJyk7XG52YXIgT2JqZWN0UHJvdG90eXBlU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG5cbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIFVTRV9TRVRURVIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjcmlwdG9yID0gREVTQ1JJUFRPUlMgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0Q3JlYXRlKG5hdGl2ZURlZmluZVByb3BlcnR5KHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIHZhciBPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yID0gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdFByb3RvdHlwZSwgUCk7XG4gIGlmIChPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yKSBkZWxldGUgT2JqZWN0UHJvdG90eXBlW1BdO1xuICBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgaWYgKE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IgJiYgTyAhPT0gT2JqZWN0UHJvdG90eXBlKSB7XG4gICAgbmF0aXZlRGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG90eXBlLCBQLCBPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yKTtcbiAgfVxufSA6IG5hdGl2ZURlZmluZVByb3BlcnR5O1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcsIGRlc2NyaXB0aW9uKSB7XG4gIHZhciBzeW1ib2wgPSBBbGxTeW1ib2xzW3RhZ10gPSBuYXRpdmVPYmplY3RDcmVhdGUoU3ltYm9sUHJvdG90eXBlKTtcbiAgc2V0SW50ZXJuYWxTdGF0ZShzeW1ib2wsIHtcbiAgICB0eXBlOiBTWU1CT0wsXG4gICAgdGFnOiB0YWcsXG4gICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gIH0pO1xuICBpZiAoIURFU0NSSVBUT1JTKSBzeW1ib2wuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgcmV0dXJuIHN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGlmIChPID09PSBPYmplY3RQcm90b3R5cGUpICRkZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBQLCBBdHRyaWJ1dGVzKTtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXkgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKGhhc093bihBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFBdHRyaWJ1dGVzLmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzT3duKE8sIEhJRERFTikpIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIEhJRERFTiwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHt9KSk7XG4gICAgICBPW0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChoYXNPd24oTywgSElEREVOKSAmJiBPW0hJRERFTl1ba2V5XSkgT1tISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEF0dHJpYnV0ZXMgPSBuYXRpdmVPYmplY3RDcmVhdGUoQXR0cmlidXRlcywgeyBlbnVtZXJhYmxlOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2NyaXB0b3IoTywga2V5LCBBdHRyaWJ1dGVzKTtcbiAgfSByZXR1cm4gbmF0aXZlRGVmaW5lUHJvcGVydHkoTywga2V5LCBBdHRyaWJ1dGVzKTtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB0b0luZGV4ZWRPYmplY3QoUHJvcGVydGllcyk7XG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhwcm9wZXJ0aWVzKS5jb25jYXQoJGdldE93blByb3BlcnR5U3ltYm9scyhwcm9wZXJ0aWVzKSk7XG4gICRmb3JFYWNoKGtleXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIURFU0NSSVBUT1JTIHx8IGNhbGwoJHByb3BlcnR5SXNFbnVtZXJhYmxlLCBwcm9wZXJ0aWVzLCBrZXkpKSAkZGVmaW5lUHJvcGVydHkoTywga2V5LCBwcm9wZXJ0aWVzW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIE87XG59O1xuXG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyBuYXRpdmVPYmplY3RDcmVhdGUoTykgOiAkZGVmaW5lUHJvcGVydGllcyhuYXRpdmVPYmplY3RDcmVhdGUoTyksIFByb3BlcnRpZXMpO1xufTtcblxudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKFYpIHtcbiAgdmFyIFAgPSB0b1Byb3BlcnR5S2V5KFYpO1xuICB2YXIgZW51bWVyYWJsZSA9IGNhbGwobmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUsIHRoaXMsIFApO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG90eXBlICYmIGhhc093bihBbGxTeW1ib2xzLCBQKSAmJiAhaGFzT3duKE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIFApKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlbnVtZXJhYmxlIHx8ICFoYXNPd24odGhpcywgUCkgfHwgIWhhc093bihBbGxTeW1ib2xzLCBQKSB8fCBoYXNPd24odGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1bUF1cbiAgICA/IGVudW1lcmFibGUgOiB0cnVlO1xufTtcblxudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICB2YXIgaXQgPSB0b0luZGV4ZWRPYmplY3QoTyk7XG4gIHZhciBrZXkgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvdHlwZSAmJiBoYXNPd24oQWxsU3ltYm9scywga2V5KSAmJiAhaGFzT3duKE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgdmFyIGRlc2NyaXB0b3IgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7XG4gIGlmIChkZXNjcmlwdG9yICYmIGhhc093bihBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzT3duKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIHtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSB0cnVlO1xuICB9XG4gIHJldHVybiBkZXNjcmlwdG9yO1xufTtcblxudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHZhciBuYW1lcyA9IG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXModG9JbmRleGVkT2JqZWN0KE8pKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICAkZm9yRWFjaChuYW1lcywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghaGFzT3duKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhc093bihoaWRkZW5LZXlzLCBrZXkpKSBwdXNoKHJlc3VsdCwga2V5KTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIChPKSB7XG4gIHZhciBJU19PQkpFQ1RfUFJPVE9UWVBFID0gTyA9PT0gT2JqZWN0UHJvdG90eXBlO1xuICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKElTX09CSkVDVF9QUk9UT1RZUEUgPyBPYmplY3RQcm90b3R5cGVTeW1ib2xzIDogdG9JbmRleGVkT2JqZWN0KE8pKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICAkZm9yRWFjaChuYW1lcywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChoYXNPd24oQWxsU3ltYm9scywga2V5KSAmJiAoIUlTX09CSkVDVF9QUk9UT1RZUEUgfHwgaGFzT3duKE9iamVjdFByb3RvdHlwZSwga2V5KSkpIHtcbiAgICAgIHB1c2gocmVzdWx0LCBBbGxTeW1ib2xzW2tleV0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBgU3ltYm9sYCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wtY29uc3RydWN0b3JcbmlmICghTkFUSVZFX1NZTUJPTCkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmIChpc1Byb3RvdHlwZU9mKFN5bWJvbFByb3RvdHlwZSwgdGhpcykpIHRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gIWFyZ3VtZW50cy5sZW5ndGggfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiAkdG9TdHJpbmcoYXJndW1lbnRzWzBdKTtcbiAgICB2YXIgdGFnID0gdWlkKGRlc2NyaXB0aW9uKTtcbiAgICB2YXIgc2V0dGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG90eXBlKSBjYWxsKHNldHRlciwgT2JqZWN0UHJvdG90eXBlU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhc093bih0aGlzLCBISURERU4pICYmIGhhc093bih0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjcmlwdG9yKHRoaXMsIHRhZywgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgVVNFX1NFVFRFUikgc2V0U3ltYm9sRGVzY3JpcHRvcihPYmplY3RQcm90b3R5cGUsIHRhZywgeyBjb25maWd1cmFibGU6IHRydWUsIHNldDogc2V0dGVyIH0pO1xuICAgIHJldHVybiB3cmFwKHRhZywgZGVzY3JpcHRpb24pO1xuICB9O1xuXG4gIFN5bWJvbFByb3RvdHlwZSA9ICRTeW1ib2xbUFJPVE9UWVBFXTtcblxuICBkZWZpbmVCdWlsdEluKFN5bWJvbFByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykudGFnO1xuICB9KTtcblxuICBkZWZpbmVCdWlsdEluKCRTeW1ib2wsICd3aXRob3V0U2V0dGVyJywgZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHdyYXAodWlkKGRlc2NyaXB0aW9uKSwgZGVzY3JpcHRpb24pO1xuICB9KTtcblxuICBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mID0gJGRlZmluZVByb3BlcnR5O1xuICBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlLmYgPSAkZGVmaW5lUHJvcGVydGllcztcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZS5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3ZWxsS25vd25TeW1ib2wobmFtZSksIG5hbWUpO1xuICB9O1xuXG4gIGlmIChERVNDUklQVE9SUykge1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLVN5bWJvbC1kZXNjcmlwdGlvblxuICAgIG5hdGl2ZURlZmluZVByb3BlcnR5KFN5bWJvbFByb3RvdHlwZSwgJ2Rlc2NyaXB0aW9uJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykuZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFJU19QVVJFKSB7XG4gICAgICBkZWZpbmVCdWlsdEluKE9iamVjdFByb3RvdHlwZSwgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB7IHVuc2FmZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cbn1cblxuJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIHdyYXA6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wsIHNoYW06ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgU3ltYm9sOiAkU3ltYm9sXG59KTtcblxuJGZvckVhY2gob2JqZWN0S2V5cyhXZWxsS25vd25TeW1ib2xzU3RvcmUpLCBmdW5jdGlvbiAobmFtZSkge1xuICBkZWZpbmVXZWxsS25vd25TeW1ib2wobmFtZSk7XG59KTtcblxuJCh7IHRhcmdldDogU1lNQk9MLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IFVTRV9TRVRURVIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgVVNFX1NFVFRFUiA9IGZhbHNlOyB9XG59KTtcblxuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wsIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIC8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yc1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcbn0pO1xuXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCB9LCB7XG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXNcbn0pO1xuXG4vLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3ByaW1pdGl2ZVxuZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUoKTtcblxuLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11gIHByb3BlcnR5XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZ1xuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgU1lNQk9MKTtcblxuaGlkZGVuS2V5c1tISURERU5dID0gdHJ1ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5jb25zdHJ1Y3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gNDAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyogZXNsaW50LWRpc2FibGUgZXMteC9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlICovXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzJykuZjtcbnZhciBhcnJheVNsaWNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNsaWNlLXNpbXBsZScpO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gYXJyYXlTbGljZSh3aW5kb3dOYW1lcyk7XG4gIH1cbn07XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiBjbGFzc29mKGl0KSA9PSAnV2luZG93J1xuICAgID8gZ2V0V2luZG93TmFtZXMoaXQpXG4gICAgOiAkZ2V0T3duUHJvcGVydHlOYW1lcyh0b0luZGV4ZWRPYmplY3QoaXQpKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLWV4dGVybmFsLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIE5BVElWRV9TWU1CT0xfUkVHSVNUUlkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbC1yZWdpc3RyeScpO1xuXG52YXIgU3RyaW5nVG9TeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeScpO1xudmFyIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC10by1zdHJpbmctcmVnaXN0cnknKTtcblxuLy8gYFN5bWJvbC5mb3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuZm9yXG4kKHsgdGFyZ2V0OiAnU3ltYm9sJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSB9LCB7XG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nKGtleSk7XG4gICAgaWYgKGhhc093bihTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5LCBzdHJpbmcpKSByZXR1cm4gU3RyaW5nVG9TeW1ib2xSZWdpc3RyeVtzdHJpbmddO1xuICAgIHZhciBzeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKShzdHJpbmcpO1xuICAgIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnlbc3RyaW5nXSA9IHN5bWJvbDtcbiAgICBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5W3N5bWJvbF0gPSBzdHJpbmc7XG4gICAgcmV0dXJuIHN5bWJvbDtcbiAgfVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuZm9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0MDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sLXJlZ2lzdHJ5Jyk7XG5cbnZhciBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5Jyk7XG5cbi8vIGBTeW1ib2wua2V5Rm9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmtleWZvclxuJCh7IHRhcmdldDogJ1N5bWJvbCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0xfUkVHSVNUUlkgfSwge1xuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcih0cnlUb1N0cmluZyhzeW0pICsgJyBpcyBub3QgYSBzeW1ib2wnKTtcbiAgICBpZiAoaGFzT3duKFN5bWJvbFRvU3RyaW5nUmVnaXN0cnksIHN5bSkpIHJldHVybiBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5W3N5bV07XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLmtleS1mb3IuanNcbi8vIG1vZHVsZSBpZCA9IDQwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcblxuLy8gVjggfiBDaHJvbWUgMzggYW5kIDM5IGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBmYWlscyBvbiBwcmltaXRpdmVzXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG52YXIgRk9SQ0VEID0gIU5BVElWRV9TWU1CT0wgfHwgZmFpbHMoZnVuY3Rpb24gKCkgeyBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZigxKTsgfSk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5c3ltYm9sc1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VEIH0sIHtcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgICB2YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gJGdldE93blByb3BlcnR5U3ltYm9scyh0b09iamVjdChpdCkpIDogW107XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktc3ltYm9scy5qc1xuLy8gbW9kdWxlIGlkID0gNDA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5hc3luY0l0ZXJhdG9yYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuYXN5bmNpdGVyYXRvclxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDQwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wuaGFzSW5zdGFuY2VgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5oYXNpbnN0YW5jZVxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdoYXNJbnN0YW5jZScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLmhhcy1pbnN0YW5jZS5qc1xuLy8gbW9kdWxlIGlkID0gNDA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5pc2NvbmNhdHNwcmVhZGFibGVcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuaXMtY29uY2F0LXNwcmVhZGFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDQxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wubWF0Y2hgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5tYXRjaFxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdtYXRjaCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLm1hdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSA0MTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbCcpO1xuXG4vLyBgU3ltYm9sLm1hdGNoQWxsYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wubWF0Y2hhbGxcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnbWF0Y2hBbGwnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN5bWJvbC5tYXRjaC1hbGwuanNcbi8vIG1vZHVsZSBpZCA9IDQxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wucmVwbGFjZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnJlcGxhY2VcbmRlZmluZVdlbGxLbm93blN5bWJvbCgncmVwbGFjZScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnJlcGxhY2UuanNcbi8vIG1vZHVsZSBpZCA9IDQxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wuc2VhcmNoYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuc2VhcmNoXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3NlYXJjaCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnNlYXJjaC5qc1xuLy8gbW9kdWxlIGlkID0gNDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5zcGVjaWVzYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuc3BlY2llc1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuc3BlY2llcy5qc1xuLy8gbW9kdWxlIGlkID0gNDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5zcGxpdGAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnNwbGl0XG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3NwbGl0Jyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5zeW1ib2wuc3BsaXQuanNcbi8vIG1vZHVsZSBpZCA9IDQxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG52YXIgZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWRlZmluZS10by1wcmltaXRpdmUnKTtcblxuLy8gYFN5bWJvbC50b1ByaW1pdGl2ZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnRvcHJpbWl0aXZlXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cbi8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvcHJpbWl0aXZlXG5kZWZpbmVTeW1ib2xUb1ByaW1pdGl2ZSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnRvLXByaW1pdGl2ZS5qc1xuLy8gbW9kdWxlIGlkID0gNDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG5cbi8vIGBTeW1ib2wudG9TdHJpbmdUYWdgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC50b3N0cmluZ3RhZ1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xuXG4vLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXWAgcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnXG5zZXRUb1N0cmluZ1RhZyhnZXRCdWlsdEluKCdTeW1ib2wnKSwgJ1N5bWJvbCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnRvLXN0cmluZy10YWcuanNcbi8vIG1vZHVsZSBpZCA9IDQxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wudW5zY29wYWJsZXNgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC51bnNjb3BhYmxlc1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3ltYm9sLnVuc2NvcGFibGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG5cbi8vIEpTT05bQEB0b1N0cmluZ1RhZ10gcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi1AQHRvc3RyaW5ndGFnXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmpzb24udG8tc3RyaW5nLXRhZy5qc1xuLy8gbW9kdWxlIGlkID0gNDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5hc3luY0Rpc3Bvc2VgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC11c2luZy1zdGF0ZW1lbnRcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnYXN5bmNEaXNwb3NlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLmFzeW5jLWRpc3Bvc2UuanNcbi8vIG1vZHVsZSBpZCA9IDQyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wuZGlzcG9zZWAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXVzaW5nLXN0YXRlbWVudFxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdkaXNwb3NlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLmRpc3Bvc2UuanNcbi8vIG1vZHVsZSBpZCA9IDQyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wubWF0Y2hlcmAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXBhdHRlcm4tbWF0Y2hpbmdcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnbWF0Y2hlcicpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5tYXRjaGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbCcpO1xuXG4vLyBgU3ltYm9sLm1ldGFkYXRhS2V5YCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZGVjb3JhdG9yLW1ldGFkYXRhXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ21ldGFkYXRhS2V5Jyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLm1ldGFkYXRhLWtleS5qc1xuLy8gbW9kdWxlIGlkID0gNDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wnKTtcblxuLy8gYFN5bWJvbC5vYnNlcnZhYmxlYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lc25leHQuc3ltYm9sLm9ic2VydmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDQyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgXG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbCcpO1xuXG4vLyBgU3ltYm9sLm1ldGFkYXRhYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZGVjb3JhdG9yc1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdtZXRhZGF0YScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5tZXRhZGF0YS5qc1xuLy8gbW9kdWxlIGlkID0gNDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gVE9ETzogcmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbi8vIGBTeW1ib2wucGF0dGVybk1hdGNoYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcGF0dGVybi1tYXRjaGluZ1xuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdwYXR0ZXJuTWF0Y2gnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzbmV4dC5zeW1ib2wucGF0dGVybi1tYXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gNDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLy8gVE9ETzogcmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sJyk7XG5cbmRlZmluZVdlbGxLbm93blN5bWJvbCgncmVwbGFjZUFsbCcpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXNuZXh0LnN5bWJvbC5yZXBsYWNlLWFsbC5qc1xuLy8gbW9kdWxlIGlkID0gNDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0MzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL2Z1bGwvc3ltYm9sL2l0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0MzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vYWN0dWFsL3N5bWJvbC9pdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL3N0YWJsZS9zeW1ib2wvaXRlcmF0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gNDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3InKTtcbnZhciBXcmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLXdyYXBwZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXcmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlLmYoJ2l0ZXJhdG9yJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0MzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2ZpbHRlclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL2ZpbHRlci5qc1xuLy8gbW9kdWxlIGlkID0gNDM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL2luc3RhbmNlL2ZpbHRlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvZmlsdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0Mzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgbWV0aG9kID0gcmVxdWlyZSgnLi4vYXJyYXkvdmlydHVhbC9maWx0ZXInKTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuZmlsdGVyO1xuICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEFycmF5UHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZS5maWx0ZXIpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9maWx0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uLy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyJyk7XG52YXIgZW50cnlWaXJ0dWFsID0gcmVxdWlyZSgnLi4vLi4vLi4vaW50ZXJuYWxzL2VudHJ5LXZpcnR1YWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5JykuZmlsdGVyO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvZmlsdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0Mzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkZmlsdGVyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpLmZpbHRlcjtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0Jyk7XG5cbnZhciBIQVNfU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnZmlsdGVyJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbHRlclxuLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQHNwZWNpZXNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUIH0sIHtcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICByZXR1cm4gJGZpbHRlcih0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0NDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNyBEYXZpZCBNLiBMZWUsIElJXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTG9jYWwgcmVmZXJlbmNlIHRvIFRpbWVvdXRFcnJvclxuICogQHByaXZhdGVcbiAqL1xudmFyIFRpbWVvdXRFcnJvcjtcblxuLyoqXG4gKiBSZWplY3RzIGEgcHJvbWlzZSB3aXRoIGEge0BsaW5rIFRpbWVvdXRFcnJvcn0gaWYgaXQgZG9lcyBub3Qgc2V0dGxlIHdpdGhpblxuICogdGhlIHNwZWNpZmllZCB0aW1lb3V0LlxuICpcbiAqIEBwYXJhbSB7UHJvbWlzZX0gcHJvbWlzZSBUaGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0TWlsbGlzIE51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBvbiBzZXR0bGluZy5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBFaXRoZXIgcmVzb2x2ZXMvcmVqZWN0cyB3aXRoIGBwcm9taXNlYCwgb3IgcmVqZWN0cyB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICBgVGltZW91dEVycm9yYCwgd2hpY2hldmVyIHNldHRsZXMgZmlyc3QuXG4gKi9cbnZhciB0aW1lb3V0ID0gbW9kdWxlLmV4cG9ydHMudGltZW91dCA9IGZ1bmN0aW9uKHByb21pc2UsIHRpbWVvdXRNaWxsaXMpIHtcbiAgdmFyIGVycm9yID0gbmV3IFRpbWVvdXRFcnJvcigpLFxuICAgICAgdGltZW91dDtcblxuICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICBwcm9taXNlLFxuICAgIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9LCB0aW1lb3V0TWlsbGlzKTtcbiAgICB9KSxcbiAgXSkudGhlbihmdW5jdGlvbih2KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHJldHVybiB2O1xuICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGhyb3cgZXJyO1xuICB9KTtcbn07XG5cbi8qKlxuICogRXhjZXB0aW9uIGluZGljYXRpbmcgdGhhdCB0aGUgdGltZW91dCBleHBpcmVkLlxuICovXG5UaW1lb3V0RXJyb3IgPSBtb2R1bGUuZXhwb3J0cy5UaW1lb3V0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKVxuICB0aGlzLnN0YWNrID0gRXJyb3IoKS5zdGFja1xuICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCc7XG59O1xuXG5UaW1lb3V0RXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuVGltZW91dEVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Byb21pc2UtdGltZW91dC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgdmFyIGV2ZW50U3BsaXR0ZXIgPSAvXFxzKy87XG4gIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqXG4gICAqIDxwPkFWLkV2ZW50cyBpcyBhIGZvcmsgb2YgQmFja2JvbmUncyBFdmVudHMgbW9kdWxlLCBwcm92aWRlZCBmb3IgeW91clxuICAgKiBjb252ZW5pZW5jZS48L3A+XG4gICAqXG4gICAqIDxwPkEgbW9kdWxlIHRoYXQgY2FuIGJlIG1peGVkIGluIHRvIGFueSBvYmplY3QgaW4gb3JkZXIgdG8gcHJvdmlkZVxuICAgKiBpdCB3aXRoIGN1c3RvbSBldmVudHMuIFlvdSBtYXkgYmluZCBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYW4gZXZlbnRcbiAgICogd2l0aCBgb25gLCBvciByZW1vdmUgdGhlc2UgZnVuY3Rpb25zIHdpdGggYG9mZmAuXG4gICAqIFRyaWdnZXJpbmcgYW4gZXZlbnQgZmlyZXMgYWxsIGNhbGxiYWNrcyBpbiB0aGUgb3JkZXIgdGhhdCBgb25gIHdhc1xuICAgKiBjYWxsZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICogXy5leHRlbmQob2JqZWN0LCBBVi5FdmVudHMpO1xuICAgKiBvYmplY3Qub24oJ2V4cGFuZCcsIGZ1bmN0aW9uKCl7IGFsZXJ0KCdleHBhbmRlZCcpOyB9KTtcbiAgICogb2JqZWN0LnRyaWdnZXIoJ2V4cGFuZCcpOzwvcHJlPjwvcD5cbiAgICpcbiAgICovXG4gIEFWLkV2ZW50cyA9IHtcbiAgICAvKipcbiAgICAgKiBCaW5kIG9uZSBvciBtb3JlIHNwYWNlIHNlcGFyYXRlZCBldmVudHMsIGBldmVudHNgLCB0byBhIGBjYWxsYmFja2BcbiAgICAgKiBmdW5jdGlvbi4gUGFzc2luZyBgXCJhbGxcImAgd2lsbCBiaW5kIHRoZSBjYWxsYmFjayB0byBhbGwgZXZlbnRzIGZpcmVkLlxuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY2FsbHMsIGV2ZW50LCBub2RlLCB0YWlsLCBsaXN0O1xuICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKTtcbiAgICAgIGNhbGxzID0gdGhpcy5fY2FsbGJhY2tzIHx8ICh0aGlzLl9jYWxsYmFja3MgPSB7fSk7XG5cbiAgICAgIC8vIENyZWF0ZSBhbiBpbW11dGFibGUgY2FsbGJhY2sgbGlzdCwgYWxsb3dpbmcgdHJhdmVyc2FsIGR1cmluZ1xuICAgICAgLy8gbW9kaWZpY2F0aW9uLiAgVGhlIHRhaWwgaXMgYW4gZW1wdHkgb2JqZWN0IHRoYXQgd2lsbCBhbHdheXMgYmUgdXNlZFxuICAgICAgLy8gYXMgdGhlIG5leHQgbm9kZS5cbiAgICAgIGV2ZW50ID0gZXZlbnRzLnNoaWZ0KCk7XG4gICAgICB3aGlsZSAoZXZlbnQpIHtcbiAgICAgICAgbGlzdCA9IGNhbGxzW2V2ZW50XTtcbiAgICAgICAgbm9kZSA9IGxpc3QgPyBsaXN0LnRhaWwgOiB7fTtcbiAgICAgICAgbm9kZS5uZXh0ID0gdGFpbCA9IHt9O1xuICAgICAgICBub2RlLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBub2RlLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxzW2V2ZW50XSA9IHsgdGFpbDogdGFpbCwgbmV4dDogbGlzdCA/IGxpc3QubmV4dCA6IG5vZGUgfTtcbiAgICAgICAgZXZlbnQgPSBldmVudHMuc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvbmUgb3IgbWFueSBjYWxsYmFja3MuIElmIGBjb250ZXh0YCBpcyBudWxsLCByZW1vdmVzIGFsbCBjYWxsYmFja3NcbiAgICAgKiB3aXRoIHRoYXQgZnVuY3Rpb24uIElmIGBjYWxsYmFja2AgaXMgbnVsbCwgcmVtb3ZlcyBhbGwgY2FsbGJhY2tzIGZvciB0aGVcbiAgICAgKiBldmVudC4gSWYgYGV2ZW50c2AgaXMgbnVsbCwgcmVtb3ZlcyBhbGwgYm91bmQgY2FsbGJhY2tzIGZvciBhbGwgZXZlbnRzLlxuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgdmFyIGV2ZW50LCBjYWxscywgbm9kZSwgdGFpbCwgY2IsIGN0eDtcblxuICAgICAgLy8gTm8gZXZlbnRzLCBvciByZW1vdmluZyAqYWxsKiBldmVudHMuXG4gICAgICBpZiAoIShjYWxscyA9IHRoaXMuX2NhbGxiYWNrcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCEoZXZlbnRzIHx8IGNhbGxiYWNrIHx8IGNvbnRleHQpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggdGhlIGxpc3RlZCBldmVudHMgYW5kIGNvbnRleHRzLCBzcGxpY2luZyB0aGVtIG91dCBvZiB0aGVcbiAgICAgIC8vIGxpbmtlZCBsaXN0IG9mIGNhbGxiYWNrcyBpZiBhcHByb3ByaWF0ZS5cbiAgICAgIGV2ZW50cyA9IGV2ZW50cyA/IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKSA6IF8ua2V5cyhjYWxscyk7XG4gICAgICBldmVudCA9IGV2ZW50cy5zaGlmdCgpO1xuICAgICAgd2hpbGUgKGV2ZW50KSB7XG4gICAgICAgIG5vZGUgPSBjYWxsc1tldmVudF07XG4gICAgICAgIGRlbGV0ZSBjYWxsc1tldmVudF07XG4gICAgICAgIGlmICghbm9kZSB8fCAhKGNhbGxiYWNrIHx8IGNvbnRleHQpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGxpc3QsIG9taXR0aW5nIHRoZSBpbmRpY2F0ZWQgY2FsbGJhY2tzLlxuICAgICAgICB0YWlsID0gbm9kZS50YWlsO1xuICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gdGFpbCkge1xuICAgICAgICAgIGNiID0gbm9kZS5jYWxsYmFjaztcbiAgICAgICAgICBjdHggPSBub2RlLmNvbnRleHQ7XG4gICAgICAgICAgaWYgKChjYWxsYmFjayAmJiBjYiAhPT0gY2FsbGJhY2spIHx8IChjb250ZXh0ICYmIGN0eCAhPT0gY29udGV4dCkpIHtcbiAgICAgICAgICAgIHRoaXMub24oZXZlbnQsIGNiLCBjdHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50ID0gZXZlbnRzLnNoaWZ0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIG9uZSBvciBtYW55IGV2ZW50cywgZmlyaW5nIGFsbCBib3VuZCBjYWxsYmFja3MuIENhbGxiYWNrcyBhcmVcbiAgICAgKiBwYXNzZWQgdGhlIHNhbWUgYXJndW1lbnRzIGFzIGB0cmlnZ2VyYCBpcywgYXBhcnQgZnJvbSB0aGUgZXZlbnQgbmFtZVxuICAgICAqICh1bmxlc3MgeW91J3JlIGxpc3RlbmluZyBvbiBgXCJhbGxcImAsIHdoaWNoIHdpbGwgY2F1c2UgeW91ciBjYWxsYmFjayB0b1xuICAgICAqIHJlY2VpdmUgdGhlIHRydWUgbmFtZSBvZiB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50KS5cbiAgICAgKi9cbiAgICB0cmlnZ2VyOiBmdW5jdGlvbihldmVudHMpIHtcbiAgICAgIHZhciBldmVudCwgbm9kZSwgY2FsbHMsIHRhaWwsIGFyZ3MsIGFsbCwgcmVzdDtcbiAgICAgIGlmICghKGNhbGxzID0gdGhpcy5fY2FsbGJhY2tzKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGFsbCA9IGNhbGxzLmFsbDtcbiAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKTtcbiAgICAgIHJlc3QgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICAgIC8vIEZvciBlYWNoIGV2ZW50LCB3YWxrIHRocm91Z2ggdGhlIGxpbmtlZCBsaXN0IG9mIGNhbGxiYWNrcyB0d2ljZSxcbiAgICAgIC8vIGZpcnN0IHRvIHRyaWdnZXIgdGhlIGV2ZW50LCB0aGVuIHRvIHRyaWdnZXIgYW55IGBcImFsbFwiYCBjYWxsYmFja3MuXG4gICAgICBldmVudCA9IGV2ZW50cy5zaGlmdCgpO1xuICAgICAgd2hpbGUgKGV2ZW50KSB7XG4gICAgICAgIG5vZGUgPSBjYWxsc1tldmVudF07XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgdGFpbCA9IG5vZGUudGFpbDtcbiAgICAgICAgICB3aGlsZSAoKG5vZGUgPSBub2RlLm5leHQpICE9PSB0YWlsKSB7XG4gICAgICAgICAgICBub2RlLmNhbGxiYWNrLmFwcGx5KG5vZGUuY29udGV4dCB8fCB0aGlzLCByZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGFsbDtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICB0YWlsID0gbm9kZS50YWlsO1xuICAgICAgICAgIGFyZ3MgPSBbZXZlbnRdLmNvbmNhdChyZXN0KTtcbiAgICAgICAgICB3aGlsZSAoKG5vZGUgPSBub2RlLm5leHQpICE9PSB0YWlsKSB7XG4gICAgICAgICAgICBub2RlLmNhbGxiYWNrLmFwcGx5KG5vZGUuY29udGV4dCB8fCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQgPSBldmVudHMuc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgfTtcblxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBBVi5FdmVudHMuYmluZCA9IEFWLkV2ZW50cy5vbjtcblxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBBVi5FdmVudHMudW5iaW5kID0gQVYuRXZlbnRzLm9mZjtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZXZlbnQuanMiLCJ2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxuLypnbG9iYWwgbmF2aWdhdG9yOiBmYWxzZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihBVikge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBHZW9Qb2ludCB3aXRoIGFueSBvZiB0aGUgZm9sbG93aW5nIGZvcm1zOjxicj5cbiAgICogQGV4YW1wbGVcbiAgICogbmV3IEdlb1BvaW50KG90aGVyR2VvUG9pbnQpXG4gICAqIG5ldyBHZW9Qb2ludCgzMCwgMzApXG4gICAqIG5ldyBHZW9Qb2ludChbMzAsIDMwXSlcbiAgICogbmV3IEdlb1BvaW50KHtsYXRpdHVkZTogMzAsIGxvbmdpdHVkZTogMzB9KVxuICAgKiBuZXcgR2VvUG9pbnQoKSAgLy8gZGVmYXVsdHMgdG8gKDAsIDApXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKiA8cD5SZXByZXNlbnRzIGEgbGF0aXR1ZGUgLyBsb25naXR1ZGUgcG9pbnQgdGhhdCBtYXkgYmUgYXNzb2NpYXRlZFxuICAgKiB3aXRoIGEga2V5IGluIGEgQVZPYmplY3Qgb3IgdXNlZCBhcyBhIHJlZmVyZW5jZSBwb2ludCBmb3IgZ2VvIHF1ZXJpZXMuXG4gICAqIFRoaXMgYWxsb3dzIHByb3hpbWl0eS1iYXNlZCBxdWVyaWVzIG9uIHRoZSBrZXkuPC9wPlxuICAgKlxuICAgKiA8cD5Pbmx5IG9uZSBrZXkgaW4gYSBjbGFzcyBtYXkgY29udGFpbiBhIEdlb1BvaW50LjwvcD5cbiAgICpcbiAgICogPHA+RXhhbXBsZTo8cHJlPlxuICAgKiAgIHZhciBwb2ludCA9IG5ldyBBVi5HZW9Qb2ludCgzMC4wLCAtMjAuMCk7XG4gICAqICAgdmFyIG9iamVjdCA9IG5ldyBBVi5PYmplY3QoXCJQbGFjZU9iamVjdFwiKTtcbiAgICogICBvYmplY3Quc2V0KFwibG9jYXRpb25cIiwgcG9pbnQpO1xuICAgKiAgIG9iamVjdC5zYXZlKCk7PC9wcmU+PC9wPlxuICAgKi9cbiAgQVYuR2VvUG9pbnQgPSBmdW5jdGlvbihhcmcxLCBhcmcyKSB7XG4gICAgaWYgKF8uaXNBcnJheShhcmcxKSkge1xuICAgICAgQVYuR2VvUG9pbnQuX3ZhbGlkYXRlKGFyZzFbMF0sIGFyZzFbMV0pO1xuICAgICAgdGhpcy5sYXRpdHVkZSA9IGFyZzFbMF07XG4gICAgICB0aGlzLmxvbmdpdHVkZSA9IGFyZzFbMV07XG4gICAgfSBlbHNlIGlmIChfLmlzT2JqZWN0KGFyZzEpKSB7XG4gICAgICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUoYXJnMS5sYXRpdHVkZSwgYXJnMS5sb25naXR1ZGUpO1xuICAgICAgdGhpcy5sYXRpdHVkZSA9IGFyZzEubGF0aXR1ZGU7XG4gICAgICB0aGlzLmxvbmdpdHVkZSA9IGFyZzEubG9uZ2l0dWRlO1xuICAgIH0gZWxzZSBpZiAoXy5pc051bWJlcihhcmcxKSAmJiBfLmlzTnVtYmVyKGFyZzIpKSB7XG4gICAgICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUoYXJnMSwgYXJnMik7XG4gICAgICB0aGlzLmxhdGl0dWRlID0gYXJnMTtcbiAgICAgIHRoaXMubG9uZ2l0dWRlID0gYXJnMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYXRpdHVkZSA9IDA7XG4gICAgICB0aGlzLmxvbmdpdHVkZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gQWRkIHByb3BlcnRpZXMgc28gdGhhdCBhbnlvbmUgdXNpbmcgV2Via2l0IG9yIE1vemlsbGEgd2lsbCBnZXQgYW4gZXJyb3JcbiAgICAvLyBpZiB0aGV5IHRyeSB0byBzZXQgdmFsdWVzIHRoYXQgYXJlIG91dCBvZiBib3VuZHMuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLl9fZGVmaW5lR2V0dGVyX18gJiYgdGhpcy5fX2RlZmluZVNldHRlcl9fKSB7XG4gICAgICAvLyBVc2UgX2xhdGl0dWRlIGFuZCBfbG9uZ2l0dWRlIHRvIGFjdHVhbGx5IHN0b3JlIHRoZSB2YWx1ZXMsIGFuZCBhZGRcbiAgICAgIC8vIGdldHRlcnMgYW5kIHNldHRlcnMgZm9yIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUuXG4gICAgICB0aGlzLl9sYXRpdHVkZSA9IHRoaXMubGF0aXR1ZGU7XG4gICAgICB0aGlzLl9sb25naXR1ZGUgPSB0aGlzLmxvbmdpdHVkZTtcbiAgICAgIHRoaXMuX19kZWZpbmVHZXR0ZXJfXygnbGF0aXR1ZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2xhdGl0dWRlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9fZGVmaW5lR2V0dGVyX18oJ2xvbmdpdHVkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2VsZi5fbG9uZ2l0dWRlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9fZGVmaW5lU2V0dGVyX18oJ2xhdGl0dWRlJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIEFWLkdlb1BvaW50Ll92YWxpZGF0ZSh2YWwsIHNlbGYubG9uZ2l0dWRlKTtcbiAgICAgICAgc2VsZi5fbGF0aXR1ZGUgPSB2YWw7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX19kZWZpbmVTZXR0ZXJfXygnbG9uZ2l0dWRlJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIEFWLkdlb1BvaW50Ll92YWxpZGF0ZShzZWxmLmxhdGl0dWRlLCB2YWwpO1xuICAgICAgICBzZWxmLl9sb25naXR1ZGUgPSB2YWw7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBsZW5kcyBBVi5HZW9Qb2ludC5wcm90b3R5cGVcbiAgICogQHByb3BlcnR5IHtmbG9hdH0gbGF0aXR1ZGUgTm9ydGgtc291dGggcG9ydGlvbiBvZiB0aGUgY29vcmRpbmF0ZSwgaW4gcmFuZ2VcbiAgICogICBbLTkwLCA5MF0uICBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHNldCBvdXQgb2YgcmFuZ2UgaW4gYSBtb2Rlcm4gYnJvd3Nlci5cbiAgICogQHByb3BlcnR5IHtmbG9hdH0gbG9uZ2l0dWRlIEVhc3Qtd2VzdCBwb3J0aW9uIG9mIHRoZSBjb29yZGluYXRlLCBpbiByYW5nZVxuICAgKiAgIFstMTgwLCAxODBdLiAgVGhyb3dzIGlmIHNldCBvdXQgb2YgcmFuZ2UgaW4gYSBtb2Rlcm4gYnJvd3Nlci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgdGhlIGdpdmVuIGxhdC1sb25nIGlzIG91dCBvZiBib3VuZHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBVi5HZW9Qb2ludC5fdmFsaWRhdGUgPSBmdW5jdGlvbihsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICAgaWYgKGxhdGl0dWRlIDwgLTkwLjApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQVYuR2VvUG9pbnQgbGF0aXR1ZGUgJyArIGxhdGl0dWRlICsgJyA8IC05MC4wLicpO1xuICAgIH1cbiAgICBpZiAobGF0aXR1ZGUgPiA5MC4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLkdlb1BvaW50IGxhdGl0dWRlICcgKyBsYXRpdHVkZSArICcgPiA5MC4wLicpO1xuICAgIH1cbiAgICBpZiAobG9uZ2l0dWRlIDwgLTE4MC4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLkdlb1BvaW50IGxvbmdpdHVkZSAnICsgbG9uZ2l0dWRlICsgJyA8IC0xODAuMC4nKTtcbiAgICB9XG4gICAgaWYgKGxvbmdpdHVkZSA+IDE4MC4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FWLkdlb1BvaW50IGxvbmdpdHVkZSAnICsgbG9uZ2l0dWRlICsgJyA+IDE4MC4wLicpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIEdlb1BvaW50IHdpdGggdGhlIHVzZXIncyBjdXJyZW50IGxvY2F0aW9uLCBpZiBhdmFpbGFibGUuXG4gICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLkdlb1BvaW50Pn1cbiAgICovXG4gIEFWLkdlb1BvaW50LmN1cnJlbnQgPSAoKSA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICBuZXcgQVYuR2VvUG9pbnQoe1xuICAgICAgICAgICAgbGF0aXR1ZGU6IGxvY2F0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogbG9jYXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcblxuICBfLmV4dGVuZChcbiAgICBBVi5HZW9Qb2ludC5wcm90b3R5cGUsXG4gICAgLyoqIEBsZW5kcyBBVi5HZW9Qb2ludC5wcm90b3R5cGUgKi8ge1xuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgR2VvUG9pbnQsIHN1aXRhYmxlIGZvciBBVi5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICAgICAgQVYuR2VvUG9pbnQuX3ZhbGlkYXRlKHRoaXMubGF0aXR1ZGUsIHRoaXMubG9uZ2l0dWRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfX3R5cGU6ICdHZW9Qb2ludCcsXG4gICAgICAgICAgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGUsXG4gICAgICAgICAgbG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIEdlb1BvaW50IHRvIGFub3RoZXIgaW4gcmFkaWFucy5cbiAgICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IHBvaW50IHRoZSBvdGhlciBBVi5HZW9Qb2ludC5cbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgICAqL1xuICAgICAgcmFkaWFuc1RvOiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICB2YXIgZDJyID0gTWF0aC5QSSAvIDE4MC4wO1xuICAgICAgICB2YXIgbGF0MXJhZCA9IHRoaXMubGF0aXR1ZGUgKiBkMnI7XG4gICAgICAgIHZhciBsb25nMXJhZCA9IHRoaXMubG9uZ2l0dWRlICogZDJyO1xuICAgICAgICB2YXIgbGF0MnJhZCA9IHBvaW50LmxhdGl0dWRlICogZDJyO1xuICAgICAgICB2YXIgbG9uZzJyYWQgPSBwb2ludC5sb25naXR1ZGUgKiBkMnI7XG4gICAgICAgIHZhciBkZWx0YUxhdCA9IGxhdDFyYWQgLSBsYXQycmFkO1xuICAgICAgICB2YXIgZGVsdGFMb25nID0gbG9uZzFyYWQgLSBsb25nMnJhZDtcbiAgICAgICAgdmFyIHNpbkRlbHRhTGF0RGl2MiA9IE1hdGguc2luKGRlbHRhTGF0IC8gMik7XG4gICAgICAgIHZhciBzaW5EZWx0YUxvbmdEaXYyID0gTWF0aC5zaW4oZGVsdGFMb25nIC8gMik7XG4gICAgICAgIC8vIFNxdWFyZSBvZiBoYWxmIHRoZSBzdHJhaWdodCBsaW5lIGNob3JkIGRpc3RhbmNlIGJldHdlZW4gYm90aCBwb2ludHMuXG4gICAgICAgIHZhciBhID1cbiAgICAgICAgICBzaW5EZWx0YUxhdERpdjIgKiBzaW5EZWx0YUxhdERpdjIgK1xuICAgICAgICAgIE1hdGguY29zKGxhdDFyYWQpICpcbiAgICAgICAgICAgIE1hdGguY29zKGxhdDJyYWQpICpcbiAgICAgICAgICAgIHNpbkRlbHRhTG9uZ0RpdjIgKlxuICAgICAgICAgICAgc2luRGVsdGFMb25nRGl2MjtcbiAgICAgICAgYSA9IE1hdGgubWluKDEuMCwgYSk7XG4gICAgICAgIHJldHVybiAyICogTWF0aC5hc2luKE1hdGguc3FydChhKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBHZW9Qb2ludCB0byBhbm90aGVyIGluIGtpbG9tZXRlcnMuXG4gICAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBwb2ludCB0aGUgb3RoZXIgQVYuR2VvUG9pbnQuXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICAgKi9cbiAgICAgIGtpbG9tZXRlcnNUbzogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFkaWFuc1RvKHBvaW50KSAqIDYzNzEuMDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgZnJvbSB0aGlzIEdlb1BvaW50IHRvIGFub3RoZXIgaW4gbWlsZXMuXG4gICAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBwb2ludCB0aGUgb3RoZXIgQVYuR2VvUG9pbnQuXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICAgKi9cbiAgICAgIG1pbGVzVG86IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZGlhbnNUbyhwb2ludCkgKiAzOTU4Ljg7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2VvcG9pbnQuanMiLCJ2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihBVikge1xuICB2YXIgUFVCTElDX0tFWSA9ICcqJztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBQ0wuXG4gICAqIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGUgQUNMIGhhcyBubyBwZXJtaXNzaW9ucyBmb3IgYW55b25lLlxuICAgKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBBVi5Vc2VyLCB0aGUgQUNMIHdpbGwgaGF2ZSByZWFkIGFuZCB3cml0ZVxuICAgKiAgIHBlcm1pc3Npb24gZm9yIG9ubHkgdGhhdCB1c2VyLlxuICAgKiBJZiB0aGUgYXJndW1lbnQgaXMgYW55IG90aGVyIEpTT04gb2JqZWN0LCB0aGF0IG9iamVjdCB3aWxsIGJlIGludGVycHJldHRlZFxuICAgKiAgIGFzIGEgc2VyaWFsaXplZCBBQ0wgY3JlYXRlZCB3aXRoIHRvSlNPTigpLlxuICAgKiBAc2VlIEFWLk9iamVjdCNzZXRBQ0xcbiAgICogQGNsYXNzXG4gICAqXG4gICAqIDxwPkFuIEFDTCwgb3IgQWNjZXNzIENvbnRyb2wgTGlzdCBjYW4gYmUgYWRkZWQgdG8gYW55XG4gICAqIDxjb2RlPkFWLk9iamVjdDwvY29kZT4gdG8gcmVzdHJpY3QgYWNjZXNzIHRvIG9ubHkgYSBzdWJzZXQgb2YgdXNlcnNcbiAgICogb2YgeW91ciBhcHBsaWNhdGlvbi48L3A+XG4gICAqL1xuICBBVi5BQ0wgPSBmdW5jdGlvbihhcmcxKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYucGVybWlzc2lvbnNCeUlkID0ge307XG4gICAgaWYgKF8uaXNPYmplY3QoYXJnMSkpIHtcbiAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgQVYuVXNlcikge1xuICAgICAgICBzZWxmLnNldFJlYWRBY2Nlc3MoYXJnMSwgdHJ1ZSk7XG4gICAgICAgIHNlbGYuc2V0V3JpdGVBY2Nlc3MoYXJnMSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGFyZzEpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0FWLkFDTCgpIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb24uICBEaWQgeW91IGZvcmdldCAoKT8nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBBVi5fb2JqZWN0RWFjaChhcmcxLCBmdW5jdGlvbihhY2Nlc3NMaXN0LCB1c2VySWQpIHtcbiAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcodXNlcklkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcmllZCB0byBjcmVhdGUgYW4gQUNMIHdpdGggYW4gaW52YWxpZCB1c2VySWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYucGVybWlzc2lvbnNCeUlkW3VzZXJJZF0gPSB7fTtcbiAgICAgICAgICBBVi5fb2JqZWN0RWFjaChhY2Nlc3NMaXN0LCBmdW5jdGlvbihhbGxvd2VkLCBwZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBpZiAocGVybWlzc2lvbiAhPT0gJ3JlYWQnICYmIHBlcm1pc3Npb24gIT09ICd3cml0ZScpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdUcmllZCB0byBjcmVhdGUgYW4gQUNMIHdpdGggYW4gaW52YWxpZCBwZXJtaXNzaW9uIHR5cGUuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFfLmlzQm9vbGVhbihhbGxvd2VkKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ1RyaWVkIHRvIGNyZWF0ZSBhbiBBQ0wgd2l0aCBhbiBpbnZhbGlkIHBlcm1pc3Npb24gdmFsdWUuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5wZXJtaXNzaW9uc0J5SWRbdXNlcklkXVtwZXJtaXNzaW9uXSA9IGFsbG93ZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIEpTT04tZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSBBQ0wuXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIEFWLkFDTC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8uY2xvbmUodGhpcy5wZXJtaXNzaW9uc0J5SWQpO1xuICB9O1xuXG4gIEFWLkFDTC5wcm90b3R5cGUuX3NldEFjY2VzcyA9IGZ1bmN0aW9uKGFjY2Vzc1R5cGUsIHVzZXJJZCwgYWxsb3dlZCkge1xuICAgIGlmICh1c2VySWQgaW5zdGFuY2VvZiBBVi5Vc2VyKSB7XG4gICAgICB1c2VySWQgPSB1c2VySWQuaWQ7XG4gICAgfSBlbHNlIGlmICh1c2VySWQgaW5zdGFuY2VvZiBBVi5Sb2xlKSB7XG4gICAgICB1c2VySWQgPSAncm9sZTonICsgdXNlcklkLmdldE5hbWUoKTtcbiAgICB9XG4gICAgaWYgKCFfLmlzU3RyaW5nKHVzZXJJZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlcklkIG11c3QgYmUgYSBzdHJpbmcuJyk7XG4gICAgfVxuICAgIGlmICghXy5pc0Jvb2xlYW4oYWxsb3dlZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYWxsb3dlZCBtdXN0IGJlIGVpdGhlciB0cnVlIG9yIGZhbHNlLicpO1xuICAgIH1cbiAgICB2YXIgcGVybWlzc2lvbnMgPSB0aGlzLnBlcm1pc3Npb25zQnlJZFt1c2VySWRdO1xuICAgIGlmICghcGVybWlzc2lvbnMpIHtcbiAgICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgICAvLyBUaGUgdXNlciBhbHJlYWR5IGRvZXNuJ3QgaGF2ZSB0aGlzIHBlcm1pc3Npb24sIHNvIG5vIGFjdGlvbiBuZWVkZWQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcm1pc3Npb25zID0ge307XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNCeUlkW3VzZXJJZF0gPSBwZXJtaXNzaW9ucztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgdGhpcy5wZXJtaXNzaW9uc0J5SWRbdXNlcklkXVthY2Nlc3NUeXBlXSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSBwZXJtaXNzaW9uc1thY2Nlc3NUeXBlXTtcbiAgICAgIGlmIChfLmlzRW1wdHkocGVybWlzc2lvbnMpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBlcm1pc3Npb25zQnlJZFt1c2VySWRdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBVi5BQ0wucHJvdG90eXBlLl9nZXRBY2Nlc3MgPSBmdW5jdGlvbihhY2Nlc3NUeXBlLCB1c2VySWQpIHtcbiAgICBpZiAodXNlcklkIGluc3RhbmNlb2YgQVYuVXNlcikge1xuICAgICAgdXNlcklkID0gdXNlcklkLmlkO1xuICAgIH0gZWxzZSBpZiAodXNlcklkIGluc3RhbmNlb2YgQVYuUm9sZSkge1xuICAgICAgdXNlcklkID0gJ3JvbGU6JyArIHVzZXJJZC5nZXROYW1lKCk7XG4gICAgfVxuICAgIHZhciBwZXJtaXNzaW9ucyA9IHRoaXMucGVybWlzc2lvbnNCeUlkW3VzZXJJZF07XG4gICAgaWYgKCFwZXJtaXNzaW9ucykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcGVybWlzc2lvbnNbYWNjZXNzVHlwZV0gPyB0cnVlIDogZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoZSBnaXZlbiB1c2VyIGlzIGFsbG93ZWQgdG8gcmVhZCB0aGlzIG9iamVjdC5cbiAgICogQHBhcmFtIHVzZXJJZCBBbiBpbnN0YW5jZSBvZiBBVi5Vc2VyIG9yIGl0cyBvYmplY3RJZC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBhbGxvd2VkIFdoZXRoZXIgdGhhdCB1c2VyIHNob3VsZCBoYXZlIHJlYWQgYWNjZXNzLlxuICAgKi9cbiAgQVYuQUNMLnByb3RvdHlwZS5zZXRSZWFkQWNjZXNzID0gZnVuY3Rpb24odXNlcklkLCBhbGxvd2VkKSB7XG4gICAgdGhpcy5fc2V0QWNjZXNzKCdyZWFkJywgdXNlcklkLCBhbGxvd2VkKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdGhlIGdpdmVuIHVzZXIgaWQgaXMgKmV4cGxpY2l0bHkqIGFsbG93ZWQgdG8gcmVhZCB0aGlzIG9iamVjdC5cbiAgICogRXZlbiBpZiB0aGlzIHJldHVybnMgZmFsc2UsIHRoZSB1c2VyIG1heSBzdGlsbCBiZSBhYmxlIHRvIGFjY2VzcyBpdCBpZlxuICAgKiBnZXRQdWJsaWNSZWFkQWNjZXNzIHJldHVybnMgdHJ1ZSBvciBhIHJvbGUgdGhhdCB0aGUgdXNlciBiZWxvbmdzIHRvIGhhc1xuICAgKiB3cml0ZSBhY2Nlc3MuXG4gICAqIEBwYXJhbSB1c2VySWQgQW4gaW5zdGFuY2Ugb2YgQVYuVXNlciBvciBpdHMgb2JqZWN0SWQsIG9yIGEgQVYuUm9sZS5cbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIEFWLkFDTC5wcm90b3R5cGUuZ2V0UmVhZEFjY2VzcyA9IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRBY2Nlc3MoJ3JlYWQnLCB1c2VySWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0aGUgZ2l2ZW4gdXNlciBpZCBpcyBhbGxvd2VkIHRvIHdyaXRlIHRoaXMgb2JqZWN0LlxuICAgKiBAcGFyYW0gdXNlcklkIEFuIGluc3RhbmNlIG9mIEFWLlVzZXIgb3IgaXRzIG9iamVjdElkLCBvciBhIEFWLlJvbGUuLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFsbG93ZWQgV2hldGhlciB0aGF0IHVzZXIgc2hvdWxkIGhhdmUgd3JpdGUgYWNjZXNzLlxuICAgKi9cbiAgQVYuQUNMLnByb3RvdHlwZS5zZXRXcml0ZUFjY2VzcyA9IGZ1bmN0aW9uKHVzZXJJZCwgYWxsb3dlZCkge1xuICAgIHRoaXMuX3NldEFjY2Vzcygnd3JpdGUnLCB1c2VySWQsIGFsbG93ZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB0aGUgZ2l2ZW4gdXNlciBpZCBpcyAqZXhwbGljaXRseSogYWxsb3dlZCB0byB3cml0ZSB0aGlzIG9iamVjdC5cbiAgICogRXZlbiBpZiB0aGlzIHJldHVybnMgZmFsc2UsIHRoZSB1c2VyIG1heSBzdGlsbCBiZSBhYmxlIHRvIHdyaXRlIGl0IGlmXG4gICAqIGdldFB1YmxpY1dyaXRlQWNjZXNzIHJldHVybnMgdHJ1ZSBvciBhIHJvbGUgdGhhdCB0aGUgdXNlciBiZWxvbmdzIHRvIGhhc1xuICAgKiB3cml0ZSBhY2Nlc3MuXG4gICAqIEBwYXJhbSB1c2VySWQgQW4gaW5zdGFuY2Ugb2YgQVYuVXNlciBvciBpdHMgb2JqZWN0SWQsIG9yIGEgQVYuUm9sZS5cbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIEFWLkFDTC5wcm90b3R5cGUuZ2V0V3JpdGVBY2Nlc3MgPSBmdW5jdGlvbih1c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0QWNjZXNzKCd3cml0ZScsIHVzZXJJZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB3aGV0aGVyIHRoZSBwdWJsaWMgaXMgYWxsb3dlZCB0byByZWFkIHRoaXMgb2JqZWN0LlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFsbG93ZWRcbiAgICovXG4gIEFWLkFDTC5wcm90b3R5cGUuc2V0UHVibGljUmVhZEFjY2VzcyA9IGZ1bmN0aW9uKGFsbG93ZWQpIHtcbiAgICB0aGlzLnNldFJlYWRBY2Nlc3MoUFVCTElDX0tFWSwgYWxsb3dlZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSBwdWJsaWMgaXMgYWxsb3dlZCB0byByZWFkIHRoaXMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRQdWJsaWNSZWFkQWNjZXNzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVhZEFjY2VzcyhQVUJMSUNfS0VZKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHdoZXRoZXIgdGhlIHB1YmxpYyBpcyBhbGxvd2VkIHRvIHdyaXRlIHRoaXMgb2JqZWN0LlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFsbG93ZWRcbiAgICovXG4gIEFWLkFDTC5wcm90b3R5cGUuc2V0UHVibGljV3JpdGVBY2Nlc3MgPSBmdW5jdGlvbihhbGxvd2VkKSB7XG4gICAgdGhpcy5zZXRXcml0ZUFjY2VzcyhQVUJMSUNfS0VZLCBhbGxvd2VkKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdGhlIHB1YmxpYyBpcyBhbGxvd2VkIHRvIHdyaXRlIHRoaXMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRQdWJsaWNXcml0ZUFjY2VzcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFdyaXRlQWNjZXNzKFBVQkxJQ19LRVkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB1c2VycyBiZWxvbmdpbmcgdG8gdGhlIGdpdmVuIHJvbGUgYXJlIGFsbG93ZWRcbiAgICogdG8gcmVhZCB0aGlzIG9iamVjdC4gRXZlbiBpZiB0aGlzIHJldHVybnMgZmFsc2UsIHRoZSByb2xlIG1heVxuICAgKiBzdGlsbCBiZSBhYmxlIHRvIHdyaXRlIGl0IGlmIGEgcGFyZW50IHJvbGUgaGFzIHJlYWQgYWNjZXNzLlxuICAgKlxuICAgKiBAcGFyYW0gcm9sZSBUaGUgbmFtZSBvZiB0aGUgcm9sZSwgb3IgYSBBVi5Sb2xlIG9iamVjdC5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgcm9sZSBoYXMgcmVhZCBhY2Nlc3MuIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHRocm93cyB7U3RyaW5nfSBJZiByb2xlIGlzIG5laXRoZXIgYSBBVi5Sb2xlIG5vciBhIFN0cmluZy5cbiAgICovXG4gIEFWLkFDTC5wcm90b3R5cGUuZ2V0Um9sZVJlYWRBY2Nlc3MgPSBmdW5jdGlvbihyb2xlKSB7XG4gICAgaWYgKHJvbGUgaW5zdGFuY2VvZiBBVi5Sb2xlKSB7XG4gICAgICAvLyBOb3JtYWxpemUgdG8gdGhlIFN0cmluZyBuYW1lXG4gICAgICByb2xlID0gcm9sZS5nZXROYW1lKCk7XG4gICAgfVxuICAgIGlmIChfLmlzU3RyaW5nKHJvbGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRSZWFkQWNjZXNzKCdyb2xlOicgKyByb2xlKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb2xlIG11c3QgYmUgYSBBVi5Sb2xlIG9yIGEgU3RyaW5nJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHVzZXJzIGJlbG9uZ2luZyB0byB0aGUgZ2l2ZW4gcm9sZSBhcmUgYWxsb3dlZFxuICAgKiB0byB3cml0ZSB0aGlzIG9iamVjdC4gRXZlbiBpZiB0aGlzIHJldHVybnMgZmFsc2UsIHRoZSByb2xlIG1heVxuICAgKiBzdGlsbCBiZSBhYmxlIHRvIHdyaXRlIGl0IGlmIGEgcGFyZW50IHJvbGUgaGFzIHdyaXRlIGFjY2Vzcy5cbiAgICpcbiAgICogQHBhcmFtIHJvbGUgVGhlIG5hbWUgb2YgdGhlIHJvbGUsIG9yIGEgQVYuUm9sZSBvYmplY3QuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIHJvbGUgaGFzIHdyaXRlIGFjY2Vzcy4gZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAdGhyb3dzIHtTdHJpbmd9IElmIHJvbGUgaXMgbmVpdGhlciBhIEFWLlJvbGUgbm9yIGEgU3RyaW5nLlxuICAgKi9cbiAgQVYuQUNMLnByb3RvdHlwZS5nZXRSb2xlV3JpdGVBY2Nlc3MgPSBmdW5jdGlvbihyb2xlKSB7XG4gICAgaWYgKHJvbGUgaW5zdGFuY2VvZiBBVi5Sb2xlKSB7XG4gICAgICAvLyBOb3JtYWxpemUgdG8gdGhlIFN0cmluZyBuYW1lXG4gICAgICByb2xlID0gcm9sZS5nZXROYW1lKCk7XG4gICAgfVxuICAgIGlmIChfLmlzU3RyaW5nKHJvbGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRXcml0ZUFjY2Vzcygncm9sZTonICsgcm9sZSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigncm9sZSBtdXN0IGJlIGEgQVYuUm9sZSBvciBhIFN0cmluZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB1c2VycyBiZWxvbmdpbmcgdG8gdGhlIGdpdmVuIHJvbGUgYXJlIGFsbG93ZWRcbiAgICogdG8gcmVhZCB0aGlzIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHJvbGUgVGhlIG5hbWUgb2YgdGhlIHJvbGUsIG9yIGEgQVYuUm9sZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWxsb3dlZCBXaGV0aGVyIHRoZSBnaXZlbiByb2xlIGNhbiByZWFkIHRoaXMgb2JqZWN0LlxuICAgKiBAdGhyb3dzIHtTdHJpbmd9IElmIHJvbGUgaXMgbmVpdGhlciBhIEFWLlJvbGUgbm9yIGEgU3RyaW5nLlxuICAgKi9cbiAgQVYuQUNMLnByb3RvdHlwZS5zZXRSb2xlUmVhZEFjY2VzcyA9IGZ1bmN0aW9uKHJvbGUsIGFsbG93ZWQpIHtcbiAgICBpZiAocm9sZSBpbnN0YW5jZW9mIEFWLlJvbGUpIHtcbiAgICAgIC8vIE5vcm1hbGl6ZSB0byB0aGUgU3RyaW5nIG5hbWVcbiAgICAgIHJvbGUgPSByb2xlLmdldE5hbWUoKTtcbiAgICB9XG4gICAgaWYgKF8uaXNTdHJpbmcocm9sZSkpIHtcbiAgICAgIHRoaXMuc2V0UmVhZEFjY2Vzcygncm9sZTonICsgcm9sZSwgYWxsb3dlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigncm9sZSBtdXN0IGJlIGEgQVYuUm9sZSBvciBhIFN0cmluZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB1c2VycyBiZWxvbmdpbmcgdG8gdGhlIGdpdmVuIHJvbGUgYXJlIGFsbG93ZWRcbiAgICogdG8gd3JpdGUgdGhpcyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSByb2xlIFRoZSBuYW1lIG9mIHRoZSByb2xlLCBvciBhIEFWLlJvbGUgb2JqZWN0LlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFsbG93ZWQgV2hldGhlciB0aGUgZ2l2ZW4gcm9sZSBjYW4gd3JpdGUgdGhpcyBvYmplY3QuXG4gICAqIEB0aHJvd3Mge1N0cmluZ30gSWYgcm9sZSBpcyBuZWl0aGVyIGEgQVYuUm9sZSBub3IgYSBTdHJpbmcuXG4gICAqL1xuICBBVi5BQ0wucHJvdG90eXBlLnNldFJvbGVXcml0ZUFjY2VzcyA9IGZ1bmN0aW9uKHJvbGUsIGFsbG93ZWQpIHtcbiAgICBpZiAocm9sZSBpbnN0YW5jZW9mIEFWLlJvbGUpIHtcbiAgICAgIC8vIE5vcm1hbGl6ZSB0byB0aGUgU3RyaW5nIG5hbWVcbiAgICAgIHJvbGUgPSByb2xlLmdldE5hbWUoKTtcbiAgICB9XG4gICAgaWYgKF8uaXNTdHJpbmcocm9sZSkpIHtcbiAgICAgIHRoaXMuc2V0V3JpdGVBY2Nlc3MoJ3JvbGU6JyArIHJvbGUsIGFsbG93ZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JvbGUgbXVzdCBiZSBhIEFWLlJvbGUgb3IgYSBTdHJpbmcnKTtcbiAgfTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYWNsLmpzIiwidmFyIF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBIEFWLk9wIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gdGhhdCBjYW4gYmUgYXBwbGllZCB0byBhIGZpZWxkIGluIGFcbiAgICogQVYuT2JqZWN0LiBGb3IgZXhhbXBsZSwgY2FsbGluZyA8Y29kZT5vYmplY3Quc2V0KFwiZm9vXCIsIFwiYmFyXCIpPC9jb2RlPlxuICAgKiBpcyBhbiBleGFtcGxlIG9mIGEgQVYuT3AuU2V0LiBDYWxsaW5nIDxjb2RlPm9iamVjdC51bnNldChcImZvb1wiKTwvY29kZT5cbiAgICogaXMgYSBBVi5PcC5VbnNldC4gVGhlc2Ugb3BlcmF0aW9ucyBhcmUgc3RvcmVkIGluIGEgQVYuT2JqZWN0IGFuZFxuICAgKiBzZW50IHRvIHRoZSBzZXJ2ZXIgYXMgcGFydCBvZiA8Y29kZT5vYmplY3Quc2F2ZSgpPC9jb2RlPiBvcGVyYXRpb25zLlxuICAgKiBJbnN0YW5jZXMgb2YgQVYuT3Agc2hvdWxkIGJlIGltbXV0YWJsZS5cbiAgICpcbiAgICogWW91IHNob3VsZCBub3QgY3JlYXRlIHN1YmNsYXNzZXMgb2YgQVYuT3Agb3IgaW5zdGFudGlhdGUgQVYuT3BcbiAgICogZGlyZWN0bHkuXG4gICAqL1xuICBBVi5PcCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2luaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcblxuICBfLmV4dGVuZChcbiAgICBBVi5PcC5wcm90b3R5cGUsXG4gICAgLyoqIEBsZW5kcyBBVi5PcC5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKCkge30sXG4gICAgfVxuICApO1xuXG4gIF8uZXh0ZW5kKEFWLk9wLCB7XG4gICAgLyoqXG4gICAgICogVG8gY3JlYXRlIGEgbmV3IE9wLCBjYWxsIEFWLk9wLl9leHRlbmQoKTtcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9leHRlbmQ6IEFWLl9leHRlbmQsXG5cbiAgICAvLyBBIG1hcCBvZiBfX29wIHN0cmluZyB0byBkZWNvZGVyIGZ1bmN0aW9uLlxuICAgIF9vcERlY29kZXJNYXA6IHt9LFxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgZnVuY3Rpb24gdG8gY29udmVydCBhIGpzb24gb2JqZWN0IHdpdGggYW4gX19vcCBmaWVsZCBpbnRvIGFuXG4gICAgICogaW5zdGFuY2Ugb2YgYSBzdWJjbGFzcyBvZiBBVi5PcC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWdpc3RlckRlY29kZXI6IGZ1bmN0aW9uKG9wTmFtZSwgZGVjb2Rlcikge1xuICAgICAgQVYuT3AuX29wRGVjb2Rlck1hcFtvcE5hbWVdID0gZGVjb2RlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBqc29uIG9iamVjdCBpbnRvIGFuIGluc3RhbmNlIG9mIGEgc3ViY2xhc3Mgb2YgQVYuT3AuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGVjb2RlOiBmdW5jdGlvbihqc29uKSB7XG4gICAgICB2YXIgZGVjb2RlciA9IEFWLk9wLl9vcERlY29kZXJNYXBbanNvbi5fX29wXTtcbiAgICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVyKGpzb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcblxuICAvKlxuICAgKiBBZGQgYSBoYW5kbGVyIGZvciBCYXRjaCBvcHMuXG4gICAqL1xuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdCYXRjaCcsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICB2YXIgb3AgPSBudWxsO1xuICAgIEFWLl9hcnJheUVhY2goanNvbi5vcHMsIGZ1bmN0aW9uKG5leHRPcCkge1xuICAgICAgbmV4dE9wID0gQVYuT3AuX2RlY29kZShuZXh0T3ApO1xuICAgICAgb3AgPSBuZXh0T3AuX21lcmdlV2l0aFByZXZpb3VzKG9wKTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3A7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY2xhc3NcbiAgICogQSBTZXQgb3BlcmF0aW9uIGluZGljYXRlcyB0aGF0IGVpdGhlciB0aGUgZmllbGQgd2FzIGNoYW5nZWQgdXNpbmdcbiAgICogQVYuT2JqZWN0LnNldCwgb3IgaXQgaXMgYSBtdXRhYmxlIGNvbnRhaW5lciB0aGF0IHdhcyBkZXRlY3RlZCBhcyBiZWluZ1xuICAgKiBjaGFuZ2VkLlxuICAgKi9cbiAgQVYuT3AuU2V0ID0gQVYuT3AuX2V4dGVuZChcbiAgICAvKiogQGxlbmRzIEFWLk9wLlNldC5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIG5ldyB2YWx1ZSBvZiB0aGlzIGZpZWxkIGFmdGVyIHRoZSBzZXQuXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBBVi5fZW5jb2RlKHRoaXMudmFsdWUoKSk7XG4gICAgICB9LFxuXG4gICAgICBfbWVyZ2VXaXRoUHJldmlvdXM6IGZ1bmN0aW9uKHByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgX2VzdGltYXRlOiBmdW5jdGlvbihvbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSgpO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG5cbiAgLyoqXG4gICAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBieSBBVi5PcC5VbnNldC5fZXN0aW1hdGUgdG9cbiAgICogaW5kaWNhdGUgdGhlIGZpZWxkIHNob3VsZCBiZSBkZWxldGVkLiBCYXNpY2FsbHksIGlmIHlvdSBmaW5kIF9VTlNFVCBhcyBhXG4gICAqIHZhbHVlIGluIHlvdXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHJlbW92ZSB0aGF0IGtleS5cbiAgICovXG4gIEFWLk9wLl9VTlNFVCA9IHt9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY2xhc3NcbiAgICogQW4gVW5zZXQgb3BlcmF0aW9uIGluZGljYXRlcyB0aGF0IHRoaXMgZmllbGQgaGFzIGJlZW4gZGVsZXRlZCBmcm9tIHRoZVxuICAgKiBvYmplY3QuXG4gICAqL1xuICBBVi5PcC5VbnNldCA9IEFWLk9wLl9leHRlbmQoXG4gICAgLyoqIEBsZW5kcyBBVi5PcC5VbnNldC5wcm90b3R5cGUgKi8ge1xuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IF9fb3A6ICdEZWxldGUnIH07XG4gICAgICB9LFxuXG4gICAgICBfbWVyZ2VXaXRoUHJldmlvdXM6IGZ1bmN0aW9uKHByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgX2VzdGltYXRlOiBmdW5jdGlvbihvbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gQVYuT3AuX1VOU0VUO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignRGVsZXRlJywgZnVuY3Rpb24oanNvbikge1xuICAgIHJldHVybiBuZXcgQVYuT3AuVW5zZXQoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBbiBJbmNyZW1lbnQgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgbnVtZXJpYyB2YWx1ZSBmb3IgdGhlIGZpZWxkXG4gICAqIHdpbGwgYmUgaW5jcmVhc2VkIGJ5IGEgZ2l2ZW4gYW1vdW50LlxuICAgKi9cbiAgQVYuT3AuSW5jcmVtZW50ID0gQVYuT3AuX2V4dGVuZChcbiAgICAvKiogQGxlbmRzIEFWLk9wLkluY3JlbWVudC5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgICB0aGlzLl9hbW91bnQgPSBhbW91bnQ7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIGFtb3VudCB0byBpbmNyZW1lbnQgYnkuXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHRoZSBhbW91bnQgdG8gaW5jcmVtZW50IGJ5LlxuICAgICAgICovXG4gICAgICBhbW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW1vdW50O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IF9fb3A6ICdJbmNyZW1lbnQnLCBhbW91bnQ6IHRoaXMuX2Ftb3VudCB9O1xuICAgICAgfSxcblxuICAgICAgX21lcmdlV2l0aFByZXZpb3VzOiBmdW5jdGlvbihwcmV2aW91cykge1xuICAgICAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5VbnNldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHRoaXMuYW1vdW50KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuU2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5TZXQocHJldmlvdXMudmFsdWUoKSArIHRoaXMuYW1vdW50KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuSW5jcmVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5JbmNyZW1lbnQodGhpcy5hbW91bnQoKSArIHByZXZpb3VzLmFtb3VudCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wIGlzIGludmFsaWQgYWZ0ZXIgcHJldmlvdXMgb3AuJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24ob2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmFtb3VudCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvbGRWYWx1ZSArIHRoaXMuYW1vdW50KCk7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcblxuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdJbmNyZW1lbnQnLCBmdW5jdGlvbihqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5JbmNyZW1lbnQoanNvbi5hbW91bnQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQGNsYXNzXG4gICAqIEJpdEFuZCBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIHdoZXJlIHRoZSBnaXZlbiB2YWx1ZSB3aWxsIGJlIGJpdCBhbmQgdG8gdGhlXG4gICAqIHZhbHVlIHRoYW4gaXMgc3RvcmVkIGluIHRoaXMgZmllbGQuXG4gICAqL1xuICBBVi5PcC5CaXRBbmQgPSBBVi5PcC5fZXh0ZW5kKFxuICAgIC8qKiBAbGVuZHMgQVYuT3AuQml0QW5kLnByb3RvdHlwZSAqLyB7XG4gICAgICBfaW5pdGlhbGl6ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgfSxcblxuICAgICAgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb3BlcmF0aW9uIHN1aXRhYmxlIGZvciBzZW5kaW5nIHRvIEFWLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7IF9fb3A6ICdCaXRBbmQnLCB2YWx1ZTogdGhpcy52YWx1ZSgpIH07XG4gICAgICB9LFxuXG4gICAgICBfbWVyZ2VXaXRoUHJldmlvdXMocHJldmlvdXMpIHtcbiAgICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCgwKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlNldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHByZXZpb3VzLnZhbHVlKCkgJiB0aGlzLnZhbHVlKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX2VzdGltYXRlKG9sZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvbGRWYWx1ZSAmIHRoaXMudmFsdWUoKTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0JpdEFuZCcsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLkJpdEFuZChqc29uLnZhbHVlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBCaXRPciBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIHdoZXJlIHRoZSBnaXZlbiB2YWx1ZSB3aWxsIGJlIGJpdCBhbmQgdG8gdGhlXG4gICAqIHZhbHVlIHRoYW4gaXMgc3RvcmVkIGluIHRoaXMgZmllbGQuXG4gICAqL1xuICBBVi5PcC5CaXRPciA9IEFWLk9wLl9leHRlbmQoXG4gICAgLyoqIEBsZW5kcyBBVi5PcC5CaXRPci5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0sXG5cbiAgICAgIHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9wZXJhdGlvbiBzdWl0YWJsZSBmb3Igc2VuZGluZyB0byBBVi5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4geyBfX29wOiAnQml0T3InLCB2YWx1ZTogdGhpcy52YWx1ZSgpIH07XG4gICAgICB9LFxuXG4gICAgICBfbWVyZ2VXaXRoUHJldmlvdXMocHJldmlvdXMpIHtcbiAgICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLnZhbHVlKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuU2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5TZXQocHJldmlvdXMudmFsdWUoKSB8IHRoaXMudmFsdWUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcCBpcyBpbnZhbGlkIGFmdGVyIHByZXZpb3VzIG9wLicpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfZXN0aW1hdGUob2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG9sZFZhbHVlIHwgdGhpcy52YWx1ZSgpO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignQml0T3InLCBmdW5jdGlvbihqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5CaXRPcihqc29uLnZhbHVlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBCaXRYb3IgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgZ2l2ZW4gdmFsdWUgd2lsbCBiZSBiaXQgYW5kIHRvIHRoZVxuICAgKiB2YWx1ZSB0aGFuIGlzIHN0b3JlZCBpbiB0aGlzIGZpZWxkLlxuICAgKi9cbiAgQVYuT3AuQml0WG9yID0gQVYuT3AuX2V4dGVuZChcbiAgICAvKiogQGxlbmRzIEFWLk9wLkJpdFhvci5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0sXG5cbiAgICAgIHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIG9wZXJhdGlvbiBzdWl0YWJsZSBmb3Igc2VuZGluZyB0byBBVi5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4geyBfX29wOiAnQml0WG9yJywgdmFsdWU6IHRoaXMudmFsdWUoKSB9O1xuICAgICAgfSxcblxuICAgICAgX21lcmdlV2l0aFByZXZpb3VzKHByZXZpb3VzKSB7XG4gICAgICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlVuc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVi5PcC5TZXQodGhpcy52YWx1ZSgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlNldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHByZXZpb3VzLnZhbHVlKCkgXiB0aGlzLnZhbHVlKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3AgaXMgaW52YWxpZCBhZnRlciBwcmV2aW91cyBvcC4nKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX2VzdGltYXRlKG9sZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvbGRWYWx1ZSBeIHRoaXMudmFsdWUoKTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0JpdFhvcicsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLkJpdFhvcihqc29uLnZhbHVlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBZGQgaXMgYW4gYXRvbWljIG9wZXJhdGlvbiB3aGVyZSB0aGUgZ2l2ZW4gb2JqZWN0cyB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZVxuICAgKiBhcnJheSB0aGF0IGlzIHN0b3JlZCBpbiB0aGlzIGZpZWxkLlxuICAgKi9cbiAgQVYuT3AuQWRkID0gQVYuT3AuX2V4dGVuZChcbiAgICAvKiogQGxlbmRzIEFWLk9wLkFkZC5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMpIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0cyA9IG9iamVjdHM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIG9iamVjdHMgdG8gYmUgYWRkZWQgdG8gdGhlIGFycmF5LlxuICAgICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBvYmplY3RzIHRvIGJlIGFkZGVkIHRvIHRoZSBhcnJheS5cbiAgICAgICAqL1xuICAgICAgb2JqZWN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvcGVyYXRpb24gc3VpdGFibGUgZm9yIHNlbmRpbmcgdG8gQVYuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IF9fb3A6ICdBZGQnLCBvYmplY3RzOiBBVi5fZW5jb2RlKHRoaXMub2JqZWN0cygpKSB9O1xuICAgICAgfSxcblxuICAgICAgX21lcmdlV2l0aFByZXZpb3VzOiBmdW5jdGlvbihwcmV2aW91cykge1xuICAgICAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5VbnNldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHRoaXMub2JqZWN0cygpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlNldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQVYuT3AuU2V0KHRoaXMuX2VzdGltYXRlKHByZXZpb3VzLnZhbHVlKCkpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLkFkZCkge1xuICAgICAgICAgIHJldHVybiBuZXcgQVYuT3AuQWRkKHByZXZpb3VzLm9iamVjdHMoKS5jb25jYXQodGhpcy5vYmplY3RzKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wIGlzIGludmFsaWQgYWZ0ZXIgcHJldmlvdXMgb3AuJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24ob2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBfLmNsb25lKHRoaXMub2JqZWN0cygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gb2xkVmFsdWUuY29uY2F0KHRoaXMub2JqZWN0cygpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9XG4gICk7XG5cbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignQWRkJywgZnVuY3Rpb24oanNvbikge1xuICAgIHJldHVybiBuZXcgQVYuT3AuQWRkKEFWLl9kZWNvZGUoanNvbi5vYmplY3RzKSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAY2xhc3NcbiAgICogQWRkVW5pcXVlIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gd2hlcmUgdGhlIGdpdmVuIGl0ZW1zIHdpbGwgYmUgYXBwZW5kZWQgdG9cbiAgICogdGhlIGFycmF5IHRoYXQgaXMgc3RvcmVkIGluIHRoaXMgZmllbGQgb25seSBpZiB0aGV5IHdlcmUgbm90IGFscmVhZHlcbiAgICogcHJlc2VudCBpbiB0aGUgYXJyYXkuXG4gICAqL1xuICBBVi5PcC5BZGRVbmlxdWUgPSBBVi5PcC5fZXh0ZW5kKFxuICAgIC8qKiBAbGVuZHMgQVYuT3AuQWRkVW5pcXVlLnByb3RvdHlwZSAqLyB7XG4gICAgICBfaW5pdGlhbGl6ZTogZnVuY3Rpb24ob2JqZWN0cykge1xuICAgICAgICB0aGlzLl9vYmplY3RzID0gXy51bmlxKG9iamVjdHMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3RzIHRvIGJlIGFkZGVkIHRvIHRoZSBhcnJheS5cbiAgICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgb2JqZWN0cyB0byBiZSBhZGRlZCB0byB0aGUgYXJyYXkuXG4gICAgICAgKi9cbiAgICAgIG9iamVjdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb3BlcmF0aW9uIHN1aXRhYmxlIGZvciBzZW5kaW5nIHRvIEFWLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICB0b0pTT046IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geyBfX29wOiAnQWRkVW5pcXVlJywgb2JqZWN0czogQVYuX2VuY29kZSh0aGlzLm9iamVjdHMoKSkgfTtcbiAgICAgIH0sXG5cbiAgICAgIF9tZXJnZVdpdGhQcmV2aW91czogZnVuY3Rpb24ocHJldmlvdXMpIHtcbiAgICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLm9iamVjdHMoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5TZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLl9lc3RpbWF0ZShwcmV2aW91cy52YWx1ZSgpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5BZGRVbmlxdWUpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLkFkZFVuaXF1ZSh0aGlzLl9lc3RpbWF0ZShwcmV2aW91cy5vYmplY3RzKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wIGlzIGludmFsaWQgYWZ0ZXIgcHJldmlvdXMgb3AuJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24ob2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBfLmNsb25lKHRoaXMub2JqZWN0cygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZSBjYW4ndCBqdXN0IHRha2UgdGhlIF8udW5pcShfLnVuaW9uKC4uLikpIG9mIG9sZFZhbHVlIGFuZFxuICAgICAgICAgIC8vIHRoaXMub2JqZWN0cywgYmVjYXVzZSB0aGUgdW5pcXVlbmVzcyBtYXkgbm90IGFwcGx5IHRvIG9sZFZhbHVlXG4gICAgICAgICAgLy8gKGVzcGVjaWFsbHkgaWYgdGhlIG9sZFZhbHVlIHdhcyBzZXQgdmlhIC5zZXQoKSlcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBfLmNsb25lKG9sZFZhbHVlKTtcbiAgICAgICAgICBBVi5fYXJyYXlFYWNoKHRoaXMub2JqZWN0cygpLCBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBVi5PYmplY3QgJiYgb2JqLmlkKSB7XG4gICAgICAgICAgICAgIHZhciBtYXRjaGluZ09iaiA9IF8uZmluZChuZXdWYWx1ZSwgZnVuY3Rpb24oYW5PYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5PYmogaW5zdGFuY2VvZiBBVi5PYmplY3QgJiYgYW5PYmouaWQgPT09IG9iai5pZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmICghbWF0Y2hpbmdPYmopIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZS5wdXNoKG9iaik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gXy5pbmRleE9mKG5ld1ZhbHVlLCBtYXRjaGluZ09iaik7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVbaW5kZXhdID0gb2JqO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKG5ld1ZhbHVlLCBvYmopKSB7XG4gICAgICAgICAgICAgIG5ld1ZhbHVlLnB1c2gob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIEFWLk9wLl9yZWdpc3RlckRlY29kZXIoJ0FkZFVuaXF1ZScsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLkFkZFVuaXF1ZShBVi5fZGVjb2RlKGpzb24ub2JqZWN0cykpO1xuICB9KTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQGNsYXNzXG4gICAqIFJlbW92ZSBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIHdoZXJlIHRoZSBnaXZlbiBvYmplY3RzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tXG4gICAqIHRoZSBhcnJheSB0aGF0IGlzIHN0b3JlZCBpbiB0aGlzIGZpZWxkLlxuICAgKi9cbiAgQVYuT3AuUmVtb3ZlID0gQVYuT3AuX2V4dGVuZChcbiAgICAvKiogQGxlbmRzIEFWLk9wLlJlbW92ZS5wcm90b3R5cGUgKi8ge1xuICAgICAgX2luaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMpIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0cyA9IF8udW5pcShvYmplY3RzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgb2JqZWN0cyB0byBiZSByZW1vdmVkIGZyb20gdGhlIGFycmF5LlxuICAgICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBvYmplY3RzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgYXJyYXkuXG4gICAgICAgKi9cbiAgICAgIG9iamVjdHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb3BlcmF0aW9uIHN1aXRhYmxlIGZvciBzZW5kaW5nIHRvIEFWLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICB0b0pTT046IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geyBfX29wOiAnUmVtb3ZlJywgb2JqZWN0czogQVYuX2VuY29kZSh0aGlzLm9iamVjdHMoKSkgfTtcbiAgICAgIH0sXG5cbiAgICAgIF9tZXJnZVdpdGhQcmV2aW91czogZnVuY3Rpb24ocHJldmlvdXMpIHtcbiAgICAgICAgaWYgKCFwcmV2aW91cykge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzIGluc3RhbmNlb2YgQVYuT3AuVW5zZXQpIHtcbiAgICAgICAgICByZXR1cm4gcHJldmlvdXM7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5TZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlNldCh0aGlzLl9lc3RpbWF0ZShwcmV2aW91cy52YWx1ZSgpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXMgaW5zdGFuY2VvZiBBVi5PcC5SZW1vdmUpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWLk9wLlJlbW92ZShfLnVuaW9uKHByZXZpb3VzLm9iamVjdHMoKSwgdGhpcy5vYmplY3RzKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wIGlzIGludmFsaWQgYWZ0ZXIgcHJldmlvdXMgb3AuJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9lc3RpbWF0ZTogZnVuY3Rpb24ob2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKCFvbGRWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBfLmRpZmZlcmVuY2Uob2xkVmFsdWUsIHRoaXMub2JqZWN0cygpKTtcbiAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgc2F2ZWQgQVYgT2JqZWN0cyBiZWluZyByZW1vdmVkLCBhbHNvIHJlbW92ZSB0aGVtLlxuICAgICAgICAgIEFWLl9hcnJheUVhY2godGhpcy5vYmplY3RzKCksIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFWLk9iamVjdCAmJiBvYmouaWQpIHtcbiAgICAgICAgICAgICAgbmV3VmFsdWUgPSBfLnJlamVjdChuZXdWYWx1ZSwgZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBBVi5PYmplY3QgJiYgb3RoZXIuaWQgPT09IG9iai5pZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH1cbiAgKTtcblxuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdSZW1vdmUnLCBmdW5jdGlvbihqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5SZW1vdmUoQVYuX2RlY29kZShqc29uLm9iamVjdHMpKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBjbGFzc1xuICAgKiBBIFJlbGF0aW9uIG9wZXJhdGlvbiBpbmRpY2F0ZXMgdGhhdCB0aGUgZmllbGQgaXMgYW4gaW5zdGFuY2Ugb2ZcbiAgICogQVYuUmVsYXRpb24sIGFuZCBvYmplY3RzIGFyZSBiZWluZyBhZGRlZCB0bywgb3IgcmVtb3ZlZCBmcm9tLCB0aGF0XG4gICAqIHJlbGF0aW9uLlxuICAgKi9cbiAgQVYuT3AuUmVsYXRpb24gPSBBVi5PcC5fZXh0ZW5kKFxuICAgIC8qKiBAbGVuZHMgQVYuT3AuUmVsYXRpb24ucHJvdG90eXBlICovIHtcbiAgICAgIF9pbml0aWFsaXplOiBmdW5jdGlvbihhZGRzLCByZW1vdmVzKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldENsYXNzTmFtZSA9IG51bGw7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBwb2ludGVyVG9JZCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICAgICAgICAgIGlmICghb2JqZWN0LmlkKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIllvdSBjYW4ndCBhZGQgYW4gdW5zYXZlZCBBVi5PYmplY3QgdG8gYSByZWxhdGlvbi5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzZWxmLl90YXJnZXRDbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgc2VsZi5fdGFyZ2V0Q2xhc3NOYW1lID0gb2JqZWN0LmNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxmLl90YXJnZXRDbGFzc05hbWUgIT09IG9iamVjdC5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdUcmllZCB0byBjcmVhdGUgYSBBVi5SZWxhdGlvbiB3aXRoIDIgZGlmZmVyZW50IHR5cGVzOiAnICtcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3RhcmdldENsYXNzTmFtZSArXG4gICAgICAgICAgICAgICAgICAnIGFuZCAnICtcbiAgICAgICAgICAgICAgICAgIG9iamVjdC5jbGFzc05hbWUgK1xuICAgICAgICAgICAgICAgICAgJy4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0LmlkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVsYXRpb25zVG9BZGQgPSBfLnVuaXEoXy5tYXAoYWRkcywgcG9pbnRlclRvSWQpKTtcbiAgICAgICAgdGhpcy5yZWxhdGlvbnNUb1JlbW92ZSA9IF8udW5pcShfLm1hcChyZW1vdmVzLCBwb2ludGVyVG9JZCkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHVuZmV0Y2hlZCBBVi5PYmplY3QgdGhhdCBhcmUgYmVpbmcgYWRkZWQgdG8gdGhlXG4gICAgICAgKiByZWxhdGlvbi5cbiAgICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAgICovXG4gICAgICBhZGRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIF8ubWFwKHRoaXMucmVsYXRpb25zVG9BZGQsIGZ1bmN0aW9uKG9iamVjdElkKSB7XG4gICAgICAgICAgdmFyIG9iamVjdCA9IEFWLk9iamVjdC5fY3JlYXRlKHNlbGYuX3RhcmdldENsYXNzTmFtZSk7XG4gICAgICAgICAgb2JqZWN0LmlkID0gb2JqZWN0SWQ7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdW5mZXRjaGVkIEFWLk9iamVjdCB0aGF0IGFyZSBiZWluZyByZW1vdmVkIGZyb21cbiAgICAgICAqIHRoZSByZWxhdGlvbi5cbiAgICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAgICovXG4gICAgICByZW1vdmVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gXy5tYXAodGhpcy5yZWxhdGlvbnNUb1JlbW92ZSwgZnVuY3Rpb24ob2JqZWN0SWQpIHtcbiAgICAgICAgICB2YXIgb2JqZWN0ID0gQVYuT2JqZWN0Ll9jcmVhdGUoc2VsZi5fdGFyZ2V0Q2xhc3NOYW1lKTtcbiAgICAgICAgICBvYmplY3QuaWQgPSBvYmplY3RJZDtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb3BlcmF0aW9uIHN1aXRhYmxlIGZvciBzZW5kaW5nIHRvIEFWLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICB0b0pTT046IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWRkcyA9IG51bGw7XG4gICAgICAgIHZhciByZW1vdmVzID0gbnVsbDtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgaWRUb1BvaW50ZXIgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6ICdQb2ludGVyJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogc2VsZi5fdGFyZ2V0Q2xhc3NOYW1lLFxuICAgICAgICAgICAgb2JqZWN0SWQ6IGlkLFxuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwb2ludGVycyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnJlbGF0aW9uc1RvQWRkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwb2ludGVycyA9IF8ubWFwKHRoaXMucmVsYXRpb25zVG9BZGQsIGlkVG9Qb2ludGVyKTtcbiAgICAgICAgICBhZGRzID0geyBfX29wOiAnQWRkUmVsYXRpb24nLCBvYmplY3RzOiBwb2ludGVycyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVsYXRpb25zVG9SZW1vdmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHBvaW50ZXJzID0gXy5tYXAodGhpcy5yZWxhdGlvbnNUb1JlbW92ZSwgaWRUb1BvaW50ZXIpO1xuICAgICAgICAgIHJlbW92ZXMgPSB7IF9fb3A6ICdSZW1vdmVSZWxhdGlvbicsIG9iamVjdHM6IHBvaW50ZXJzIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRkcyAmJiByZW1vdmVzKSB7XG4gICAgICAgICAgcmV0dXJuIHsgX19vcDogJ0JhdGNoJywgb3BzOiBbYWRkcywgcmVtb3Zlc10gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhZGRzIHx8IHJlbW92ZXMgfHwge307XG4gICAgICB9LFxuXG4gICAgICBfbWVyZ2VXaXRoUHJldmlvdXM6IGZ1bmN0aW9uKHByZXZpb3VzKSB7XG4gICAgICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlVuc2V0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbid0IG1vZGlmeSBhIHJlbGF0aW9uIGFmdGVyIGRlbGV0aW5nIGl0LlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91cyBpbnN0YW5jZW9mIEFWLk9wLlJlbGF0aW9uKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJldmlvdXMuX3RhcmdldENsYXNzTmFtZSAmJlxuICAgICAgICAgICAgcHJldmlvdXMuX3RhcmdldENsYXNzTmFtZSAhPT0gdGhpcy5fdGFyZ2V0Q2xhc3NOYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICdSZWxhdGVkIG9iamVjdCBtdXN0IGJlIG9mIGNsYXNzICcgK1xuICAgICAgICAgICAgICAgIHByZXZpb3VzLl90YXJnZXRDbGFzc05hbWUgK1xuICAgICAgICAgICAgICAgICcsIGJ1dCAnICtcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRDbGFzc05hbWUgK1xuICAgICAgICAgICAgICAgICcgd2FzIHBhc3NlZCBpbi4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbmV3QWRkID0gXy51bmlvbihcbiAgICAgICAgICAgIF8uZGlmZmVyZW5jZShwcmV2aW91cy5yZWxhdGlvbnNUb0FkZCwgdGhpcy5yZWxhdGlvbnNUb1JlbW92ZSksXG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uc1RvQWRkXG4gICAgICAgICAgKTtcbiAgICAgICAgICB2YXIgbmV3UmVtb3ZlID0gXy51bmlvbihcbiAgICAgICAgICAgIF8uZGlmZmVyZW5jZShwcmV2aW91cy5yZWxhdGlvbnNUb1JlbW92ZSwgdGhpcy5yZWxhdGlvbnNUb0FkZCksXG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uc1RvUmVtb3ZlXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHZhciBuZXdSZWxhdGlvbiA9IG5ldyBBVi5PcC5SZWxhdGlvbihuZXdBZGQsIG5ld1JlbW92ZSk7XG4gICAgICAgICAgbmV3UmVsYXRpb24uX3RhcmdldENsYXNzTmFtZSA9IHRoaXMuX3RhcmdldENsYXNzTmFtZTtcbiAgICAgICAgICByZXR1cm4gbmV3UmVsYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcCBpcyBpbnZhbGlkIGFmdGVyIHByZXZpb3VzIG9wLicpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfZXN0aW1hdGU6IGZ1bmN0aW9uKG9sZFZhbHVlLCBvYmplY3QsIGtleSkge1xuICAgICAgICBpZiAoIW9sZFZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJlbGF0aW9uID0gbmV3IEFWLlJlbGF0aW9uKG9iamVjdCwga2V5KTtcbiAgICAgICAgICByZWxhdGlvbi50YXJnZXRDbGFzc05hbWUgPSB0aGlzLl90YXJnZXRDbGFzc05hbWU7XG4gICAgICAgIH0gZWxzZSBpZiAob2xkVmFsdWUgaW5zdGFuY2VvZiBBVi5SZWxhdGlvbikge1xuICAgICAgICAgIGlmICh0aGlzLl90YXJnZXRDbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZS50YXJnZXRDbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlLnRhcmdldENsYXNzTmFtZSAhPT0gdGhpcy5fdGFyZ2V0Q2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgJ1JlbGF0ZWQgb2JqZWN0IG11c3QgYmUgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUudGFyZ2V0Q2xhc3NOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgJywgYnV0IGEgJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldENsYXNzTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICcgd2FzIHBhc3NlZCBpbi4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb2xkVmFsdWUudGFyZ2V0Q2xhc3NOYW1lID0gdGhpcy5fdGFyZ2V0Q2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb2xkVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcCBpcyBpbnZhbGlkIGFmdGVyIHByZXZpb3VzIG9wLicpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH1cbiAgKTtcblxuICBBVi5PcC5fcmVnaXN0ZXJEZWNvZGVyKCdBZGRSZWxhdGlvbicsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gbmV3IEFWLk9wLlJlbGF0aW9uKEFWLl9kZWNvZGUoanNvbi5vYmplY3RzKSwgW10pO1xuICB9KTtcbiAgQVYuT3AuX3JlZ2lzdGVyRGVjb2RlcignUmVtb3ZlUmVsYXRpb24nLCBmdW5jdGlvbihqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBBVi5PcC5SZWxhdGlvbihbXSwgQVYuX2RlY29kZShqc29uLm9iamVjdHMpKTtcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL29wLmpzIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL2luc3RhbmNlL2ZpbmQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2ZpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDQ0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBtZXRob2QgPSByZXF1aXJlKCcuLi9hcnJheS92aXJ0dWFsL2ZpbmQnKTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgb3duID0gaXQuZmluZDtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZmluZCkgPyBtZXRob2QgOiBvd247XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2luc3RhbmNlL2ZpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDQ0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uLy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuZmluZCcpO1xudmFyIGVudHJ5VmlydHVhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2ludGVybmFscy9lbnRyeS12aXJ0dWFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLmZpbmQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9maW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA0NDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkZmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24nKS5maW5kO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzJyk7XG5cbnZhciBGSU5EID0gJ2ZpbmQnO1xudmFyIFNLSVBTX0hPTEVTID0gdHJ1ZTtcblxuLy8gU2hvdWxkbid0IHNraXAgaG9sZXNcbmlmIChGSU5EIGluIFtdKSBBcnJheSgxKVtGSU5EXShmdW5jdGlvbiAoKSB7IFNLSVBTX0hPTEVTID0gZmFsc2U7IH0pO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmZpbmRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZFxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogU0tJUFNfSE9MRVMgfSwge1xuICBmaW5kOiBmdW5jdGlvbiBmaW5kKGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgcmV0dXJuICRmaW5kKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMoRklORCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA0NDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihBVikge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBSZWxhdGlvbiBmb3IgdGhlIGdpdmVuIHBhcmVudCBvYmplY3QgYW5kIGtleS4gVGhpc1xuICAgKiBjb25zdHJ1Y3RvciBzaG91bGQgcmFyZWx5IGJlIHVzZWQgZGlyZWN0bHksIGJ1dCByYXRoZXIgY3JlYXRlZCBieVxuICAgKiB7QGxpbmsgQVYuT2JqZWN0I3JlbGF0aW9ufS5cbiAgICogQHBhcmFtIHtBVi5PYmplY3R9IHBhcmVudCBUaGUgcGFyZW50IG9mIHRoaXMgcmVsYXRpb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGhpcyByZWxhdGlvbiBvbiB0aGUgcGFyZW50LlxuICAgKiBAc2VlIEFWLk9iamVjdCNyZWxhdGlvblxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogPHA+XG4gICAqIEEgY2xhc3MgdGhhdCBpcyB1c2VkIHRvIGFjY2VzcyBhbGwgb2YgdGhlIGNoaWxkcmVuIG9mIGEgbWFueS10by1tYW55XG4gICAqIHJlbGF0aW9uc2hpcC4gIEVhY2ggaW5zdGFuY2Ugb2YgQVYuUmVsYXRpb24gaXMgYXNzb2NpYXRlZCB3aXRoIGFcbiAgICogcGFydGljdWxhciBwYXJlbnQgb2JqZWN0IGFuZCBrZXkuXG4gICAqIDwvcD5cbiAgICovXG4gIEFWLlJlbGF0aW9uID0gZnVuY3Rpb24ocGFyZW50LCBrZXkpIHtcbiAgICBpZiAoIV8uaXNTdHJpbmcoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigna2V5IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy50YXJnZXRDbGFzc05hbWUgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcXVlcnkgdGhhdCBjYW4gYmUgdXNlZCB0byBxdWVyeSB0aGUgcGFyZW50IG9iamVjdHMgaW4gdGhpcyByZWxhdGlvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudENsYXNzIFRoZSBwYXJlbnQgY2xhc3Mgb3IgbmFtZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlbGF0aW9uS2V5IFRoZSByZWxhdGlvbiBmaWVsZCBrZXkgaW4gcGFyZW50LlxuICAgKiBAcGFyYW0ge0FWLk9iamVjdH0gY2hpbGQgVGhlIGNoaWxkIG9iamVjdC5cbiAgICogQHJldHVybiB7QVYuUXVlcnl9XG4gICAqL1xuICBBVi5SZWxhdGlvbi5yZXZlcnNlUXVlcnkgPSBmdW5jdGlvbihwYXJlbnRDbGFzcywgcmVsYXRpb25LZXksIGNoaWxkKSB7XG4gICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KHBhcmVudENsYXNzKTtcbiAgICBxdWVyeS5lcXVhbFRvKHJlbGF0aW9uS2V5LCBjaGlsZC5fdG9Qb2ludGVyKCkpO1xuICAgIHJldHVybiBxdWVyeTtcbiAgfTtcblxuICBfLmV4dGVuZChcbiAgICBBVi5SZWxhdGlvbi5wcm90b3R5cGUsXG4gICAgLyoqIEBsZW5kcyBBVi5SZWxhdGlvbi5wcm90b3R5cGUgKi8ge1xuICAgICAgLyoqXG4gICAgICAgKiBNYWtlcyBzdXJlIHRoYXQgdGhpcyByZWxhdGlvbiBoYXMgdGhlIHJpZ2h0IHBhcmVudCBhbmQga2V5LlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2Vuc3VyZVBhcmVudEFuZEtleTogZnVuY3Rpb24ocGFyZW50LCBrZXkpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLnBhcmVudCB8fCBwYXJlbnQ7XG4gICAgICAgIHRoaXMua2V5ID0gdGhpcy5rZXkgfHwga2V5O1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQgIT09IHBhcmVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdJbnRlcm5hbCBFcnJvci4gUmVsYXRpb24gcmV0cmlldmVkIGZyb20gdHdvIGRpZmZlcmVudCBPYmplY3RzLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmtleSAhPT0ga2V5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0ludGVybmFsIEVycm9yLiBSZWxhdGlvbiByZXRyaWV2ZWQgZnJvbSB0d28gZGlmZmVyZW50IGtleXMuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkcyBhIEFWLk9iamVjdCBvciBhbiBhcnJheSBvZiBBVi5PYmplY3RzIHRvIHRoZSByZWxhdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0fEFWLk9iamVjdFtdfSBvYmplY3RzIFRoZSBpdGVtIG9yIGl0ZW1zIHRvIGFkZC5cbiAgICAgICAqL1xuICAgICAgYWRkOiBmdW5jdGlvbihvYmplY3RzKSB7XG4gICAgICAgIGlmICghXy5pc0FycmF5KG9iamVjdHMpKSB7XG4gICAgICAgICAgb2JqZWN0cyA9IFtvYmplY3RzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFuZ2UgPSBuZXcgQVYuT3AuUmVsYXRpb24ob2JqZWN0cywgW10pO1xuICAgICAgICB0aGlzLnBhcmVudC5zZXQodGhpcy5rZXksIGNoYW5nZSk7XG4gICAgICAgIHRoaXMudGFyZ2V0Q2xhc3NOYW1lID0gY2hhbmdlLl90YXJnZXRDbGFzc05hbWU7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZXMgYSBBVi5PYmplY3Qgb3IgYW4gYXJyYXkgb2YgQVYuT2JqZWN0cyBmcm9tIHRoaXMgcmVsYXRpb24uXG4gICAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5PYmplY3RbXX0gb2JqZWN0cyBUaGUgaXRlbSBvciBpdGVtcyB0byByZW1vdmUuXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZTogZnVuY3Rpb24ob2JqZWN0cykge1xuICAgICAgICBpZiAoIV8uaXNBcnJheShvYmplY3RzKSkge1xuICAgICAgICAgIG9iamVjdHMgPSBbb2JqZWN0c107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hhbmdlID0gbmV3IEFWLk9wLlJlbGF0aW9uKFtdLCBvYmplY3RzKTtcbiAgICAgICAgdGhpcy5wYXJlbnQuc2V0KHRoaXMua2V5LCBjaGFuZ2UpO1xuICAgICAgICB0aGlzLnRhcmdldENsYXNzTmFtZSA9IGNoYW5nZS5fdGFyZ2V0Q2xhc3NOYW1lO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvYmplY3Qgc3VpdGFibGUgZm9yIHNhdmluZyB0byBkaXNrLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICB0b0pTT046IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geyBfX3R5cGU6ICdSZWxhdGlvbicsIGNsYXNzTmFtZTogdGhpcy50YXJnZXRDbGFzc05hbWUgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEFWLlF1ZXJ5IHRoYXQgaXMgbGltaXRlZCB0byBvYmplY3RzIGluIHRoaXNcbiAgICAgICAqIHJlbGF0aW9uLlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9XG4gICAgICAgKi9cbiAgICAgIHF1ZXJ5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRhcmdldENsYXNzO1xuICAgICAgICB2YXIgcXVlcnk7XG4gICAgICAgIGlmICghdGhpcy50YXJnZXRDbGFzc05hbWUpIHtcbiAgICAgICAgICB0YXJnZXRDbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3ModGhpcy5wYXJlbnQuY2xhc3NOYW1lKTtcbiAgICAgICAgICBxdWVyeSA9IG5ldyBBVi5RdWVyeSh0YXJnZXRDbGFzcyk7XG4gICAgICAgICAgcXVlcnkuX2RlZmF1bHRQYXJhbXMucmVkaXJlY3RDbGFzc05hbWVGb3JLZXkgPSB0aGlzLmtleTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRDbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3ModGhpcy50YXJnZXRDbGFzc05hbWUpO1xuICAgICAgICAgIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KHRhcmdldENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBxdWVyeS5fYWRkQ29uZGl0aW9uKCckcmVsYXRlZFRvJywgJ29iamVjdCcsIHRoaXMucGFyZW50Ll90b1BvaW50ZXIoKSk7XG4gICAgICAgIHF1ZXJ5Ll9hZGRDb25kaXRpb24oJyRyZWxhdGVkVG8nLCAna2V5JywgdGhpcy5rZXkpO1xuXG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWxhdGlvbi5qcyIsImNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBjb3MgPSByZXF1aXJlKCcuL3VwbG9hZGVyL2NvcycpO1xuY29uc3QgcWluaXUgPSByZXF1aXJlKCcuL3VwbG9hZGVyL3Fpbml1Jyk7XG5jb25zdCBzMyA9IHJlcXVpcmUoJy4vdXBsb2FkZXIvczMnKTtcbmNvbnN0IEFWRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9yJyk7XG5jb25zdCB7IHJlcXVlc3QsIF9yZXF1ZXN0OiBBVlJlcXVlc3QgfSA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpO1xuY29uc3QgeyB0YXAsIHRyYW5zZm9ybUZldGNoT3B0aW9ucyB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdsZWFuY2xvdWQ6ZmlsZScpO1xuY29uc3QgcGFyc2VCYXNlNjQgPSByZXF1aXJlKCcuL3V0aWxzL3BhcnNlLWJhc2U2NCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEFWKSB7XG4gIC8vIHBvcnQgZnJvbSBicm93c2VyaWZ5IHBhdGggbW9kdWxlXG4gIC8vIHNpbmNlIHJlYWN0LW5hdGl2ZSBwYWNrYWdlciB3b24ndCBzaGltIG5vZGUgbW9kdWxlcy5cbiAgY29uc3QgZXh0bmFtZSA9IHBhdGggPT4ge1xuICAgIGlmICghXy5pc1N0cmluZyhwYXRoKSkgcmV0dXJuICcnO1xuICAgIHJldHVybiBwYXRoLm1hdGNoKFxuICAgICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC9cbiAgICApWzRdO1xuICB9O1xuXG4gIGNvbnN0IGI2NERpZ2l0ID0gbnVtYmVyID0+IHtcbiAgICBpZiAobnVtYmVyIDwgMjYpIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgbnVtYmVyKTtcbiAgICB9XG4gICAgaWYgKG51bWJlciA8IDUyKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIChudW1iZXIgLSAyNikpO1xuICAgIH1cbiAgICBpZiAobnVtYmVyIDwgNjIpIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDQ4ICsgKG51bWJlciAtIDUyKSk7XG4gICAgfVxuICAgIGlmIChudW1iZXIgPT09IDYyKSB7XG4gICAgICByZXR1cm4gJysnO1xuICAgIH1cbiAgICBpZiAobnVtYmVyID09PSA2Mykge1xuICAgICAgcmV0dXJuICcvJztcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmllZCB0byBlbmNvZGUgbGFyZ2UgZGlnaXQgJyArIG51bWJlciArICcgaW4gYmFzZTY0LicpO1xuICB9O1xuXG4gIHZhciBlbmNvZGVCYXNlNjQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBjaHVua3MgPSBbXTtcbiAgICBjaHVua3MubGVuZ3RoID0gTWF0aC5jZWlsKGFycmF5Lmxlbmd0aCAvIDMpO1xuICAgIF8udGltZXMoY2h1bmtzLmxlbmd0aCwgZnVuY3Rpb24oaSkge1xuICAgICAgdmFyIGIxID0gYXJyYXlbaSAqIDNdO1xuICAgICAgdmFyIGIyID0gYXJyYXlbaSAqIDMgKyAxXSB8fCAwO1xuICAgICAgdmFyIGIzID0gYXJyYXlbaSAqIDMgKyAyXSB8fCAwO1xuXG4gICAgICB2YXIgaGFzMiA9IGkgKiAzICsgMSA8IGFycmF5Lmxlbmd0aDtcbiAgICAgIHZhciBoYXMzID0gaSAqIDMgKyAyIDwgYXJyYXkubGVuZ3RoO1xuXG4gICAgICBjaHVua3NbaV0gPSBbXG4gICAgICAgIGI2NERpZ2l0KChiMSA+PiAyKSAmIDB4M2YpLFxuICAgICAgICBiNjREaWdpdCgoKGIxIDw8IDQpICYgMHgzMCkgfCAoKGIyID4+IDQpICYgMHgwZikpLFxuICAgICAgICBoYXMyID8gYjY0RGlnaXQoKChiMiA8PCAyKSAmIDB4M2MpIHwgKChiMyA+PiA2KSAmIDB4MDMpKSA6ICc9JyxcbiAgICAgICAgaGFzMyA/IGI2NERpZ2l0KGIzICYgMHgzZikgOiAnPScsXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0pO1xuICAgIHJldHVybiBjaHVua3Muam9pbignJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFuIEFWLkZpbGUgaXMgYSBsb2NhbCByZXByZXNlbnRhdGlvbiBvZiBhIGZpbGUgdGhhdCBpcyBzYXZlZCB0byB0aGUgQVZcbiAgICogY2xvdWQuXG4gICAqIEBwYXJhbSBuYW1lIHtTdHJpbmd9IFRoZSBmaWxlJ3MgbmFtZS4gVGhpcyB3aWxsIGNoYW5nZSB0byBhIHVuaXF1ZSB2YWx1ZVxuICAgKiAgICAgb25jZSB0aGUgZmlsZSBoYXMgZmluaXNoZWQgc2F2aW5nLlxuICAgKiBAcGFyYW0gZGF0YSB7QXJyYXl9IFRoZSBkYXRhIGZvciB0aGUgZmlsZSwgYXMgZWl0aGVyOlxuICAgKiAgICAgMS4gYW4gQXJyYXkgb2YgYnl0ZSB2YWx1ZSBOdW1iZXJzLCBvclxuICAgKiAgICAgMi4gYW4gT2JqZWN0IGxpa2UgeyBiYXNlNjQ6IFwiLi4uXCIgfSB3aXRoIGEgYmFzZTY0LWVuY29kZWQgU3RyaW5nLlxuICAgKiAgICAgMy4gYSBCbG9iKEZpbGUpIHNlbGVjdGVkIHdpdGggYSBmaWxlIHVwbG9hZCBjb250cm9sIGluIGEgYnJvd3Nlci5cbiAgICogICAgIDQuIGFuIE9iamVjdCBsaWtlIHsgYmxvYjoge3VyaTogXCIuLi5cIn0gfSB0aGF0IG1pbWljcyBCbG9iXG4gICAqICAgICAgICBpbiBzb21lIG5vbi1icm93c2VyIGVudmlyb25tZW50cyBzdWNoIGFzIFJlYWN0IE5hdGl2ZS5cbiAgICogICAgIDUuIGEgQnVmZmVyIGluIE5vZGUuanMgcnVudGltZS5cbiAgICogICAgIDYuIGEgU3RyZWFtIGluIE5vZGUuanMgcnVudGltZS5cbiAgICpcbiAgICogICAgICAgIEZvciBleGFtcGxlOjxwcmU+XG4gICAqIHZhciBmaWxlVXBsb2FkQ29udHJvbCA9ICQoXCIjcHJvZmlsZVBob3RvRmlsZVVwbG9hZFwiKVswXTtcbiAgICogaWYgKGZpbGVVcGxvYWRDb250cm9sLmZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICogICB2YXIgZmlsZSA9IGZpbGVVcGxvYWRDb250cm9sLmZpbGVzWzBdO1xuICAgKiAgIHZhciBuYW1lID0gXCJwaG90by5qcGdcIjtcbiAgICogICB2YXIgZmlsZSA9IG5ldyBBVi5GaWxlKG5hbWUsIGZpbGUpO1xuICAgKiAgIGZpbGUuc2F2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAqICAgICAvLyBUaGUgZmlsZSBoYXMgYmVlbiBzYXZlZCB0byBBVi5cbiAgICogICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgKiAgICAgLy8gVGhlIGZpbGUgZWl0aGVyIGNvdWxkIG5vdCBiZSByZWFkLCBvciBjb3VsZCBub3QgYmUgc2F2ZWQgdG8gQVYuXG4gICAqICAgfSk7XG4gICAqIH08L3ByZT5cbiAgICpcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBbbWltZVR5cGVdIHtTdHJpbmd9IENvbnRlbnQtVHlwZSBoZWFkZXIgdG8gdXNlIGZvciB0aGUgZmlsZS4gSWZcbiAgICogICAgIHRoaXMgaXMgb21pdHRlZCwgdGhlIGNvbnRlbnQgdHlwZSB3aWxsIGJlIGluZmVycmVkIGZyb20gdGhlIG5hbWUnc1xuICAgKiAgICAgZXh0ZW5zaW9uLlxuICAgKi9cbiAgQVYuRmlsZSA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEsIG1pbWVUeXBlKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHVybDogJycsXG4gICAgICBtZXRhRGF0YToge30sXG4gICAgICAvLyDnlKjmnaXlrZjlgqjovazmjaLlkI7opoHkuIrkvKDnmoQgYmFzZTY0IFN0cmluZ1xuICAgICAgYmFzZTY0OiAnJyxcbiAgICB9O1xuXG4gICAgaWYgKF8uaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdDcmVhdGluZyBhbiBBVi5GaWxlIGZyb20gYSBTdHJpbmcgaXMgbm90IHlldCBzdXBwb3J0ZWQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKF8uaXNBcnJheShkYXRhKSkge1xuICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhLnNpemUgPSBkYXRhLmxlbmd0aDtcbiAgICAgIGRhdGEgPSB7IGJhc2U2NDogZW5jb2RlQmFzZTY0KGRhdGEpIH07XG4gICAgfVxuXG4gICAgdGhpcy5fZXh0TmFtZSA9ICcnO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3VwbG9hZEhlYWRlcnMgPSB7fTtcblxuICAgIGlmIChkYXRhICYmIGRhdGEuYmxvYiAmJiB0eXBlb2YgZGF0YS5ibG9iLnVyaSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2V4dE5hbWUgPSBleHRuYW1lKGRhdGEuYmxvYi51cmkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgIGlmIChkYXRhLnNpemUpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5uYW1lKSB7XG4gICAgICAgIHRoaXMuX2V4dE5hbWUgPSBleHRuYW1lKGRhdGEubmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBsZXQgb3duZXI7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5vd25lcikge1xuICAgICAgb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIH0gZWxzZSBpZiAoIUFWLl9jb25maWcuZGlzYWJsZUN1cnJlbnRVc2VyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBvd25lciA9IEFWLlVzZXIuY3VycmVudCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKCdTWU5DX0FQSV9OT1RfQVZBSUxBQkxFJyAhPT0gZXJyb3IuY29kZSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhLm93bmVyID0gb3duZXIgPyBvd25lci5pZCA6ICd1bmtub3duJztcblxuICAgIHRoaXMuc2V0KCdtaW1lX3R5cGUnLCBtaW1lVHlwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmcmVzaCBBVi5GaWxlIG9iamVjdCB3aXRoIGV4aXN0cyB1cmwgZm9yIHNhdmluZyB0byBBVk9TIENsb3VkLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSB0aGUgZmlsZSBuYW1lXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgdGhlIGZpbGUgdXJsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW21ldGFEYXRhXSB0aGUgZmlsZSBtZXRhZGF0YSBvYmplY3QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdHlwZV0gQ29udGVudC1UeXBlIGhlYWRlciB0byB1c2UgZm9yIHRoZSBmaWxlLiBJZlxuICAgKiAgICAgdGhpcyBpcyBvbWl0dGVkLCB0aGUgY29udGVudCB0eXBlIHdpbGwgYmUgaW5mZXJyZWQgZnJvbSB0aGUgbmFtZSdzXG4gICAqICAgICBleHRlbnNpb24uXG4gICAqIEByZXR1cm4ge0FWLkZpbGV9IHRoZSBmaWxlIG9iamVjdFxuICAgKi9cbiAgQVYuRmlsZS53aXRoVVJMID0gZnVuY3Rpb24obmFtZSwgdXJsLCBtZXRhRGF0YSwgdHlwZSkge1xuICAgIGlmICghbmFtZSB8fCAhdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGZpbGUgbmFtZSBhbmQgdXJsJyk7XG4gICAgfVxuICAgIHZhciBmaWxlID0gbmV3IEFWLkZpbGUobmFtZSwgbnVsbCwgdHlwZSk7XG4gICAgLy9jb3B5IG1ldGFEYXRhIHByb3BlcnRpZXMgdG8gZmlsZS5cbiAgICBpZiAobWV0YURhdGEpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gbWV0YURhdGEpIHtcbiAgICAgICAgaWYgKCFmaWxlLmF0dHJpYnV0ZXMubWV0YURhdGFbcHJvcF0pXG4gICAgICAgICAgZmlsZS5hdHRyaWJ1dGVzLm1ldGFEYXRhW3Byb3BdID0gbWV0YURhdGFbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIGZpbGUuYXR0cmlidXRlcy51cmwgPSB1cmw7XG4gICAgLy9NYXJrIHRoZSBmaWxlIGlzIGZyb20gZXh0ZXJuYWwgc291cmNlLlxuICAgIGZpbGUuYXR0cmlidXRlcy5tZXRhRGF0YS5fX3NvdXJjZSA9ICdleHRlcm5hbCc7XG4gICAgZmlsZS5hdHRyaWJ1dGVzLm1ldGFEYXRhLnNpemUgPSAwO1xuICAgIHJldHVybiBmaWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZmlsZSBvYmplY3Qgd2l0aCBleGlzdHMgb2JqZWN0SWQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RJZCBUaGUgb2JqZWN0SWQgc3RyaW5nXG4gICAqIEByZXR1cm4ge0FWLkZpbGV9IHRoZSBmaWxlIG9iamVjdFxuICAgKi9cbiAgQVYuRmlsZS5jcmVhdGVXaXRob3V0RGF0YSA9IGZ1bmN0aW9uKG9iamVjdElkKSB7XG4gICAgaWYgKCFvYmplY3RJZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIG9iamVjdElkIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICB9XG4gICAgdmFyIGZpbGUgPSBuZXcgQVYuRmlsZSgpO1xuICAgIGZpbGUuaWQgPSBvYmplY3RJZDtcbiAgICByZXR1cm4gZmlsZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdCBmaWxlIGNlbnNvci5cbiAgICogQHNpbmNlIDQuMTMuMFxuICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqZWN0SWRcbiAgICogQHJldHVybiB7UHJvbWlzZS48c3RyaW5nPn1cbiAgICovXG4gIEFWLkZpbGUuY2Vuc29yID0gZnVuY3Rpb24ob2JqZWN0SWQpIHtcbiAgICBpZiAoIUFWLl9jb25maWcubWFzdGVyS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjZW5zb3IgYSBmaWxlIHdpdGhvdXQgbWFzdGVyS2V5Jyk7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGF0aDogYC9maWxlcy8ke29iamVjdElkfS9jZW5zb3JgLFxuICAgICAgYXV0aE9wdGlvbnM6IHsgdXNlTWFzdGVyS2V5OiB0cnVlIH0sXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLmNlbnNvclJlc3VsdCk7XG4gIH07XG5cbiAgXy5leHRlbmQoXG4gICAgQVYuRmlsZS5wcm90b3R5cGUsXG4gICAgLyoqIEBsZW5kcyBBVi5GaWxlLnByb3RvdHlwZSAqLyB7XG4gICAgICBjbGFzc05hbWU6ICdfRmlsZScsXG5cbiAgICAgIF90b0Z1bGxKU09OKHNlZW5PYmplY3RzLCBmdWxsID0gdHJ1ZSkge1xuICAgICAgICB2YXIganNvbiA9IF8uY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICAgICAgQVYuX29iamVjdEVhY2goanNvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgICAgICBqc29uW2tleV0gPSBBVi5fZW5jb2RlKHZhbCwgc2Vlbk9iamVjdHMsIHVuZGVmaW5lZCwgZnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBBVi5fb2JqZWN0RWFjaCh0aGlzLl9vcGVyYXRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgICAgIGpzb25ba2V5XSA9IHZhbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF8uaGFzKHRoaXMsICdpZCcpKSB7XG4gICAgICAgICAganNvbi5vYmplY3RJZCA9IHRoaXMuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgWydjcmVhdGVkQXQnLCAndXBkYXRlZEF0J10uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIGlmIChfLmhhcyh0aGlzLCBrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSB0aGlzW2tleV07XG4gICAgICAgICAgICBqc29uW2tleV0gPSBfLmlzRGF0ZSh2YWwpID8gdmFsLnRvSlNPTigpIDogdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmdWxsKSB7XG4gICAgICAgICAganNvbi5fX3R5cGUgPSAnRmlsZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYSBKU09OIHZlcnNpb24gb2YgdGhlIGZpbGUgd2l0aCBtZXRhIGRhdGEuXG4gICAgICAgKiBJbnZlcnNlIHRvIHtAbGluayBBVi5wYXJzZUpTT059XG4gICAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgdG9GdWxsSlNPTihzZWVuT2JqZWN0cyA9IFtdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b0Z1bGxKU09OKHNlZW5PYmplY3RzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb2JqZWN0LlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICB0b0pTT04oa2V5LCBob2xkZXIsIHNlZW5PYmplY3RzID0gW3RoaXNdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b0Z1bGxKU09OKHNlZW5PYmplY3RzLCBmYWxzZSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgYSBQb2ludGVyIHJlZmVyZW5jaW5nIHRoaXMgZmlsZS5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF90b1BvaW50ZXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX190eXBlOiAnUG9pbnRlcicsXG4gICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICBvYmplY3RJZDogdGhpcy5pZCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgQUNMIGZvciB0aGlzIGZpbGUuXG4gICAgICAgKiBAcmV0dXJucyB7QVYuQUNMfSBBbiBpbnN0YW5jZSBvZiBBVi5BQ0wuXG4gICAgICAgKi9cbiAgICAgIGdldEFDTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgQUNMIHRvIGJlIHVzZWQgZm9yIHRoaXMgZmlsZS5cbiAgICAgICAqIEBwYXJhbSB7QVYuQUNMfSBhY2wgQW4gaW5zdGFuY2Ugb2YgQVYuQUNMLlxuICAgICAgICovXG4gICAgICBzZXRBQ0woYWNsKSB7XG4gICAgICAgIGlmICghKGFjbCBpbnN0YW5jZW9mIEFWLkFDTCkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgJ0FDTCBtdXN0IGJlIGEgQVYuQUNMLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjbCA9IGFjbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGZpbGUuIEJlZm9yZSBzYXZlIGlzIGNhbGxlZCwgdGhpcyBpcyB0aGUgZmlsZW5hbWVcbiAgICAgICAqIGdpdmVuIGJ5IHRoZSB1c2VyLiBBZnRlciBzYXZlIGlzIGNhbGxlZCwgdGhhdCBuYW1lIGdldHMgcHJlZml4ZWQgd2l0aCBhXG4gICAgICAgKiB1bmlxdWUgaWRlbnRpZmllci5cbiAgICAgICAqL1xuICAgICAgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCduYW1lJyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgdGhlIHVybCBvZiB0aGUgZmlsZS4gSXQgaXMgb25seSBhdmFpbGFibGUgYWZ0ZXIgeW91IHNhdmUgdGhlIGZpbGUgb3JcbiAgICAgICAqIGFmdGVyIHlvdSBnZXQgdGhlIGZpbGUgZnJvbSBhIEFWLk9iamVjdC5cbiAgICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgICAqL1xuICAgICAgdXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VybCcpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIHRoZSBhdHRyaWJ1dHMgb2YgdGhlIGZpbGUgb2JqZWN0LlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFRoZSBhdHRyaWJ1dGUgbmFtZSB3aGljaCB3YW50IHRvIGdldC5cbiAgICAgICAqIEByZXR1cm5zIHtBbnl9XG4gICAgICAgKi9cbiAgICAgIGdldChhdHRyTmFtZSkge1xuICAgICAgICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgICAgICAgY2FzZSAnb2JqZWN0SWQnOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICBjYXNlICduYW1lJzpcbiAgICAgICAgICBjYXNlICdtaW1lX3R5cGUnOlxuICAgICAgICAgIGNhc2UgJ21ldGFEYXRhJzpcbiAgICAgICAgICBjYXNlICdjcmVhdGVkQXQnOlxuICAgICAgICAgIGNhc2UgJ3VwZGF0ZWRBdCc6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2F0dHJOYW1lXTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5tZXRhRGF0YVthdHRyTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IHRoZSBtZXRhRGF0YSBvZiB0aGUgZmlsZSBvYmplY3QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gT2JqZWN0IGlzIGFuIGtleSB2YWx1ZSBPYmplY3QgZm9yIHNldHRpbmcgbWV0YURhdGEuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBpcyBhbiBvcHRpb25hbCBtZXRhZGF0YSBrZXkuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUgaXMgYW4gb3B0aW9uYWwgbWV0YWRhdGEgdmFsdWUuXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcnxBcnJheXxPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHNldCguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHNldCA9IChhdHRyTmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgICAgICAgICBjYXNlICduYW1lJzpcbiAgICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgICBjYXNlICdtaW1lX3R5cGUnOlxuICAgICAgICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgICAgIGNhc2UgJ21ldGFEYXRhJzpcbiAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2F0dHJOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIC8vIEZpbGUg5bm26Z2e5LiA5LiqIEFWT2JqZWN077yM5LiN6IO95a6M5YWo6Ieq5a6a5LmJ5YW25LuW5bGe5oCn77yM5omA5Lul5Y+q6IO96YO95pS+5ZyoIG1ldGFEYXRhIOS4iumdolxuICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGFbYXR0ck5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgLy8g5Lyg5YWl5LiA5LiqIE9iamVjdFxuICAgICAgICAgICAgZm9yICh2YXIgayBpbiBhcmdzWzBdKSB7XG4gICAgICAgICAgICAgIHNldChrLCBhcmdzWzBdW2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHNldChhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgYSBoZWFkZXIgZm9yIHRoZSB1cGxvYWQgcmVxdWVzdC5cbiAgICAgICAqIEZvciBtb3JlIGluZm9tYXRpb24sIGdvIHRvIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vYXZmaWxlLXVwbG9hZC1oZWFkZXJzXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBoZWFkZXIga2V5XG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgaGVhZGVyIHZhbHVlXG4gICAgICAgKiBAcmV0dXJuIHtBVi5GaWxlfSB0aGlzXG4gICAgICAgKi9cbiAgICAgIHNldFVwbG9hZEhlYWRlcihrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3VwbG9hZEhlYWRlcnNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogPHA+UmV0dXJucyB0aGUgZmlsZSdzIG1ldGFkYXRhIEpTT04gb2JqZWN0IGlmIG5vIGFyZ3VtZW50cyBpcyBnaXZlbi5SZXR1cm5zIHRoZVxuICAgICAgICogbWV0YWRhdGEgdmFsdWUgaWYgYSBrZXkgaXMgZ2l2ZW4uU2V0IG1ldGFkYXRhIHZhbHVlIGlmIGtleSBhbmQgdmFsdWUgYXJlIGJvdGggZ2l2ZW4uPC9wPlxuICAgICAgICogPHA+PHByZT5cbiAgICAgICAqICB2YXIgbWV0YWRhdGEgPSBmaWxlLm1ldGFEYXRhKCk7IC8vR2V0IG1ldGFkYXRhIEpTT04gb2JqZWN0LlxuICAgICAgICogIHZhciBzaXplID0gZmlsZS5tZXRhRGF0YSgnc2l6ZScpOyAgLy8gR2V0IHRoZSBzaXplIG1ldGFkYXRhIHZhbHVlLlxuICAgICAgICogIGZpbGUubWV0YURhdGEoJ2Zvcm1hdCcsICdqcGVnJyk7IC8vc2V0IG1ldGFkYXRhIGF0dHJpYnV0ZSBhbmQgdmFsdWUuXG4gICAgICAgKjwvcHJlPjwvcD5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGZpbGUncyBtZXRhZGF0YSBKU09OIG9iamVjdC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIGFuIG9wdGlvbmFsIG1ldGFkYXRhIGtleS5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBhbiBvcHRpb25hbCBtZXRhZGF0YSB2YWx1ZS5cbiAgICAgICAqKi9cbiAgICAgIG1ldGFEYXRhKGF0dHIsIHZhbHVlKSB7XG4gICAgICAgIGlmIChhdHRyICYmIHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhW2F0dHJdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0ciAmJiAhdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhW2F0dHJdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMubWV0YURhdGE7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICog5aaC5p6c5paH5Lu25piv5Zu+54mH77yM6I635Y+W5Zu+54mH55qE57yp55Wl5Zu+VVJM44CC5Y+v5Lul5Lyg5YWl5a695bqm44CB6auY5bqm44CB6LSo6YeP44CB5qC85byP562J5Y+C5pWw44CCXG4gICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IOe8qeeVpeWbvlVSTFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIOWuveW6pu+8jOWNleS9je+8muWDj+e0oFxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWd0aCDpq5jluqbvvIzljZXkvY3vvJrlg4/ntKBcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBxdWFsaXR5IOi0qOmHj++8jDEtMTAw55qE5pWw5a2X77yM6buY6K6kMTAwXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVUb0ZpdCDmmK/lkKblsIblm77niYfoh6rpgILlupTlpKflsI/jgILpu5jorqTkuLp0cnVl44CCXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZm10IOagvOW8j++8jOm7mOiupOS4unBuZ++8jOS5n+WPr+S7peS4umpwZWcsZ2lm562J5qC85byP44CCXG4gICAgICAgKi9cblxuICAgICAgdGh1bWJuYWlsVVJMKFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBxdWFsaXR5ID0gMTAwLFxuICAgICAgICBzY2FsZVRvRml0ID0gdHJ1ZSxcbiAgICAgICAgZm10ID0gJ3BuZydcbiAgICAgICkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmF0dHJpYnV0ZXMudXJsO1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1cmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0IHx8IHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgd2lkdGggb3IgaGVpZ2h0IHZhbHVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWFsaXR5IDw9IDAgfHwgcXVhbGl0eSA+IDEwMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBxdWFsaXR5IHZhbHVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGUgPSBzY2FsZVRvRml0ID8gMiA6IDE7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdXJsICtcbiAgICAgICAgICAnP2ltYWdlVmlldy8nICtcbiAgICAgICAgICBtb2RlICtcbiAgICAgICAgICAnL3cvJyArXG4gICAgICAgICAgd2lkdGggK1xuICAgICAgICAgICcvaC8nICtcbiAgICAgICAgICBoZWlnaHQgK1xuICAgICAgICAgICcvcS8nICtcbiAgICAgICAgICBxdWFsaXR5ICtcbiAgICAgICAgICAnL2Zvcm1hdC8nICtcbiAgICAgICAgICBmbXRcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgZmlsZSdzIHNpemUuXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBmaWxlJ3Mgc2l6ZSBpbiBieXRlcy5cbiAgICAgICAqKi9cbiAgICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGFEYXRhKCkuc2l6ZTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgZmlsZSdzIG93bmVyLlxuICAgICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgZmlsZSdzIG93bmVyIGlkLlxuICAgICAgICovXG4gICAgICBvd25lcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhRGF0YSgpLm93bmVyO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXN0cm95IHRoZSBmaWxlLlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIGRlc3Ryb3lcbiAgICAgICAqICAgICBjb21wbGV0ZXMuXG4gICAgICAgKi9cbiAgICAgIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdUaGUgZmlsZSBpZCBkb2VzIG5vdCBlaXhzdC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoXG4gICAgICAgICAgJ2ZpbGVzJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHRoaXMuaWQsXG4gICAgICAgICAgJ0RFTEVURScsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXF1ZXN0IFFpbml1IHVwbG9hZCB0b2tlblxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVkIHdpdGggdGhlIHJlc3BvbnNlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfZmlsZVRva2VuKHR5cGUsIGF1dGhPcHRpb25zKSB7XG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5hdHRyaWJ1dGVzLm5hbWU7XG5cbiAgICAgICAgbGV0IGV4dE5hbWUgPSBleHRuYW1lKG5hbWUpO1xuICAgICAgICBpZiAoIWV4dE5hbWUgJiYgdGhpcy5fZXh0TmFtZSkge1xuICAgICAgICAgIG5hbWUgKz0gdGhpcy5fZXh0TmFtZTtcbiAgICAgICAgICBleHROYW1lID0gdGhpcy5fZXh0TmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAga2VlcF9maWxlX25hbWU6IGF1dGhPcHRpb25zLmtlZXBGaWxlTmFtZSxcbiAgICAgICAgICBrZXk6IGF1dGhPcHRpb25zLmtleSxcbiAgICAgICAgICBBQ0w6IHRoaXMuX2FjbCxcbiAgICAgICAgICBtaW1lX3R5cGU6IHR5cGUsXG4gICAgICAgICAgbWV0YURhdGE6IHRoaXMuYXR0cmlidXRlcy5tZXRhRGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEFWUmVxdWVzdCgnZmlsZVRva2VucycsIG51bGwsIG51bGwsICdQT1NUJywgZGF0YSwgYXV0aE9wdGlvbnMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAY2FsbGJhY2sgVXBsb2FkUHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR9IGV2ZW50IC0gVGhlIHByb2dyZXNzIGV2ZW50IHdpdGggJ2xvYWRlZCcgYW5kICd0b3RhbCcgYXR0cmlidXRlc1xuICAgICAgICovXG4gICAgICAvKipcbiAgICAgICAqIFNhdmVzIHRoZSBmaWxlIHRvIHRoZSBBViBjbG91ZC5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXSBBdXRoT3B0aW9ucyBwbHVzOlxuICAgICAgICogQHBhcmFtIHtVcGxvYWRQcm9ncmVzc0NhbGxiYWNrfSBbb3B0aW9ucy5vbnByb2dyZXNzXSDmlofku7bkuIrkvKDov5vluqbvvIzlnKggTm9kZS5qcyDkuK3ml6DmlYjvvIzlm57osIPlj4LmlbDor7TmmI7or6bop4Ege0BsaW5rIFVwbG9hZFByb2dyZXNzQ2FsbGJhY2t944CCXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtlZXBGaWxlTmFtZSA9IGZhbHNlXSDkv53nlZnkuIvovb3mlofku7bnmoTmlofku7blkI3jgIJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5rZXldIOaMh+WumuaWh+S7tueahCBrZXnjgILorr7nva7or6XpgInpobnpnIDopoHkvb/nlKggbWFzdGVyS2V5XG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgc2F2ZSBmaW5pc2hlcy5cbiAgICAgICAqL1xuICAgICAgc2F2ZShvcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgaXMgYWxyZWFkeSBzYXZlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3ByZXZpb3VzU2F2ZSkge1xuICAgICAgICAgIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICBsZXQgbWltZVR5cGUgPSB0aGlzLmdldCgnbWltZV90eXBlJyk7XG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c1NhdmUgPSB0aGlzLl9maWxlVG9rZW4obWltZVR5cGUsIG9wdGlvbnMpLnRoZW4oXG4gICAgICAgICAgICAgIHVwbG9hZEluZm8gPT4ge1xuICAgICAgICAgICAgICAgIGlmICh1cGxvYWRJbmZvLm1pbWVfdHlwZSkge1xuICAgICAgICAgICAgICAgICAgbWltZVR5cGUgPSB1cGxvYWRJbmZvLm1pbWVfdHlwZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KCdtaW1lX3R5cGUnLCBtaW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gdXBsb2FkSW5mby50b2tlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2RhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuYmFzZTY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmFzZTY0KGRhdGEuYmFzZTY0LCBtaW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5ibG9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmJsb2IudHlwZSAmJiBtaW1lVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ibG9iLnR5cGUgPSBtaW1lVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmJsb2IubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ibG9iLm5hbWUgPSB0aGlzLmdldCgnbmFtZScpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5ibG9iO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYWxmb3JtZWQgZmlsZSBkYXRhJyk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9vcHRpb25zID0gXy5leHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGRvd25sb2FkIHByb2dyZXNzIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMub25wcm9ncmVzcyA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kaXJlY3Rpb24gPT09ICdkb3dubG9hZCcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm9ucHJvZ3Jlc3MoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh1cGxvYWRJbmZvLnByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAnczMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMzKHVwbG9hZEluZm8sIGRhdGEsIHRoaXMsIF9vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlICdxY2xvdWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvcyh1cGxvYWRJbmZvLCBkYXRhLCB0aGlzLCBfb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAncWluaXUnOlxuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcWluaXUodXBsb2FkSW5mbywgZGF0YSwgdGhpcywgX29wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLnRoZW4odGFwKCgpID0+IHRoaXMuX2NhbGxiYWNrKHRydWUpKSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy51cmwgJiZcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5tZXRhRGF0YS5fX3NvdXJjZSA9PT0gJ2V4dGVybmFsJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gZXh0ZXJuYWwgbGluayBmaWxlLlxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgbmFtZTogdGhpcy5hdHRyaWJ1dGVzLm5hbWUsXG4gICAgICAgICAgICAgIEFDTDogdGhpcy5fYWNsLFxuICAgICAgICAgICAgICBtZXRhRGF0YTogdGhpcy5hdHRyaWJ1dGVzLm1ldGFEYXRhLFxuICAgICAgICAgICAgICBtaW1lX3R5cGU6IHRoaXMubWltZVR5cGUsXG4gICAgICAgICAgICAgIHVybDogdGhpcy5hdHRyaWJ1dGVzLnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c1NhdmUgPSBBVlJlcXVlc3QoXG4gICAgICAgICAgICAgICdmaWxlcycsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICdwb3N0JyxcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5pZCA9IHJlc3BvbnNlLm9iamVjdElkO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNTYXZlO1xuICAgICAgfSxcblxuICAgICAgX2NhbGxiYWNrKHN1Y2Nlc3MpIHtcbiAgICAgICAgQVZSZXF1ZXN0KCdmaWxlQ2FsbGJhY2snLCBudWxsLCBudWxsLCAncG9zdCcsIHtcbiAgICAgICAgICB0b2tlbjogdGhpcy5fdG9rZW4sXG4gICAgICAgICAgcmVzdWx0OiBzdWNjZXNzLFxuICAgICAgICB9KS5jYXRjaChkZWJ1Zyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl90b2tlbjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGE7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIGZldGNoIHRoZSBmaWxlIGZyb20gc2VydmVyLiBJZiB0aGUgc2VydmVyJ3MgcmVwcmVzZW50YXRpb24gb2YgdGhlXG4gICAgICAgKiBtb2RlbCBkaWZmZXJzIGZyb20gaXRzIGN1cnJlbnQgYXR0cmlidXRlcywgdGhleSB3aWxsIGJlIG92ZXJyaWRlbixcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmZXRjaE9wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgJ2tleXMnLFxuICAgICAgICogICAgICAnaW5jbHVkZScgYW5kICdpbmNsdWRlQUNMJyBvcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgZmV0Y2hcbiAgICAgICAqICAgICBjb21wbGV0ZXMuXG4gICAgICAgKi9cbiAgICAgIGZldGNoKGZldGNoT3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmZXRjaCB1bnNhdmVkIGZpbGUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdChcbiAgICAgICAgICAnZmlsZXMnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdGhpcy5pZCxcbiAgICAgICAgICAnR0VUJyxcbiAgICAgICAgICB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMoZmV0Y2hPcHRpb25zKSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4odGhpcy5fZmluaXNoRmV0Y2guYmluZCh0aGlzKSk7XG4gICAgICB9LFxuICAgICAgX2ZpbmlzaEZldGNoKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IEFWLk9iamVjdC5wcm90b3R5cGUucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB2YWx1ZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgIG5hbWU6IHZhbHVlLm5hbWUsXG4gICAgICAgICAgdXJsOiB2YWx1ZS51cmwsXG4gICAgICAgICAgbWltZV90eXBlOiB2YWx1ZS5taW1lX3R5cGUsXG4gICAgICAgICAgYnVja2V0OiB2YWx1ZS5idWNrZXQsXG4gICAgICAgIH07XG4gICAgICAgIHZhbHVlLmF0dHJpYnV0ZXMubWV0YURhdGEgPSB2YWx1ZS5tZXRhRGF0YSB8fCB7fTtcbiAgICAgICAgdmFsdWUuaWQgPSB2YWx1ZS5vYmplY3RJZDtcbiAgICAgICAgLy8gY2xlYW5cbiAgICAgICAgZGVsZXRlIHZhbHVlLm9iamVjdElkO1xuICAgICAgICBkZWxldGUgdmFsdWUubWV0YURhdGE7XG4gICAgICAgIGRlbGV0ZSB2YWx1ZS51cmw7XG4gICAgICAgIGRlbGV0ZSB2YWx1ZS5uYW1lO1xuICAgICAgICBkZWxldGUgdmFsdWUubWltZV90eXBlO1xuICAgICAgICBkZWxldGUgdmFsdWUuYnVja2V0O1xuICAgICAgICBfLmV4dGVuZCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXF1ZXN0IGZpbGUgY2Vuc29yXG4gICAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxzdHJpbmc+fVxuICAgICAgICovXG4gICAgICBjZW5zb3IoKSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNlbnNvciBhbiB1bnNhdmVkIGZpbGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQVYuRmlsZS5jZW5zb3IodGhpcy5pZCk7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZmlsZS5qcyIsImNvbnN0IHsgZ2V0QWRhcHRlciB9ID0gcmVxdWlyZSgnLi4vYWRhcHRlcicpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdjb3MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1cGxvYWRJbmZvLCBkYXRhLCBmaWxlLCBzYXZlT3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHVybCA9XG4gICAgdXBsb2FkSW5mby51cGxvYWRfdXJsICsgJz9zaWduPScgKyBlbmNvZGVVUklDb21wb25lbnQodXBsb2FkSW5mby50b2tlbik7XG4gIGNvbnN0IGZpbGVGb3JtRGF0YSA9IHtcbiAgICBmaWVsZDogJ2ZpbGVDb250ZW50JyxcbiAgICBkYXRhLFxuICAgIG5hbWU6IGZpbGUuYXR0cmlidXRlcy5uYW1lLFxuICB9O1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGhlYWRlcnM6IGZpbGUuX3VwbG9hZEhlYWRlcnMsXG4gICAgZGF0YToge1xuICAgICAgb3A6ICd1cGxvYWQnLFxuICAgIH0sXG4gICAgb25wcm9ncmVzczogc2F2ZU9wdGlvbnMub25wcm9ncmVzcyxcbiAgfTtcbiAgZGVidWcoJ3VybDogJXMsIGZpbGU6ICVvLCBvcHRpb25zOiAlbycsIHVybCwgZmlsZUZvcm1EYXRhLCBvcHRpb25zKTtcbiAgY29uc3QgdXBsb2FkID0gZ2V0QWRhcHRlcigndXBsb2FkJyk7XG4gIHJldHVybiB1cGxvYWQodXJsLCBmaWxlRm9ybURhdGEsIG9wdGlvbnMpLnRoZW4oXG4gICAgcmVzcG9uc2UgPT4ge1xuICAgICAgZGVidWcocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTtcbiAgICAgIGlmIChyZXNwb25zZS5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBmaWxlLmF0dHJpYnV0ZXMudXJsID0gdXBsb2FkSW5mby51cmw7XG4gICAgICBmaWxlLl9idWNrZXQgPSB1cGxvYWRJbmZvLmJ1Y2tldDtcbiAgICAgIGZpbGUuaWQgPSB1cGxvYWRJbmZvLm9iamVjdElkO1xuICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfSxcbiAgICBlcnJvciA9PiB7XG4gICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBlcnJvcjtcbiAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICBkZWJ1ZyhyZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICBlcnJvci5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3VwbG9hZGVyL2Nvcy5qcyIsImNvbnN0IHsgZ2V0QWRhcHRlciB9ID0gcmVxdWlyZSgnLi4vYWRhcHRlcicpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdsZWFuY2xvdWQ6cWluaXUnKTtcbmNvbnN0IGFqYXggPSByZXF1aXJlKCcuLi91dGlscy9hamF4Jyk7XG5jb25zdCBidG9hID0gcmVxdWlyZSgnLi4vdXRpbHMvYnRvYScpO1xuXG5jb25zdCBTSEFSRF9USFJFU0hPTEQgPSAxMDI0ICogMTAyNCAqIDY0O1xuXG5jb25zdCBDSFVOS19TSVpFID0gMTAyNCAqIDEwMjQgKiAxNjtcblxuZnVuY3Rpb24gdXBsb2FkKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUsIHNhdmVPcHRpb25zID0ge30pIHtcbiAgLy8gR2V0IHRoZSB1cHRva2VuIHRvIHVwbG9hZCBmaWxlcyB0byBxaW5pdS5cbiAgY29uc3QgdXB0b2tlbiA9IHVwbG9hZEluZm8udG9rZW47XG4gIGNvbnN0IHVybCA9IHVwbG9hZEluZm8udXBsb2FkX3VybCB8fCAnaHR0cHM6Ly91cGxvYWQucWluaXVwLmNvbSc7XG4gIGNvbnN0IGZpbGVGb3JtRGF0YSA9IHtcbiAgICBmaWVsZDogJ2ZpbGUnLFxuICAgIGRhdGEsXG4gICAgbmFtZTogZmlsZS5hdHRyaWJ1dGVzLm5hbWUsXG4gIH07XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgaGVhZGVyczogZmlsZS5fdXBsb2FkSGVhZGVycyxcbiAgICBkYXRhOiB7XG4gICAgICBuYW1lOiBmaWxlLmF0dHJpYnV0ZXMubmFtZSxcbiAgICAgIGtleTogdXBsb2FkSW5mby5rZXksXG4gICAgICB0b2tlbjogdXB0b2tlbixcbiAgICB9LFxuICAgIG9ucHJvZ3Jlc3M6IHNhdmVPcHRpb25zLm9ucHJvZ3Jlc3MsXG4gIH07XG4gIGRlYnVnKCd1cmw6ICVzLCBmaWxlOiAlbywgb3B0aW9uczogJW8nLCB1cmwsIGZpbGVGb3JtRGF0YSwgb3B0aW9ucyk7XG4gIGNvbnN0IHVwbG9hZCA9IGdldEFkYXB0ZXIoJ3VwbG9hZCcpO1xuICByZXR1cm4gdXBsb2FkKHVybCwgZmlsZUZvcm1EYXRhLCBvcHRpb25zKS50aGVuKFxuICAgIHJlc3BvbnNlID0+IHtcbiAgICAgIGRlYnVnKHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICBpZiAocmVzcG9uc2Uub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5lcnJvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBmaWxlLmF0dHJpYnV0ZXMudXJsID0gdXBsb2FkSW5mby51cmw7XG4gICAgICBmaWxlLl9idWNrZXQgPSB1cGxvYWRJbmZvLmJ1Y2tldDtcbiAgICAgIGZpbGUuaWQgPSB1cGxvYWRJbmZvLm9iamVjdElkO1xuICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfSxcbiAgICBlcnJvciA9PiB7XG4gICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBlcnJvcjtcbiAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICBkZWJ1ZyhyZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICBlcnJvci5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIHVybFNhZmVCYXNlNjQoc3RyaW5nKSB7XG4gIGNvbnN0IGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykpKTtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBmb3IgKGNvbnN0IGNoIG9mIGJhc2U2NCkge1xuICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgIGNhc2UgJysnOlxuICAgICAgICByZXN1bHQgKz0gJy0nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJy8nOlxuICAgICAgICByZXN1bHQgKz0gJ18nO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlc3VsdCArPSBjaDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY2xhc3MgU2hhcmRVcGxvYWRlciB7XG4gIGNvbnN0cnVjdG9yKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUsIHNhdmVPcHRpb25zKSB7XG4gICAgdGhpcy51cGxvYWRJbmZvID0gdXBsb2FkSW5mbztcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gICAgdGhpcy5zaXplID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICB0aGlzLnVwbG9hZGVkQ2h1bmtzID0gMDtcblxuICAgIGNvbnN0IGtleSA9IHVybFNhZmVCYXNlNjQodXBsb2FkSW5mby5rZXkpO1xuICAgIGNvbnN0IHVwbG9hZFVSTCA9IHVwbG9hZEluZm8udXBsb2FkX3VybCB8fCAnaHR0cHM6Ly91cGxvYWQucWluaXVwLmNvbSc7XG4gICAgdGhpcy5iYXNlVVJMID0gYCR7dXBsb2FkVVJMfS9idWNrZXRzLyR7dXBsb2FkSW5mby5idWNrZXR9L29iamVjdHMvJHtrZXl9L3VwbG9hZHNgO1xuICAgIHRoaXMudXBUb2tlbiA9ICdVcFRva2VuICcgKyB1cGxvYWRJbmZvLnRva2VuO1xuXG4gICAgdGhpcy51cGxvYWRlZCA9IDA7XG4gICAgaWYgKHNhdmVPcHRpb25zICYmIHNhdmVPcHRpb25zLm9ucHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcyA9ICh7IGxvYWRlZCB9KSA9PiB7XG4gICAgICAgIGxvYWRlZCArPSB0aGlzLnVwbG9hZGVkQ2h1bmtzICogQ0hVTktfU0laRTtcbiAgICAgICAgaWYgKGxvYWRlZCA8PSB0aGlzLnVwbG9hZGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNpemUpIHtcbiAgICAgICAgICBzYXZlT3B0aW9ucy5vbnByb2dyZXNzKHtcbiAgICAgICAgICAgIGxvYWRlZCxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLnNpemUsXG4gICAgICAgICAgICBwZXJjZW50OiAobG9hZGVkIC8gdGhpcy5zaXplKSAqIDEwMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzYXZlT3B0aW9ucy5vbnByb2dyZXNzKHsgbG9hZGVkIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBsb2FkZWQgPSBsb2FkZWQ7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgZ2V0VXBsb2FkSWQoKSB7XG4gICAgcmV0dXJuIGFqYXgoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6IHRoaXMuYmFzZVVSTCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogdGhpcy51cFRva2VuLFxuICAgICAgfSxcbiAgICB9KS50aGVuKHJlcyA9PiByZXMudXBsb2FkSWQpO1xuICB9XG5cbiAgZ2V0Q2h1bmsoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXBsb2FkSWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnROdW1iZXJcbiAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICogQHJldHVybnMge1Byb21pc2U8eyBwYXJ0TnVtYmVyOiBudW1iZXIsIGV0YWc6IHN0cmluZyB9Pn1cbiAgICovXG4gIHVwbG9hZFBhcnQodXBsb2FkSWQsIHBhcnROdW1iZXIsIGRhdGEpIHtcbiAgICByZXR1cm4gYWpheCh7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVUkx9LyR7dXBsb2FkSWR9LyR7cGFydE51bWJlcn1gLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLnVwVG9rZW4sXG4gICAgICB9LFxuICAgICAgZGF0YSxcbiAgICAgIG9ucHJvZ3Jlc3M6IHRoaXMub25Qcm9ncmVzcyxcbiAgICB9KS50aGVuKCh7IGV0YWcgfSkgPT4gKHsgcGFydE51bWJlciwgZXRhZyB9KSk7XG4gIH1cblxuICBzdG9wVXBsb2FkKHVwbG9hZElkKSB7XG4gICAgcmV0dXJuIGFqYXgoe1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIHVybDogYCR7dGhpcy5iYXNlVVJMfS8ke3VwbG9hZElkfWAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IHRoaXMudXBUb2tlbixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICB1cGxvYWQoKSB7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICByZXR1cm4gdGhpcy5nZXRVcGxvYWRJZCgpXG4gICAgICAudGhlbih1cGxvYWRJZCA9PiB7XG4gICAgICAgIGNvbnN0IHVwbG9hZFBhcnQgPSAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmdldENodW5rKCkpXG4gICAgICAgICAgICAudGhlbihjaHVuayA9PiB7XG4gICAgICAgICAgICAgIGlmICghY2h1bmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgcGFydE51bWJlciA9IHBhcnRzLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnVwbG9hZFBhcnQodXBsb2FkSWQsIHBhcnROdW1iZXIsIGNodW5rKS50aGVuKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGxvYWRlZENodW5rcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGxvYWRQYXJ0KCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PlxuICAgICAgICAgICAgICB0aGlzLnN0b3BVcGxvYWQodXBsb2FkSWQpLnRoZW4oKCkgPT4gUHJvbWlzZS5yZWplY3QoZXJyb3IpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdXBsb2FkUGFydCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiBgJHt0aGlzLmJhc2VVUkx9LyR7dXBsb2FkSWR9YCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogdGhpcy51cFRva2VuLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgcGFydHMsXG4gICAgICAgICAgICAgIGZuYW1lOiB0aGlzLmZpbGUuYXR0cmlidXRlcy5uYW1lLFxuICAgICAgICAgICAgICBtaW1lVHlwZTogdGhpcy5maWxlLmF0dHJpYnV0ZXMubWltZV90eXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5maWxlLmF0dHJpYnV0ZXMudXJsID0gdGhpcy51cGxvYWRJbmZvLnVybDtcbiAgICAgICAgdGhpcy5maWxlLl9idWNrZXQgPSB0aGlzLnVwbG9hZEluZm8uYnVja2V0O1xuICAgICAgICB0aGlzLmZpbGUuaWQgPSB0aGlzLnVwbG9hZEluZm8ub2JqZWN0SWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbGU7XG4gICAgICB9KTtcbiAgfVxufVxuXG5jbGFzcyBCbG9iVXBsb2FkZXIgZXh0ZW5kcyBTaGFyZFVwbG9hZGVyIHtcbiAgY29uc3RydWN0b3IodXBsb2FkSW5mbywgZGF0YSwgZmlsZSwgc2F2ZU9wdGlvbnMpIHtcbiAgICBzdXBlcih1cGxvYWRJbmZvLCBkYXRhLCBmaWxlLCBzYXZlT3B0aW9ucyk7XG4gICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtCbG9iIHwgbnVsbH1cbiAgICovXG4gIGdldENodW5rKCkge1xuICAgIGlmICh0aGlzLm9mZnNldCA+PSB0aGlzLnNpemUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjaHVuayA9IHRoaXMuZGF0YS5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKyBDSFVOS19TSVpFKTtcbiAgICB0aGlzLm9mZnNldCArPSBjaHVuay5zaXplO1xuICAgIHJldHVybiBjaHVuaztcbiAgfVxufVxuXG5cblxuZnVuY3Rpb24gaXNCbG9iKGRhdGEpIHtcbiAgcmV0dXJuIHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhIGluc3RhbmNlb2YgQmxvYjtcbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXBsb2FkSW5mbywgZGF0YSwgZmlsZSwgc2F2ZU9wdGlvbnMgPSB7fSkge1xuICBpZiAoaXNCbG9iKGRhdGEpICYmIGRhdGEuc2l6ZSA+PSBTSEFSRF9USFJFU0hPTEQpIHtcbiAgICByZXR1cm4gbmV3IEJsb2JVcGxvYWRlcih1cGxvYWRJbmZvLCBkYXRhLCBmaWxlLCBzYXZlT3B0aW9ucykudXBsb2FkKCk7XG4gIH1cbiAgcmV0dXJuIHVwbG9hZCh1cGxvYWRJbmZvLCBkYXRhLCBmaWxlLCBzYXZlT3B0aW9ucyk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3VwbG9hZGVyL3Fpbml1LmpzIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuZnJvbScpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvcGF0aCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguQXJyYXkuZnJvbTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS9mcm9tLmpzXG4vLyBtb2R1bGUgaWQgPSA0NTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBmcm9tID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWZyb20nKTtcbnZhciBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2hlY2stY29ycmVjdG5lc3Mtb2YtaXRlcmF0aW9uJyk7XG5cbnZhciBJTkNPUlJFQ1RfSVRFUkFUSU9OID0gIWNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbihmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzLXgvbm8tYXJyYXktZnJvbSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBBcnJheS5mcm9tKGl0ZXJhYmxlKTtcbn0pO1xuXG4vLyBgQXJyYXkuZnJvbWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LmZyb21cbiQoeyB0YXJnZXQ6ICdBcnJheScsIHN0YXQ6IHRydWUsIGZvcmNlZDogSU5DT1JSRUNUX0lURVJBVElPTiB9LCB7XG4gIGZyb206IGZyb21cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qc1xuLy8gbW9kdWxlIGlkID0gNDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgY2FsbFdpdGhTYWZlSXRlcmF0aW9uQ2xvc2luZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jYWxsLXdpdGgtc2FmZS1pdGVyYXRpb24tY2xvc2luZycpO1xudmFyIGlzQXJyYXlJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1hcnJheS1pdGVyYXRvci1tZXRob2QnKTtcbnZhciBpc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNvbnN0cnVjdG9yJyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcbnZhciBnZXRJdGVyYXRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3InKTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbnZhciAkQXJyYXkgPSBBcnJheTtcblxuLy8gYEFycmF5LmZyb21gIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5mcm9tXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlIC8qICwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQgKi8pIHtcbiAgdmFyIE8gPSB0b09iamVjdChhcnJheUxpa2UpO1xuICB2YXIgSVNfQ09OU1RSVUNUT1IgPSBpc0NvbnN0cnVjdG9yKHRoaXMpO1xuICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIG1hcGZuID0gYXJndW1lbnRzTGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICBpZiAobWFwcGluZykgbWFwZm4gPSBiaW5kKG1hcGZuLCBhcmd1bWVudHNMZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkKTtcbiAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gZ2V0SXRlcmF0b3JNZXRob2QoTyk7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3IsIG5leHQsIHZhbHVlO1xuICAvLyBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSBvciBpdCdzIGFuIGFycmF5IHdpdGggdGhlIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2UgYSBzaW1wbGUgY2FzZVxuICBpZiAoaXRlcmF0b3JNZXRob2QgJiYgISh0aGlzID09PSAkQXJyYXkgJiYgaXNBcnJheUl0ZXJhdG9yTWV0aG9kKGl0ZXJhdG9yTWV0aG9kKSkpIHtcbiAgICBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKE8sIGl0ZXJhdG9yTWV0aG9kKTtcbiAgICBuZXh0ID0gaXRlcmF0b3IubmV4dDtcbiAgICByZXN1bHQgPSBJU19DT05TVFJVQ1RPUiA/IG5ldyB0aGlzKCkgOiBbXTtcbiAgICBmb3IgKDshKHN0ZXAgPSBjYWxsKG5leHQsIGl0ZXJhdG9yKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgdmFsdWUgPSBtYXBwaW5nID8gY2FsbFdpdGhTYWZlSXRlcmF0aW9uQ2xvc2luZyhpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTtcbiAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoTyk7XG4gICAgcmVzdWx0ID0gSVNfQ09OU1RSVUNUT1IgPyBuZXcgdGhpcyhsZW5ndGgpIDogJEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgIHZhbHVlID0gbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XTtcbiAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvYXJyYXktZnJvbS5qc1xuLy8gbW9kdWxlIGlkID0gNDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGl0ZXJhdG9yQ2xvc2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItY2xvc2UnKTtcblxuLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgRU5UUklFUykge1xuICB0cnkge1xuICAgIHJldHVybiBFTlRSSUVTID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ3Rocm93JywgZXJyb3IpO1xuICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9jYWxsLXdpdGgtc2FmZS1pdGVyYXRpb24tY2xvc2luZy5qc1xuLy8gbW9kdWxlIGlkID0gNDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9mdWxsL2dldC1pdGVyYXRvci1tZXRob2QnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mZWF0dXJlcy9nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4vLyBtb2R1bGUgaWQgPSA0NThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vYWN0dWFsL2dldC1pdGVyYXRvci1tZXRob2QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZnVsbC9nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4vLyBtb2R1bGUgaWQgPSA0NTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vc3RhYmxlL2dldC1pdGVyYXRvci1tZXRob2QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL2dldC1pdGVyYXRvci1tZXRob2QuanNcbi8vIG1vZHVsZSBpZCA9IDQ2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi9lcy9nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2dldC1pdGVyYXRvci1tZXRob2QuanNcbi8vIG1vZHVsZSBpZCA9IDQ2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yJyk7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEl0ZXJhdG9yTWV0aG9kO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2dldC1pdGVyYXRvci1tZXRob2QuanNcbi8vIG1vZHVsZSBpZCA9IDQ2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvcmVmbGVjdC9jb25zdHJ1Y3RcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9yZWZsZWN0L2NvbnN0cnVjdC5qc1xuLy8gbW9kdWxlIGlkID0gNDYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL3JlZmxlY3QvY29uc3RydWN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9yZWZsZWN0L2NvbnN0cnVjdC5qc1xuLy8gbW9kdWxlIGlkID0gNDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdCcpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvcGF0aCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguUmVmbGVjdC5jb25zdHJ1Y3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvcmVmbGVjdC9jb25zdHJ1Y3QuanNcbi8vIG1vZHVsZSBpZCA9IDQ2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgYXBwbHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHknKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBhQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jb25zdHJ1Y3RvcicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxudmFyIG5hdGl2ZUNvbnN0cnVjdCA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnY29uc3RydWN0Jyk7XG52YXIgT2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbnZhciBwdXNoID0gW10ucHVzaDtcblxuLy8gYFJlZmxlY3QuY29uc3RydWN0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVmbGVjdC5jb25zdHJ1Y3Rcbi8vIE1TIEVkZ2Ugc3VwcG9ydHMgb25seSAyIGFyZ3VtZW50cyBhbmQgYXJndW1lbnRzTGlzdCBhcmd1bWVudCBpcyBvcHRpb25hbFxuLy8gRkYgTmlnaHRseSBzZXRzIHRoaXJkIGFyZ3VtZW50IGFzIGBuZXcudGFyZ2V0YCwgYnV0IGRvZXMgbm90IGNyZWF0ZSBgdGhpc2AgZnJvbSBpdFxudmFyIE5FV19UQVJHRVRfQlVHID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGKCkgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiAhKG5hdGl2ZUNvbnN0cnVjdChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sIFtdLCBGKSBpbnN0YW5jZW9mIEYpO1xufSk7XG5cbnZhciBBUkdTX0JVRyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIG5hdGl2ZUNvbnN0cnVjdChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xufSk7XG5cbnZhciBGT1JDRUQgPSBORVdfVEFSR0VUX0JVRyB8fCBBUkdTX0JVRztcblxuJCh7IHRhcmdldDogJ1JlZmxlY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCwgc2hhbTogRk9SQ0VEIH0sIHtcbiAgY29uc3RydWN0OiBmdW5jdGlvbiBjb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzIC8qICwgbmV3VGFyZ2V0ICovKSB7XG4gICAgYUNvbnN0cnVjdG9yKFRhcmdldCk7XG4gICAgYW5PYmplY3QoYXJncyk7XG4gICAgdmFyIG5ld1RhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gVGFyZ2V0IDogYUNvbnN0cnVjdG9yKGFyZ3VtZW50c1syXSk7XG4gICAgaWYgKEFSR1NfQlVHICYmICFORVdfVEFSR0VUX0JVRykgcmV0dXJuIG5hdGl2ZUNvbnN0cnVjdChUYXJnZXQsIGFyZ3MsIG5ld1RhcmdldCk7XG4gICAgaWYgKFRhcmdldCA9PSBuZXdUYXJnZXQpIHtcbiAgICAgIC8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgb3B0aW1pemF0aW9uIGZvciAwLTQgYXJndW1lbnRzXG4gICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBUYXJnZXQoKTtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgIH1cbiAgICAgIC8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgbG90IG9mIGFyZ3VtZW50cyBjYXNlXG4gICAgICB2YXIgJGFyZ3MgPSBbbnVsbF07XG4gICAgICBhcHBseShwdXNoLCAkYXJncywgYXJncyk7XG4gICAgICByZXR1cm4gbmV3IChhcHBseShiaW5kLCBUYXJnZXQsICRhcmdzKSkoKTtcbiAgICB9XG4gICAgLy8gd2l0aCBhbHRlcmVkIG5ld1RhcmdldCwgbm90IHN1cHBvcnQgYnVpbHQtaW4gY29uc3RydWN0b3JzXG4gICAgdmFyIHByb3RvID0gbmV3VGFyZ2V0LnByb3RvdHlwZTtcbiAgICB2YXIgaW5zdGFuY2UgPSBjcmVhdGUoaXNPYmplY3QocHJvdG8pID8gcHJvdG8gOiBPYmplY3RQcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBhcHBseShUYXJnZXQsIGluc3RhbmNlLCBhcmdzKTtcbiAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IGluc3RhbmNlO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnJlZmxlY3QuY29uc3RydWN0LmpzXG4vLyBtb2R1bGUgaWQgPSA0NjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiKTtcblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBfT2JqZWN0JGNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuXG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2luaGVyaXRzLmpzXG4vLyBtb2R1bGUgaWQgPSA0Njdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvZmVhdHVyZXMvb2JqZWN0L2NyZWF0ZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNDY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9mdWxsL29iamVjdC9jcmVhdGUnKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mZWF0dXJlcy9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA0Njlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vYWN0dWFsL29iamVjdC9jcmVhdGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZnVsbC9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vc3RhYmxlL29iamVjdC9jcmVhdGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL29iamVjdC9jcmVhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDQ3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9vYmplY3QvY3JlYXRlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLm9iamVjdC5jcmVhdGUnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL3BhdGgnKTtcblxudmFyIE9iamVjdCA9IHBhdGguT2JqZWN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKSB7XG4gIHJldHVybiBPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9vYmplY3QvY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xuXG4vLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICBjcmVhdGU6IGNyZWF0ZVxufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvbW9kdWxlcy9lcy5vYmplY3QuY3JlYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL2Z1bGwvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IDQ3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9hY3R1YWwvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbi8vIG1vZHVsZSBpZCA9IDQ3NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9zdGFibGUvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuLy8gbW9kdWxlIGlkID0gNDc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX2JpbmRJbnN0YW5jZVByb3BlcnR5ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9pbnN0YW5jZS9iaW5kXCIpO1xuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICB2YXIgX2NvbnRleHQ7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBfT2JqZWN0JHNldFByb3RvdHlwZU9mID8gX2JpbmRJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0ID0gX09iamVjdCRzZXRQcm90b3R5cGVPZikuY2FsbChfY29udGV4dCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qc1xuLy8gbW9kdWxlIGlkID0gNDc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9mdWxsL29iamVjdC9zZXQtcHJvdG90eXBlLW9mJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDQ3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9hY3R1YWwvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZnVsbC9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qc1xuLy8gbW9kdWxlIGlkID0gNDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL3N0YWJsZS9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDQ4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vZnVsbC9pbnN0YW5jZS9iaW5kJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvaW5zdGFuY2UvYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gNDgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2FjdHVhbC9pbnN0YW5jZS9iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2Z1bGwvaW5zdGFuY2UvYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gNDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL3N0YWJsZS9pbnN0YW5jZS9iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2FjdHVhbC9pbnN0YW5jZS9iaW5kLmpzXG4vLyBtb2R1bGUgaWQgPSA0ODRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vZXMvaW5zdGFuY2UvYmluZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gNDg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIG1ldGhvZCA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9uL3ZpcnR1YWwvYmluZCcpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5iaW5kO1xuICByZXR1cm4gaXQgPT09IEZ1bmN0aW9uUHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mKEZ1bmN0aW9uUHJvdG90eXBlLCBpdCkgJiYgb3duID09PSBGdW5jdGlvblByb3RvdHlwZS5iaW5kKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvYmluZC5qc1xuLy8gbW9kdWxlIGlkID0gNDg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vLi4vbW9kdWxlcy9lcy5mdW5jdGlvbi5iaW5kJyk7XG52YXIgZW50cnlWaXJ0dWFsID0gcmVxdWlyZSgnLi4vLi4vLi4vaW50ZXJuYWxzL2VudHJ5LXZpcnR1YWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0Z1bmN0aW9uJykuYmluZDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9mdW5jdGlvbi92aXJ0dWFsL2JpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDQ4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgXG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQnKTtcblxuLy8gYEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiQoeyB0YXJnZXQ6ICdGdW5jdGlvbicsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZ1bmN0aW9uLmJpbmQgIT09IGJpbmQgfSwge1xuICBiaW5kOiBiaW5kXG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmZ1bmN0aW9uLmJpbmQuanNcbi8vIG1vZHVsZSBpZCA9IDQ4OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4vdHlwZW9mLmpzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIGFzc2VydFRoaXNJbml0aWFsaXplZCA9IHJlcXVpcmUoXCIuL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qc1wiKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qc1xuLy8gbW9kdWxlIGlkID0gNDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qc1xuLy8gbW9kdWxlIGlkID0gNDkwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX2JpbmRJbnN0YW5jZVByb3BlcnR5ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9pbnN0YW5jZS9iaW5kXCIpO1xuXG52YXIgX09iamVjdCRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIik7XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIHZhciBfY29udGV4dDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZiA9IF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfYmluZEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQgPSBfT2JqZWN0JGdldFByb3RvdHlwZU9mKS5jYWxsKF9jb250ZXh0KSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YsIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YuanNcbi8vIG1vZHVsZSBpZCA9IDQ5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9mZWF0dXJlcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDQ5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vZnVsbC9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZicpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA0OTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vYWN0dWFsL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2Z1bGwvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbi8vIG1vZHVsZSBpZCA9IDQ5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9zdGFibGUvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvYWN0dWFsL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4vLyBtb2R1bGUgaWQgPSA0OTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjaywgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qc1xuLy8gbW9kdWxlIGlkID0gNDk2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXG4gICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cbiAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcblxuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NyZWF0ZUNsYXNzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzXG4vLyBtb2R1bGUgaWQgPSA0OTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBiYXNlNjQgY2hhcmFjdGVyIHNldCwgcGx1cyBwYWRkaW5nIGNoYXJhY3RlciAoPSlcbmNvbnN0IGI2NCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaW5nID0+IHtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKSB7XG4gICAgY29uc3QgYSA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XG4gICAgY29uc3QgYiA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XG4gICAgY29uc3QgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XG4gICAgaWYgKGEgPiAyNTUgfHwgYiA+IDI1NSB8fCBjID4gMjU1KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnRmFpbGVkIHRvIGVuY29kZSBiYXNlNjQ6IFRoZSBzdHJpbmcgdG8gYmUgZW5jb2RlZCBjb250YWlucyBjaGFyYWN0ZXJzIG91dHNpZGUgb2YgdGhlIExhdGluMSByYW5nZS4nXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGJpdG1hcCA9IChhIDw8IDE2KSB8IChiIDw8IDgpIHwgYztcbiAgICByZXN1bHQgKz1cbiAgICAgIGI2NC5jaGFyQXQoKGJpdG1hcCA+PiAxOCkgJiA2MykgK1xuICAgICAgYjY0LmNoYXJBdCgoYml0bWFwID4+IDEyKSAmIDYzKSArXG4gICAgICBiNjQuY2hhckF0KChiaXRtYXAgPj4gNikgJiA2MykgK1xuICAgICAgYjY0LmNoYXJBdChiaXRtYXAgJiA2Myk7XG4gIH1cblxuICAvLyBUbyBkZXRlcm1pbmUgdGhlIGZpbmFsIHBhZGRpbmdcbiAgY29uc3QgcmVzdCA9IHN0cmluZy5sZW5ndGggJSAzO1xuICAvLyBJZiB0aGVyZSdzIG5lZWQgb2YgcGFkZGluZywgcmVwbGFjZSB0aGUgbGFzdCAnQSdzIHdpdGggZXF1YWwgc2lnbnNcbiAgcmV0dXJuIHJlc3QgPyByZXN1bHQuc2xpY2UoMCwgcmVzdCAtIDMpICsgJz09PScuc3Vic3RyaW5nKHJlc3QpIDogcmVzdWx0O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9idG9hLmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IGFqYXggPSByZXF1aXJlKCcuLi91dGlscy9hamF4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdXBsb2FkKHVwbG9hZEluZm8sIGRhdGEsIGZpbGUsIHNhdmVPcHRpb25zID0ge30pIHtcblxuICByZXR1cm4gYWpheCh7XG4gICAgdXJsOiB1cGxvYWRJbmZvLnVwbG9hZF91cmwsXG4gICAgbWV0aG9kOiAnUFVUJyxcbiAgICBkYXRhLFxuICAgIGhlYWRlcnM6IF8uZXh0ZW5kKFxuICAgICAge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogZmlsZS5nZXQoJ21pbWVfdHlwZScpLFxuICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICdwdWJsaWMsIG1heC1hZ2U9MzE1MzYwMDAnLFxuICAgICAgfSxcbiAgICAgIGZpbGUuX3VwbG9hZEhlYWRlcnNcbiAgICApLFxuICAgIG9ucHJvZ3Jlc3M6IHNhdmVPcHRpb25zLm9ucHJvZ3Jlc3MsXG4gIH0pLnRoZW4oKCkgPT4ge1xuICAgIGZpbGUuYXR0cmlidXRlcy51cmwgPSB1cGxvYWRJbmZvLnVybDtcbiAgICBmaWxlLl9idWNrZXQgPSB1cGxvYWRJbmZvLmJ1Y2tldDtcbiAgICBmaWxlLmlkID0gdXBsb2FkSW5mby5vYmplY3RJZDtcbiAgICByZXR1cm4gZmlsZTtcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3VwbG9hZGVyL3MzLmpzIiwiKGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGNyeXB0ID0gcmVxdWlyZSgnY3J5cHQnKSxcclxuICAgICAgdXRmOCA9IHJlcXVpcmUoJ2NoYXJlbmMnKS51dGY4LFxyXG4gICAgICBpc0J1ZmZlciA9IHJlcXVpcmUoJ2lzLWJ1ZmZlcicpLFxyXG4gICAgICBiaW4gPSByZXF1aXJlKCdjaGFyZW5jJykuYmluLFxyXG5cclxuICAvLyBUaGUgY29yZVxyXG4gIG1kNSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XHJcbiAgICAvLyBDb252ZXJ0IHRvIGJ5dGUgYXJyYXlcclxuICAgIGlmIChtZXNzYWdlLmNvbnN0cnVjdG9yID09IFN0cmluZylcclxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGluZyA9PT0gJ2JpbmFyeScpXHJcbiAgICAgICAgbWVzc2FnZSA9IGJpbi5zdHJpbmdUb0J5dGVzKG1lc3NhZ2UpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgbWVzc2FnZSA9IHV0Zjguc3RyaW5nVG9CeXRlcyhtZXNzYWdlKTtcclxuICAgIGVsc2UgaWYgKGlzQnVmZmVyKG1lc3NhZ2UpKVxyXG4gICAgICBtZXNzYWdlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobWVzc2FnZSwgMCk7XHJcbiAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlKSlcclxuICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UudG9TdHJpbmcoKTtcclxuICAgIC8vIGVsc2UsIGFzc3VtZSBieXRlIGFycmF5IGFscmVhZHlcclxuXHJcbiAgICB2YXIgbSA9IGNyeXB0LmJ5dGVzVG9Xb3JkcyhtZXNzYWdlKSxcclxuICAgICAgICBsID0gbWVzc2FnZS5sZW5ndGggKiA4LFxyXG4gICAgICAgIGEgPSAgMTczMjU4NDE5MyxcclxuICAgICAgICBiID0gLTI3MTczMzg3OSxcclxuICAgICAgICBjID0gLTE3MzI1ODQxOTQsXHJcbiAgICAgICAgZCA9ICAyNzE3MzM4Nzg7XHJcblxyXG4gICAgLy8gU3dhcCBlbmRpYW5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBtW2ldID0gKChtW2ldIDw8ICA4KSB8IChtW2ldID4+PiAyNCkpICYgMHgwMEZGMDBGRiB8XHJcbiAgICAgICAgICAgICAoKG1baV0gPDwgMjQpIHwgKG1baV0gPj4+ICA4KSkgJiAweEZGMDBGRjAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhZGRpbmdcclxuICAgIG1bbCA+Pj4gNV0gfD0gMHg4MCA8PCAobCAlIDMyKTtcclxuICAgIG1bKCgobCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNF0gPSBsO1xyXG5cclxuICAgIC8vIE1ldGhvZCBzaG9ydGN1dHNcclxuICAgIHZhciBGRiA9IG1kNS5fZmYsXHJcbiAgICAgICAgR0cgPSBtZDUuX2dnLFxyXG4gICAgICAgIEhIID0gbWQ1Ll9oaCxcclxuICAgICAgICBJSSA9IG1kNS5faWk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtLmxlbmd0aDsgaSArPSAxNikge1xyXG5cclxuICAgICAgdmFyIGFhID0gYSxcclxuICAgICAgICAgIGJiID0gYixcclxuICAgICAgICAgIGNjID0gYyxcclxuICAgICAgICAgIGRkID0gZDtcclxuXHJcbiAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBtW2krIDBdLCAgNywgLTY4MDg3NjkzNik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krIDFdLCAxMiwgLTM4OTU2NDU4Nik7XHJcbiAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBtW2krIDJdLCAxNywgIDYwNjEwNTgxOSk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKyA0XSwgIDcsIC0xNzY0MTg4OTcpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyA1XSwgMTIsICAxMjAwMDgwNDI2KTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krIDddLCAyMiwgLTQ1NzA1OTgzKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsgOF0sICA3LCAgMTc3MDAzNTQxNik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKzEwXSwgMTcsIC00MjA2Myk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKzEyXSwgIDcsICAxODA0NjAzNjgyKTtcclxuICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIG1baSsxM10sIDEyLCAtNDAzNDExMDEpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKzE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcclxuICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIG1baSsxNV0sIDIyLCAgMTIzNjUzNTMyOSk7XHJcblxyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKyAxXSwgIDUsIC0xNjU3OTY1MTApO1xyXG4gICAgICBkID0gR0coZCwgYSwgYiwgYywgbVtpKyA2XSwgIDksIC0xMDY5NTAxNjMyKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsxMV0sIDE0LCAgNjQzNzE3NzEzKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgMF0sIDIwLCAtMzczODk3MzAyKTtcclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgNV0sICA1LCAtNzAxNTU4NjkxKTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsxMF0sICA5LCAgMzgwMTYwODMpO1xyXG4gICAgICBjID0gR0coYywgZCwgYSwgYiwgbVtpKzE1XSwgMTQsIC02NjA0NzgzMzUpO1xyXG4gICAgICBiID0gR0coYiwgYywgZCwgYSwgbVtpKyA0XSwgMjAsIC00MDU1Mzc4NDgpO1xyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKyA5XSwgIDUsICA1Njg0NDY0MzgpO1xyXG4gICAgICBkID0gR0coZCwgYSwgYiwgYywgbVtpKzE0XSwgIDksIC0xMDE5ODAzNjkwKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsgM10sIDE0LCAtMTg3MzYzOTYxKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgOF0sIDIwLCAgMTE2MzUzMTUwMSk7XHJcbiAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBtW2krMTNdLCAgNSwgLTE0NDQ2ODE0NjcpO1xyXG4gICAgICBkID0gR0coZCwgYSwgYiwgYywgbVtpKyAyXSwgIDksIC01MTQwMzc4NCk7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krIDddLCAxNCwgIDE3MzUzMjg0NzMpO1xyXG4gICAgICBiID0gR0coYiwgYywgZCwgYSwgbVtpKzEyXSwgMjAsIC0xOTI2NjA3NzM0KTtcclxuXHJcbiAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBtW2krIDVdLCAgNCwgLTM3ODU1OCk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krIDhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKzExXSwgMTYsICAxODM5MDMwNTYyKTtcclxuICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIG1baSsxNF0sIDIzLCAtMzUzMDk1NTYpO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyAxXSwgIDQsIC0xNTMwOTkyMDYwKTtcclxuICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIG1baSsgNF0sIDExLCAgMTI3Mjg5MzM1Myk7XHJcbiAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBtW2krIDddLCAxNiwgLTE1NTQ5NzYzMik7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krMTBdLCAyMywgLTEwOTQ3MzA2NDApO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKzEzXSwgIDQsICA2ODEyNzkxNzQpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKyAwXSwgMTEsIC0zNTg1MzcyMjIpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKyA2XSwgMjMsICA3NjAyOTE4OSk7XHJcbiAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBtW2krIDldLCAgNCwgLTY0MDM2NDQ4Nyk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krMTJdLCAxMSwgLTQyMTgxNTgzNSk7XHJcbiAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBtW2krMTVdLCAxNiwgIDUzMDc0MjUyMCk7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krIDJdLCAyMywgLTk5NTMzODY1MSk7XHJcblxyXG4gICAgICBhID0gSUkoYSwgYiwgYywgZCwgbVtpKyAwXSwgIDYsIC0xOTg2MzA4NDQpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKyA3XSwgMTAsICAxMTI2ODkxNDE1KTtcclxuICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIG1baSsxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDVdLCAyMSwgLTU3NDM0MDU1KTtcclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsxMl0sICA2LCAgMTcwMDQ4NTU3MSk7XHJcbiAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBtW2krIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKzEwXSwgMTUsIC0xMDUxNTIzKTtcclxuICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIG1baSsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krIDhdLCAgNiwgIDE4NzMzMTMzNTkpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKzE1XSwgMTAsIC0zMDYxMTc0NCk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krIDZdLCAxNSwgLTE1NjAxOTgzODApO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKzEzXSwgMjEsICAxMzA5MTUxNjQ5KTtcclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsgNF0sICA2LCAtMTQ1NTIzMDcwKTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krIDJdLCAxNSwgIDcxODc4NzI1OSk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDldLCAyMSwgLTM0MzQ4NTU1MSk7XHJcblxyXG4gICAgICBhID0gKGEgKyBhYSkgPj4+IDA7XHJcbiAgICAgIGIgPSAoYiArIGJiKSA+Pj4gMDtcclxuICAgICAgYyA9IChjICsgY2MpID4+PiAwO1xyXG4gICAgICBkID0gKGQgKyBkZCkgPj4+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNyeXB0LmVuZGlhbihbYSwgYiwgYywgZF0pO1xyXG4gIH07XHJcblxyXG4gIC8vIEF1eGlsaWFyeSBmdW5jdGlvbnNcclxuICBtZDUuX2ZmICA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICB2YXIgbiA9IGEgKyAoYiAmIGMgfCB+YiAmIGQpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuICBtZDUuX2dnICA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICB2YXIgbiA9IGEgKyAoYiAmIGQgfCBjICYgfmQpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuICBtZDUuX2hoICA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICB2YXIgbiA9IGEgKyAoYiBeIGMgXiBkKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9paSAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGMgXiAoYiB8IH5kKSkgKyAoeCA+Pj4gMCkgKyB0O1xyXG4gICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcclxuICB9O1xyXG5cclxuICAvLyBQYWNrYWdlIHByaXZhdGUgYmxvY2tzaXplXHJcbiAgbWQ1Ll9ibG9ja3NpemUgPSAxNjtcclxuICBtZDUuX2RpZ2VzdHNpemUgPSAxNjtcclxuXHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgaWYgKG1lc3NhZ2UgPT09IHVuZGVmaW5lZCB8fCBtZXNzYWdlID09PSBudWxsKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgYXJndW1lbnQgJyArIG1lc3NhZ2UpO1xyXG5cclxuICAgIHZhciBkaWdlc3RieXRlcyA9IGNyeXB0LndvcmRzVG9CeXRlcyhtZDUobWVzc2FnZSwgb3B0aW9ucykpO1xyXG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9ucy5hc0J5dGVzID8gZGlnZXN0Ynl0ZXMgOlxyXG4gICAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5hc1N0cmluZyA/IGJpbi5ieXRlc1RvU3RyaW5nKGRpZ2VzdGJ5dGVzKSA6XHJcbiAgICAgICAgY3J5cHQuYnl0ZXNUb0hleChkaWdlc3RieXRlcyk7XHJcbiAgfTtcclxuXHJcbn0pKCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL21kNS9tZDUuanNcbi8vIG1vZHVsZSBpZCA9IDUwMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIihmdW5jdGlvbigpIHtcbiAgdmFyIGJhc2U2NG1hcFxuICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycsXG5cbiAgY3J5cHQgPSB7XG4gICAgLy8gQml0LXdpc2Ugcm90YXRpb24gbGVmdFxuICAgIHJvdGw6IGZ1bmN0aW9uKG4sIGIpIHtcbiAgICAgIHJldHVybiAobiA8PCBiKSB8IChuID4+PiAoMzIgLSBiKSk7XG4gICAgfSxcblxuICAgIC8vIEJpdC13aXNlIHJvdGF0aW9uIHJpZ2h0XG4gICAgcm90cjogZnVuY3Rpb24obiwgYikge1xuICAgICAgcmV0dXJuIChuIDw8ICgzMiAtIGIpKSB8IChuID4+PiBiKTtcbiAgICB9LFxuXG4gICAgLy8gU3dhcCBiaWctZW5kaWFuIHRvIGxpdHRsZS1lbmRpYW4gYW5kIHZpY2UgdmVyc2FcbiAgICBlbmRpYW46IGZ1bmN0aW9uKG4pIHtcbiAgICAgIC8vIElmIG51bWJlciBnaXZlbiwgc3dhcCBlbmRpYW5cbiAgICAgIGlmIChuLmNvbnN0cnVjdG9yID09IE51bWJlcikge1xuICAgICAgICByZXR1cm4gY3J5cHQucm90bChuLCA4KSAmIDB4MDBGRjAwRkYgfCBjcnlwdC5yb3RsKG4sIDI0KSAmIDB4RkYwMEZGMDA7XG4gICAgICB9XG5cbiAgICAgIC8vIEVsc2UsIGFzc3VtZSBhcnJheSBhbmQgc3dhcCBhbGwgaXRlbXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKylcbiAgICAgICAgbltpXSA9IGNyeXB0LmVuZGlhbihuW2ldKTtcbiAgICAgIHJldHVybiBuO1xuICAgIH0sXG5cbiAgICAvLyBHZW5lcmF0ZSBhbiBhcnJheSBvZiBhbnkgbGVuZ3RoIG9mIHJhbmRvbSBieXRlc1xuICAgIHJhbmRvbUJ5dGVzOiBmdW5jdGlvbihuKSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdOyBuID4gMDsgbi0tKVxuICAgICAgICBieXRlcy5wdXNoKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NikpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBiaWctZW5kaWFuIDMyLWJpdCB3b3Jkc1xuICAgIGJ5dGVzVG9Xb3JkczogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIHdvcmRzID0gW10sIGkgPSAwLCBiID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrLCBiICs9IDgpXG4gICAgICAgIHdvcmRzW2IgPj4+IDVdIHw9IGJ5dGVzW2ldIDw8ICgyNCAtIGIgJSAzMik7XG4gICAgICByZXR1cm4gd29yZHM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYmlnLWVuZGlhbiAzMi1iaXQgd29yZHMgdG8gYSBieXRlIGFycmF5XG4gICAgd29yZHNUb0J5dGVzOiBmdW5jdGlvbih3b3Jkcykge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgYiA9IDA7IGIgPCB3b3Jkcy5sZW5ndGggKiAzMjsgYiArPSA4KVxuICAgICAgICBieXRlcy5wdXNoKCh3b3Jkc1tiID4+PiA1XSA+Pj4gKDI0IC0gYiAlIDMyKSkgJiAweEZGKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBoZXggc3RyaW5nXG4gICAgYnl0ZXNUb0hleDogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIGhleCA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhleC5wdXNoKChieXRlc1tpXSA+Pj4gNCkudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgaGV4LnB1c2goKGJ5dGVzW2ldICYgMHhGKS50b1N0cmluZygxNikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhleC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGhleCBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgaGV4VG9CeXRlczogZnVuY3Rpb24oaGV4KSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBjID0gMDsgYyA8IGhleC5sZW5ndGg7IGMgKz0gMilcbiAgICAgICAgYnl0ZXMucHVzaChwYXJzZUludChoZXguc3Vic3RyKGMsIDIpLCAxNikpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIGJhc2UtNjQgc3RyaW5nXG4gICAgYnl0ZXNUb0Jhc2U2NDogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIGJhc2U2NCA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciB0cmlwbGV0ID0gKGJ5dGVzW2ldIDw8IDE2KSB8IChieXRlc1tpICsgMV0gPDwgOCkgfCBieXRlc1tpICsgMl07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgaisrKVxuICAgICAgICAgIGlmIChpICogOCArIGogKiA2IDw9IGJ5dGVzLmxlbmd0aCAqIDgpXG4gICAgICAgICAgICBiYXNlNjQucHVzaChiYXNlNjRtYXAuY2hhckF0KCh0cmlwbGV0ID4+PiA2ICogKDMgLSBqKSkgJiAweDNGKSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYmFzZTY0LnB1c2goJz0nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlNjQuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBiYXNlLTY0IHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBiYXNlNjRUb0J5dGVzOiBmdW5jdGlvbihiYXNlNjQpIHtcbiAgICAgIC8vIFJlbW92ZSBub24tYmFzZS02NCBjaGFyYWN0ZXJzXG4gICAgICBiYXNlNjQgPSBiYXNlNjQucmVwbGFjZSgvW15BLVowLTkrXFwvXS9pZywgJycpO1xuXG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBpID0gMCwgaW1vZDQgPSAwOyBpIDwgYmFzZTY0Lmxlbmd0aDtcbiAgICAgICAgICBpbW9kNCA9ICsraSAlIDQpIHtcbiAgICAgICAgaWYgKGltb2Q0ID09IDApIGNvbnRpbnVlO1xuICAgICAgICBieXRlcy5wdXNoKCgoYmFzZTY0bWFwLmluZGV4T2YoYmFzZTY0LmNoYXJBdChpIC0gMSkpXG4gICAgICAgICAgICAmIChNYXRoLnBvdygyLCAtMiAqIGltb2Q0ICsgOCkgLSAxKSkgPDwgKGltb2Q0ICogMikpXG4gICAgICAgICAgICB8IChiYXNlNjRtYXAuaW5kZXhPZihiYXNlNjQuY2hhckF0KGkpKSA+Pj4gKDYgLSBpbW9kNCAqIDIpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzID0gY3J5cHQ7XG59KSgpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3J5cHQvY3J5cHQuanNcbi8vIG1vZHVsZSBpZCA9IDUwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8qIVxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIEJ1ZmZlclxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxuLy8gVGhlIF9pc0J1ZmZlciBjaGVjayBpcyBmb3IgU2FmYXJpIDUtNyBzdXBwb3J0LCBiZWNhdXNlIGl0J3MgbWlzc2luZ1xuLy8gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiAoaXNCdWZmZXIob2JqKSB8fCBpc1Nsb3dCdWZmZXIob2JqKSB8fCAhIW9iai5faXNCdWZmZXIpXG59XG5cbmZ1bmN0aW9uIGlzQnVmZmVyIChvYmopIHtcbiAgcmV0dXJuICEhb2JqLmNvbnN0cnVjdG9yICYmIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuLy8gRm9yIE5vZGUgdjAuMTAgc3VwcG9ydC4gUmVtb3ZlIHRoaXMgZXZlbnR1YWxseS5cbmZ1bmN0aW9uIGlzU2xvd0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqLnJlYWRGbG9hdExFID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc2xpY2UgPT09ICdmdW5jdGlvbicgJiYgaXNCdWZmZXIob2JqLnNsaWNlKDAsIDApKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgZGF0YVVSSXRvQmxvYiA9IGZ1bmN0aW9uKGRhdGFVUkksIHR5cGUpIHtcbiAgdmFyIGJ5dGVTdHJpbmc7XG5cbiAgLy8g5Lyg5YWl55qEIGJhc2U2NO+8jOS4jeaYryBkYXRhVVJMXG4gIGlmIChkYXRhVVJJLmluZGV4T2YoJ2Jhc2U2NCcpIDwgMCkge1xuICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUkkpO1xuICB9IGVsc2UgaWYgKGRhdGFVUkkuc3BsaXQoJywnKVswXS5pbmRleE9mKCdiYXNlNjQnKSA+PSAwKSB7XG4gICAgdHlwZSA9XG4gICAgICB0eXBlIHx8XG4gICAgICBkYXRhVVJJXG4gICAgICAgIC5zcGxpdCgnLCcpWzBdXG4gICAgICAgIC5zcGxpdCgnOicpWzFdXG4gICAgICAgIC5zcGxpdCgnOycpWzBdO1xuICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7XG4gIH0gZWxzZSB7XG4gICAgYnl0ZVN0cmluZyA9IHVuZXNjYXBlKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7XG4gIH1cbiAgdmFyIGlhID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICBpYVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gbmV3IEJsb2IoW2lhXSwgeyB0eXBlIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYXRhVVJJdG9CbG9iO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3BhcnNlLWJhc2U2NC1icm93c2VyLmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEFWRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9yJyk7XG5jb25zdCB7IF9yZXF1ZXN0IH0gPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcbmNvbnN0IHtcbiAgaXNOdWxsT3JVbmRlZmluZWQsXG4gIGVuc3VyZUFycmF5LFxuICB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMsXG4gIHNldFZhbHVlLFxuICBmaW5kVmFsdWUsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGNvbnRpbnVlV2hpbGUsXG59ID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5jb25zdCByZWN1cnNpdmVUb1BvaW50ZXIgPSB2YWx1ZSA9PiB7XG4gIGlmIChfLmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUubWFwKHJlY3Vyc2l2ZVRvUG9pbnRlcik7XG4gIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkgcmV0dXJuIF8ubWFwT2JqZWN0KHZhbHVlLCByZWN1cnNpdmVUb1BvaW50ZXIpO1xuICBpZiAoXy5pc09iamVjdCh2YWx1ZSkgJiYgdmFsdWUuX3RvUG9pbnRlcikgcmV0dXJuIHZhbHVlLl90b1BvaW50ZXIoKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuY29uc3QgUkVTRVJWRURfS0VZUyA9IFsnb2JqZWN0SWQnLCAnY3JlYXRlZEF0JywgJ3VwZGF0ZWRBdCddO1xuY29uc3QgY2hlY2tSZXNlcnZlZEtleSA9IGtleSA9PiB7XG4gIGlmIChSRVNFUlZFRF9LRVlTLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYGtleVske2tleX1dIGlzIHJlc2VydmVkYCk7XG4gIH1cbn07XG5cbmNvbnN0IGhhbmRsZUJhdGNoUmVzdWx0cyA9IHJlc3VsdHMgPT4ge1xuICBjb25zdCBmaXJzdEVycm9yID0gXy5maW5kKHJlc3VsdHMsIHJlc3VsdCA9PiByZXN1bHQgaW5zdGFuY2VvZiBFcnJvcik7XG4gIGlmICghZmlyc3RFcnJvcikge1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG4gIGNvbnN0IGVycm9yID0gbmV3IEFWRXJyb3IoZmlyc3RFcnJvci5jb2RlLCBmaXJzdEVycm9yLm1lc3NhZ2UpO1xuICBlcnJvci5yZXN1bHRzID0gcmVzdWx0cztcbiAgdGhyb3cgZXJyb3I7XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGEgdmFsdWUgZnJvbSBhIEJhY2tib25lIG9iamVjdCBhcyBhIHByb3BlcnR5XG4vLyBvciBhcyBhIGZ1bmN0aW9uLlxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBwcm9wKSB7XG4gIGlmICghKG9iamVjdCAmJiBvYmplY3RbcHJvcF0pKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIF8uaXNGdW5jdGlvbihvYmplY3RbcHJvcF0pID8gb2JqZWN0W3Byb3BdKCkgOiBvYmplY3RbcHJvcF07XG59XG5cbi8vIEFWLk9iamVjdCBpcyBhbmFsb2dvdXMgdG8gdGhlIEphdmEgQVZPYmplY3QuXG4vLyBJdCBhbHNvIGltcGxlbWVudHMgdGhlIHNhbWUgaW50ZXJmYWNlIGFzIGEgQmFja2JvbmUgbW9kZWwuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgbW9kZWwgd2l0aCBkZWZpbmVkIGF0dHJpYnV0ZXMuIEEgY2xpZW50IGlkIChjaWQpIGlzXG4gICAqIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGFuZCBhc3NpZ25lZCBmb3IgeW91LlxuICAgKlxuICAgKiA8cD5Zb3Ugd29uJ3Qgbm9ybWFsbHkgY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseS4gIEl0IGlzIHJlY29tbWVuZGVkIHRoYXRcbiAgICogeW91IHVzZSBhIHN1YmNsYXNzIG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT4gaW5zdGVhZCwgY3JlYXRlZCBieSBjYWxsaW5nXG4gICAqIDxjb2RlPmV4dGVuZDwvY29kZT4uPC9wPlxuICAgKlxuICAgKiA8cD5Ib3dldmVyLCBpZiB5b3UgZG9uJ3Qgd2FudCB0byB1c2UgYSBzdWJjbGFzcywgb3IgYXJlbid0IHN1cmUgd2hpY2hcbiAgICogc3ViY2xhc3MgaXMgYXBwcm9wcmlhdGUsIHlvdSBjYW4gdXNlIHRoaXMgZm9ybTo8cHJlPlxuICAgKiAgICAgdmFyIG9iamVjdCA9IG5ldyBBVi5PYmplY3QoXCJDbGFzc05hbWVcIik7XG4gICAqIDwvcHJlPlxuICAgKiBUaGF0IGlzIGJhc2ljYWxseSBlcXVpdmFsZW50IHRvOjxwcmU+XG4gICAqICAgICB2YXIgTXlDbGFzcyA9IEFWLk9iamVjdC5leHRlbmQoXCJDbGFzc05hbWVcIik7XG4gICAqICAgICB2YXIgb2JqZWN0ID0gbmV3IE15Q2xhc3MoKTtcbiAgICogPC9wcmU+PC9wPlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBUaGUgaW5pdGlhbCBzZXQgb2YgZGF0YSB0byBzdG9yZSBpbiB0aGUgb2JqZWN0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIHNldCBvZiBCYWNrYm9uZS1saWtlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZVxuICAgKiAgICAgb2JqZWN0LiAgVGhlIG9ubHkgb3B0aW9uIGN1cnJlbnRseSBzdXBwb3J0ZWQgaXMgXCJjb2xsZWN0aW9uXCIuXG4gICAqIEBzZWUgQVYuT2JqZWN0LmV4dGVuZFxuICAgKlxuICAgKiBAY2xhc3NcbiAgICpcbiAgICogPHA+VGhlIGZ1bmRhbWVudGFsIHVuaXQgb2YgQVYgZGF0YSwgd2hpY2ggaW1wbGVtZW50cyB0aGUgQmFja2JvbmUgTW9kZWxcbiAgICogaW50ZXJmYWNlLjwvcD5cbiAgICovXG4gIEFWLk9iamVjdCA9IGZ1bmN0aW9uKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICAvLyBBbGxvdyBuZXcgQVYuT2JqZWN0KFwiQ2xhc3NOYW1lXCIpIGFzIGEgc2hvcnRjdXQgdG8gX2NyZWF0ZS5cbiAgICBpZiAoXy5pc1N0cmluZyhhdHRyaWJ1dGVzKSkge1xuICAgICAgcmV0dXJuIEFWLk9iamVjdC5fY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgfHwge307XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wYXJzZSkge1xuICAgICAgYXR0cmlidXRlcyA9IHRoaXMucGFyc2UoYXR0cmlidXRlcyk7XG4gICAgICBhdHRyaWJ1dGVzID0gdGhpcy5fbWVyZ2VNYWdpY0ZpZWxkcyhhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgdmFyIGRlZmF1bHRzID0gZ2V0VmFsdWUodGhpcywgJ2RlZmF1bHRzJyk7XG4gICAgaWYgKGRlZmF1bHRzKSB7XG4gICAgICBhdHRyaWJ1dGVzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb2xsZWN0aW9uKSB7XG4gICAgICB0aGlzLmNvbGxlY3Rpb24gPSBvcHRpb25zLmNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmVyRGF0YSA9IHt9OyAvLyBUaGUgbGFzdCBrbm93biBkYXRhIGZvciB0aGlzIG9iamVjdCBmcm9tIGNsb3VkLlxuICAgIHRoaXMuX29wU2V0UXVldWUgPSBbe31dOyAvLyBMaXN0IG9mIHNldHMgb2YgY2hhbmdlcyB0byB0aGUgZGF0YS5cbiAgICB0aGlzLl9mbGFncyA9IHt9O1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9OyAvLyBUaGUgYmVzdCBlc3RpbWF0ZSBvZiB0aGlzJ3MgY3VycmVudCBkYXRhLlxuXG4gICAgdGhpcy5faGFzaGVkSlNPTiA9IHt9OyAvLyBIYXNoIG9mIHZhbHVlcyBvZiBjb250YWluZXJzIGF0IGxhc3Qgc2F2ZS5cbiAgICB0aGlzLl9lc2NhcGVkQXR0cmlidXRlcyA9IHt9O1xuICAgIHRoaXMuY2lkID0gXy51bmlxdWVJZCgnYycpO1xuICAgIHRoaXMuY2hhbmdlZCA9IHt9O1xuICAgIHRoaXMuX3NpbGVudCA9IHt9O1xuICAgIHRoaXMuX3BlbmRpbmcgPSB7fTtcbiAgICB0aGlzLnNldChhdHRyaWJ1dGVzLCB7IHNpbGVudDogdHJ1ZSB9KTtcbiAgICB0aGlzLmNoYW5nZWQgPSB7fTtcbiAgICB0aGlzLl9zaWxlbnQgPSB7fTtcbiAgICB0aGlzLl9wZW5kaW5nID0ge307XG4gICAgdGhpcy5faGFzRGF0YSA9IHRydWU7XG4gICAgdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzID0gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbGVuZHMgQVYuT2JqZWN0LnByb3RvdHlwZVxuICAgKiBAcHJvcGVydHkge1N0cmluZ30gaWQgVGhlIG9iamVjdElkIG9mIHRoZSBBViBPYmplY3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTYXZlcyB0aGUgZ2l2ZW4gbGlzdCBvZiBBVi5PYmplY3QuXG4gICAqIElmIGFueSBlcnJvciBpcyBlbmNvdW50ZXJlZCwgc3RvcHMgYW5kIGNhbGxzIHRoZSBlcnJvciBoYW5kbGVyLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBBVi5PYmplY3Quc2F2ZUFsbChbb2JqZWN0MSwgb2JqZWN0MiwgLi4uXSkudGhlbihmdW5jdGlvbihsaXN0KSB7XG4gICAqICAgLy8gQWxsIHRoZSBvYmplY3RzIHdlcmUgc2F2ZWQuXG4gICAqIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAqICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2F2aW5nIG9uZSBvZiB0aGUgb2JqZWN0cy5cbiAgICogfSk7XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGxpc3QgQSBsaXN0IG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT4uXG4gICAqL1xuICBBVi5PYmplY3Quc2F2ZUFsbCA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQVYuT2JqZWN0Ll9kZWVwU2F2ZUFzeW5jKGxpc3QsIG51bGwsIG9wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgZ2l2ZW4gbGlzdCBvZiBBVi5PYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7QVYuT2JqZWN0W119IG9iamVjdHMgQSBsaXN0IG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT5cbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5PYmplY3RbXT59IFRoZSBnaXZlbiBsaXN0IG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT4sIHVwZGF0ZWRcbiAgICovXG5cbiAgQVYuT2JqZWN0LmZldGNoQWxsID0gKG9iamVjdHMsIG9wdGlvbnMpID0+XG4gICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+XG4gICAgICAgIF9yZXF1ZXN0KFxuICAgICAgICAgICdiYXRjaCcsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdQT1NUJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXF1ZXN0czogXy5tYXAob2JqZWN0cywgb2JqZWN0ID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFvYmplY3QuY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb2JqZWN0IG11c3QgaGF2ZSBjbGFzc05hbWUgdG8gZmV0Y2gnKTtcbiAgICAgICAgICAgICAgaWYgKCFvYmplY3QuaWQpIHRocm93IG5ldyBFcnJvcignb2JqZWN0IG11c3QgaGF2ZSBpZCB0byBmZXRjaCcpO1xuICAgICAgICAgICAgICBpZiAob2JqZWN0LmRpcnR5KCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYmplY3QgaXMgbW9kaWZpZWQgYnV0IG5vdCBzYXZlZCcpO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgcGF0aDogYC8xLjEvY2xhc3Nlcy8ke29iamVjdC5jbGFzc05hbWV9LyR7b2JqZWN0LmlkfWAsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IF8ubWFwKG9iamVjdHMsIGZ1bmN0aW9uKG9iamVjdCwgaSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZVtpXS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBjb25zdCBmZXRjaGVkQXR0cnMgPSBvYmplY3QucGFyc2UocmVzcG9uc2VbaV0uc3VjY2Vzcyk7XG4gICAgICAgICAgICBvYmplY3QuX2NsZWFudXBVbnNldEtleXMoZmV0Y2hlZEF0dHJzKTtcbiAgICAgICAgICAgIG9iamVjdC5fZmluaXNoRmV0Y2goZmV0Y2hlZEF0dHJzKTtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXNwb25zZVtpXS5zdWNjZXNzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFWRXJyb3IoQVZFcnJvci5PQkpFQ1RfTk9UX0ZPVU5ELCAnT2JqZWN0IG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVkVycm9yKHJlc3BvbnNlW2ldLmVycm9yLmNvZGUsIHJlc3BvbnNlW2ldLmVycm9yLmVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVCYXRjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgICB9KTtcblxuICAvLyBBdHRhY2ggYWxsIGluaGVyaXRhYmxlIG1ldGhvZHMgdG8gdGhlIEFWLk9iamVjdCBwcm90b3R5cGUuXG4gIF8uZXh0ZW5kKFxuICAgIEFWLk9iamVjdC5wcm90b3R5cGUsXG4gICAgQVYuRXZlbnRzLFxuICAgIC8qKiBAbGVuZHMgQVYuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG4gICAgICBfZmV0Y2hXaGVuU2F2ZTogZmFsc2UsXG5cbiAgICAgIC8qKlxuICAgICAgICogSW5pdGlhbGl6ZSBpcyBhbiBlbXB0eSBmdW5jdGlvbiBieSBkZWZhdWx0LiBPdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duXG4gICAgICAgKiBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgICAqL1xuICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7fSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgd2hldGhlciB0byBlbmFibGUgZmV0Y2hXaGVuU2F2ZSBvcHRpb24gd2hlbiB1cGRhdGluZyBvYmplY3QuXG4gICAgICAgKiBXaGVuIHNldCB0cnVlLCBTREsgd291bGQgZmV0Y2ggdGhlIGxhdGVzdCBvYmplY3QgYWZ0ZXIgc2F2aW5nLlxuICAgICAgICogRGVmYXVsdCBpcyBmYWxzZS5cbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgQVYuT2JqZWN0I3NhdmUgd2l0aCBvcHRpb25zLmZldGNoV2hlblNhdmUgaW5zdGVhZFxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGUgIHRydWUgdG8gZW5hYmxlIGZldGNoV2hlblNhdmUgb3B0aW9uLlxuICAgICAgICovXG4gICAgICBmZXRjaFdoZW5TYXZlOiBmdW5jdGlvbihlbmFibGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdBVi5PYmplY3QjZmV0Y2hXaGVuU2F2ZSBpcyBkZXByZWNhdGVkLCB1c2UgQVYuT2JqZWN0I3NhdmUgd2l0aCBvcHRpb25zLmZldGNoV2hlblNhdmUgaW5zdGVhZC4nXG4gICAgICAgICk7XG4gICAgICAgIGlmICghXy5pc0Jvb2xlYW4oZW5hYmxlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0IGJvb2xlYW4gdmFsdWUgZm9yIGZldGNoV2hlblNhdmUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mZXRjaFdoZW5TYXZlID0gZW5hYmxlO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QncyBvYmplY3RJZC5cbiAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIG9iamVjdElkLlxuICAgICAgICovXG4gICAgICBnZXRPYmplY3RJZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QncyBjcmVhdGVkQXQgYXR0cmlidXRlLlxuICAgICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgICAqL1xuICAgICAgZ2V0Q3JlYXRlZEF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlZEF0O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QncyB1cGRhdGVkQXQgYXR0cmlidXRlLlxuICAgICAgICogQHJldHVybiB7RGF0ZX1cbiAgICAgICAqL1xuICAgICAgZ2V0VXBkYXRlZEF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlZEF0O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGEgSlNPTiB2ZXJzaW9uIG9mIHRoZSBvYmplY3QuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvSlNPTjogZnVuY3Rpb24oa2V5LCBob2xkZXIsIHNlZW5PYmplY3RzID0gW10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvRnVsbEpTT04oc2Vlbk9iamVjdHMsIGZhbHNlKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhIEpTT04gdmVyc2lvbiBvZiB0aGUgb2JqZWN0IHdpdGggbWV0YSBkYXRhLlxuICAgICAgICogSW52ZXJzZSB0byB7QGxpbmsgQVYucGFyc2VKU09OfVxuICAgICAgICogQHNpbmNlIDMuMC4wXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvRnVsbEpTT04oc2Vlbk9iamVjdHMgPSBbXSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9GdWxsSlNPTihzZWVuT2JqZWN0cyk7XG4gICAgICB9LFxuXG4gICAgICBfdG9GdWxsSlNPTjogZnVuY3Rpb24oc2Vlbk9iamVjdHMsIGZ1bGwgPSB0cnVlKSB7XG4gICAgICAgIHZhciBqc29uID0gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgICBpZiAoXy5pc0FycmF5KHNlZW5PYmplY3RzKSkge1xuICAgICAgICAgIHZhciBuZXdTZWVuT2JqZWN0cyA9IHNlZW5PYmplY3RzLmNvbmNhdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBBVi5fb2JqZWN0RWFjaChqc29uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgICAgIGpzb25ba2V5XSA9IEFWLl9lbmNvZGUodmFsLCBuZXdTZWVuT2JqZWN0cywgdW5kZWZpbmVkLCBmdWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuX29wZXJhdGlvbnMsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICAgICAganNvbltrZXldID0gdmFsO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoXy5oYXModGhpcywgJ2lkJykpIHtcbiAgICAgICAgICBqc29uLm9iamVjdElkID0gdGhpcy5pZDtcbiAgICAgICAgfVxuICAgICAgICBbJ2NyZWF0ZWRBdCcsICd1cGRhdGVkQXQnXS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgaWYgKF8uaGFzKHRoaXMsIGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXNba2V5XTtcbiAgICAgICAgICAgIGpzb25ba2V5XSA9IF8uaXNEYXRlKHZhbCkgPyB2YWwudG9KU09OKCkgOiB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZ1bGwpIHtcbiAgICAgICAgICBqc29uLl9fdHlwZSA9ICdPYmplY3QnO1xuICAgICAgICAgIGlmIChfLmlzQXJyYXkoc2Vlbk9iamVjdHMpICYmIHNlZW5PYmplY3RzLmxlbmd0aClcbiAgICAgICAgICAgIGpzb24uX190eXBlID0gJ1BvaW50ZXInO1xuICAgICAgICAgIGpzb24uY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFVwZGF0ZXMgX2hhc2hlZEpTT04gdG8gcmVmbGVjdCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAqIEFkZHMgYW55IGNoYW5nZWQgaGFzaCB2YWx1ZXMgdG8gdGhlIHNldCBvZiBwZW5kaW5nIGNoYW5nZXMuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfcmVmcmVzaENhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5fcmVmcmVzaGluZ0NhY2hlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuX3JlZnJlc2hpbmdDYWNoZSA9IHRydWU7XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuYXR0cmlidXRlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLk9iamVjdCkge1xuICAgICAgICAgICAgdmFsdWUuX3JlZnJlc2hDYWNoZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl9yZXNldENhY2hlRm9yS2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgc2VsZi5zZXQoa2V5LCBuZXcgQVYuT3AuU2V0KHZhbHVlKSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVsZXRlIHNlbGYuX3JlZnJlc2hpbmdDYWNoZTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IGhhcyBiZWVuIG1vZGlmaWVkIHNpbmNlIGl0cyBsYXN0XG4gICAgICAgKiBzYXZlL3JlZnJlc2guICBJZiBhbiBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLCBpdCByZXR1cm5zIHRydWUgb25seSBpZiB0aGF0XG4gICAgICAgKiBwYXJ0aWN1bGFyIGF0dHJpYnV0ZSBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZSB0aGUgbGFzdCBzYXZlL3JlZnJlc2guXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBBbiBhdHRyaWJ1dGUgbmFtZSAob3B0aW9uYWwpLlxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgZGlydHk6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaENhY2hlKCk7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRDaGFuZ2VzID0gXy5sYXN0KHRoaXMuX29wU2V0UXVldWUpO1xuXG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRDaGFuZ2VzW2F0dHJdID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmtleXMoY3VycmVudENoYW5nZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIGtleXMgb2YgdGhlIG1vZGlmaWVkIGF0dHJpYnV0ZSBzaW5jZSBpdHMgbGFzdCBzYXZlL3JlZnJlc2guXG4gICAgICAgKiBAcmV0dXJuIHtTdHJpbmdbXX1cbiAgICAgICAqL1xuICAgICAgZGlydHlLZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaENhY2hlKCk7XG4gICAgICAgIHZhciBjdXJyZW50Q2hhbmdlcyA9IF8ubGFzdCh0aGlzLl9vcFNldFF1ZXVlKTtcbiAgICAgICAgcmV0dXJuIF8ua2V5cyhjdXJyZW50Q2hhbmdlcyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgYSBQb2ludGVyIHJlZmVyZW5jaW5nIHRoaXMgT2JqZWN0LlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX3RvUG9pbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGlmICghdGhpcy5pZCkge1xuICAgICAgICAvLyAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHNlcmlhbGl6ZSBhbiB1bnNhdmVkIEFWLk9iamVjdFwiKTtcbiAgICAgICAgLy8gfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9fdHlwZTogJ1BvaW50ZXInLFxuICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgb2JqZWN0SWQ6IHRoaXMuaWQsXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBzdHJpbmcgbmFtZSBvZiBhbiBhdHRyaWJ1dGUuXG4gICAgICAgKi9cbiAgICAgIGdldDogZnVuY3Rpb24oYXR0cikge1xuICAgICAgICBzd2l0Y2ggKGF0dHIpIHtcbiAgICAgICAgICBjYXNlICdvYmplY3RJZCc6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICAgICAgICBjYXNlICdjcmVhdGVkQXQnOlxuICAgICAgICAgIGNhc2UgJ3VwZGF0ZWRBdCc6XG4gICAgICAgICAgICByZXR1cm4gdGhpc1thdHRyXTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1thdHRyXTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIGEgcmVsYXRpb24gb24gdGhlIGdpdmVuIGNsYXNzIGZvciB0aGUgYXR0cmlidXRlLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgVGhlIGF0dHJpYnV0ZSB0byBnZXQgdGhlIHJlbGF0aW9uIGZvci5cbiAgICAgICAqIEByZXR1cm4ge0FWLlJlbGF0aW9ufVxuICAgICAgICovXG4gICAgICByZWxhdGlvbjogZnVuY3Rpb24oYXR0cikge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldChhdHRyKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBBVi5SZWxhdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGVkIHJlbGF0aW9uKCkgb24gbm9uLXJlbGF0aW9uIGZpZWxkICcgKyBhdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUuX2Vuc3VyZVBhcmVudEFuZEtleSh0aGlzLCBhdHRyKTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBVi5SZWxhdGlvbih0aGlzLCBhdHRyKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIHRoZSBIVE1MLWVzY2FwZWQgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICAgICAgICovXG4gICAgICBlc2NhcGU6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLl9lc2NhcGVkQXR0cmlidXRlc1thdHRyXTtcbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gdGhpcy5hdHRyaWJ1dGVzW2F0dHJdO1xuICAgICAgICB2YXIgZXNjYXBlZDtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICBlc2NhcGVkID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXNjYXBlZCA9IF8uZXNjYXBlKHZhbC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lc2NhcGVkQXR0cmlidXRlc1thdHRyXSA9IGVzY2FwZWQ7XG4gICAgICAgIHJldHVybiBlc2NhcGVkO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoZSBhdHRyaWJ1dGUgY29udGFpbnMgYSB2YWx1ZSB0aGF0IGlzIG5vdFxuICAgICAgICogbnVsbCBvciB1bmRlZmluZWQuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgc3RyaW5nIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIGhhczogZnVuY3Rpb24oYXR0cikge1xuICAgICAgICByZXR1cm4gIWlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuYXR0cmlidXRlc1thdHRyXSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFB1bGxzIFwic3BlY2lhbFwiIGZpZWxkcyBsaWtlIG9iamVjdElkLCBjcmVhdGVkQXQsIGV0Yy4gb3V0IG9mIGF0dHJzXG4gICAgICAgKiBhbmQgcHV0cyB0aGVtIG9uIFwidGhpc1wiIGRpcmVjdGx5LiAgUmVtb3ZlcyB0aGVtIGZyb20gYXR0cnMuXG4gICAgICAgKiBAcGFyYW0gYXR0cnMgLSBBIGRpY3Rpb25hcnkgd2l0aCB0aGUgZGF0YSBmb3IgdGhpcyBBVi5PYmplY3QuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfbWVyZ2VNYWdpY0ZpZWxkczogZnVuY3Rpb24oYXR0cnMpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgb2YgbWFnaWMgZmllbGRzLlxuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICB2YXIgc3BlY2lhbEZpZWxkcyA9IFsnb2JqZWN0SWQnLCAnY3JlYXRlZEF0JywgJ3VwZGF0ZWRBdCddO1xuICAgICAgICBBVi5fYXJyYXlFYWNoKHNwZWNpYWxGaWVsZHMsIGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgICBpZiAoYXR0cnNbYXR0cl0pIHtcbiAgICAgICAgICAgIGlmIChhdHRyID09PSAnb2JqZWN0SWQnKSB7XG4gICAgICAgICAgICAgIG1vZGVsLmlkID0gYXR0cnNbYXR0cl07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAoYXR0ciA9PT0gJ2NyZWF0ZWRBdCcgfHwgYXR0ciA9PT0gJ3VwZGF0ZWRBdCcpICYmXG4gICAgICAgICAgICAgICFfLmlzRGF0ZShhdHRyc1thdHRyXSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBtb2RlbFthdHRyXSA9IEFWLl9wYXJzZURhdGUoYXR0cnNbYXR0cl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxbYXR0cl0gPSBhdHRyc1thdHRyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1thdHRyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdGhlIGpzb24gdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX3N0YXJ0U2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX29wU2V0UXVldWUucHVzaCh7fSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCB3aGVuIGEgc2F2ZSBmYWlscyBiZWNhdXNlIG9mIGFuIGVycm9yLiBBbnkgY2hhbmdlcyB0aGF0IHdlcmUgcGFydFxuICAgICAgICogb2YgdGhlIHNhdmUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCBjaGFuZ2VzIG1hZGUgYWZ0ZXIgdGhlIHNhdmUuIFRoaXNcbiAgICAgICAqIG1pZ2h0IHRocm93IGFuIGV4Y2VwdGlvbiBpcyB5b3UgZG8gY29uZmxpY3Rpbmcgb3BlcmF0aW9ucy4gRm9yIGV4YW1wbGUsXG4gICAgICAgKiBpZiB5b3UgZG86XG4gICAgICAgKiAgIG9iamVjdC5zZXQoXCJmb29cIiwgXCJiYXJcIik7XG4gICAgICAgKiAgIG9iamVjdC5zZXQoXCJpbnZhbGlkIGZpZWxkIG5hbWVcIiwgXCJiYXpcIik7XG4gICAgICAgKiAgIG9iamVjdC5zYXZlKCk7XG4gICAgICAgKiAgIG9iamVjdC5pbmNyZW1lbnQoXCJmb29cIik7XG4gICAgICAgKiB0aGVuIHRoaXMgd2lsbCB0aHJvdyB3aGVuIHRoZSBzYXZlIGZhaWxzIGFuZCB0aGUgY2xpZW50IHRyaWVzIHRvIG1lcmdlXG4gICAgICAgKiBcImJhclwiIHdpdGggdGhlICsxLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2NhbmNlbFNhdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZmFpbGVkQ2hhbmdlcyA9IF8uZmlyc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG4gICAgICAgIHRoaXMuX29wU2V0UXVldWUgPSBfLnJlc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG4gICAgICAgIHZhciBuZXh0Q2hhbmdlcyA9IF8uZmlyc3QodGhpcy5fb3BTZXRRdWV1ZSk7XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKGZhaWxlZENoYW5nZXMsIGZ1bmN0aW9uKG9wLCBrZXkpIHtcbiAgICAgICAgICB2YXIgb3AxID0gZmFpbGVkQ2hhbmdlc1trZXldO1xuICAgICAgICAgIHZhciBvcDIgPSBuZXh0Q2hhbmdlc1trZXldO1xuICAgICAgICAgIGlmIChvcDEgJiYgb3AyKSB7XG4gICAgICAgICAgICBuZXh0Q2hhbmdlc1trZXldID0gb3AyLl9tZXJnZVdpdGhQcmV2aW91cyhvcDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3AxKSB7XG4gICAgICAgICAgICBuZXh0Q2hhbmdlc1trZXldID0gb3AxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NhdmluZyA9IHRoaXMuX3NhdmluZyAtIDE7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCB3aGVuIGEgc2F2ZSBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LiBUaGlzIG1lcmdlcyB0aGUgY2hhbmdlcyB0aGF0XG4gICAgICAgKiB3ZXJlIHNhdmVkIGludG8gdGhlIGtub3duIHNlcnZlciBkYXRhLCBhbmQgb3ZlcnJpZGVzIGl0IHdpdGggYW55IGRhdGFcbiAgICAgICAqIHNlbnQgZGlyZWN0bHkgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2ZpbmlzaFNhdmU6IGZ1bmN0aW9uKHNlcnZlckRhdGEpIHtcbiAgICAgICAgLy8gR3JhYiBhIGNvcHkgb2YgYW55IG9iamVjdCByZWZlcmVuY2VkIGJ5IHRoaXMgb2JqZWN0LiBUaGVzZSBpbnN0YW5jZXNcbiAgICAgICAgLy8gbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGZldGNoZWQsIGFuZCB3ZSBkb24ndCB3YW50IHRvIGxvc2UgdGhlaXIgZGF0YS5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGRvaW5nIGl0IGxpa2UgdGhpcyBtZWFucyB3ZSB3aWxsIHVuaWZ5IHNlcGFyYXRlIGNvcGllcyBvZiB0aGVcbiAgICAgICAgLy8gc2FtZSBvYmplY3QsIGJ1dCB0aGF0J3MgYSByaXNrIHdlIGhhdmUgdG8gdGFrZS5cbiAgICAgICAgdmFyIGZldGNoZWRPYmplY3RzID0ge307XG4gICAgICAgIEFWLl90cmF2ZXJzZSh0aGlzLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBVi5PYmplY3QgJiYgb2JqZWN0LmlkICYmIG9iamVjdC5faGFzRGF0YSkge1xuICAgICAgICAgICAgZmV0Y2hlZE9iamVjdHNbb2JqZWN0LmlkXSA9IG9iamVjdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzYXZlZENoYW5nZXMgPSBfLmZpcnN0KHRoaXMuX29wU2V0UXVldWUpO1xuICAgICAgICB0aGlzLl9vcFNldFF1ZXVlID0gXy5yZXN0KHRoaXMuX29wU2V0UXVldWUpO1xuICAgICAgICB0aGlzLl9hcHBseU9wU2V0KHNhdmVkQ2hhbmdlcywgdGhpcy5fc2VydmVyRGF0YSk7XG4gICAgICAgIHRoaXMuX21lcmdlTWFnaWNGaWVsZHMoc2VydmVyRGF0YSk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQVYuX29iamVjdEVhY2goc2VydmVyRGF0YSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIHNlbGYuX3NlcnZlckRhdGFba2V5XSA9IEFWLl9kZWNvZGUodmFsdWUsIGtleSk7XG5cbiAgICAgICAgICAvLyBMb29rIGZvciBhbnkgb2JqZWN0cyB0aGF0IG1pZ2h0IGhhdmUgYmVjb21lIHVuZmV0Y2hlZCBhbmQgZml4IHRoZW1cbiAgICAgICAgICAvLyBieSByZXBsYWNpbmcgdGhlaXIgdmFsdWVzIHdpdGggdGhlIHByZXZpb3VzbHkgb2JzZXJ2ZWQgdmFsdWVzLlxuICAgICAgICAgIHZhciBmZXRjaGVkID0gQVYuX3RyYXZlcnNlKHNlbGYuX3NlcnZlckRhdGFba2V5XSwgZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuT2JqZWN0ICYmIGZldGNoZWRPYmplY3RzW29iamVjdC5pZF0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoZWRPYmplY3RzW29iamVjdC5pZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGZldGNoZWQpIHtcbiAgICAgICAgICAgIHNlbGYuX3NlcnZlckRhdGFba2V5XSA9IGZldGNoZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVidWlsZEFsbEVzdGltYXRlZERhdGEoKTtcbiAgICAgICAgY29uc3Qgb3BTZXRRdWV1ZSA9IHRoaXMuX29wU2V0UXVldWUubWFwKF8uY2xvbmUpO1xuICAgICAgICB0aGlzLl9yZWZyZXNoQ2FjaGUoKTtcbiAgICAgICAgdGhpcy5fb3BTZXRRdWV1ZSA9IG9wU2V0UXVldWU7XG4gICAgICAgIHRoaXMuX3NhdmluZyA9IHRoaXMuX3NhdmluZyAtIDE7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCB3aGVuIGEgZmV0Y2ggb3IgbG9naW4gaXMgY29tcGxldGUgdG8gc2V0IHRoZSBrbm93biBzZXJ2ZXIgZGF0YSB0b1xuICAgICAgICogdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9maW5pc2hGZXRjaDogZnVuY3Rpb24oc2VydmVyRGF0YSwgaGFzRGF0YSkge1xuICAgICAgICAvLyBDbGVhciBvdXQgYW55IGNoYW5nZXMgdGhlIHVzZXIgbWlnaHQgaGF2ZSBtYWRlIHByZXZpb3VzbHkuXG4gICAgICAgIHRoaXMuX29wU2V0UXVldWUgPSBbe31dO1xuXG4gICAgICAgIC8vIEJyaW5nIGluIGFsbCB0aGUgbmV3IHNlcnZlciBkYXRhLlxuICAgICAgICB0aGlzLl9tZXJnZU1hZ2ljRmllbGRzKHNlcnZlckRhdGEpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKHNlcnZlckRhdGEsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBzZWxmLl9zZXJ2ZXJEYXRhW2tleV0gPSBBVi5fZGVjb2RlKHZhbHVlLCBrZXkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWZyZXNoIHRoZSBhdHRyaWJ1dGVzLlxuICAgICAgICB0aGlzLl9yZWJ1aWxkQWxsRXN0aW1hdGVkRGF0YSgpO1xuXG4gICAgICAgIC8vIENsZWFyIG91dCB0aGUgY2FjaGUgb2YgbXV0YWJsZSBjb250YWluZXJzLlxuICAgICAgICB0aGlzLl9yZWZyZXNoQ2FjaGUoKTtcbiAgICAgICAgdGhpcy5fb3BTZXRRdWV1ZSA9IFt7fV07XG5cbiAgICAgICAgdGhpcy5faGFzRGF0YSA9IGhhc0RhdGE7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFwcGxpZXMgdGhlIHNldCBvZiBBVi5PcCBpbiBvcFNldCB0byB0aGUgb2JqZWN0IHRhcmdldC5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9hcHBseU9wU2V0OiBmdW5jdGlvbihvcFNldCwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQVYuX29iamVjdEVhY2gob3BTZXQsIGZ1bmN0aW9uKGNoYW5nZSwga2V5KSB7XG4gICAgICAgICAgY29uc3QgW3ZhbHVlLCBhY3R1YWxUYXJnZXQsIGFjdHVhbEtleV0gPSBmaW5kVmFsdWUodGFyZ2V0LCBrZXkpO1xuICAgICAgICAgIHNldFZhbHVlKHRhcmdldCwga2V5LCBjaGFuZ2UuX2VzdGltYXRlKHZhbHVlLCBzZWxmLCBrZXkpKTtcbiAgICAgICAgICBpZiAoYWN0dWFsVGFyZ2V0ICYmIGFjdHVhbFRhcmdldFthY3R1YWxLZXldID09PSBBVi5PcC5fVU5TRVQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhY3R1YWxUYXJnZXRbYWN0dWFsS2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXBsYWNlcyB0aGUgY2FjaGVkIHZhbHVlIGZvciBrZXkgd2l0aCB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbmV3IHZhbHVlIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBvbGQgdmFsdWUuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfcmVzZXRDYWNoZUZvcktleTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuYXR0cmlidXRlc1trZXldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgXy5pc09iamVjdCh2YWx1ZSkgJiZcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgQVYuT2JqZWN0KSAmJlxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBBVi5GaWxlKVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHJlY3Vyc2l2ZVRvUG9pbnRlcih2YWx1ZSkpO1xuICAgICAgICAgIGlmICh0aGlzLl9oYXNoZWRKU09OW2tleV0gIT09IGpzb24pIHtcbiAgICAgICAgICAgIHZhciB3YXNTZXQgPSAhIXRoaXMuX2hhc2hlZEpTT05ba2V5XTtcbiAgICAgICAgICAgIHRoaXMuX2hhc2hlZEpTT05ba2V5XSA9IGpzb247XG4gICAgICAgICAgICByZXR1cm4gd2FzU2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFBvcHVsYXRlcyBhdHRyaWJ1dGVzW2tleV0gYnkgc3RhcnRpbmcgd2l0aCB0aGUgbGFzdCBrbm93biBkYXRhIGZyb20gdGhlXG4gICAgICAgKiBzZXJ2ZXIsIGFuZCBhcHBseWluZyBhbGwgb2YgdGhlIGxvY2FsIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gbWFkZSB0byB0aGF0XG4gICAgICAgKiBrZXkgc2luY2UgdGhlbi5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9yZWJ1aWxkRXN0aW1hdGVkRGF0YUZvcktleTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZGVsZXRlIHRoaXMuYXR0cmlidXRlc1trZXldO1xuICAgICAgICBpZiAodGhpcy5fc2VydmVyRGF0YVtrZXldKSB7XG4gICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2tleV0gPSB0aGlzLl9zZXJ2ZXJEYXRhW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgQVYuX2FycmF5RWFjaCh0aGlzLl9vcFNldFF1ZXVlLCBmdW5jdGlvbihvcFNldCkge1xuICAgICAgICAgIHZhciBvcCA9IG9wU2V0W2tleV07XG4gICAgICAgICAgaWYgKG9wKSB7XG4gICAgICAgICAgICBjb25zdCBbdmFsdWUsIGFjdHVhbFRhcmdldCwgYWN0dWFsS2V5LCBmaXJzdEtleV0gPSBmaW5kVmFsdWUoXG4gICAgICAgICAgICAgIHNlbGYuYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc2V0VmFsdWUoc2VsZi5hdHRyaWJ1dGVzLCBrZXksIG9wLl9lc3RpbWF0ZSh2YWx1ZSwgc2VsZiwga2V5KSk7XG4gICAgICAgICAgICBpZiAoYWN0dWFsVGFyZ2V0ICYmIGFjdHVhbFRhcmdldFthY3R1YWxLZXldID09PSBBVi5PcC5fVU5TRVQpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGFjdHVhbFRhcmdldFthY3R1YWxLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5fcmVzZXRDYWNoZUZvcktleShmaXJzdEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUG9wdWxhdGVzIGF0dHJpYnV0ZXMgYnkgc3RhcnRpbmcgd2l0aCB0aGUgbGFzdCBrbm93biBkYXRhIGZyb20gdGhlXG4gICAgICAgKiBzZXJ2ZXIsIGFuZCBhcHBseWluZyBhbGwgb2YgdGhlIGxvY2FsIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gbWFkZSBzaW5jZVxuICAgICAgICogdGhlbi5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9yZWJ1aWxkQWxsRXN0aW1hdGVkRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgcHJldmlvdXNBdHRyaWJ1dGVzID0gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IF8uY2xvbmUodGhpcy5fc2VydmVyRGF0YSk7XG4gICAgICAgIEFWLl9hcnJheUVhY2godGhpcy5fb3BTZXRRdWV1ZSwgZnVuY3Rpb24ob3BTZXQpIHtcbiAgICAgICAgICBzZWxmLl9hcHBseU9wU2V0KG9wU2V0LCBzZWxmLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgIEFWLl9vYmplY3RFYWNoKG9wU2V0LCBmdW5jdGlvbihvcCwga2V5KSB7XG4gICAgICAgICAgICBzZWxmLl9yZXNldENhY2hlRm9yS2V5KGtleSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRyaWdnZXIgY2hhbmdlIGV2ZW50cyBmb3IgYW55dGhpbmcgdGhhdCBjaGFuZ2VkIGJlY2F1c2Ugb2YgdGhlIGZldGNoLlxuICAgICAgICBBVi5fb2JqZWN0RWFjaChwcmV2aW91c0F0dHJpYnV0ZXMsIGZ1bmN0aW9uKG9sZFZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBpZiAoc2VsZi5hdHRyaWJ1dGVzW2tleV0gIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBzZWxmLnRyaWdnZXIoJ2NoYW5nZTonICsga2V5LCBzZWxmLCBzZWxmLmF0dHJpYnV0ZXNba2V5XSwge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuYXR0cmlidXRlcywgZnVuY3Rpb24obmV3VmFsdWUsIGtleSkge1xuICAgICAgICAgIGlmICghXy5oYXMocHJldmlvdXNBdHRyaWJ1dGVzLCBrZXkpKSB7XG4gICAgICAgICAgICBzZWxmLnRyaWdnZXIoJ2NoYW5nZTonICsga2V5LCBzZWxmLCBuZXdWYWx1ZSwge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgYSBoYXNoIG9mIG1vZGVsIGF0dHJpYnV0ZXMgb24gdGhlIG9iamVjdCwgZmlyaW5nXG4gICAgICAgKiA8Y29kZT5cImNoYW5nZVwiPC9jb2RlPiB1bmxlc3MgeW91IGNob29zZSB0byBzaWxlbmNlIGl0LlxuICAgICAgICpcbiAgICAgICAqIDxwPllvdSBjYW4gY2FsbCBpdCB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIGtleXMgYW5kIHZhbHVlcywgb3Igd2l0aCBvbmVcbiAgICAgICAqIGtleSBhbmQgdmFsdWUuICBGb3IgZXhhbXBsZTo8L3A+XG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIGdhbWVUdXJuLnNldCh7XG4gICAgICAgKiAgIHBsYXllcjogcGxheWVyMSxcbiAgICAgICAqICAgZGljZVJvbGw6IDJcbiAgICAgICAqIH0pO1xuICAgICAgICpcbiAgICAgICAqIGdhbWUuc2V0KFwiY3VycmVudFBsYXllclwiLCBwbGF5ZXIyKTtcbiAgICAgICAqXG4gICAgICAgKiBnYW1lLnNldChcImZpbmlzaGVkXCIsIHRydWUpO1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBzZXQuXG4gICAgICAgKiBAcGFyYW0ge0FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIGdpdmUgaXQuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNpbGVudF1cbiAgICAgICAqIEByZXR1cm4ge0FWLk9iamVjdH0gc2VsZiBpZiBzdWNjZWVkZWQsIHRocm93cyBpZiB0aGUgdmFsdWUgaXMgbm90IHZhbGlkLlxuICAgICAgICogQHNlZSBBVi5PYmplY3QjdmFsaWRhdGVcbiAgICAgICAqL1xuICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBhdHRycztcbiAgICAgICAgaWYgKF8uaXNPYmplY3Qoa2V5KSB8fCBpc051bGxPclVuZGVmaW5lZChrZXkpKSB7XG4gICAgICAgICAgYXR0cnMgPSBfLm1hcE9iamVjdChrZXksIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgIGNoZWNrUmVzZXJ2ZWRLZXkoayk7XG4gICAgICAgICAgICByZXR1cm4gQVYuX2RlY29kZSh2LCBrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvcHRpb25zID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0cnMgPSB7fTtcbiAgICAgICAgICBjaGVja1Jlc2VydmVkS2V5KGtleSk7XG4gICAgICAgICAgYXR0cnNba2V5XSA9IEFWLl9kZWNvZGUodmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeHRyYWN0IGF0dHJpYnV0ZXMgYW5kIG9wdGlvbnMuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIWF0dHJzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJzIGluc3RhbmNlb2YgQVYuT2JqZWN0KSB7XG4gICAgICAgICAgYXR0cnMgPSBhdHRycy5hdHRyaWJ1dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHVuc2V0IG9wdGlvbiBpcyB1c2VkLCBldmVyeSBhdHRyaWJ1dGUgc2hvdWxkIGJlIGEgVW5zZXQuXG4gICAgICAgIGlmIChvcHRpb25zLnVuc2V0KSB7XG4gICAgICAgICAgQVYuX29iamVjdEVhY2goYXR0cnMsIGZ1bmN0aW9uKHVudXNlZF92YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gbmV3IEFWLk9wLlVuc2V0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBhbGwgdGhlIGF0dHJpYnV0ZXMgdG8gZ2V0IHRoZSBlc3RpbWF0ZWQgdmFsdWVzLlxuICAgICAgICB2YXIgZGF0YVRvVmFsaWRhdGUgPSBfLmNsb25lKGF0dHJzKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBBVi5fb2JqZWN0RWFjaChkYXRhVG9WYWxpZGF0ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFWLk9wKSB7XG4gICAgICAgICAgICBkYXRhVG9WYWxpZGF0ZVtrZXldID0gdmFsdWUuX2VzdGltYXRlKFxuICAgICAgICAgICAgICBzZWxmLmF0dHJpYnV0ZXNba2V5XSxcbiAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRhdGFUb1ZhbGlkYXRlW2tleV0gPT09IEFWLk9wLl9VTlNFVCkge1xuICAgICAgICAgICAgICBkZWxldGUgZGF0YVRvVmFsaWRhdGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJ1biB2YWxpZGF0aW9uLlxuICAgICAgICB0aGlzLl92YWxpZGF0ZShhdHRycywgb3B0aW9ucyk7XG5cbiAgICAgICAgb3B0aW9ucy5jaGFuZ2VzID0ge307XG4gICAgICAgIHZhciBlc2NhcGVkID0gdGhpcy5fZXNjYXBlZEF0dHJpYnV0ZXM7XG5cbiAgICAgICAgLy8gVXBkYXRlIGF0dHJpYnV0ZXMuXG4gICAgICAgIEFWLl9hcnJheUVhY2goXy5rZXlzKGF0dHJzKSwgZnVuY3Rpb24oYXR0cikge1xuICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1thdHRyXTtcblxuICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSByZWxhdGlvbiBvYmplY3Qgd2UgbmVlZCB0byBzZXQgdGhlIHBhcmVudCBjb3JyZWN0bHksXG4gICAgICAgICAgLy8gc2luY2UgdGhlIGxvY2F0aW9uIHdoZXJlIGl0IHdhcyBwYXJzZWQgZG9lcyBub3QgaGF2ZSBhY2Nlc3MgdG9cbiAgICAgICAgICAvLyB0aGlzIG9iamVjdC5cbiAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgQVYuUmVsYXRpb24pIHtcbiAgICAgICAgICAgIHZhbC5wYXJlbnQgPSBzZWxmO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghKHZhbCBpbnN0YW5jZW9mIEFWLk9wKSkge1xuICAgICAgICAgICAgdmFsID0gbmV3IEFWLk9wLlNldCh2YWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZSBpZiB0aGlzIGNoYW5nZSB3aWxsIGFjdHVhbGx5IGhhdmUgYW55IGVmZmVjdC5cbiAgICAgICAgICB2YXIgaXNSZWFsQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBBVi5PcC5TZXQgJiZcbiAgICAgICAgICAgIF8uaXNFcXVhbChzZWxmLmF0dHJpYnV0ZXNbYXR0cl0sIHZhbC52YWx1ZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlzUmVhbENoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc1JlYWxDaGFuZ2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBlc2NhcGVkW2F0dHJdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICAgIHNlbGYuX3NpbGVudFthdHRyXSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvcHRpb25zLmNoYW5nZXNbYXR0cl0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjdXJyZW50Q2hhbmdlcyA9IF8ubGFzdChzZWxmLl9vcFNldFF1ZXVlKTtcbiAgICAgICAgICBjdXJyZW50Q2hhbmdlc1thdHRyXSA9IHZhbC5fbWVyZ2VXaXRoUHJldmlvdXMoY3VycmVudENoYW5nZXNbYXR0cl0pO1xuICAgICAgICAgIHNlbGYuX3JlYnVpbGRFc3RpbWF0ZWREYXRhRm9yS2V5KGF0dHIpO1xuXG4gICAgICAgICAgaWYgKGlzUmVhbENoYW5nZSkge1xuICAgICAgICAgICAgc2VsZi5jaGFuZ2VkW2F0dHJdID0gc2VsZi5hdHRyaWJ1dGVzW2F0dHJdO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICBzZWxmLl9wZW5kaW5nW2F0dHJdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2hhbmdlZFthdHRyXTtcbiAgICAgICAgICAgIGRlbGV0ZSBzZWxmLl9wZW5kaW5nW2F0dHJdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgIHRoaXMuY2hhbmdlKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmUgYW4gYXR0cmlidXRlIGZyb20gdGhlIG1vZGVsLCBmaXJpbmcgPGNvZGU+XCJjaGFuZ2VcIjwvY29kZT4gdW5sZXNzXG4gICAgICAgKiB5b3UgY2hvb3NlIHRvIHNpbGVuY2UgaXQuIFRoaXMgaXMgYSBub29wIGlmIHRoZSBhdHRyaWJ1dGUgZG9lc24ndFxuICAgICAgICogZXhpc3QuXG4gICAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFRoZSBrZXkuXG4gICAgICAgKi9cbiAgICAgIHVuc2V0OiBmdW5jdGlvbihhdHRyLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLnVuc2V0ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KGF0dHIsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBdG9taWNhbGx5IGluY3JlbWVudHMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBhdHRyaWJ1dGUgdGhlIG5leHQgdGltZSB0aGVcbiAgICAgICAqIG9iamVjdCBpcyBzYXZlZC4gSWYgbm8gYW1vdW50IGlzIHNwZWNpZmllZCwgMSBpcyB1c2VkIGJ5IGRlZmF1bHQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAgICogQHBhcmFtIGFtb3VudCB7TnVtYmVyfSBUaGUgYW1vdW50IHRvIGluY3JlbWVudCBieS5cbiAgICAgICAqL1xuICAgICAgaW5jcmVtZW50OiBmdW5jdGlvbihhdHRyLCBhbW91bnQpIHtcbiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQoYW1vdW50KSB8fCBfLmlzTnVsbChhbW91bnQpKSB7XG4gICAgICAgICAgYW1vdW50ID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXQoYXR0ciwgbmV3IEFWLk9wLkluY3JlbWVudChhbW91bnQpKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQXRvbWljYWxseSBhZGQgYW4gb2JqZWN0IHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5IGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuXG4gICAgICAgKiBrZXkuXG4gICAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFRoZSBrZXkuXG4gICAgICAgKiBAcGFyYW0gaXRlbSB7fSBUaGUgaXRlbSB0byBhZGQuXG4gICAgICAgKi9cbiAgICAgIGFkZDogZnVuY3Rpb24oYXR0ciwgaXRlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoYXR0ciwgbmV3IEFWLk9wLkFkZChlbnN1cmVBcnJheShpdGVtKSkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBdG9taWNhbGx5IGFkZCBhbiBvYmplY3QgdG8gdGhlIGFycmF5IGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGtleSwgb25seVxuICAgICAgICogaWYgaXQgaXMgbm90IGFscmVhZHkgcHJlc2VudCBpbiB0aGUgYXJyYXkuIFRoZSBwb3NpdGlvbiBvZiB0aGUgaW5zZXJ0IGlzXG4gICAgICAgKiBub3QgZ3VhcmFudGVlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFRoZSBrZXkuXG4gICAgICAgKiBAcGFyYW0gaXRlbSB7fSBUaGUgb2JqZWN0IHRvIGFkZC5cbiAgICAgICAqL1xuICAgICAgYWRkVW5pcXVlOiBmdW5jdGlvbihhdHRyLCBpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldChhdHRyLCBuZXcgQVYuT3AuQWRkVW5pcXVlKGVuc3VyZUFycmF5KGl0ZW0pKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEF0b21pY2FsbHkgcmVtb3ZlIGFsbCBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IGZyb20gdGhlIGFycmF5IGFzc29jaWF0ZWRcbiAgICAgICAqIHdpdGggYSBnaXZlbiBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAgICogQHBhcmFtIGl0ZW0ge30gVGhlIG9iamVjdCB0byByZW1vdmUuXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZTogZnVuY3Rpb24oYXR0ciwgaXRlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoYXR0ciwgbmV3IEFWLk9wLlJlbW92ZShlbnN1cmVBcnJheShpdGVtKSkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBdG9taWNhbGx5IGFwcGx5IGEgXCJiaXQgYW5kXCIgb3BlcmF0aW9uIG9uIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYVxuICAgICAgICogZ2l2ZW4ga2V5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBrZXkge1N0cmluZ30gVGhlIGtleS5cbiAgICAgICAqIEBwYXJhbSB2YWx1ZSB7TnVtYmVyfSBUaGUgdmFsdWUgdG8gYXBwbHkuXG4gICAgICAgKi9cbiAgICAgIGJpdEFuZChhdHRyLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoYXR0ciwgbmV3IEFWLk9wLkJpdEFuZCh2YWx1ZSkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBdG9taWNhbGx5IGFwcGx5IGEgXCJiaXQgb3JcIiBvcGVyYXRpb24gb24gdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhXG4gICAgICAgKiBnaXZlbiBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAgICogQHBhcmFtIHZhbHVlIHtOdW1iZXJ9IFRoZSB2YWx1ZSB0byBhcHBseS5cbiAgICAgICAqL1xuICAgICAgYml0T3IoYXR0ciwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KGF0dHIsIG5ldyBBVi5PcC5CaXRPcih2YWx1ZSkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBdG9taWNhbGx5IGFwcGx5IGEgXCJiaXQgeG9yXCIgb3BlcmF0aW9uIG9uIHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYVxuICAgICAgICogZ2l2ZW4ga2V5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBrZXkge1N0cmluZ30gVGhlIGtleS5cbiAgICAgICAqIEBwYXJhbSB2YWx1ZSB7TnVtYmVyfSBUaGUgdmFsdWUgdG8gYXBwbHkuXG4gICAgICAgKi9cbiAgICAgIGJpdFhvcihhdHRyLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoYXR0ciwgbmV3IEFWLk9wLkJpdFhvcih2YWx1ZSkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIGEgc3ViY2xhc3Mgb2YgQVYuT3AgZGVzY3JpYmluZyB3aGF0IGtpbmQgb2ZcbiAgICAgICAqIG1vZGlmaWNhdGlvbiBoYXMgYmVlbiBwZXJmb3JtZWQgb24gdGhpcyBmaWVsZCBzaW5jZSB0aGUgbGFzdCB0aW1lIGl0IHdhc1xuICAgICAgICogc2F2ZWQuIEZvciBleGFtcGxlLCBhZnRlciBjYWxsaW5nIG9iamVjdC5pbmNyZW1lbnQoXCJ4XCIpLCBjYWxsaW5nXG4gICAgICAgKiBvYmplY3Qub3AoXCJ4XCIpIHdvdWxkIHJldHVybiBhbiBpbnN0YW5jZSBvZiBBVi5PcC5JbmNyZW1lbnQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBUaGUga2V5LlxuICAgICAgICogQHJldHVybnMge0FWLk9wfSBUaGUgb3BlcmF0aW9uLCBvciB1bmRlZmluZWQgaWYgbm9uZS5cbiAgICAgICAqL1xuICAgICAgb3A6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgcmV0dXJuIF8ubGFzdCh0aGlzLl9vcFNldFF1ZXVlKVthdHRyXTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xlYXIgYWxsIGF0dHJpYnV0ZXMgb24gdGhlIG1vZGVsLCBmaXJpbmcgPGNvZGU+XCJjaGFuZ2VcIjwvY29kZT4gdW5sZXNzXG4gICAgICAgKiB5b3UgY2hvb3NlIHRvIHNpbGVuY2UgaXQuXG4gICAgICAgKi9cbiAgICAgIGNsZWFyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLnVuc2V0ID0gdHJ1ZTtcbiAgICAgICAgdmFyIGtleXNUb0NsZWFyID0gXy5leHRlbmQodGhpcy5hdHRyaWJ1dGVzLCB0aGlzLl9vcGVyYXRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KGtleXNUb0NsZWFyLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2xlYXJzIGFueSAob3Igc3BlY2lmaWMpIGNoYW5nZXMgdG8gdGhlIG1vZGVsIG1hZGUgc2luY2UgdGhlIGxhc3Qgc2F2ZS5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBba2V5c10gc3BlY2lmeSBrZXlzIHRvIHJldmVydC5cbiAgICAgICAqL1xuICAgICAgcmV2ZXJ0KGtleXMpIHtcbiAgICAgICAgY29uc3QgbGFzdE9wID0gXy5sYXN0KHRoaXMuX29wU2V0UXVldWUpO1xuICAgICAgICBjb25zdCBfa2V5cyA9IGVuc3VyZUFycmF5KGtleXMgfHwgXy5rZXlzKGxhc3RPcCkpO1xuICAgICAgICBfa2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgZGVsZXRlIGxhc3RPcFtrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVidWlsZEFsbEVzdGltYXRlZERhdGEoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYSBKU09OLWVuY29kZWQgc2V0IG9mIG9wZXJhdGlvbnMgdG8gYmUgc2VudCB3aXRoIHRoZSBuZXh0IHNhdmVcbiAgICAgICAqIHJlcXVlc3QuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfZ2V0U2F2ZUpTT046IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIganNvbiA9IF8uY2xvbmUoXy5maXJzdCh0aGlzLl9vcFNldFF1ZXVlKSk7XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKGpzb24sIGZ1bmN0aW9uKG9wLCBrZXkpIHtcbiAgICAgICAgICBqc29uW2tleV0gPSBvcC50b0pTT04oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3QgY2FuIGJlIHNlcmlhbGl6ZWQgZm9yIHNhdmluZy5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9jYW5CZVNlcmlhbGl6ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQVYuT2JqZWN0Ll9jYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEZldGNoIHRoZSBtb2RlbCBmcm9tIHRoZSBzZXJ2ZXIuIElmIHRoZSBzZXJ2ZXIncyByZXByZXNlbnRhdGlvbiBvZiB0aGVcbiAgICAgICAqIG1vZGVsIGRpZmZlcnMgZnJvbSBpdHMgY3VycmVudCBhdHRyaWJ1dGVzLCB0aGV5IHdpbGwgYmUgb3ZlcnJpZGVuLFxuICAgICAgICogdHJpZ2dlcmluZyBhIDxjb2RlPlwiY2hhbmdlXCI8L2NvZGU+IGV2ZW50LlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZldGNoT3B0aW9ucyBPcHRpb25hbCBvcHRpb25zIHRvIHNldCAna2V5cycsXG4gICAgICAgKiAgICAgICdpbmNsdWRlJyBhbmQgJ2luY2x1ZGVBQ0wnIG9wdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBmZXRjaFxuICAgICAgICogICAgIGNvbXBsZXRlcy5cbiAgICAgICAqL1xuICAgICAgZmV0Y2g6IGZ1bmN0aW9uKGZldGNoT3B0aW9ucyA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZldGNoIHVuc2F2ZWQgb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IF9yZXF1ZXN0KFxuICAgICAgICAgICdjbGFzc2VzJyxcbiAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICB0aGlzLmlkLFxuICAgICAgICAgICdHRVQnLFxuICAgICAgICAgIHRyYW5zZm9ybUZldGNoT3B0aW9ucyhmZXRjaE9wdGlvbnMpLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGNvbnN0IGZldGNoZWRBdHRycyA9IHNlbGYucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICAgIHNlbGYuX2NsZWFudXBVbnNldEtleXMoXG4gICAgICAgICAgICBmZXRjaGVkQXR0cnMsXG4gICAgICAgICAgICBmZXRjaE9wdGlvbnMua2V5c1xuICAgICAgICAgICAgICA/IGVuc3VyZUFycmF5KGZldGNoT3B0aW9ucy5rZXlzKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oJywnKVxuICAgICAgICAgICAgICAgICAgLnNwbGl0KCcsJylcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHNlbGYuX2ZpbmlzaEZldGNoKGZldGNoZWRBdHRycywgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgX2NsZWFudXBVbnNldEtleXMoZmV0Y2hlZEF0dHJzLCBmZXRjaGVkS2V5cyA9IF8ua2V5cyh0aGlzLl9zZXJ2ZXJEYXRhKSkge1xuICAgICAgICBfLmZvckVhY2goZmV0Y2hlZEtleXMsIGtleSA9PiB7XG4gICAgICAgICAgaWYgKGZldGNoZWRBdHRyc1trZXldID09PSB1bmRlZmluZWQpIGRlbGV0ZSB0aGlzLl9zZXJ2ZXJEYXRhW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgYSBoYXNoIG9mIG1vZGVsIGF0dHJpYnV0ZXMsIGFuZCBzYXZlIHRoZSBtb2RlbCB0byB0aGUgc2VydmVyLlxuICAgICAgICogdXBkYXRlZEF0IHdpbGwgYmUgdXBkYXRlZCB3aGVuIHRoZSByZXF1ZXN0IHJldHVybnMuXG4gICAgICAgKiBZb3UgY2FuIGVpdGhlciBjYWxsIGl0IGFzOjxwcmU+XG4gICAgICAgKiAgIG9iamVjdC5zYXZlKCk7PC9wcmU+XG4gICAgICAgKiBvcjxwcmU+XG4gICAgICAgKiAgIG9iamVjdC5zYXZlKG51bGwsIG9wdGlvbnMpOzwvcHJlPlxuICAgICAgICogb3I8cHJlPlxuICAgICAgICogICBvYmplY3Quc2F2ZShhdHRycywgb3B0aW9ucyk7PC9wcmU+XG4gICAgICAgKiBvcjxwcmU+XG4gICAgICAgKiAgIG9iamVjdC5zYXZlKGtleSwgdmFsdWUsIG9wdGlvbnMpOzwvcHJlPlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiBnYW1lVHVybi5zYXZlKHtcbiAgICAgICAqICAgcGxheWVyOiBcIkpha2UgQ3V0dGVyXCIsXG4gICAgICAgKiAgIGRpY2VSb2xsOiAyXG4gICAgICAgKiB9KS50aGVuKGZ1bmN0aW9uKGdhbWVUdXJuQWdhaW4pIHtcbiAgICAgICAqICAgLy8gVGhlIHNhdmUgd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICAgKiB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICogICAvLyBUaGUgc2F2ZSBmYWlsZWQuICBFcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBBVkVycm9yLlxuICAgICAgICogfSk7XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9ucyBBdXRoT3B0aW9ucyBwbHVzOlxuICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmZldGNoV2hlblNhdmUgZmV0Y2ggYW5kIHVwZGF0ZSBvYmplY3QgYWZ0ZXIgc2F2ZSBzdWNjZWVkZWRcbiAgICAgICAqIEBwYXJhbSB7QVYuUXVlcnl9IG9wdGlvbnMucXVlcnkgU2F2ZSBvYmplY3Qgb25seSB3aGVuIGl0IG1hdGNoZXMgdGhlIHF1ZXJ5XG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgc2F2ZVxuICAgICAgICogICAgIGNvbXBsZXRlcy5cbiAgICAgICAqIEBzZWUgQVZFcnJvclxuICAgICAgICovXG4gICAgICBzYXZlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHZhciBhdHRycywgY3VycmVudCwgb3B0aW9ucztcbiAgICAgICAgaWYgKF8uaXNPYmplY3QoYXJnMSkgfHwgaXNOdWxsT3JVbmRlZmluZWQoYXJnMSkpIHtcbiAgICAgICAgICBhdHRycyA9IGFyZzE7XG4gICAgICAgICAgb3B0aW9ucyA9IGFyZzI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0cnMgPSB7fTtcbiAgICAgICAgICBhdHRyc1thcmcxXSA9IGFyZzI7XG4gICAgICAgICAgb3B0aW9ucyA9IGFyZzM7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gXy5jbG9uZShvcHRpb25zKSB8fCB7fTtcbiAgICAgICAgaWYgKG9wdGlvbnMud2FpdCkge1xuICAgICAgICAgIGN1cnJlbnQgPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2V0T3B0aW9ucyA9IF8uY2xvbmUob3B0aW9ucykgfHwge307XG4gICAgICAgIGlmIChzZXRPcHRpb25zLndhaXQpIHtcbiAgICAgICAgICBzZXRPcHRpb25zLnNpbGVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgdGhpcy5zZXQoYXR0cnMsIHNldE9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcblxuICAgICAgICB2YXIgdW5zYXZlZENoaWxkcmVuID0gW107XG4gICAgICAgIHZhciB1bnNhdmVkRmlsZXMgPSBbXTtcbiAgICAgICAgQVYuT2JqZWN0Ll9maW5kVW5zYXZlZENoaWxkcmVuKG1vZGVsLCB1bnNhdmVkQ2hpbGRyZW4sIHVuc2F2ZWRGaWxlcyk7XG4gICAgICAgIGlmICh1bnNhdmVkQ2hpbGRyZW4ubGVuZ3RoICsgdW5zYXZlZEZpbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXR1cm4gQVYuT2JqZWN0Ll9kZWVwU2F2ZUFzeW5jKHRoaXMsIG1vZGVsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXJ0U2F2ZSgpO1xuICAgICAgICB0aGlzLl9zYXZpbmcgPSAodGhpcy5fc2F2aW5nIHx8IDApICsgMTtcblxuICAgICAgICB0aGlzLl9hbGxQcmV2aW91c1NhdmVzID0gdGhpcy5fYWxsUHJldmlvdXNTYXZlcyB8fCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5fYWxsUHJldmlvdXNTYXZlcyA9IHRoaXMuX2FsbFByZXZpb3VzU2F2ZXNcbiAgICAgICAgICAuY2F0Y2goZSA9PiB7fSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBtb2RlbC5pZCA/ICdQVVQnIDogJ1BPU1QnO1xuXG4gICAgICAgICAgICB2YXIganNvbiA9IG1vZGVsLl9nZXRTYXZlSlNPTigpO1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0ge307XG5cbiAgICAgICAgICAgIGlmIChtb2RlbC5fZmV0Y2hXaGVuU2F2ZSB8fCBvcHRpb25zLmZldGNoV2hlblNhdmUpIHtcbiAgICAgICAgICAgICAgcXVlcnlbJ25ldyddID0gJ3RydWUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXNlciBsb2dpbiBvcHRpb25cbiAgICAgICAgICAgIGlmIChvcHRpb25zLl9mYWlsT25Ob3RFeGlzdCkge1xuICAgICAgICAgICAgICBxdWVyeS5mYWlsT25Ob3RFeGlzdCA9ICd0cnVlJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucXVlcnkpIHtcbiAgICAgICAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zO1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucXVlcnkuX2dldFBhcmFtcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zID0gb3B0aW9ucy5xdWVyeS5fZ2V0UGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICBxdWVyeS53aGVyZSA9IHF1ZXJ5UGFyYW1zLndoZXJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIXF1ZXJ5LndoZXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdvcHRpb25zLnF1ZXJ5IGlzIG5vdCBhbiBBVi5RdWVyeScpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uZXh0ZW5kKGpzb24sIG1vZGVsLl9mbGFncyk7XG5cbiAgICAgICAgICAgIHZhciByb3V0ZSA9ICdjbGFzc2VzJztcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBtb2RlbC5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAobW9kZWwuY2xhc3NOYW1lID09PSAnX1VzZXInICYmICFtb2RlbC5pZCkge1xuICAgICAgICAgICAgICAvLyBTcGVjaWFsLWNhc2UgdXNlciBzaWduLXVwLlxuICAgICAgICAgICAgICByb3V0ZSA9ICd1c2Vycyc7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2hvb2sgbWFrZVJlcXVlc3QgaW4gb3B0aW9ucy5cbiAgICAgICAgICAgIHZhciBtYWtlUmVxdWVzdCA9IG9wdGlvbnMuX21ha2VSZXF1ZXN0IHx8IF9yZXF1ZXN0O1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RQcm9taXNlID0gbWFrZVJlcXVlc3QoXG4gICAgICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICAgIG1vZGVsLmlkLFxuICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHF1ZXJ5XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXF1ZXN0UHJvbWlzZSA9IHJlcXVlc3RQcm9taXNlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VydmVyQXR0cnMgPSBtb2RlbC5wYXJzZShyZXNwKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53YWl0KSB7XG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJBdHRycyA9IF8uZXh0ZW5kKGF0dHJzIHx8IHt9LCBzZXJ2ZXJBdHRycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vZGVsLl9maW5pc2hTYXZlKHNlcnZlckF0dHJzKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53YWl0KSB7XG4gICAgICAgICAgICAgICAgICBtb2RlbC5zZXQoY3VycmVudCwgc2V0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBtb2RlbC5fY2FuY2VsU2F2ZSgpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdFByb21pc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxQcmV2aW91c1NhdmVzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBEZXN0cm95IHRoaXMgbW9kZWwgb24gdGhlIHNlcnZlciBpZiBpdCB3YXMgYWxyZWFkeSBwZXJzaXN0ZWQuXG4gICAgICAgKiBPcHRpbWlzdGljYWxseSByZW1vdmVzIHRoZSBtb2RlbCBmcm9tIGl0cyBjb2xsZWN0aW9uLCBpZiBpdCBoYXMgb25lLlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9ucyBBdXRoT3B0aW9ucyBwbHVzOlxuICAgICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53YWl0XSB3YWl0IGZvciB0aGUgc2VydmVyIHRvIHJlc3BvbmRcbiAgICAgICAqIGJlZm9yZSByZW1vdmFsLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBkZXN0cm95XG4gICAgICAgKiAgICAgY29tcGxldGVzLlxuICAgICAgICovXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuXG4gICAgICAgIHZhciB0cmlnZ2VyRGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1vZGVsLnRyaWdnZXIoJ2Rlc3Ryb3knLCBtb2RlbCwgbW9kZWwuY29sbGVjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJEZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMud2FpdCkge1xuICAgICAgICAgIHRyaWdnZXJEZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVxdWVzdCA9IF9yZXF1ZXN0KFxuICAgICAgICAgICdjbGFzc2VzJyxcbiAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICB0aGlzLmlkLFxuICAgICAgICAgICdERUxFVEUnLFxuICAgICAgICAgIHRoaXMuX2ZsYWdzLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy53YWl0KSB7XG4gICAgICAgICAgICB0cmlnZ2VyRGVzdHJveSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDb252ZXJ0cyBhIHJlc3BvbnNlIGludG8gdGhlIGhhc2ggb2YgYXR0cmlidXRlcyB0byBiZSBzZXQgb24gdGhlIG1vZGVsLlxuICAgICAgICogQGlnbm9yZVxuICAgICAgICovXG4gICAgICBwYXJzZTogZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gXy5jbG9uZShyZXNwKTtcbiAgICAgICAgWydjcmVhdGVkQXQnLCAndXBkYXRlZEF0J10uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAob3V0cHV0W2tleV0pIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gQVYuX3BhcnNlRGF0ZShvdXRwdXRba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG91dHB1dC5jcmVhdGVkQXQgJiYgIW91dHB1dC51cGRhdGVkQXQpIHtcbiAgICAgICAgICBvdXRwdXQudXBkYXRlZEF0ID0gb3V0cHV0LmNyZWF0ZWRBdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGEgbmV3IG1vZGVsIHdpdGggaWRlbnRpY2FsIGF0dHJpYnV0ZXMgdG8gdGhpcyBvbmUuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5PYmplY3R9XG4gICAgICAgKi9cbiAgICAgIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG9iamVjdCBoYXMgbmV2ZXIgYmVlbiBzYXZlZCB0byBBVi5cbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIGlzTmV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmlkO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIG1hbnVhbGx5IGZpcmUgYSBgXCJjaGFuZ2VcImAgZXZlbnQgZm9yIHRoaXMgbW9kZWwgYW5kXG4gICAgICAgKiBhIGBcImNoYW5nZTphdHRyaWJ1dGVcImAgZXZlbnQgZm9yIGVhY2ggY2hhbmdlZCBhdHRyaWJ1dGUuXG4gICAgICAgKiBDYWxsaW5nIHRoaXMgd2lsbCBjYXVzZSBhbGwgb2JqZWN0cyBvYnNlcnZpbmcgdGhlIG1vZGVsIHRvIHVwZGF0ZS5cbiAgICAgICAqL1xuICAgICAgY2hhbmdlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgY2hhbmdpbmcgPSB0aGlzLl9jaGFuZ2luZztcbiAgICAgICAgdGhpcy5fY2hhbmdpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vIFNpbGVudCBjaGFuZ2VzIGJlY29tZSBwZW5kaW5nIGNoYW5nZXMuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgQVYuX29iamVjdEVhY2godGhpcy5fc2lsZW50LCBmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgICAgc2VsZi5fcGVuZGluZ1thdHRyXSA9IHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNpbGVudCBjaGFuZ2VzIGFyZSB0cmlnZ2VyZWQuXG4gICAgICAgIHZhciBjaGFuZ2VzID0gXy5leHRlbmQoe30sIG9wdGlvbnMuY2hhbmdlcywgdGhpcy5fc2lsZW50KTtcbiAgICAgICAgdGhpcy5fc2lsZW50ID0ge307XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKGNoYW5nZXMsIGZ1bmN0aW9uKHVudXNlZF92YWx1ZSwgYXR0cikge1xuICAgICAgICAgIHNlbGYudHJpZ2dlcignY2hhbmdlOicgKyBhdHRyLCBzZWxmLCBzZWxmLmdldChhdHRyKSwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2hhbmdpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgaXMgdG8gZ2V0IGFyb3VuZCBsaW50IG5vdCBsZXR0aW5nIHVzIG1ha2UgYSBmdW5jdGlvbiBpbiBhIGxvb3AuXG4gICAgICAgIHZhciBkZWxldGVDaGFuZ2VkID0gZnVuY3Rpb24odmFsdWUsIGF0dHIpIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX3BlbmRpbmdbYXR0cl0gJiYgIXNlbGYuX3NpbGVudFthdHRyXSkge1xuICAgICAgICAgICAgZGVsZXRlIHNlbGYuY2hhbmdlZFthdHRyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ29udGludWUgZmlyaW5nIGBcImNoYW5nZVwiYCBldmVudHMgd2hpbGUgdGhlcmUgYXJlIHBlbmRpbmcgY2hhbmdlcy5cbiAgICAgICAgd2hpbGUgKCFfLmlzRW1wdHkodGhpcy5fcGVuZGluZykpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nID0ge307XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAvLyBQZW5kaW5nIGFuZCBzaWxlbnQgY2hhbmdlcyBzdGlsbCByZW1haW4uXG4gICAgICAgICAgQVYuX29iamVjdEVhY2godGhpcy5jaGFuZ2VkLCBkZWxldGVDaGFuZ2VkKTtcbiAgICAgICAgICBzZWxmLl9wcmV2aW91c0F0dHJpYnV0ZXMgPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jaGFuZ2luZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0cyB0aGUgcHJldmlvdXMgdmFsdWUgb2YgYW4gYXR0cmlidXRlLCByZWNvcmRlZCBhdCB0aGUgdGltZSB0aGUgbGFzdFxuICAgICAgICogPGNvZGU+XCJjaGFuZ2VcIjwvY29kZT4gZXZlbnQgd2FzIGZpcmVkLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGdldC5cbiAgICAgICAqL1xuICAgICAgcHJldmlvdXM6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoIHx8ICF0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzW2F0dHJdO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIGFsbCBvZiB0aGUgYXR0cmlidXRlcyBvZiB0aGUgbW9kZWwgYXQgdGhlIHRpbWUgb2YgdGhlIHByZXZpb3VzXG4gICAgICAgKiA8Y29kZT5cImNoYW5nZVwiPC9jb2RlPiBldmVudC5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgcHJldmlvdXNBdHRyaWJ1dGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF8uY2xvbmUodGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2tzIGlmIHRoZSBtb2RlbCBpcyBjdXJyZW50bHkgaW4gYSB2YWxpZCBzdGF0ZS4gSXQncyBvbmx5IHBvc3NpYmxlIHRvXG4gICAgICAgKiBnZXQgaW50byBhbiAqaW52YWxpZCogc3RhdGUgaWYgeW91J3JlIHVzaW5nIHNpbGVudCBjaGFuZ2VzLlxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgaXNWYWxpZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0ZSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogWW91IHNob3VsZCBub3QgY2FsbCB0aGlzIGZ1bmN0aW9uIGRpcmVjdGx5IHVubGVzcyB5b3Ugc3ViY2xhc3NcbiAgICAgICAqIDxjb2RlPkFWLk9iamVjdDwvY29kZT4sIGluIHdoaWNoIGNhc2UgeW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZFxuICAgICAgICogdG8gcHJvdmlkZSBhZGRpdGlvbmFsIHZhbGlkYXRpb24gb24gPGNvZGU+c2V0PC9jb2RlPiBhbmRcbiAgICAgICAqIDxjb2RlPnNhdmU8L2NvZGU+LiAgWW91ciBpbXBsZW1lbnRhdGlvbiBzaG91bGQgdGhyb3cgYW4gRXJyb3IgaWZcbiAgICAgICAqIHRoZSBhdHRycyBpcyBpbnZhbGlkXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIFRoZSBjdXJyZW50IGRhdGEgdG8gdmFsaWRhdGUuXG4gICAgICAgKiBAc2VlIEFWLk9iamVjdCNzZXRcbiAgICAgICAqL1xuICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIGlmIChfLmhhcyhhdHRycywgJ0FDTCcpICYmICEoYXR0cnMuQUNMIGluc3RhbmNlb2YgQVYuQUNMKSkge1xuICAgICAgICAgIHRocm93IG5ldyBBVkVycm9yKEFWRXJyb3IuT1RIRVJfQ0FVU0UsICdBQ0wgbXVzdCBiZSBhIEFWLkFDTC4nKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSdW4gdmFsaWRhdGlvbiBhZ2FpbnN0IGEgc2V0IG9mIGluY29taW5nIGF0dHJpYnV0ZXMsIHJldHVybmluZyBgdHJ1ZWBcbiAgICAgICAqIGlmIGFsbCBpcyB3ZWxsLiBJZiBhIHNwZWNpZmljIGBlcnJvcmAgY2FsbGJhY2sgaGFzIGJlZW4gcGFzc2VkLFxuICAgICAgICogY2FsbCB0aGF0IGluc3RlYWQgb2YgZmlyaW5nIHRoZSBnZW5lcmFsIGBcImVycm9yXCJgIGV2ZW50LlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX3ZhbGlkYXRlOiBmdW5jdGlvbihhdHRycywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5zaWxlbnQgfHwgIXRoaXMudmFsaWRhdGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXR0cnMgPSBfLmV4dGVuZCh7fSwgdGhpcy5hdHRyaWJ1dGVzLCBhdHRycyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoYXR0cnMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRoZSBBQ0wgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAgICogQHJldHVybnMge0FWLkFDTH0gQW4gaW5zdGFuY2Ugb2YgQVYuQUNMLlxuICAgICAgICogQHNlZSBBVi5PYmplY3QjZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldEFDTDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnQUNMJyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIEFDTCB0byBiZSB1c2VkIGZvciB0aGlzIG9iamVjdC5cbiAgICAgICAqIEBwYXJhbSB7QVYuQUNMfSBhY2wgQW4gaW5zdGFuY2Ugb2YgQVYuQUNMLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgQmFja2JvbmUtbGlrZSBvcHRpb25zIG9iamVjdCB0byBiZVxuICAgICAgICogICAgIHBhc3NlZCBpbiB0byBzZXQuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5PYmplY3R9IHNlbGZcbiAgICAgICAqIEBzZWUgQVYuT2JqZWN0I3NldFxuICAgICAgICovXG4gICAgICBzZXRBQ0w6IGZ1bmN0aW9uKGFjbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoJ0FDTCcsIGFjbCwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICBkaXNhYmxlQmVmb3JlSG9vazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaWdub3JlSG9vaygnYmVmb3JlU2F2ZScpO1xuICAgICAgICB0aGlzLmlnbm9yZUhvb2soJ2JlZm9yZVVwZGF0ZScpO1xuICAgICAgICB0aGlzLmlnbm9yZUhvb2soJ2JlZm9yZURlbGV0ZScpO1xuICAgICAgfSxcblxuICAgICAgZGlzYWJsZUFmdGVySG9vazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaWdub3JlSG9vaygnYWZ0ZXJTYXZlJyk7XG4gICAgICAgIHRoaXMuaWdub3JlSG9vaygnYWZ0ZXJVcGRhdGUnKTtcbiAgICAgICAgdGhpcy5pZ25vcmVIb29rKCdhZnRlckRlbGV0ZScpO1xuICAgICAgfSxcblxuICAgICAgaWdub3JlSG9vazogZnVuY3Rpb24oaG9va05hbWUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFfLmNvbnRhaW5zKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAnYmVmb3JlU2F2ZScsXG4gICAgICAgICAgICAgICdhZnRlclNhdmUnLFxuICAgICAgICAgICAgICAnYmVmb3JlVXBkYXRlJyxcbiAgICAgICAgICAgICAgJ2FmdGVyVXBkYXRlJyxcbiAgICAgICAgICAgICAgJ2JlZm9yZURlbGV0ZScsXG4gICAgICAgICAgICAgICdhZnRlckRlbGV0ZScsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaG9va05hbWVcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgaG9va05hbWU6ICcgKyBob29rTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFWLmhvb2tLZXkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lnbm9yZUhvb2sgcmVxdWlyZWQgaG9va0tleScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mbGFncy5fX2lnbm9yZV9ob29rcykge1xuICAgICAgICAgIHRoaXMuX2ZsYWdzLl9faWdub3JlX2hvb2tzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mbGFncy5fX2lnbm9yZV9ob29rcy5wdXNoKGhvb2tOYW1lKTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgc3ViY2xhc3Mgb2YgQVYuT2JqZWN0IGZvciB0aGUgZ2l2ZSBjbGFzc25hbWVcbiAgICogYW5kIGlkLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd8RnVuY3Rpb259IGNsYXNzIHRoZSBjbGFzc05hbWUgb3IgYSBzdWJjbGFzcyBvZiBBVi5PYmplY3QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgb2JqZWN0IGlkIG9mIHRoaXMgbW9kZWwuXG4gICAqIEByZXR1cm4ge0FWLk9iamVjdH0gQSBuZXcgc3ViY2xhc3MgaW5zdGFuY2Ugb2YgQVYuT2JqZWN0LlxuICAgKi9cbiAgQVYuT2JqZWN0LmNyZWF0ZVdpdGhvdXREYXRhID0gKGtsYXNzLCBpZCwgaGFzRGF0YSkgPT4ge1xuICAgIGxldCBfa2xhc3M7XG4gICAgaWYgKF8uaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBfa2xhc3MgPSBBVi5PYmplY3QuX2dldFN1YmNsYXNzKGtsYXNzKTtcbiAgICB9IGVsc2UgaWYgKGtsYXNzLnByb3RvdHlwZSAmJiBrbGFzcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBBVi5PYmplY3QpIHtcbiAgICAgIF9rbGFzcyA9IGtsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsYXNzIG11c3QgYmUgYSBzdHJpbmcgb3IgYSBzdWJjbGFzcyBvZiBBVi5PYmplY3QuJyk7XG4gICAgfVxuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBvYmplY3RJZCBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gICAgfVxuICAgIGNvbnN0IG9iamVjdCA9IG5ldyBfa2xhc3MoKTtcbiAgICBvYmplY3QuaWQgPSBpZDtcbiAgICBvYmplY3QuX2hhc0RhdGEgPSBoYXNEYXRhO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG4gIC8qKlxuICAgKiBEZWxldGUgb2JqZWN0cyBpbiBiYXRjaC5cbiAgICogQHBhcmFtIHtBVi5PYmplY3RbXX0gb2JqZWN0cyBUaGUgPGNvZGU+QVYuT2JqZWN0PC9jb2RlPiBhcnJheSB0byBiZSBkZWxldGVkLlxuICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBzYXZlXG4gICAqICAgICBjb21wbGV0ZXMuXG4gICAqL1xuICBBVi5PYmplY3QuZGVzdHJveUFsbCA9IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghb2JqZWN0cyB8fCBvYmplY3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBjb25zdCBvYmplY3RzQnlDbGFzc05hbWVBbmRGbGFncyA9IF8uZ3JvdXBCeShvYmplY3RzLCBvYmplY3QgPT5cbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY2xhc3NOYW1lOiBvYmplY3QuY2xhc3NOYW1lLFxuICAgICAgICBmbGFnczogb2JqZWN0Ll9mbGFncyxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgcmVxdWVzdHM6IF8ubWFwKG9iamVjdHNCeUNsYXNzTmFtZUFuZEZsYWdzLCBvYmplY3RzID0+IHtcbiAgICAgICAgY29uc3QgaWRzID0gXy5tYXAob2JqZWN0cywgJ2lkJykuam9pbignLCcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgcGF0aDogYC8xLjEvY2xhc3Nlcy8ke29iamVjdHNbMF0uY2xhc3NOYW1lfS8ke2lkc31gLFxuICAgICAgICAgIGJvZHk6IG9iamVjdHNbMF0uX2ZsYWdzLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgfTtcbiAgICByZXR1cm4gX3JlcXVlc3QoJ2JhdGNoJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBib2R5LCBvcHRpb25zKS50aGVuKFxuICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICBjb25zdCBmaXJzdEVycm9yID0gXy5maW5kKHJlc3BvbnNlLCByZXN1bHQgPT4gIXJlc3VsdC5zdWNjZXNzKTtcbiAgICAgICAgaWYgKGZpcnN0RXJyb3IpXG4gICAgICAgICAgdGhyb3cgbmV3IEFWRXJyb3IoZmlyc3RFcnJvci5lcnJvci5jb2RlLCBmaXJzdEVycm9yLmVycm9yLmVycm9yKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhcHByb3ByaWF0ZSBzdWJjbGFzcyBmb3IgbWFraW5nIG5ldyBpbnN0YW5jZXMgb2YgdGhlIGdpdmVuXG4gICAqIGNsYXNzTmFtZSBzdHJpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBVi5PYmplY3QuX2dldFN1YmNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgaWYgKCFfLmlzU3RyaW5nKGNsYXNzTmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQVYuT2JqZWN0Ll9nZXRTdWJjbGFzcyByZXF1aXJlcyBhIHN0cmluZyBhcmd1bWVudC4nKTtcbiAgICB9XG4gICAgdmFyIE9iamVjdENsYXNzID0gQVYuT2JqZWN0Ll9jbGFzc01hcFtjbGFzc05hbWVdO1xuICAgIGlmICghT2JqZWN0Q2xhc3MpIHtcbiAgICAgIE9iamVjdENsYXNzID0gQVYuT2JqZWN0LmV4dGVuZChjbGFzc05hbWUpO1xuICAgICAgQVYuT2JqZWN0Ll9jbGFzc01hcFtjbGFzc05hbWVdID0gT2JqZWN0Q2xhc3M7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3RDbGFzcztcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIHN1YmNsYXNzIG9mIEFWLk9iamVjdCBmb3IgdGhlIGdpdmVuIGNsYXNzbmFtZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEFWLk9iamVjdC5fY3JlYXRlID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBhdHRyaWJ1dGVzLCBvcHRpb25zKSB7XG4gICAgdmFyIE9iamVjdENsYXNzID0gQVYuT2JqZWN0Ll9nZXRTdWJjbGFzcyhjbGFzc05hbWUpO1xuICAgIHJldHVybiBuZXcgT2JqZWN0Q2xhc3MoYXR0cmlidXRlcywgb3B0aW9ucyk7XG4gIH07XG5cbiAgLy8gU2V0IHVwIGEgbWFwIG9mIGNsYXNzTmFtZSB0byBjbGFzcyBzbyB0aGF0IHdlIGNhbiBjcmVhdGUgbmV3IGluc3RhbmNlcyBvZlxuICAvLyBBViBPYmplY3RzIGZyb20gSlNPTiBhdXRvbWF0aWNhbGx5LlxuICBBVi5PYmplY3QuX2NsYXNzTWFwID0ge307XG5cbiAgQVYuT2JqZWN0Ll9leHRlbmQgPSBBVi5fZXh0ZW5kO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IG1vZGVsIHdpdGggZGVmaW5lZCBhdHRyaWJ1dGVzLFxuICAgKiBJdCdzIHRoZSBzYW1lIHdpdGhcbiAgICogPHByZT5cbiAgICogICBuZXcgQVYuT2JqZWN0KGF0dHJpYnV0ZXMsIG9wdGlvbnMpO1xuICAgKiAgPC9wcmU+XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzIFRoZSBpbml0aWFsIHNldCBvZiBkYXRhIHRvIHN0b3JlIGluIHRoZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEEgc2V0IG9mIEJhY2tib25lLWxpa2Ugb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlXG4gICAqICAgICBvYmplY3QuICBUaGUgb25seSBvcHRpb24gY3VycmVudGx5IHN1cHBvcnRlZCBpcyBcImNvbGxlY3Rpb25cIi5cbiAgICogQHJldHVybiB7QVYuT2JqZWN0fVxuICAgKiBAc2luY2UgdjAuNC40XG4gICAqIEBzZWUgQVYuT2JqZWN0XG4gICAqIEBzZWUgQVYuT2JqZWN0LmV4dGVuZFxuICAgKi9cbiAgQVYuT2JqZWN0WyduZXcnXSA9IGZ1bmN0aW9uKGF0dHJpYnV0ZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IEFWLk9iamVjdChhdHRyaWJ1dGVzLCBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBzdWJjbGFzcyBvZiBBVi5PYmplY3QgZm9yIHRoZSBnaXZlbiBBViBjbGFzcyBuYW1lLlxuICAgKlxuICAgKiA8cD5FdmVyeSBleHRlbnNpb24gb2YgYSBBViBjbGFzcyB3aWxsIGluaGVyaXQgZnJvbSB0aGUgbW9zdCByZWNlbnRcbiAgICogcHJldmlvdXMgZXh0ZW5zaW9uIG9mIHRoYXQgY2xhc3MuIFdoZW4gYSBBVi5PYmplY3QgaXMgYXV0b21hdGljYWxseVxuICAgKiBjcmVhdGVkIGJ5IHBhcnNpbmcgSlNPTiwgaXQgd2lsbCB1c2UgdGhlIG1vc3QgcmVjZW50IGV4dGVuc2lvbiBvZiB0aGF0XG4gICAqIGNsYXNzLjwvcD5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogdmFyIE15Q2xhc3MgPSBBVi5PYmplY3QuZXh0ZW5kKFwiTXlDbGFzc1wiLCB7XG4gICAqICAgICAvLyBJbnN0YW5jZSBwcm9wZXJ0aWVzXG4gICAqIH0sIHtcbiAgICogICAgIC8vIENsYXNzIHByb3BlcnRpZXNcbiAgICogfSk7XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUgVGhlIG5hbWUgb2YgdGhlIEFWIGNsYXNzIGJhY2tpbmcgdGhpcyBtb2RlbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvUHJvcHMgSW5zdGFuY2UgcHJvcGVydGllcyB0byBhZGQgdG8gaW5zdGFuY2VzIG9mIHRoZVxuICAgKiAgICAgY2xhc3MgcmV0dXJuZWQgZnJvbSB0aGlzIG1ldGhvZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGNsYXNzUHJvcHMgQ2xhc3MgcHJvcGVydGllcyB0byBhZGQgdGhlIGNsYXNzIHJldHVybmVkIGZyb21cbiAgICogICAgIHRoaXMgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtDbGFzc30gQSBuZXcgc3ViY2xhc3Mgb2YgQVYuT2JqZWN0LlxuICAgKi9cbiAgQVYuT2JqZWN0LmV4dGVuZCA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgcHJvdG9Qcm9wcywgY2xhc3NQcm9wcykge1xuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aXRoIG9ubHkgdHdvIGFyZ3MuXG4gICAgaWYgKCFfLmlzU3RyaW5nKGNsYXNzTmFtZSkpIHtcbiAgICAgIGlmIChjbGFzc05hbWUgJiYgXy5oYXMoY2xhc3NOYW1lLCAnY2xhc3NOYW1lJykpIHtcbiAgICAgICAgcmV0dXJuIEFWLk9iamVjdC5leHRlbmQoY2xhc3NOYW1lLmNsYXNzTmFtZSwgY2xhc3NOYW1lLCBwcm90b1Byb3BzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkFWLk9iamVjdC5leHRlbmQncyBmaXJzdCBhcmd1bWVudCBzaG91bGQgYmUgdGhlIGNsYXNzTmFtZS5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHNvbWVvbmUgdHJpZXMgdG8gc3ViY2xhc3MgXCJVc2VyXCIsIGNvZXJjZSBpdCB0byB0aGUgcmlnaHQgdHlwZS5cbiAgICBpZiAoY2xhc3NOYW1lID09PSAnVXNlcicpIHtcbiAgICAgIGNsYXNzTmFtZSA9ICdfVXNlcic7XG4gICAgfVxuXG4gICAgdmFyIE5ld0NsYXNzT2JqZWN0ID0gbnVsbDtcbiAgICBpZiAoXy5oYXMoQVYuT2JqZWN0Ll9jbGFzc01hcCwgY2xhc3NOYW1lKSkge1xuICAgICAgdmFyIE9sZENsYXNzT2JqZWN0ID0gQVYuT2JqZWN0Ll9jbGFzc01hcFtjbGFzc05hbWVdO1xuICAgICAgLy8gVGhpcyBuZXcgc3ViY2xhc3MgaGFzIGJlZW4gdG9sZCB0byBleHRlbmQgYm90aCBmcm9tIFwidGhpc1wiIGFuZCBmcm9tXG4gICAgICAvLyBPbGRDbGFzc09iamVjdC4gVGhpcyBpcyBtdWx0aXBsZSBpbmhlcml0YW5jZSwgd2hpY2ggaXNuJ3Qgc3VwcG9ydGVkLlxuICAgICAgLy8gRm9yIG5vdywgbGV0J3MganVzdCBwaWNrIG9uZS5cbiAgICAgIGlmIChwcm90b1Byb3BzIHx8IGNsYXNzUHJvcHMpIHtcbiAgICAgICAgTmV3Q2xhc3NPYmplY3QgPSBPbGRDbGFzc09iamVjdC5fZXh0ZW5kKHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9sZENsYXNzT2JqZWN0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwcm90b1Byb3BzID0gcHJvdG9Qcm9wcyB8fCB7fTtcbiAgICAgIHByb3RvUHJvcHMuX2NsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgIE5ld0NsYXNzT2JqZWN0ID0gdGhpcy5fZXh0ZW5kKHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpO1xuICAgIH1cbiAgICAvLyBFeHRlbmRpbmcgYSBzdWJjbGFzcyBzaG91bGQgcmV1c2UgdGhlIGNsYXNzbmFtZSBhdXRvbWF0aWNhbGx5LlxuICAgIE5ld0NsYXNzT2JqZWN0LmV4dGVuZCA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgIGlmIChfLmlzU3RyaW5nKGFyZzApIHx8IChhcmcwICYmIF8uaGFzKGFyZzAsICdjbGFzc05hbWUnKSkpIHtcbiAgICAgICAgcmV0dXJuIEFWLk9iamVjdC5leHRlbmQuYXBwbHkoTmV3Q2xhc3NPYmplY3QsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3QXJndW1lbnRzID0gW2NsYXNzTmFtZV0uY29uY2F0KF8udG9BcnJheShhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybiBBVi5PYmplY3QuZXh0ZW5kLmFwcGx5KE5ld0NsYXNzT2JqZWN0LCBuZXdBcmd1bWVudHMpO1xuICAgIH07XG4gICAgLy8gQWRkIHRoZSBxdWVyeSBwcm9wZXJ0eSBkZXNjcmlwdG9yLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIE5ld0NsYXNzT2JqZWN0LFxuICAgICAgJ3F1ZXJ5JyxcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQVYuT2JqZWN0LCAncXVlcnknKVxuICAgICk7XG4gICAgTmV3Q2xhc3NPYmplY3RbJ25ldyddID0gZnVuY3Rpb24oYXR0cmlidXRlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG5ldyBOZXdDbGFzc09iamVjdChhdHRyaWJ1dGVzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEFWLk9iamVjdC5fY2xhc3NNYXBbY2xhc3NOYW1lXSA9IE5ld0NsYXNzT2JqZWN0O1xuICAgIHJldHVybiBOZXdDbGFzc09iamVjdDtcbiAgfTtcblxuICAvLyBFUzYgY2xhc3Mgc3ludGF4IHN1cHBvcnRcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFWLk9iamVjdC5wcm90b3R5cGUsICdjbGFzc05hbWUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9XG4gICAgICAgIHRoaXMuX2NsYXNzTmFtZSB8fFxuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl9MQ0NsYXNzTmFtZSB8fFxuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAvLyBJZiBzb21lb25lIHRyaWVzIHRvIHN1YmNsYXNzIFwiVXNlclwiLCBjb2VyY2UgaXQgdG8gdGhlIHJpZ2h0IHR5cGUuXG4gICAgICBpZiAoY2xhc3NOYW1lID09PSAnVXNlcicpIHtcbiAgICAgICAgcmV0dXJuICdfVXNlcic7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xhc3NOYW1lO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGNsYXNzLlxuICAgKiBJZiBhIHN1YmNsYXNzIG9mIDxjb2RlPkFWLk9iamVjdDwvY29kZT4gaXMgZGVmaW5lZCB3aXRoIHlvdXIgb3duIGltcGxlbWVudFxuICAgKiByYXRoZXIgdGhlbiA8Y29kZT5BVi5PYmplY3QuZXh0ZW5kPC9jb2RlPiwgdGhlIHN1YmNsYXNzIG11c3QgYmUgcmVnaXN0ZXJlZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2xhc3MgQSBzdWJjbGFzcyBvZiA8Y29kZT5BVi5PYmplY3Q8L2NvZGU+XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gU3BlY2lmeSB0aGUgbmFtZSBvZiB0aGUgY2xhc3MuIFVzZWZ1bCB3aGVuIHRoZSBjbGFzcyBtaWdodCBiZSB1Z2xpZmllZC5cbiAgICogQGV4YW1wbGVcbiAgICogY2xhc3MgUGVyc29uIGV4dGVuZCBBVi5PYmplY3Qge31cbiAgICogQVYuT2JqZWN0LnJlZ2lzdGVyKFBlcnNvbik7XG4gICAqL1xuICBBVi5PYmplY3QucmVnaXN0ZXIgPSAoa2xhc3MsIG5hbWUpID0+IHtcbiAgICBpZiAoIShrbGFzcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBBVi5PYmplY3QpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlZ2lzdGVyZWQgY2xhc3MgaXMgbm90IGEgc3ViY2xhc3Mgb2YgQVYuT2JqZWN0Jyk7XG4gICAgfVxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IG5hbWUgfHwga2xhc3MubmFtZTtcbiAgICBpZiAoIWNsYXNzTmFtZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVnaXN0ZXJlZCBjbGFzcyBtdXN0IGJlIG5hbWVkJyk7XG4gICAgfVxuICAgIGlmIChuYW1lKSB7XG4gICAgICBrbGFzcy5fTENDbGFzc05hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBBVi5PYmplY3QuX2NsYXNzTWFwW2NsYXNzTmFtZV0gPSBrbGFzcztcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgbmV3IFF1ZXJ5IG9mIHRoZSBjdXJyZW50IGNsYXNzXG4gICAqIEBuYW1lIHF1ZXJ5XG4gICAqIEBtZW1iZXJvZiBBVi5PYmplY3RcbiAgICogQHR5cGUgQVYuUXVlcnlcbiAgICogQHJlYWRvbmx5XG4gICAqIEBzaW5jZSB2My4xLjBcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgUG9zdCA9IEFWLk9iamVjdC5leHRlbmQoJ1Bvc3QnKTtcbiAgICogUG9zdC5xdWVyeS5lcXVhbFRvKCdhdXRob3InLCAnbGVhbmNsb3VkJykuZmluZCgpLnRoZW4oKTtcbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBVi5PYmplY3QsICdxdWVyeScsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IEFWLlF1ZXJ5KHRoaXMucHJvdG90eXBlLmNsYXNzTmFtZSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgQVYuT2JqZWN0Ll9maW5kVW5zYXZlZENoaWxkcmVuID0gZnVuY3Rpb24ob2JqZWN0cywgY2hpbGRyZW4sIGZpbGVzKSB7XG4gICAgQVYuX3RyYXZlcnNlKG9iamVjdHMsIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFWLk9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0LmRpcnR5KCkpIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQVYuRmlsZSkge1xuICAgICAgICBpZiAoIW9iamVjdC5pZCkge1xuICAgICAgICAgIGZpbGVzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgQVYuT2JqZWN0Ll9jYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGNhbkJlU2VyaWFsaXplZEFzVmFsdWUgPSB0cnVlO1xuXG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFWLk9iamVjdCB8fCBvYmplY3QgaW5zdGFuY2VvZiBBVi5GaWxlKSB7XG4gICAgICBjYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlID0gISFvYmplY3QuaWQ7XG4gICAgfSBlbHNlIGlmIChfLmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgQVYuX2FycmF5RWFjaChvYmplY3QsIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIGlmICghQVYuT2JqZWN0Ll9jYW5CZVNlcmlhbGl6ZWRBc1ZhbHVlKGNoaWxkKSkge1xuICAgICAgICAgIGNhbkJlU2VyaWFsaXplZEFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChfLmlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIEFWLl9vYmplY3RFYWNoKG9iamVjdCwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgaWYgKCFBVi5PYmplY3QuX2NhbkJlU2VyaWFsaXplZEFzVmFsdWUoY2hpbGQpKSB7XG4gICAgICAgICAgY2FuQmVTZXJpYWxpemVkQXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FuQmVTZXJpYWxpemVkQXNWYWx1ZTtcbiAgfTtcblxuICBBVi5PYmplY3QuX2RlZXBTYXZlQXN5bmMgPSBmdW5jdGlvbihvYmplY3QsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuc2F2ZWRDaGlsZHJlbiA9IFtdO1xuICAgIHZhciB1bnNhdmVkRmlsZXMgPSBbXTtcbiAgICBBVi5PYmplY3QuX2ZpbmRVbnNhdmVkQ2hpbGRyZW4ob2JqZWN0LCB1bnNhdmVkQ2hpbGRyZW4sIHVuc2F2ZWRGaWxlcyk7XG5cbiAgICB1bnNhdmVkRmlsZXMgPSBfLnVuaXEodW5zYXZlZEZpbGVzKTtcblxuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgXy5lYWNoKHVuc2F2ZWRGaWxlcywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZpbGUuc2F2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgb2JqZWN0cyA9IF8udW5pcSh1bnNhdmVkQ2hpbGRyZW4pO1xuICAgIHZhciByZW1haW5pbmcgPSBfLnVuaXEob2JqZWN0cyk7XG5cbiAgICByZXR1cm4gcHJvbWlzZVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb250aW51ZVdoaWxlKFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbWFpbmluZy5sZW5ndGggPiAwO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBHYXRoZXIgdXAgYWxsIHRoZSBvYmplY3RzIHRoYXQgY2FuIGJlIHNhdmVkIGluIHRoaXMgYmF0Y2guXG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSBbXTtcbiAgICAgICAgICAgIHZhciBuZXdSZW1haW5pbmcgPSBbXTtcbiAgICAgICAgICAgIEFWLl9hcnJheUVhY2gocmVtYWluaW5nLCBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICAgICAgaWYgKG9iamVjdC5fY2FuQmVTZXJpYWxpemVkKCkpIHtcbiAgICAgICAgICAgICAgICBiYXRjaC5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3UmVtYWluaW5nLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZW1haW5pbmcgPSBuZXdSZW1haW5pbmc7XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGNhbid0IHNhdmUgYW55IG9iamVjdHMsIHRoZXJlIG11c3QgYmUgYSBjaXJjdWxhciByZWZlcmVuY2UuXG4gICAgICAgICAgICBpZiAoYmF0Y2gubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgICAgICBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgICAgICAgIEFWRXJyb3IuT1RIRVJfQ0FVU0UsXG4gICAgICAgICAgICAgICAgICAnVHJpZWQgdG8gc2F2ZSBhIGJhdGNoIHdpdGggYSBjeWNsZS4nXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNlcnZlIGEgc3BvdCBpbiBldmVyeSBvYmplY3QncyBzYXZlIHF1ZXVlLlxuICAgICAgICAgICAgdmFyIHJlYWR5VG9TdGFydCA9IFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICAgICAgXy5tYXAoYmF0Y2gsIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QuX2FsbFByZXZpb3VzU2F2ZXMgfHwgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBTYXZlIGEgc2luZ2xlIGJhdGNoLCB3aGV0aGVyIHByZXZpb3VzIHNhdmVzIHN1Y2NlZWRlZCBvciBmYWlsZWQuXG4gICAgICAgICAgICBjb25zdCBiYXRoU2F2ZVByb21pc2UgPSByZWFkeVRvU3RhcnQudGhlbigoKSA9PlxuICAgICAgICAgICAgICBfcmVxdWVzdChcbiAgICAgICAgICAgICAgICAnYmF0Y2gnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAnUE9TVCcsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVxdWVzdHM6IF8ubWFwKGJhdGNoLCBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ldGhvZCA9IG9iamVjdC5pZCA/ICdQVVQnIDogJ1BPU1QnO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gb2JqZWN0Ll9nZXRTYXZlSlNPTigpO1xuXG4gICAgICAgICAgICAgICAgICAgIF8uZXh0ZW5kKGpzb24sIG9iamVjdC5fZmxhZ3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciByb3V0ZSA9ICdjbGFzc2VzJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9iamVjdC5jbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gYC8ke3JvdXRlfS8ke2NsYXNzTmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0LmNsYXNzTmFtZSA9PT0gJ19Vc2VyJyAmJiAhb2JqZWN0LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbC1jYXNlIHVzZXIgc2lnbi11cC5cbiAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gJy91c2Vycyc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IGAvMS4xJHtwYXRofWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aCArICcvJyArIG9iamVjdC5pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5fc3RhcnRTYXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGpzb24sXG4gICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyAmJiBvcHRpb25zLmZldGNoV2hlblNhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGZldGNoV2hlblNhdmU6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICApLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gXy5tYXAoYmF0Y2gsIGZ1bmN0aW9uKG9iamVjdCwgaSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlW2ldLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0Ll9maW5pc2hTYXZlKG9iamVjdC5wYXJzZShyZXNwb25zZVtpXS5zdWNjZXNzKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBvYmplY3QuX2NhbmNlbFNhdmUoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbaV0uZXJyb3IuY29kZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbaV0uZXJyb3IuZXJyb3JcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUJhdGNoUmVzdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBBVi5fYXJyYXlFYWNoKGJhdGNoLCBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICAgICAgb2JqZWN0Ll9hbGxQcmV2aW91c1NhdmVzID0gYmF0aFNhdmVQcm9taXNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYmF0aFNhdmVQcm9taXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9vYmplY3QuanMiLCJ2YXIgYXJyYXlXaXRoSG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhIb2xlcy5qc1wiKTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheUxpbWl0ID0gcmVxdWlyZShcIi4vaXRlcmFibGVUb0FycmF5TGltaXQuanNcIik7XG5cbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCIpO1xuXG52YXIgbm9uSXRlcmFibGVSZXN0ID0gcmVxdWlyZShcIi4vbm9uSXRlcmFibGVSZXN0LmpzXCIpO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IG5vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zbGljZWRUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IDUwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBfQXJyYXkkaXNBcnJheSA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvYXJyYXkvaXMtYXJyYXlcIik7XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKF9BcnJheSRpc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aEhvbGVzLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2FycmF5V2l0aEhvbGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA1MDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvZmVhdHVyZXMvYXJyYXkvaXMtYXJyYXlcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2FycmF5L2lzLWFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL2Z1bGwvYXJyYXkvaXMtYXJyYXknKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mZWF0dXJlcy9hcnJheS9pcy1hcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gNTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2FjdHVhbC9hcnJheS9pcy1hcnJheScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL2FycmF5L2lzLWFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vc3RhYmxlL2FycmF5L2lzLWFycmF5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2FjdHVhbC9hcnJheS9pcy1hcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gNTEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL2VzL2FycmF5L2lzLWFycmF5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9hcnJheS9pcy1hcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gNTExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lcy5hcnJheS5pcy1hcnJheScpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvcGF0aCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGguQXJyYXkuaXNBcnJheTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS9pcy1hcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gNTEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1hcnJheScpO1xuXG4vLyBgQXJyYXkuaXNBcnJheWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LmlzYXJyYXlcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHN0YXQ6IHRydWUgfSwge1xuICBpc0FycmF5OiBpc0FycmF5XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LmlzLWFycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX2dldEl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9nZXQtaXRlcmF0b3ItbWV0aG9kXCIpO1xuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBfU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIF9nZXRJdGVyYXRvck1ldGhvZChhcnIpIHx8IGFycltcIkBAaXRlcmF0b3JcIl07XG5cbiAgaWYgKF9pID09IG51bGwpIHJldHVybjtcbiAgdmFyIF9hcnIgPSBbXTtcbiAgdmFyIF9uID0gdHJ1ZTtcbiAgdmFyIF9kID0gZmFsc2U7XG5cbiAgdmFyIF9zLCBfZTtcblxuICB0cnkge1xuICAgIGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcbiAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kID0gdHJ1ZTtcbiAgICBfZSA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXlMaW1pdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qc1xuLy8gbW9kdWxlIGlkID0gNTE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIF9zbGljZUluc3RhbmNlUHJvcGVydHkgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2luc3RhbmNlL3NsaWNlXCIpO1xuXG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzL2FycmF5L2Zyb21cIik7XG5cbnZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheS5qc1wiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICB2YXIgX2NvbnRleHQ7XG5cbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcblxuICB2YXIgbiA9IF9zbGljZUluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpLmNhbGwoX2NvbnRleHQsIDgsIC0xKTtcblxuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gX0FycmF5JGZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qc1xuLy8gbW9kdWxlIGlkID0gNTE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2luc3RhbmNlL3NsaWNlXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9pbnN0YW5jZS9zbGljZS5qc1xuLy8gbW9kdWxlIGlkID0gNTE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9mdWxsL2luc3RhbmNlL3NsaWNlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvaW5zdGFuY2Uvc2xpY2UuanNcbi8vIG1vZHVsZSBpZCA9IDUxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9hY3R1YWwvaW5zdGFuY2Uvc2xpY2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZnVsbC9pbnN0YW5jZS9zbGljZS5qc1xuLy8gbW9kdWxlIGlkID0gNTE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uLy4uL3N0YWJsZS9pbnN0YW5jZS9zbGljZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvaW5zdGFuY2Uvc2xpY2UuanNcbi8vIG1vZHVsZSBpZCA9IDUxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9mZWF0dXJlcy9hcnJheS9mcm9tXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9hcnJheS9mcm9tLmpzXG4vLyBtb2R1bGUgaWQgPSA1MjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL2Z1bGwvYXJyYXkvZnJvbScpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2FycmF5L2Zyb20uanNcbi8vIG1vZHVsZSBpZCA9IDUyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9hY3R1YWwvYXJyYXkvZnJvbScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9mdWxsL2FycmF5L2Zyb20uanNcbi8vIG1vZHVsZSBpZCA9IDUyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9zdGFibGUvYXJyYXkvZnJvbScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvYXJyYXkvZnJvbS5qc1xuLy8gbW9kdWxlIGlkID0gNTIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2FycmF5TGlrZVRvQXJyYXkuanNcbi8vIG1vZHVsZSBpZCA9IDUyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlUmVzdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDUyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDUyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA1Mjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciBwYXRoID0gcmVxdWlyZSgnLi4vLi4vaW50ZXJuYWxzL3BhdGgnKTtcblxudmFyIE9iamVjdCA9IHBhdGguT2JqZWN0O1xuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KTtcbn07XG5cbmlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLnNoYW0pIGdldE93blByb3BlcnR5RGVzY3JpcHRvci5zaGFtID0gdHJ1ZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA1Mjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJykuZjtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xuXG52YXIgRkFJTFNfT05fUFJJTUlUSVZFUyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKDEpOyB9KTtcbnZhciBGT1JDRUQgPSAhREVTQ1JJUFRPUlMgfHwgRkFJTFNfT05fUFJJTUlUSVZFUztcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQsIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgICByZXR1cm4gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSW5kZXhlZE9iamVjdChpdCksIGtleSk7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qc1xuLy8gbW9kdWxlIGlkID0gNTI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IEFWRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgQVYuUm9sZSA9IEFWLk9iamVjdC5leHRlbmQoXG4gICAgJ19Sb2xlJyxcbiAgICAvKiogQGxlbmRzIEFWLlJvbGUucHJvdG90eXBlICovIHtcbiAgICAgIC8vIEluc3RhbmNlIE1ldGhvZHNcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXByZXNlbnRzIGEgUm9sZSBvbiB0aGUgQVYgc2VydmVyLiBSb2xlcyByZXByZXNlbnQgZ3JvdXBpbmdzIG9mXG4gICAgICAgKiBVc2VycyBmb3IgdGhlIHB1cnBvc2VzIG9mIGdyYW50aW5nIHBlcm1pc3Npb25zIChlLmcuIHNwZWNpZnlpbmcgYW4gQUNMXG4gICAgICAgKiBmb3IgYW4gT2JqZWN0KS4gUm9sZXMgYXJlIHNwZWNpZmllZCBieSB0aGVpciBzZXRzIG9mIGNoaWxkIHVzZXJzIGFuZFxuICAgICAgICogY2hpbGQgcm9sZXMsIGFsbCBvZiB3aGljaCBhcmUgZ3JhbnRlZCBhbnkgcGVybWlzc2lvbnMgdGhhdCB0aGUgcGFyZW50XG4gICAgICAgKiByb2xlIGhhcy5cbiAgICAgICAqXG4gICAgICAgKiA8cD5Sb2xlcyBtdXN0IGhhdmUgYSBuYW1lICh3aGljaCBjYW5ub3QgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvbiBvZiB0aGVcbiAgICAgICAqIHJvbGUpLCBhbmQgbXVzdCBzcGVjaWZ5IGFuIEFDTC48L3A+XG4gICAgICAgKiBBbiBBVi5Sb2xlIGlzIGEgbG9jYWwgcmVwcmVzZW50YXRpb24gb2YgYSByb2xlIHBlcnNpc3RlZCB0byB0aGUgQVZcbiAgICAgICAqIGNsb3VkLlxuICAgICAgICogQGNsYXNzIEFWLlJvbGVcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBSb2xlIHRvIGNyZWF0ZS5cbiAgICAgICAqIEBwYXJhbSB7QVYuQUNMfSBhY2wgVGhlIEFDTCBmb3IgdGhpcyByb2xlLlxuICAgICAgICovXG4gICAgICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24obmFtZSwgYWNsKSB7XG4gICAgICAgIGlmIChfLmlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgICAgQVYuT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgICAgIHRoaXMuc2V0TmFtZShuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBVi5PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbmFtZSwgYWNsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWNsKSB7XG4gICAgICAgICAgaWYgKCEoYWNsIGluc3RhbmNlb2YgQVYuQUNMKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYWNsIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgQVYuQUNMJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QUNMKGFjbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIHJvbGUuICBZb3UgY2FuIGFsdGVybmF0aXZlbHkgY2FsbCByb2xlLmdldChcIm5hbWVcIilcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBuYW1lIG9mIHRoZSByb2xlLlxuICAgICAgICovXG4gICAgICBnZXROYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCduYW1lJyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIG5hbWUgZm9yIGEgcm9sZS4gVGhpcyB2YWx1ZSBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIHJvbGUgaGFzXG4gICAgICAgKiBiZWVuIHNhdmVkIHRvIHRoZSBzZXJ2ZXIsIGFuZCBjYW5ub3QgYmUgc2V0IG9uY2UgdGhlIHJvbGUgaGFzIGJlZW5cbiAgICAgICAqIHNhdmVkLlxuICAgICAgICpcbiAgICAgICAqIDxwPlxuICAgICAgICogICBBIHJvbGUncyBuYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMsIF8sIC0sIGFuZFxuICAgICAgICogICBzcGFjZXMuXG4gICAgICAgKiA8L3A+XG4gICAgICAgKlxuICAgICAgICogPHA+VGhpcyBpcyBlcXVpdmFsZW50IHRvIGNhbGxpbmcgcm9sZS5zZXQoXCJuYW1lXCIsIG5hbWUpPC9wPlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSByb2xlLlxuICAgICAgICovXG4gICAgICBzZXROYW1lOiBmdW5jdGlvbihuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldCgnbmFtZScsIG5hbWUsIG9wdGlvbnMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIHRoZSBBVi5SZWxhdGlvbiBmb3IgdGhlIEFWLlVzZXJzIHRoYXQgYXJlIGRpcmVjdFxuICAgICAgICogY2hpbGRyZW4gb2YgdGhpcyByb2xlLiBUaGVzZSB1c2VycyBhcmUgZ3JhbnRlZCBhbnkgcHJpdmlsZWdlcyB0aGF0IHRoaXNcbiAgICAgICAqIHJvbGUgaGFzIGJlZW4gZ3JhbnRlZCAoZS5nLiByZWFkIG9yIHdyaXRlIGFjY2VzcyB0aHJvdWdoIEFDTHMpLiBZb3UgY2FuXG4gICAgICAgKiBhZGQgb3IgcmVtb3ZlIHVzZXJzIGZyb20gdGhlIHJvbGUgdGhyb3VnaCB0aGlzIHJlbGF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIDxwPlRoaXMgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHJvbGUucmVsYXRpb24oXCJ1c2Vyc1wiKTwvcD5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtBVi5SZWxhdGlvbn0gdGhlIHJlbGF0aW9uIGZvciB0aGUgdXNlcnMgYmVsb25naW5nIHRvIHRoaXNcbiAgICAgICAqICAgICByb2xlLlxuICAgICAgICovXG4gICAgICBnZXRVc2VyczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbGF0aW9uKCd1c2VycycpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXRzIHRoZSBBVi5SZWxhdGlvbiBmb3IgdGhlIEFWLlJvbGVzIHRoYXQgYXJlIGRpcmVjdFxuICAgICAgICogY2hpbGRyZW4gb2YgdGhpcyByb2xlLiBUaGVzZSByb2xlcycgdXNlcnMgYXJlIGdyYW50ZWQgYW55IHByaXZpbGVnZXMgdGhhdFxuICAgICAgICogdGhpcyByb2xlIGhhcyBiZWVuIGdyYW50ZWQgKGUuZy4gcmVhZCBvciB3cml0ZSBhY2Nlc3MgdGhyb3VnaCBBQ0xzKS4gWW91XG4gICAgICAgKiBjYW4gYWRkIG9yIHJlbW92ZSBjaGlsZCByb2xlcyBmcm9tIHRoaXMgcm9sZSB0aHJvdWdoIHRoaXMgcmVsYXRpb24uXG4gICAgICAgKlxuICAgICAgICogPHA+VGhpcyBpcyBlcXVpdmFsZW50IHRvIGNhbGxpbmcgcm9sZS5yZWxhdGlvbihcInJvbGVzXCIpPC9wPlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge0FWLlJlbGF0aW9ufSB0aGUgcmVsYXRpb24gZm9yIHRoZSByb2xlcyBiZWxvbmdpbmcgdG8gdGhpc1xuICAgICAgICogICAgIHJvbGUuXG4gICAgICAgKi9cbiAgICAgIGdldFJvbGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsYXRpb24oJ3JvbGVzJyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBpZ25vcmVcbiAgICAgICAqL1xuICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKGF0dHJzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICgnbmFtZScgaW4gYXR0cnMgJiYgYXR0cnMubmFtZSAhPT0gdGhpcy5nZXROYW1lKCkpIHtcbiAgICAgICAgICB2YXIgbmV3TmFtZSA9IGF0dHJzLm5hbWU7XG4gICAgICAgICAgaWYgKHRoaXMuaWQgJiYgdGhpcy5pZCAhPT0gYXR0cnMub2JqZWN0SWQpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgb2JqZWN0SWQgYmVpbmcgc2V0IG1hdGNoZXMgdGhpcy5pZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBkdXJpbmcgYSBmZXRjaCAtLSB0aGUgaWQgaXMgc2V0IGJlZm9yZSBjYWxsaW5nIGZldGNoLlxuICAgICAgICAgICAgLy8gTGV0IHRoZSBuYW1lIGJlIHNldCBpbiB0aGlzIGNhc2UuXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFWRXJyb3IoXG4gICAgICAgICAgICAgIEFWRXJyb3IuT1RIRVJfQ0FVU0UsXG4gICAgICAgICAgICAgIFwiQSByb2xlJ3MgbmFtZSBjYW4gb25seSBiZSBzZXQgYmVmb3JlIGl0IGhhcyBiZWVuIHNhdmVkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIV8uaXNTdHJpbmcobmV3TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgICAgQVZFcnJvci5PVEhFUl9DQVVTRSxcbiAgICAgICAgICAgICAgXCJBIHJvbGUncyBuYW1lIG11c3QgYmUgYSBTdHJpbmcuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghL15bMC05YS16QS1aXFwtXyBdKyQvLnRlc3QobmV3TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgICAgQVZFcnJvci5PVEhFUl9DQVVTRSxcbiAgICAgICAgICAgICAgXCJBIHJvbGUncyBuYW1lIGNhbiBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMsIF8sXCIgK1xuICAgICAgICAgICAgICAgICcgLSwgYW5kIHNwYWNlcy4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQVYuT2JqZWN0LnByb3RvdHlwZS52YWxpZGF0ZSkge1xuICAgICAgICAgIHJldHVybiBBVi5PYmplY3QucHJvdG90eXBlLnZhbGlkYXRlLmNhbGwodGhpcywgYXR0cnMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yb2xlLmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IHV1aWQgPSByZXF1aXJlKCd1dWlkL3Y0Jyk7XG5jb25zdCBBVkVycm9yID0gcmVxdWlyZSgnLi9lcnJvcicpO1xuY29uc3QgeyBfcmVxdWVzdDogQVZSZXF1ZXN0LCByZXF1ZXN0IH0gPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcbmNvbnN0IHsgZ2V0QWRhcHRlciB9ID0gcmVxdWlyZSgnLi9hZGFwdGVyJyk7XG5cbmNvbnN0IFBMQVRGT1JNX0FOT05ZTU9VUyA9ICdhbm9ueW1vdXMnO1xuY29uc3QgUExBVEZPUk1fUVFBUFAgPSAnbGNfcXFhcHAnO1xuXG5jb25zdCBtZXJnZVVuaW9uRGF0YUludG9BdXRoRGF0YSA9IChkZWZhdWx0VW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbicpID0+IChcbiAgYXV0aERhdGEsXG4gIHVuaW9uSWQsXG4gIHsgdW5pb25JZFBsYXRmb3JtID0gZGVmYXVsdFVuaW9uSWRQbGF0Zm9ybSwgYXNNYWluQWNjb3VudCA9IGZhbHNlIH0gPSB7fVxuKSA9PiB7XG4gIGlmICh0eXBlb2YgdW5pb25JZCAhPT0gJ3N0cmluZycpXG4gICAgdGhyb3cgbmV3IEFWRXJyb3IoQVZFcnJvci5PVEhFUl9DQVVTRSwgJ3VuaW9uSWQgaXMgbm90IGEgc3RyaW5nJyk7XG4gIGlmICh0eXBlb2YgdW5pb25JZFBsYXRmb3JtICE9PSAnc3RyaW5nJylcbiAgICB0aHJvdyBuZXcgQVZFcnJvcihBVkVycm9yLk9USEVSX0NBVVNFLCAndW5pb25JZFBsYXRmb3JtIGlzIG5vdCBhIHN0cmluZycpO1xuXG4gIHJldHVybiBfLmV4dGVuZCh7fSwgYXV0aERhdGEsIHtcbiAgICBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtLFxuICAgIHVuaW9uaWQ6IHVuaW9uSWQsXG4gICAgbWFpbl9hY2NvdW50OiBCb29sZWFuKGFzTWFpbkFjY291bnQpLFxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKlxuICAgKiA8cD5BbiBBVi5Vc2VyIG9iamVjdCBpcyBhIGxvY2FsIHJlcHJlc2VudGF0aW9uIG9mIGEgdXNlciBwZXJzaXN0ZWQgdG8gdGhlXG4gICAqIExlYW5DbG91ZCBzZXJ2ZXIuIFRoaXMgY2xhc3MgaXMgYSBzdWJjbGFzcyBvZiBhbiBBVi5PYmplY3QsIGFuZCByZXRhaW5zIHRoZVxuICAgKiBzYW1lIGZ1bmN0aW9uYWxpdHkgb2YgYW4gQVYuT2JqZWN0LCBidXQgYWxzbyBleHRlbmRzIGl0IHdpdGggdmFyaW91c1xuICAgKiB1c2VyIHNwZWNpZmljIG1ldGhvZHMsIGxpa2UgYXV0aGVudGljYXRpb24sIHNpZ25pbmcgdXAsIGFuZCB2YWxpZGF0aW9uIG9mXG4gICAqIHVuaXF1ZW5lc3MuPC9wPlxuICAgKi9cbiAgQVYuVXNlciA9IEFWLk9iamVjdC5leHRlbmQoXG4gICAgJ19Vc2VyJyxcbiAgICAvKiogQGxlbmRzIEFWLlVzZXIucHJvdG90eXBlICovIHtcbiAgICAgIC8vIEluc3RhbmNlIFZhcmlhYmxlc1xuICAgICAgX2lzQ3VycmVudFVzZXI6IGZhbHNlLFxuXG4gICAgICAvLyBJbnN0YW5jZSBNZXRob2RzXG5cbiAgICAgIC8qKlxuICAgICAgICogSW50ZXJuYWwgbWV0aG9kIHRvIGhhbmRsZSBzcGVjaWFsIGZpZWxkcyBpbiBhIF9Vc2VyIHJlc3BvbnNlLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX21lcmdlTWFnaWNGaWVsZHM6IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgICAgIGlmIChhdHRycy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICB0aGlzLl9zZXNzaW9uVG9rZW4gPSBhdHRycy5zZXNzaW9uVG9rZW47XG4gICAgICAgICAgZGVsZXRlIGF0dHJzLnNlc3Npb25Ub2tlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQVYuVXNlci5fX3N1cGVyX18uX21lcmdlTWFnaWNGaWVsZHMuY2FsbCh0aGlzLCBhdHRycyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZXMgbnVsbCB2YWx1ZXMgZnJvbSBhdXRoRGF0YSAod2hpY2ggZXhpc3QgdGVtcG9yYXJpbHkgZm9yXG4gICAgICAgKiB1bmxpbmtpbmcpXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfY2xlYW51cEF1dGhEYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ3VycmVudCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdXRoRGF0YSA9IHRoaXMuZ2V0KCdhdXRoRGF0YScpO1xuICAgICAgICBpZiAoIWF1dGhEYXRhKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEFWLl9vYmplY3RFYWNoKHRoaXMuZ2V0KCdhdXRoRGF0YScpLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgaWYgKCFhdXRoRGF0YVtrZXldKSB7XG4gICAgICAgICAgICBkZWxldGUgYXV0aERhdGFba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTeW5jaHJvbml6ZXMgYXV0aERhdGEgZm9yIGFsbCBwcm92aWRlcnMuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfc3luY2hyb25pemVBbGxBdXRoRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhdXRoRGF0YSA9IHRoaXMuZ2V0KCdhdXRoRGF0YScpO1xuICAgICAgICBpZiAoIWF1dGhEYXRhKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBBVi5fb2JqZWN0RWFjaCh0aGlzLmdldCgnYXV0aERhdGEnKSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIHNlbGYuX3N5bmNocm9uaXplQXV0aERhdGEoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFN5bmNocm9uaXplcyBhdXRoIGRhdGEgZm9yIGEgcHJvdmlkZXIgKGUuZy4gcHV0cyB0aGUgYWNjZXNzIHRva2VuIGluIHRoZVxuICAgICAgICogcmlnaHQgcGxhY2UgdG8gYmUgdXNlZCBieSB0aGUgRmFjZWJvb2sgU0RLKS5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9zeW5jaHJvbml6ZUF1dGhEYXRhOiBmdW5jdGlvbihwcm92aWRlcikge1xuICAgICAgICBpZiAoIXRoaXMuaXNDdXJyZW50KCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF1dGhUeXBlO1xuICAgICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgICBhdXRoVHlwZSA9IHByb3ZpZGVyO1xuICAgICAgICAgIHByb3ZpZGVyID0gQVYuVXNlci5fYXV0aFByb3ZpZGVyc1thdXRoVHlwZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXV0aFR5cGUgPSBwcm92aWRlci5nZXRBdXRoVHlwZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdXRoRGF0YSA9IHRoaXMuZ2V0KCdhdXRoRGF0YScpO1xuICAgICAgICBpZiAoIWF1dGhEYXRhIHx8ICFwcm92aWRlcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3VjY2VzcyA9IHByb3ZpZGVyLnJlc3RvcmVBdXRoZW50aWNhdGlvbihhdXRoRGF0YVthdXRoVHlwZV0pO1xuICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICB0aGlzLmRpc3NvY2lhdGVBdXRoRGF0YShwcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9oYW5kbGVTYXZlUmVzdWx0OiBmdW5jdGlvbihtYWtlQ3VycmVudCkge1xuICAgICAgICAvLyBDbGVhbiB1cCBhbmQgc3luY2hyb25pemUgdGhlIGF1dGhEYXRhIG9iamVjdCwgcmVtb3ZpbmcgYW55IHVuc2V0IHZhbHVlc1xuICAgICAgICBpZiAobWFrZUN1cnJlbnQgJiYgIUFWLl9jb25maWcuZGlzYWJsZUN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgdGhpcy5faXNDdXJyZW50VXNlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xlYW51cEF1dGhEYXRhKCk7XG4gICAgICAgIHRoaXMuX3N5bmNocm9uaXplQWxsQXV0aERhdGEoKTtcbiAgICAgICAgLy8gRG9uJ3Qga2VlcCB0aGUgcGFzc3dvcmQgYXJvdW5kLlxuICAgICAgICBkZWxldGUgdGhpcy5fc2VydmVyRGF0YS5wYXNzd29yZDtcbiAgICAgICAgdGhpcy5fcmVidWlsZEVzdGltYXRlZERhdGFGb3JLZXkoJ3Bhc3N3b3JkJyk7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hDYWNoZSgpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKG1ha2VDdXJyZW50IHx8IHRoaXMuaXNDdXJyZW50KCkpICYmXG4gICAgICAgICAgIUFWLl9jb25maWcuZGlzYWJsZUN1cnJlbnRVc2VyXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNvbWUgb2xkIHZlcnNpb24gb2YgbGVhbmVuZ2luZS1ub2RlLXNkayB3aWxsIG92ZXJ3cml0ZVxuICAgICAgICAgIC8vIEFWLlVzZXIuX3NhdmVDdXJyZW50VXNlciB3aGljaCByZXR1cm5zIG5vIFByb21pc2UuXG4gICAgICAgICAgLy8gU28gd2UgbmVlZCBhIFByb21pc2Ugd3JhcHBlci5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEFWLlVzZXIuX3NhdmVDdXJyZW50VXNlcih0aGlzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFVubGlrZSBpbiB0aGUgQW5kcm9pZC9pT1MgU0RLcywgbG9nSW5XaXRoIGlzIHVubmVjZXNzYXJ5LCBzaW5jZSB5b3UgY2FuXG4gICAgICAgKiBjYWxsIGxpbmtXaXRoIG9uIHRoZSB1c2VyIChldmVuIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0IG9uIHRoZSBzZXJ2ZXIpLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2xpbmtXaXRoOiBmdW5jdGlvbihcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHsgZmFpbE9uTm90RXhpc3QgPSBmYWxzZSwgdXNlTWFzdGVyS2V5LCBzZXNzaW9uVG9rZW4sIHVzZXIgfSA9IHt9XG4gICAgICApIHtcbiAgICAgICAgdmFyIGF1dGhUeXBlO1xuICAgICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgICBhdXRoVHlwZSA9IHByb3ZpZGVyO1xuICAgICAgICAgIHByb3ZpZGVyID0gQVYuVXNlci5fYXV0aFByb3ZpZGVyc1twcm92aWRlcl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXV0aFR5cGUgPSBwcm92aWRlci5nZXRBdXRoVHlwZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZShcbiAgICAgICAgICAgIHsgYXV0aERhdGE6IHsgW2F1dGhUeXBlXTogZGF0YSB9IH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgICBmZXRjaFdoZW5TYXZlOiAhIXRoaXMuZ2V0KCdhdXRoRGF0YScpLFxuICAgICAgICAgICAgICBfZmFpbE9uTm90RXhpc3Q6IGZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgICAgfVxuICAgICAgICAgICkudGhlbihmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLl9oYW5kbGVTYXZlUmVzdWx0KHRydWUpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwcm92aWRlclxuICAgICAgICAgICAgLmF1dGhlbnRpY2F0ZSgpXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4gdGhpcy5fbGlua1dpdGgocHJvdmlkZXIsIHJlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFzc29jaWF0ZSB0aGUgdXNlciB3aXRoIGEgdGhpcmQgcGFydHkgYXV0aERhdGEuXG4gICAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoRGF0YSBUaGUgcmVzcG9uc2UganNvbiBkYXRhIHJldHVybmVkIGZyb20gdGhpcmQgcGFydHkgdG9rZW4sIG1heWJlIGxpa2UgeyBvcGVuaWQ6ICdhYmMxMjMnLCBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLCBleHBpcmVzX2luOiAxMzgyNjg2NDk2IH1cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF0Zm9ybSBBdmFpbGFibGUgcGxhdGZvcm0gZm9yIHNpZ24gdXAuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuIGNvbXBsZXRlZC5cbiAgICAgICAqIEBleGFtcGxlIHVzZXIuYXNzb2NpYXRlV2l0aEF1dGhEYXRhKHtcbiAgICAgICAqICAgb3BlbmlkOiAnYWJjMTIzJyxcbiAgICAgICAqICAgYWNjZXNzX3Rva2VuOiAnMTIzYWJjJyxcbiAgICAgICAqICAgZXhwaXJlc19pbjogMTM4MjY4NjQ5NlxuICAgICAgICogfSwgJ3dlaXhpbicpLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICogICAvL0FjY2VzcyB1c2VyIGhlcmVcbiAgICAgICAqIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgKiAgIC8vY29uc29sZS5lcnJvcihcImVycm9yOiBcIiwgZXJyb3IpO1xuICAgICAgICogfSk7XG4gICAgICAgKi9cbiAgICAgIGFzc29jaWF0ZVdpdGhBdXRoRGF0YShhdXRoRGF0YSwgcGxhdGZvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmtXaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFzc29jaWF0ZSB0aGUgdXNlciB3aXRoIGEgdGhpcmQgcGFydHkgYXV0aERhdGEgYW5kIHVuaW9uSWQuXG4gICAgICAgKiBAc2luY2UgMy41LjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoRGF0YSBUaGUgcmVzcG9uc2UganNvbiBkYXRhIHJldHVybmVkIGZyb20gdGhpcmQgcGFydHkgdG9rZW4sIG1heWJlIGxpa2UgeyBvcGVuaWQ6ICdhYmMxMjMnLCBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLCBleHBpcmVzX2luOiAxMzgyNjg2NDk2IH1cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF0Zm9ybSBBdmFpbGFibGUgcGxhdGZvcm0gZm9yIHNpZ24gdXAuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdW5pb25JZFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IFt1bmlvbkxvZ2luT3B0aW9uc11cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pb25Mb2dpbk9wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaW9uTG9naW5PcHRpb25zLmFzTWFpbkFjY291bnQgPSBmYWxzZV0gSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuIGNvbXBsZXRlZC5cbiAgICAgICAqIEBleGFtcGxlIHVzZXIuYXNzb2NpYXRlV2l0aEF1dGhEYXRhQW5kVW5pb25JZCh7XG4gICAgICAgKiAgIG9wZW5pZDogJ2FiYzEyMycsXG4gICAgICAgKiAgIGFjY2Vzc190b2tlbjogJzEyM2FiYycsXG4gICAgICAgKiAgIGV4cGlyZXNfaW46IDEzODI2ODY0OTZcbiAgICAgICAqIH0sICd3ZWl4aW4nLCAndW5pb24xMjMnLCB7XG4gICAgICAgKiAgIHVuaW9uSWRQbGF0Zm9ybTogJ3dlaXhpbicsXG4gICAgICAgKiAgIGFzTWFpbkFjY291bnQ6IHRydWUsXG4gICAgICAgKiB9KS50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAqICAgLy9BY2Nlc3MgdXNlciBoZXJlXG4gICAgICAgKiB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICogICAvL2NvbnNvbGUuZXJyb3IoXCJlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAqIH0pO1xuICAgICAgICovXG4gICAgICBhc3NvY2lhdGVXaXRoQXV0aERhdGFBbmRVbmlvbklkKFxuICAgICAgICBhdXRoRGF0YSxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIHVuaW9uSWQsXG4gICAgICAgIHVuaW9uT3B0aW9uc1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5rV2l0aChcbiAgICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgICBtZXJnZVVuaW9uRGF0YUludG9BdXRoRGF0YSgpKGF1dGhEYXRhLCB1bmlvbklkLCB1bmlvbk9wdGlvbnMpXG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFzc29jaWF0ZSB0aGUgdXNlciB3aXRoIHRoZSBpZGVudGl0eSBvZiB0aGUgY3VycmVudCBtaW5pLWFwcC5cbiAgICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IFthdXRoSW5mb11cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uXVxuICAgICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9uLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoSW5mby5hdXRoRGF0YSBleGlzdHMuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAgICovXG4gICAgICBhc3NvY2lhdGVXaXRoTWluaUFwcChhdXRoSW5mbywgb3B0aW9uKSB7XG4gICAgICAgIGlmIChhdXRoSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICAgIHJldHVybiBnZXRBdXRoSW5mbygpLnRoZW4oYXV0aEluZm8gPT5cbiAgICAgICAgICAgIHRoaXMuX2xpbmtXaXRoKGF1dGhJbmZvLnByb3ZpZGVyLCBhdXRoSW5mby5hdXRoRGF0YSwgb3B0aW9uKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmtXaXRoKGF1dGhJbmZvLnByb3ZpZGVyLCBhdXRoSW5mby5hdXRoRGF0YSwgb3B0aW9uKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICog5bCG55So5oi35LiOIFFRIOWwj+eoi+W6j+eUqOaIt+i/m+ihjOWFs+iBlOOAgumAgueUqOS6juS4uuW3sue7j+WcqOeUqOaIt+ezu+e7n+S4reWtmOWcqOeahOeUqOaIt+WFs+iBlOW9k+WJjeS9v+eUqCBRUSDlsI/nqIvluo/nmoTlvq7kv6HluJDlj7fjgIJcbiAgICAgICAqIOS7heWcqCBRUSDlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyI2Fzc29jaWF0ZVdpdGhNaW5pQXBwfVxuICAgICAgICogQHNpbmNlIDQuMi4wXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZWZlclVuaW9uSWQgPSBmYWxzZV0g5aaC5p6c5pyN5Yqh56uv5Zyo55m75b2V5pe26I635Y+W5Yiw5LqG55So5oi355qEIFVuaW9uSWTvvIzmmK/lkKblsIYgVW5pb25JZCDkv53lrZjlnKjnlKjmiLfotKblj7fkuK3jgIJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAncXEnXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXNNYWluQWNjb3VudCA9IHRydWVdIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAgICovXG4gICAgICBhc3NvY2lhdGVXaXRoUVFBcHAoe1xuICAgICAgICBwcmVmZXJVbmlvbklkID0gZmFsc2UsXG4gICAgICAgIHVuaW9uSWRQbGF0Zm9ybSA9ICdxcScsXG4gICAgICAgIGFzTWFpbkFjY291bnQgPSB0cnVlLFxuICAgICAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgICBwcmVmZXJVbmlvbklkLFxuICAgICAgICAgIGFzTWFpbkFjY291bnQsXG4gICAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgfSkudGhlbihhdXRoSW5mbyA9PiB7XG4gICAgICAgICAgYXV0aEluZm8ucHJvdmlkZXIgPSBQTEFURk9STV9RUUFQUDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hc3NvY2lhdGVXaXRoTWluaUFwcChhdXRoSW5mbyk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiDlsIbnlKjmiLfkuI7lvq7kv6HlsI/nqIvluo/nlKjmiLfov5vooYzlhbPogZTjgILpgILnlKjkuo7kuLrlt7Lnu4/lnKjnlKjmiLfns7vnu5/kuK3lrZjlnKjnmoTnlKjmiLflhbPogZTlvZPliY3kvb/nlKjlvq7kv6HlsI/nqIvluo/nmoTlvq7kv6HluJDlj7fjgIJcbiAgICAgICAqIOS7heWcqOW+ruS/oeWwj+eoi+W6j+S4reWPr+eUqOOAglxuICAgICAgICpcbiAgICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjYXNzb2NpYXRlV2l0aE1pbmlBcHB9XG4gICAgICAgKiBAc2luY2UgMy4xMy4wXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZWZlclVuaW9uSWQgPSBmYWxzZV0g5b2T55So5oi35ruh6LazIHtAbGluayBodHRwczovL2RldmVsb3BlcnMud2VpeGluLnFxLmNvbS9taW5pcHJvZ3JhbS9kZXYvZnJhbWV3b3JrL29wZW4tYWJpbGl0eS91bmlvbi1pZC5odG1sIOiOt+WPliBVbmlvbklkIOeahOadoeS7tn0g5pe277yM5piv5ZCm5bCGIFVuaW9uSWQg5L+d5a2Y5Zyo55So5oi36LSm5Y+35Lit44CCXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgdW5pb25JZCBwbGF0Zm9ybVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hc01haW5BY2NvdW50ID0gdHJ1ZV0gKG9ubHkgdGFrZSBlZmZlY3Qgd2hlbiBwcmVmZXJVbmlvbklkKSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuVXNlcj59XG4gICAgICAgKi9cbiAgICAgIGFzc29jaWF0ZVdpdGhXZWFwcCh7XG4gICAgICAgIHByZWZlclVuaW9uSWQgPSBmYWxzZSxcbiAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbicsXG4gICAgICAgIGFzTWFpbkFjY291bnQgPSB0cnVlLFxuICAgICAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgICBwcmVmZXJVbmlvbklkLFxuICAgICAgICAgIGFzTWFpbkFjY291bnQsXG4gICAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgfSkudGhlbihhdXRoSW5mbyA9PiB0aGlzLmFzc29jaWF0ZVdpdGhNaW5pQXBwKGF1dGhJbmZvKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBkZXByZWNhdGVkIHJlbmFtZWQgdG8ge0BsaW5rIEFWLlVzZXIjYXNzb2NpYXRlV2l0aFdlYXBwfVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZTxBVi5Vc2VyPn1cbiAgICAgICAqL1xuICAgICAgbGlua1dpdGhXZWFwcChvcHRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnREVQUkVDQVRFRDogVXNlciNsaW5rV2l0aFdlYXBwIOW3suW6n+W8g++8jOivt+S9v+eUqCBVc2VyI2Fzc29jaWF0ZVdpdGhXZWFwcCDku6Pmm78nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0aGlzLmFzc29jaWF0ZVdpdGhXZWFwcChvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICog5bCG55So5oi35LiOIFFRIOWwj+eoi+W6j+eUqOaIt+i/m+ihjOWFs+iBlOOAgumAgueUqOS6juS4uuW3sue7j+WcqOeUqOaIt+ezu+e7n+S4reWtmOWcqOeahOeUqOaIt+WFs+iBlOW9k+WJjeS9v+eUqCBRUSDlsI/nqIvluo/nmoQgUVEg5biQ5Y+344CCXG4gICAgICAgKiDku4XlnKggUVEg5bCP56iL5bqP5Lit5Y+v55So44CCXG4gICAgICAgKlxuICAgICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgQVYuVXNlciNhc3NvY2lhdGVXaXRoTWluaUFwcH1cbiAgICAgICAqIEBzaW5jZSA0LjIuMFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVuaW9uSWRcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdW5pb25PcHRpb25zXVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bmlvbk9wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3FxJ10gdW5pb25JZCBwbGF0Zm9ybVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbdW5pb25PcHRpb25zLmFzTWFpbkFjY291bnQgPSBmYWxzZV0gSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fVxuICAgICAgICovXG4gICAgICBhc3NvY2lhdGVXaXRoUVFBcHBXaXRoVW5pb25JZChcbiAgICAgICAgdW5pb25JZCxcbiAgICAgICAgeyB1bmlvbklkUGxhdGZvcm0gPSAncXEnLCBhc01haW5BY2NvdW50ID0gZmFsc2UgfSA9IHt9XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICByZXR1cm4gZ2V0QXV0aEluZm8oeyBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtIH0pLnRoZW4oYXV0aEluZm8gPT4ge1xuICAgICAgICAgIGF1dGhJbmZvID0gQVYuVXNlci5tZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQsIHsgYXNNYWluQWNjb3VudCB9KTtcbiAgICAgICAgICBhdXRoSW5mby5wcm92aWRlciA9IFBMQVRGT1JNX1FRQVBQO1xuICAgICAgICAgIHJldHVybiB0aGlzLmFzc29jaWF0ZVdpdGhNaW5pQXBwKGF1dGhJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIOWwhueUqOaIt+S4juW+ruS/oeWwj+eoi+W6j+eUqOaIt+i/m+ihjOWFs+iBlOOAgumAgueUqOS6juS4uuW3sue7j+WcqOeUqOaIt+ezu+e7n+S4reWtmOWcqOeahOeUqOaIt+WFs+iBlOW9k+WJjeS9v+eUqOW+ruS/oeWwj+eoi+W6j+eahOW+ruS/oeW4kOWPt+OAglxuICAgICAgICog5LuF5Zyo5b6u5L+h5bCP56iL5bqP5Lit5Y+v55So44CCXG4gICAgICAgKlxuICAgICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgQVYuVXNlciNhc3NvY2lhdGVXaXRoTWluaUFwcH1cbiAgICAgICAqIEBzaW5jZSAzLjEzLjBcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlvbklkXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW3VuaW9uT3B0aW9uc11cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdW5pb25PcHRpb25zLnVuaW9uSWRQbGF0Zm9ybSA9ICd3ZWl4aW4nXSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbk9wdGlvbnMuYXNNYWluQWNjb3VudCA9IGZhbHNlXSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuVXNlcj59XG4gICAgICAgKi9cbiAgICAgIGFzc29jaWF0ZVdpdGhXZWFwcFdpdGhVbmlvbklkKFxuICAgICAgICB1bmlvbklkLFxuICAgICAgICB7IHVuaW9uSWRQbGF0Zm9ybSA9ICd3ZWl4aW4nLCBhc01haW5BY2NvdW50ID0gZmFsc2UgfSA9IHt9XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICByZXR1cm4gZ2V0QXV0aEluZm8oeyBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtIH0pLnRoZW4oYXV0aEluZm8gPT4ge1xuICAgICAgICAgIGF1dGhJbmZvID0gQVYuVXNlci5tZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQsIHsgYXNNYWluQWNjb3VudCB9KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hc3NvY2lhdGVXaXRoTWluaUFwcChhdXRoSW5mbyk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVbmxpbmtzIGEgdXNlciBmcm9tIGEgc2VydmljZS5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF0Zm9ybVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZTxBVi5Vc2VyPn1cbiAgICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAgICovXG4gICAgICBkaXNzb2NpYXRlQXV0aERhdGEocHJvdmlkZXIpIHtcbiAgICAgICAgdGhpcy51bnNldChgYXV0aERhdGEuJHtwcm92aWRlcn1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZSgpLnRoZW4obW9kZWwgPT5cbiAgICAgICAgICBtb2RlbC5faGFuZGxlU2F2ZVJlc3VsdCh0cnVlKS50aGVuKCgpID0+IG1vZGVsKVxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAqL1xuICAgICAgX3VubGlua0Zyb20ocHJvdmlkZXIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdERVBSRUNBVEVEOiBVc2VyI191bmxpbmtGcm9tIOW3suW6n+W8g++8jOivt+S9v+eUqCBVc2VyI2Rpc3NvY2lhdGVBdXRoRGF0YSDku6Pmm78nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3NvY2lhdGVBdXRoRGF0YShwcm92aWRlcik7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrcyB3aGV0aGVyIGEgdXNlciBpcyBsaW5rZWQgdG8gYSBzZXJ2aWNlLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2lzTGlua2VkOiBmdW5jdGlvbihwcm92aWRlcikge1xuICAgICAgICB2YXIgYXV0aFR5cGU7XG4gICAgICAgIGlmIChfLmlzU3RyaW5nKHByb3ZpZGVyKSkge1xuICAgICAgICAgIGF1dGhUeXBlID0gcHJvdmlkZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXV0aFR5cGUgPSBwcm92aWRlci5nZXRBdXRoVHlwZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdXRoRGF0YSA9IHRoaXMuZ2V0KCdhdXRoRGF0YScpIHx8IHt9O1xuICAgICAgICByZXR1cm4gISFhdXRoRGF0YVthdXRoVHlwZV07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrcyB3aGV0aGVyIGEgdXNlciBpcyBhbm9ueW1vdXMuXG4gICAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgIGlzQW5vbnltb3VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNMaW5rZWQoUExBVEZPUk1fQU5PTllNT1VTKTtcbiAgICAgIH0sXG5cbiAgICAgIGxvZ091dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2xvZ091dFdpdGhBbGwoKTtcbiAgICAgICAgdGhpcy5faXNDdXJyZW50VXNlciA9IGZhbHNlO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBEZWF1dGhlbnRpY2F0ZXMgYWxsIHByb3ZpZGVycy5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9sb2dPdXRXaXRoQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGF1dGhEYXRhID0gdGhpcy5nZXQoJ2F1dGhEYXRhJyk7XG4gICAgICAgIGlmICghYXV0aERhdGEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBBVi5fb2JqZWN0RWFjaCh0aGlzLmdldCgnYXV0aERhdGEnKSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIHNlbGYuX2xvZ091dFdpdGgoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlYXV0aGVudGljYXRlcyBhIHNpbmdsZSBwcm92aWRlciAoZS5nLiByZW1vdmluZyBhY2Nlc3MgdG9rZW5zIGZyb20gdGhlXG4gICAgICAgKiBGYWNlYm9vayBTREspLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2xvZ091dFdpdGg6IGZ1bmN0aW9uKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0N1cnJlbnQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAgICAgICBwcm92aWRlciA9IEFWLlVzZXIuX2F1dGhQcm92aWRlcnNbcHJvdmlkZXJdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm92aWRlciAmJiBwcm92aWRlci5kZWF1dGhlbnRpY2F0ZSkge1xuICAgICAgICAgIHByb3ZpZGVyLmRlYXV0aGVudGljYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2lnbnMgdXAgYSBuZXcgdXNlci4gWW91IHNob3VsZCBjYWxsIHRoaXMgaW5zdGVhZCBvZiBzYXZlIGZvclxuICAgICAgICogbmV3IEFWLlVzZXJzLiBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IEFWLlVzZXIgb24gdGhlIHNlcnZlciwgYW5kXG4gICAgICAgKiBhbHNvIHBlcnNpc3QgdGhlIHNlc3Npb24gb24gZGlzayBzbyB0aGF0IHlvdSBjYW4gYWNjZXNzIHRoZSB1c2VyIHVzaW5nXG4gICAgICAgKiA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgICAqXG4gICAgICAgKiA8cD5BIHVzZXJuYW1lIGFuZCBwYXNzd29yZCBtdXN0IGJlIHNldCBiZWZvcmUgY2FsbGluZyBzaWduVXAuPC9wPlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRycyBFeHRyYSBmaWVsZHMgdG8gc2V0IG9uIHRoZSBuZXcgdXNlciwgb3IgbnVsbC5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBzaWdudXBcbiAgICAgICAqICAgICBmaW5pc2hlcy5cbiAgICAgICAqIEBzZWUgQVYuVXNlci5zaWduVXBcbiAgICAgICAqL1xuICAgICAgc2lnblVwOiBmdW5jdGlvbihhdHRycywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZXJyb3I7XG5cbiAgICAgICAgdmFyIHVzZXJuYW1lID0gKGF0dHJzICYmIGF0dHJzLnVzZXJuYW1lKSB8fCB0aGlzLmdldCgndXNlcm5hbWUnKTtcbiAgICAgICAgaWYgKCF1c2VybmFtZSB8fCB1c2VybmFtZSA9PT0gJycpIHtcbiAgICAgICAgICBlcnJvciA9IG5ldyBBVkVycm9yKFxuICAgICAgICAgICAgQVZFcnJvci5PVEhFUl9DQVVTRSxcbiAgICAgICAgICAgICdDYW5ub3Qgc2lnbiB1cCB1c2VyIHdpdGggYW4gZW1wdHkgbmFtZS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXNzd29yZCA9IChhdHRycyAmJiBhdHRycy5wYXNzd29yZCkgfHwgdGhpcy5nZXQoJ3Bhc3N3b3JkJyk7XG4gICAgICAgIGlmICghcGFzc3dvcmQgfHwgcGFzc3dvcmQgPT09ICcnKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgIEFWRXJyb3IuT1RIRVJfQ0FVU0UsXG4gICAgICAgICAgICAnQ2Fubm90IHNpZ24gdXAgdXNlciB3aXRoIGFuIGVtcHR5IHBhc3N3b3JkLidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZShhdHRycywgb3B0aW9ucykudGhlbihmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICAgIGlmIChtb2RlbC5pc0Fub255bW91cygpKSB7XG4gICAgICAgICAgICBtb2RlbC51bnNldChgYXV0aERhdGEuJHtQTEFURk9STV9BTk9OWU1PVVN9YCk7XG4gICAgICAgICAgICBtb2RlbC5fb3BTZXRRdWV1ZSA9IFt7fV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtb2RlbC5faGFuZGxlU2F2ZVJlc3VsdCh0cnVlKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2lnbnMgdXAgYSBuZXcgdXNlciB3aXRoIG1vYmlsZSBwaG9uZSBhbmQgc21zIGNvZGUuXG4gICAgICAgKiBZb3Ugc2hvdWxkIGNhbGwgdGhpcyBpbnN0ZWFkIG9mIHNhdmUgZm9yXG4gICAgICAgKiBuZXcgQVYuVXNlcnMuIFRoaXMgd2lsbCBjcmVhdGUgYSBuZXcgQVYuVXNlciBvbiB0aGUgc2VydmVyLCBhbmRcbiAgICAgICAqIGFsc28gcGVyc2lzdCB0aGUgc2Vzc2lvbiBvbiBkaXNrIHNvIHRoYXQgeW91IGNhbiBhY2Nlc3MgdGhlIHVzZXIgdXNpbmdcbiAgICAgICAqIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAgICpcbiAgICAgICAqIDxwPkEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIG11c3QgYmUgc2V0IGJlZm9yZSBjYWxsaW5nIHNpZ25VcC48L3A+XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIEV4dHJhIGZpZWxkcyB0byBzZXQgb24gdGhlIG5ldyB1c2VyLCBvciBudWxsLlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIHNpZ251cFxuICAgICAgICogICAgIGZpbmlzaGVzLlxuICAgICAgICogQHNlZSBBVi5Vc2VyLnNpZ25VcE9ybG9nSW5XaXRoTW9iaWxlUGhvbmVcbiAgICAgICAqIEBzZWUgQVYuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgICAqL1xuICAgICAgc2lnblVwT3Jsb2dJbldpdGhNb2JpbGVQaG9uZTogZnVuY3Rpb24oYXR0cnMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgZXJyb3I7XG5cbiAgICAgICAgdmFyIG1vYmlsZVBob25lTnVtYmVyID1cbiAgICAgICAgICAoYXR0cnMgJiYgYXR0cnMubW9iaWxlUGhvbmVOdW1iZXIpIHx8IHRoaXMuZ2V0KCdtb2JpbGVQaG9uZU51bWJlcicpO1xuICAgICAgICBpZiAoIW1vYmlsZVBob25lTnVtYmVyIHx8IG1vYmlsZVBob25lTnVtYmVyID09PSAnJykge1xuICAgICAgICAgIGVycm9yID0gbmV3IEFWRXJyb3IoXG4gICAgICAgICAgICBBVkVycm9yLk9USEVSX0NBVVNFLFxuICAgICAgICAgICAgJ0Nhbm5vdCBzaWduIHVwIG9yIGxvZ2luIHVzZXIgYnkgbW9iaWxlUGhvbmVOdW1iZXIgJyArXG4gICAgICAgICAgICAgICd3aXRoIGFuIGVtcHR5IG1vYmlsZVBob25lTnVtYmVyLidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNtc0NvZGUgPSAoYXR0cnMgJiYgYXR0cnMuc21zQ29kZSkgfHwgdGhpcy5nZXQoJ3Ntc0NvZGUnKTtcbiAgICAgICAgaWYgKCFzbXNDb2RlIHx8IHNtc0NvZGUgPT09ICcnKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgIEFWRXJyb3IuT1RIRVJfQ0FVU0UsXG4gICAgICAgICAgICAnQ2Fubm90IHNpZ24gdXAgb3IgbG9naW4gdXNlciBieSBtb2JpbGVQaG9uZU51bWJlciAgJyArXG4gICAgICAgICAgICAgICd3aXRoIGFuIGVtcHR5IHNtc0NvZGUuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLl9tYWtlUmVxdWVzdCA9IGZ1bmN0aW9uKHJvdXRlLCBjbGFzc05hbWUsIGlkLCBtZXRob2QsIGpzb24pIHtcbiAgICAgICAgICByZXR1cm4gQVZSZXF1ZXN0KCd1c2Vyc0J5TW9iaWxlUGhvbmUnLCBudWxsLCBudWxsLCAnUE9TVCcsIGpzb24pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5zYXZlKGF0dHJzLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgICAgZGVsZXRlIG1vZGVsLmF0dHJpYnV0ZXMuc21zQ29kZTtcbiAgICAgICAgICBkZWxldGUgbW9kZWwuX3NlcnZlckRhdGEuc21zQ29kZTtcbiAgICAgICAgICByZXR1cm4gbW9kZWwuX2hhbmRsZVNhdmVSZXN1bHQodHJ1ZSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGF9LCBleGNlcHQgdGhhdCB5b3UgY2FuIHNldCBhdHRyaWJ1dGVzIGJlZm9yZSBsb2dpbi5cbiAgICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAgICovXG4gICAgICBsb2dpbldpdGhBdXRoRGF0YShhdXRoRGF0YSwgcGxhdGZvcm0sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmtXaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkfSwgZXhjZXB0IHRoYXQgeW91IGNhbiBzZXQgYXR0cmlidXRlcyBiZWZvcmUgbG9naW4uXG4gICAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgICAqL1xuICAgICAgbG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkKFxuICAgICAgICBhdXRoRGF0YSxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIHVuaW9uSWQsXG4gICAgICAgIHVuaW9uTG9naW5PcHRpb25zXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoQXV0aERhdGEoXG4gICAgICAgICAgbWVyZ2VVbmlvbkRhdGFJbnRvQXV0aERhdGEoKShhdXRoRGF0YSwgdW5pb25JZCwgdW5pb25Mb2dpbk9wdGlvbnMpLFxuICAgICAgICAgIHBsYXRmb3JtLFxuICAgICAgICAgIHVuaW9uTG9naW5PcHRpb25zXG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBzYW1lIHdpdGgge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoV2VhcHB9LCBleGNlcHQgdGhhdCB5b3UgY2FuIHNldCBhdHRyaWJ1dGVzIGJlZm9yZSBsb2dpbi5cbiAgICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjbG9naW5XaXRoTWluaUFwcH1cbiAgICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWlsT25Ob3RFeGlzdF0gSWYgdHJ1ZSwgdGhlIGxvZ2luIHJlcXVlc3Qgd2lsbCBmYWlsIHdoZW4gbm8gdXNlciBtYXRjaGVzIHRoaXMgYXV0aERhdGEgZXhpc3RzLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVmZXJVbmlvbklkXSDlvZPnlKjmiLfmu6HotrMge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlwcm9ncmFtL2Rldi9mcmFtZXdvcmsvb3Blbi1hYmlsaXR5L3VuaW9uLWlkLmh0bWwg6I635Y+WIFVuaW9uSWQg55qE5p2h5Lu2fSDml7bvvIzmmK/lkKbkvb/nlKggVW5pb25JZCDnmbvlvZXjgILvvIhzaW5jZSAzLjEzLjDvvIlcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAnd2VpeGluJ10gKG9ubHkgdGFrZSBlZmZlY3Qgd2hlbiBwcmVmZXJVbmlvbklkKSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFzTWFpbkFjY291bnQgPSB0cnVlXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZTxBVi5Vc2VyPn1cbiAgICAgICAqL1xuICAgICAgbG9naW5XaXRoV2VhcHAoe1xuICAgICAgICBwcmVmZXJVbmlvbklkID0gZmFsc2UsXG4gICAgICAgIHVuaW9uSWRQbGF0Zm9ybSA9ICd3ZWl4aW4nLFxuICAgICAgICBhc01haW5BY2NvdW50ID0gdHJ1ZSxcbiAgICAgICAgZmFpbE9uTm90RXhpc3QgPSBmYWxzZSxcbiAgICAgICAgdXNlTWFzdGVyS2V5LFxuICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgIHVzZXIsXG4gICAgICB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICByZXR1cm4gZ2V0QXV0aEluZm8oe1xuICAgICAgICAgIHByZWZlclVuaW9uSWQsXG4gICAgICAgICAgYXNNYWluQWNjb3VudCxcbiAgICAgICAgICBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtLFxuICAgICAgICB9KS50aGVuKGF1dGhJbmZvID0+XG4gICAgICAgICAgdGhpcy5sb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCB7XG4gICAgICAgICAgICBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHNhbWUgd2l0aCB7QGxpbmsgQVYuVXNlci5sb2dpbldpdGhXZWFwcFdpdGhVbmlvbklkfSwgZXhjZXB0IHRoYXQgeW91IGNhbiBzZXQgYXR0cmlidXRlcyBiZWZvcmUgbG9naW4uXG4gICAgICAgKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyI2xvZ2luV2l0aE1pbmlBcHB9XG4gICAgICAgKiBAc2luY2UgMy4xMy4wXG4gICAgICAgKi9cbiAgICAgIGxvZ2luV2l0aFdlYXBwV2l0aFVuaW9uSWQoXG4gICAgICAgIHVuaW9uSWQsXG4gICAgICAgIHtcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSAnd2VpeGluJyxcbiAgICAgICAgICBhc01haW5BY2NvdW50ID0gZmFsc2UsXG4gICAgICAgICAgZmFpbE9uTm90RXhpc3QgPSBmYWxzZSxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXksXG4gICAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgIH0gPSB7fVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHsgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybSB9KS50aGVuKGF1dGhJbmZvID0+IHtcbiAgICAgICAgICBhdXRoSW5mbyA9IEFWLlVzZXIubWVyZ2VVbmlvbklkKGF1dGhJbmZvLCB1bmlvbklkLCB7IGFzTWFpbkFjY291bnQgfSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgICAgZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgICB1c2VNYXN0ZXJLZXksXG4gICAgICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHNhbWUgd2l0aCB7QGxpbmsgQVYuVXNlci5sb2dpbldpdGhRUUFwcH0sIGV4Y2VwdCB0aGF0IHlvdSBjYW4gc2V0IGF0dHJpYnV0ZXMgYmVmb3JlIGxvZ2luLlxuICAgICAgICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSB7QGxpbmsgQVYuVXNlciNsb2dpbldpdGhNaW5pQXBwfVxuICAgICAgICogQHNpbmNlIDQuMi4wXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoRGF0YSBleGlzdHMuXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZWZlclVuaW9uSWRdIOWmguaenOacjeWKoeerr+WcqOeZu+W9leaXtuiOt+WPluWIsOS6hueUqOaIt+eahCBVbmlvbklk77yM5piv5ZCm5bCGIFVuaW9uSWQg5L+d5a2Y5Zyo55So5oi36LSm5Y+35Lit44CCXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3FxJ10gKG9ubHkgdGFrZSBlZmZlY3Qgd2hlbiBwcmVmZXJVbmlvbklkKSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFzTWFpbkFjY291bnQgPSB0cnVlXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAgICovXG4gICAgICBsb2dpbldpdGhRUUFwcCh7XG4gICAgICAgIHByZWZlclVuaW9uSWQgPSBmYWxzZSxcbiAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gJ3FxJyxcbiAgICAgICAgYXNNYWluQWNjb3VudCA9IHRydWUsXG4gICAgICAgIGZhaWxPbk5vdEV4aXN0ID0gZmFsc2UsXG4gICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICB1c2VyLFxuICAgICAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHtcbiAgICAgICAgICBwcmVmZXJVbmlvbklkLFxuICAgICAgICAgIGFzTWFpbkFjY291bnQsXG4gICAgICAgICAgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybSxcbiAgICAgICAgfSkudGhlbihhdXRoSW5mbyA9PiB7XG4gICAgICAgICAgYXV0aEluZm8ucHJvdmlkZXIgPSBQTEFURk9STV9RUUFQUDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCB7XG4gICAgICAgICAgICBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgc2FtZSB3aXRoIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aFFRQXBwV2l0aFVuaW9uSWR9LCBleGNlcHQgdGhhdCB5b3UgY2FuIHNldCBhdHRyaWJ1dGVzIGJlZm9yZSBsb2dpbi5cbiAgICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIjbG9naW5XaXRoTWluaUFwcH1cbiAgICAgICAqIEBzaW5jZSA0LjIuMFxuICAgICAgICovXG4gICAgICBsb2dpbldpdGhRUUFwcFdpdGhVbmlvbklkKFxuICAgICAgICB1bmlvbklkLFxuICAgICAgICB7XG4gICAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gJ3FxJyxcbiAgICAgICAgICBhc01haW5BY2NvdW50ID0gZmFsc2UsXG4gICAgICAgICAgZmFpbE9uTm90RXhpc3QgPSBmYWxzZSxcbiAgICAgICAgICB1c2VNYXN0ZXJLZXksXG4gICAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgIH0gPSB7fVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGdldEF1dGhJbmZvID0gZ2V0QWRhcHRlcignZ2V0QXV0aEluZm8nKTtcbiAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKHsgcGxhdGZvcm06IHVuaW9uSWRQbGF0Zm9ybSB9KS50aGVuKGF1dGhJbmZvID0+IHtcbiAgICAgICAgICBhdXRoSW5mbyA9IEFWLlVzZXIubWVyZ2VVbmlvbklkKGF1dGhJbmZvLCB1bmlvbklkLCB7IGFzTWFpbkFjY291bnQgfSk7XG4gICAgICAgICAgYXV0aEluZm8ucHJvdmlkZXIgPSBQTEFURk9STV9RUUFQUDtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCB7XG4gICAgICAgICAgICBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgc2FtZSB3aXRoIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aE1pbmlBcHB9LCBleGNlcHQgdGhhdCB5b3UgY2FuIHNldCBhdHRyaWJ1dGVzIGJlZm9yZSBsb2dpbi5cbiAgICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAgICovXG4gICAgICBsb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCBvcHRpb24pIHtcbiAgICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBnZXRBdXRoSW5mbyA9IGdldEFkYXB0ZXIoJ2dldEF1dGhJbmZvJyk7XG4gICAgICAgICAgcmV0dXJuIGdldEF1dGhJbmZvKCkudGhlbihhdXRoSW5mbyA9PlxuICAgICAgICAgICAgdGhpcy5sb2dpbldpdGhBdXRoRGF0YShhdXRoSW5mby5hdXRoRGF0YSwgYXV0aEluZm8ucHJvdmlkZXIsIG9wdGlvbilcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luV2l0aEF1dGhEYXRhKFxuICAgICAgICAgIGF1dGhJbmZvLmF1dGhEYXRhLFxuICAgICAgICAgIGF1dGhJbmZvLnByb3ZpZGVyLFxuICAgICAgICAgIG9wdGlvblxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBMb2dzIGluIGEgQVYuVXNlci4gT24gc3VjY2VzcywgdGhpcyBzYXZlcyB0aGUgc2Vzc2lvbiB0byBsb2NhbFN0b3JhZ2UsXG4gICAgICAgKiBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIgdXNpbmdcbiAgICAgICAqIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAgICpcbiAgICAgICAqIDxwPkEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIG11c3QgYmUgc2V0IGJlZm9yZSBjYWxsaW5nIGxvZ0luLjwvcD5cbiAgICAgICAqXG4gICAgICAgKiBAc2VlIEFWLlVzZXIubG9nSW5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW5cbiAgICAgICAqICAgICB0aGUgbG9naW4gaXMgY29tcGxldGUuXG4gICAgICAgKi9cbiAgICAgIGxvZ0luOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ2xvZ2luJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCB0aGlzLnRvSlNPTigpKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgdmFyIHNlcnZlckF0dHJzID0gbW9kZWwucGFyc2UocmVzcCk7XG4gICAgICAgICAgbW9kZWwuX2ZpbmlzaEZldGNoKHNlcnZlckF0dHJzKTtcbiAgICAgICAgICByZXR1cm4gbW9kZWwuX2hhbmRsZVNhdmVSZXN1bHQodHJ1ZSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghc2VydmVyQXR0cnMuc21zQ29kZSkgZGVsZXRlIG1vZGVsLmF0dHJpYnV0ZXNbJ3Ntc0NvZGUnXTtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIEFWLk9iamVjdCNzYXZlXG4gICAgICAgKi9cbiAgICAgIHNhdmU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgdmFyIGF0dHJzLCBvcHRpb25zO1xuICAgICAgICBpZiAoXy5pc09iamVjdChhcmcxKSB8fCBfLmlzTnVsbChhcmcxKSB8fCBfLmlzVW5kZWZpbmVkKGFyZzEpKSB7XG4gICAgICAgICAgYXR0cnMgPSBhcmcxO1xuICAgICAgICAgIG9wdGlvbnMgPSBhcmcyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJzID0ge307XG4gICAgICAgICAgYXR0cnNbYXJnMV0gPSBhcmcyO1xuICAgICAgICAgIG9wdGlvbnMgPSBhcmczO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHJldHVybiBBVi5PYmplY3QucHJvdG90eXBlLnNhdmVcbiAgICAgICAgICAuY2FsbCh0aGlzLCBhdHRycywgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLl9oYW5kbGVTYXZlUmVzdWx0KGZhbHNlKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRm9sbG93IGEgdXNlclxuICAgICAgICogQHNpbmNlIDAuMy4wXG4gICAgICAgKiBAcGFyYW0ge09iamVjdCB8IEFWLlVzZXIgfCBTdHJpbmd9IG9wdGlvbnMgaWYgYW4gQVYuVXNlciBvciBzdHJpbmcgaXMgZ2l2ZW4sIGl0IHdpbGwgYmUgdXNlZCBhcyB0aGUgdGFyZ2V0IHVzZXIuXG4gICAgICAgKiBAcGFyYW0ge0FWLlVzZXIgfCBTdHJpbmd9IG9wdGlvbnMudXNlciBUaGUgdGFyZ2V0IHVzZXIgb3IgdXNlcidzIG9iamVjdElkIHRvIGZvbGxvdy5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5hdHRyaWJ1dGVzXSBrZXktdmFsdWUgYXR0cmlidXRlcyBkaWN0aW9uYXJ5IHRvIGJlIHVzZWQgYXNcbiAgICAgICAqICBjb25kaXRpb25zIG9mIGZvbGxvd2VyUXVlcnkvZm9sbG93ZWVRdWVyeS5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgICAqL1xuICAgICAgZm9sbG93OiBmdW5jdGlvbihvcHRpb25zLCBhdXRoT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4uJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVzZXI7XG4gICAgICAgIGxldCBhdHRyaWJ1dGVzO1xuICAgICAgICBpZiAob3B0aW9ucy51c2VyKSB7XG4gICAgICAgICAgdXNlciA9IG9wdGlvbnMudXNlcjtcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVzZXIgPSBvcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VyT2JqZWN0SWQgPSBfLmlzU3RyaW5nKHVzZXIpID8gdXNlciA6IHVzZXIuaWQ7XG4gICAgICAgIGlmICghdXNlck9iamVjdElkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhcmdldCB1c2VyLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3V0ZSA9ICd1c2Vycy8nICsgdGhpcy5pZCArICcvZnJpZW5kc2hpcC8nICsgdXNlck9iamVjdElkO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdChcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ1BPU1QnLFxuICAgICAgICAgIEFWLl9lbmNvZGUoYXR0cmlidXRlcyksXG4gICAgICAgICAgYXV0aE9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFVuZm9sbG93IGEgdXNlci5cbiAgICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAgICogQHBhcmFtIHtPYmplY3QgfCBBVi5Vc2VyIHwgU3RyaW5nfSBvcHRpb25zIGlmIGFuIEFWLlVzZXIgb3Igc3RyaW5nIGlzIGdpdmVuLCBpdCB3aWxsIGJlIHVzZWQgYXMgdGhlIHRhcmdldCB1c2VyLlxuICAgICAgICogQHBhcmFtIHtBVi5Vc2VyIHwgU3RyaW5nfSBvcHRpb25zLnVzZXIgVGhlIHRhcmdldCB1c2VyIG9yIHVzZXIncyBvYmplY3RJZCB0byB1bmZvbGxvdy5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgICAqL1xuICAgICAgdW5mb2xsb3c6IGZ1bmN0aW9uKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbi4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMudXNlcikge1xuICAgICAgICAgIHVzZXIgPSBvcHRpb25zLnVzZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXNlciA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZXJPYmplY3RJZCA9IF8uaXNTdHJpbmcodXNlcikgPyB1c2VyIDogdXNlci5pZDtcbiAgICAgICAgaWYgKCF1c2VyT2JqZWN0SWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFyZ2V0IHVzZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdXRlID0gJ3VzZXJzLycgKyB0aGlzLmlkICsgJy9mcmllbmRzaGlwLycgKyB1c2VyT2JqZWN0SWQ7XG4gICAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KHJvdXRlLCBudWxsLCBudWxsLCAnREVMRVRFJywgbnVsbCwgYXV0aE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHRoZSB1c2VyJ3MgZm9sbG93ZXJzIGFuZCBmb2xsb3dlZXMuXG4gICAgICAgKiBAc2luY2UgNC44LjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5za2lwXVxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxpbWl0XVxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgICAgICovXG4gICAgICBnZXRGb2xsb3dlcnNBbmRGb2xsb3dlZXM6IGZ1bmN0aW9uKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbi4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBwYXRoOiBgL3VzZXJzLyR7dGhpcy5pZH0vZm9sbG93ZXJzQW5kRm9sbG93ZWVzYCxcbiAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgc2tpcDogb3B0aW9ucyAmJiBvcHRpb25zLnNraXAsXG4gICAgICAgICAgICBsaW1pdDogb3B0aW9ucyAmJiBvcHRpb25zLmxpbWl0LFxuICAgICAgICAgICAgaW5jbHVkZTogJ2ZvbGxvd2VyLGZvbGxvd2VlJyxcbiAgICAgICAgICAgIGtleXM6ICdmb2xsb3dlcixmb2xsb3dlZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdXRoT3B0aW9ucyxcbiAgICAgICAgfSkudGhlbigoeyBmb2xsb3dlcnMsIGZvbGxvd2VlcyB9KSA9PiAoe1xuICAgICAgICAgIGZvbGxvd2VyczogZm9sbG93ZXJzLm1hcCgoeyBmb2xsb3dlciB9KSA9PiBBVi5fZGVjb2RlKGZvbGxvd2VyKSksXG4gICAgICAgICAgZm9sbG93ZWVzOiBmb2xsb3dlZXMubWFwKCh7IGZvbGxvd2VlIH0pID0+IEFWLl9kZWNvZGUoZm9sbG93ZWUpKSxcbiAgICAgICAgfSkpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKkNyZWF0ZSBhIGZvbGxvd2VyIHF1ZXJ5IHRvIHF1ZXJ5IHRoZSB1c2VyJ3MgZm9sbG93ZXJzLlxuICAgICAgICogQHNpbmNlIDAuMy4wXG4gICAgICAgKiBAc2VlIEFWLlVzZXIjZm9sbG93ZXJRdWVyeVxuICAgICAgICovXG4gICAgICBmb2xsb3dlclF1ZXJ5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEFWLlVzZXIuZm9sbG93ZXJRdWVyeSh0aGlzLmlkKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpDcmVhdGUgYSBmb2xsb3dlZSBxdWVyeSB0byBxdWVyeSB0aGUgdXNlcidzIGZvbGxvd2Vlcy5cbiAgICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAgICogQHNlZSBBVi5Vc2VyI2ZvbGxvd2VlUXVlcnlcbiAgICAgICAqL1xuICAgICAgZm9sbG93ZWVRdWVyeTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBBVi5Vc2VyLmZvbGxvd2VlUXVlcnkodGhpcy5pZCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgQVYuT2JqZWN0I2ZldGNoXG4gICAgICAgKi9cbiAgICAgIGZldGNoOiBmdW5jdGlvbihmZXRjaE9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFWLk9iamVjdC5wcm90b3R5cGUuZmV0Y2hcbiAgICAgICAgICAuY2FsbCh0aGlzLCBmZXRjaE9wdGlvbnMsIG9wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5faGFuZGxlU2F2ZVJlc3VsdChmYWxzZSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFVwZGF0ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHNhZmVseSBiYXNlZCBvbiBvbGQgcGFzc3dvcmQuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkUGFzc3dvcmQgdGhlIG9sZCBwYXNzd29yZC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdQYXNzd29yZCB0aGUgbmV3IHBhc3N3b3JkLlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICovXG4gICAgICB1cGRhdGVQYXNzd29yZDogZnVuY3Rpb24ob2xkUGFzc3dvcmQsIG5ld1Bhc3N3b3JkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciByb3V0ZSA9ICd1c2Vycy8nICsgdGhpcy5pZCArICcvdXBkYXRlUGFzc3dvcmQnO1xuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgIG9sZF9wYXNzd29yZDogb2xkUGFzc3dvcmQsXG4gICAgICAgICAgbmV3X3Bhc3N3b3JkOiBuZXdQYXNzd29yZCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3Qocm91dGUsIG51bGwsIG51bGwsICdQVVQnLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdC50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIHRoaXMuX2ZpbmlzaEZldGNoKHRoaXMucGFyc2UocmVzcCkpO1xuICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTYXZlUmVzdWx0KHRydWUpLnRoZW4oKCkgPT4gcmVzcCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgPGNvZGU+Y3VycmVudDwvY29kZT4gd291bGQgcmV0dXJuIHRoaXMgdXNlci5cbiAgICAgICAqIEBzZWUgQVYuVXNlciNjdXJyZW50XG4gICAgICAgKi9cbiAgICAgIGlzQ3VycmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0N1cnJlbnRVc2VyO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGdldChcInVzZXJuYW1lXCIpLlxuICAgICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAgICogQHNlZSBBVi5PYmplY3QjZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldFVzZXJuYW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VybmFtZScpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGdldChcIm1vYmlsZVBob25lTnVtYmVyXCIpLlxuICAgICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAgICogQHNlZSBBVi5PYmplY3QjZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldE1vYmlsZVBob25lTnVtYmVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdtb2JpbGVQaG9uZU51bWJlcicpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxscyBzZXQoXCJtb2JpbGVQaG9uZU51bWJlclwiLCBwaG9uZU51bWJlciwgb3B0aW9ucykgYW5kIHJldHVybnMgdGhlIHJlc3VsdC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZU51bWJlclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAqIEBzZWUgQVYuT2JqZWN0I3NldFxuICAgICAgICovXG4gICAgICBzZXRNb2JpbGVQaG9uZU51bWJlcjogZnVuY3Rpb24ocGhvbmUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KCdtb2JpbGVQaG9uZU51bWJlcicsIHBob25lLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbHMgc2V0KFwidXNlcm5hbWVcIiwgdXNlcm5hbWUsIG9wdGlvbnMpIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWVcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAgKiBAc2VlIEFWLk9iamVjdCNzZXRcbiAgICAgICAqL1xuICAgICAgc2V0VXNlcm5hbWU6IGZ1bmN0aW9uKHVzZXJuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldCgndXNlcm5hbWUnLCB1c2VybmFtZSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxzIHNldChcInBhc3N3b3JkXCIsIHBhc3N3b3JkLCBvcHRpb25zKSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkXG4gICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAgICogQHNlZSBBVi5PYmplY3Qjc2V0XG4gICAgICAgKi9cbiAgICAgIHNldFBhc3N3b3JkOiBmdW5jdGlvbihwYXNzd29yZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoJ3Bhc3N3b3JkJywgcGFzc3dvcmQsIG9wdGlvbnMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGdldChcImVtYWlsXCIpLlxuICAgICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAgICogQHNlZSBBVi5PYmplY3QjZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldEVtYWlsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdlbWFpbCcpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxscyBzZXQoXCJlbWFpbFwiLCBlbWFpbCwgb3B0aW9ucykgYW5kIHJldHVybnMgdGhlIHJlc3VsdC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbFxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAqIEBzZWUgQVYuT2JqZWN0I3NldFxuICAgICAgICovXG4gICAgICBzZXRFbWFpbDogZnVuY3Rpb24oZW1haWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KCdlbWFpbCcsIGVtYWlsLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2tzIHdoZXRoZXIgdGhpcyB1c2VyIGlzIHRoZSBjdXJyZW50IHVzZXIgYW5kIGhhcyBiZWVuIGF1dGhlbnRpY2F0ZWQuXG4gICAgICAgKiBAZGVwcmVjYXRlZCDlpoLmnpzopoHliKTmlq3lvZPliY3nlKjmiLfnmoTnmbvlvZXnirbmgIHmmK/lkKbmnInmlYjvvIzor7fkvb/nlKggY3VycmVudFVzZXIuaXNBdXRoZW50aWNhdGVkKCkudGhlbigp77yMXG4gICAgICAgKiDlpoLmnpzopoHliKTmlq3or6XnlKjmiLfmmK/lkKbmmK/lvZPliY3nmbvlvZXnlKjmiLfvvIzor7fkvb/nlKggdXNlci5pZCA9PT0gY3VycmVudFVzZXIuaWRcbiAgICAgICAqIEByZXR1cm4gKEJvb2xlYW4pIHdoZXRoZXIgdGhpcyB1c2VyIGlzIHRoZSBjdXJyZW50IHVzZXIgYW5kIGlzIGxvZ2dlZCBpbi5cbiAgICAgICAqL1xuICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnREVQUkVDQVRFRDog5aaC5p6c6KaB5Yik5pat5b2T5YmN55So5oi355qE55m75b2V54q25oCB5piv5ZCm5pyJ5pWI77yM6K+35L2/55SoIGN1cnJlbnRVc2VyLmlzQXV0aGVudGljYXRlZCgpLnRoZW4oKe+8jOWmguaenOimgeWIpOaWreivpeeUqOaIt+aYr+WQpuaYr+W9k+WJjeeZu+W9leeUqOaIt++8jOivt+S9v+eUqCB1c2VyLmlkID09PSBjdXJyZW50VXNlci5pZOOAgidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAhIXRoaXMuX3Nlc3Npb25Ub2tlbiAmJlxuICAgICAgICAgICghQVYuX2NvbmZpZy5kaXNhYmxlQ3VycmVudFVzZXIgJiZcbiAgICAgICAgICAgIEFWLlVzZXIuY3VycmVudCgpICYmXG4gICAgICAgICAgICBBVi5Vc2VyLmN1cnJlbnQoKS5pZCA9PT0gdGhpcy5pZClcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRGV0ZWN0cyBpZiBjdXJyZW50IHNlc3Npb25Ub2tlbiBpcyB2YWxpZC5cbiAgICAgICAqXG4gICAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgICAqIEByZXR1cm4gUHJvbWlzZS48Qm9vbGVhbj5cbiAgICAgICAqL1xuICAgICAgaXNBdXRoZW50aWNhdGVkKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihcbiAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgISF0aGlzLl9zZXNzaW9uVG9rZW4gJiZcbiAgICAgICAgICAgIEFWLlVzZXIuX2ZldGNoVXNlckJ5U2Vzc2lvblRva2VuKHRoaXMuX3Nlc3Npb25Ub2tlbikudGhlbihcbiAgICAgICAgICAgICAgKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAyMTEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHNlc3Npb25Ub2tlbiBvZiBjdXJyZW50IHVzZXIuXG4gICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHNlc3Npb25Ub2tlblxuICAgICAgICovXG4gICAgICBnZXRTZXNzaW9uVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uVG9rZW47XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlZnJlc2ggc2Vzc2lvblRva2VuIG9mIGN1cnJlbnQgdXNlci5cbiAgICAgICAqIEBzaW5jZSAyLjEuMFxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5Vc2VyPn0gdXNlciB3aXRoIHJlZnJlc2hlZCBzZXNzaW9uVG9rZW5cbiAgICAgICAqL1xuICAgICAgcmVmcmVzaFNlc3Npb25Ub2tlbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBVlJlcXVlc3QoXG4gICAgICAgICAgYHVzZXJzLyR7dGhpcy5pZH0vcmVmcmVzaFNlc3Npb25Ub2tlbmAsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdQVVQnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHRoaXMuX2ZpbmlzaEZldGNoKHJlc3BvbnNlKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlU2F2ZVJlc3VsdCh0cnVlKS50aGVuKCgpID0+IHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHRoaXMgdXNlcidzIFJvbGVzLlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5Sb2xlW10+fSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgcm9sZXMgd2hlblxuICAgICAgICogICAgIHRoZSBxdWVyeSBpcyBjb21wbGV0ZS5cbiAgICAgICAqL1xuICAgICAgZ2V0Um9sZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQVYuUmVsYXRpb24ucmV2ZXJzZVF1ZXJ5KCdfUm9sZScsICd1c2VycycsIHRoaXMpLmZpbmQob3B0aW9ucyk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgLyoqIEBsZW5kcyBBVi5Vc2VyICovIHtcbiAgICAgIC8vIENsYXNzIFZhcmlhYmxlc1xuXG4gICAgICAvLyBUaGUgY3VycmVudGx5IGxvZ2dlZC1pbiB1c2VyLlxuICAgICAgX2N1cnJlbnRVc2VyOiBudWxsLFxuXG4gICAgICAvLyBXaGV0aGVyIGN1cnJlbnRVc2VyIGlzIGtub3duIHRvIG1hdGNoIHRoZSBzZXJpYWxpemVkIHZlcnNpb24gb24gZGlzay5cbiAgICAgIC8vIFRoaXMgaXMgdXNlZnVsIGZvciBzYXZpbmcgYSBsb2NhbHN0b3JhZ2UgY2hlY2sgaWYgeW91IHRyeSB0byBsb2FkXG4gICAgICAvLyBfY3VycmVudFVzZXIgZnJlcXVlbnRseSB3aGlsZSB0aGVyZSBpcyBub25lIHN0b3JlZC5cbiAgICAgIF9jdXJyZW50VXNlck1hdGNoZXNEaXNrOiBmYWxzZSxcblxuICAgICAgLy8gVGhlIGxvY2FsU3RvcmFnZSBrZXkgc3VmZml4IHRoYXQgdGhlIGN1cnJlbnQgdXNlciBpcyBzdG9yZWQgdW5kZXIuXG4gICAgICBfQ1VSUkVOVF9VU0VSX0tFWTogJ2N1cnJlbnRVc2VyJyxcblxuICAgICAgLy8gVGhlIG1hcHBpbmcgb2YgYXV0aCBwcm92aWRlciBuYW1lcyB0byBhY3R1YWwgcHJvdmlkZXJzXG4gICAgICBfYXV0aFByb3ZpZGVyczoge30sXG5cbiAgICAgIC8vIENsYXNzIE1ldGhvZHNcblxuICAgICAgLyoqXG4gICAgICAgKiBTaWducyB1cCBhIG5ldyB1c2VyIHdpdGggYSB1c2VybmFtZSAob3IgZW1haWwpIGFuZCBwYXNzd29yZC5cbiAgICAgICAqIFRoaXMgd2lsbCBjcmVhdGUgYSBuZXcgQVYuVXNlciBvbiB0aGUgc2VydmVyLCBhbmQgYWxzbyBwZXJzaXN0IHRoZVxuICAgICAgICogc2Vzc2lvbiBpbiBsb2NhbFN0b3JhZ2Ugc28gdGhhdCB5b3UgY2FuIGFjY2VzcyB0aGUgdXNlciB1c2luZ1xuICAgICAgICoge0BsaW5rICNjdXJyZW50fS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWUgVGhlIHVzZXJuYW1lIChvciBlbWFpbCkgdG8gc2lnbiB1cCB3aXRoLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byBzaWduIHVwIHdpdGguXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJzXSBFeHRyYSBmaWVsZHMgdG8gc2V0IG9uIHRoZSBuZXcgdXNlci5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHVzZXIgd2hlblxuICAgICAgICogICAgIHRoZSBzaWdudXAgY29tcGxldGVzLlxuICAgICAgICogQHNlZSBBVi5Vc2VyI3NpZ25VcFxuICAgICAgICovXG4gICAgICBzaWduVXA6IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgYXR0cnMsIG9wdGlvbnMpIHtcbiAgICAgICAgYXR0cnMgPSBhdHRycyB8fCB7fTtcbiAgICAgICAgYXR0cnMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICAgICAgYXR0cnMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcbiAgICAgICAgcmV0dXJuIHVzZXIuc2lnblVwKGF0dHJzLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTG9ncyBpbiBhIHVzZXIgd2l0aCBhIHVzZXJuYW1lIChvciBlbWFpbCkgYW5kIHBhc3N3b3JkLiBPbiBzdWNjZXNzLCB0aGlzXG4gICAgICAgKiBzYXZlcyB0aGUgc2Vzc2lvbiB0byBkaXNrLCBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluXG4gICAgICAgKiB1c2VyIHVzaW5nIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VybmFtZSBUaGUgdXNlcm5hbWUgKG9yIGVtYWlsKSB0byBsb2cgaW4gd2l0aC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgdG8gbG9nIGluIHdpdGguXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICAgKiAgICAgdGhlIGxvZ2luIGNvbXBsZXRlcy5cbiAgICAgICAqIEBzZWUgQVYuVXNlciNsb2dJblxuICAgICAgICovXG4gICAgICBsb2dJbjogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgIHZhciB1c2VyID0gQVYuT2JqZWN0Ll9jcmVhdGUoJ19Vc2VyJyk7XG4gICAgICAgIHVzZXIuX2ZpbmlzaEZldGNoKHsgdXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmQgfSk7XG4gICAgICAgIHJldHVybiB1c2VyLmxvZ0luKCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIExvZ3MgaW4gYSB1c2VyIHdpdGggYSBzZXNzaW9uIHRva2VuLiBPbiBzdWNjZXNzLCB0aGlzIHNhdmVzIHRoZSBzZXNzaW9uXG4gICAgICAgKiB0byBkaXNrLCBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIgdXNpbmdcbiAgICAgICAqIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZXNzaW9uVG9rZW4gVGhlIHNlc3Npb25Ub2tlbiB0byBsb2cgaW4gd2l0aC5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW5cbiAgICAgICAqICAgICB0aGUgbG9naW4gY29tcGxldGVzLlxuICAgICAgICovXG4gICAgICBiZWNvbWU6IGZ1bmN0aW9uKHNlc3Npb25Ub2tlbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmV0Y2hVc2VyQnlTZXNzaW9uVG9rZW4oc2Vzc2lvblRva2VuKS50aGVuKHVzZXIgPT5cbiAgICAgICAgICB1c2VyLl9oYW5kbGVTYXZlUmVzdWx0KHRydWUpLnRoZW4oKCkgPT4gdXNlcilcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIF9mZXRjaFVzZXJCeVNlc3Npb25Ub2tlbjogZnVuY3Rpb24oc2Vzc2lvblRva2VuKSB7XG4gICAgICAgIGlmIChzZXNzaW9uVG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIG5ldyBFcnJvcignVGhlIHNlc3Npb25Ub2tlbiBjYW5ub3QgYmUgdW5kZWZpbmVkJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgcGF0aDogJy91c2Vycy9tZScsXG4gICAgICAgICAgYXV0aE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICB9LFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICB2YXIgc2VydmVyQXR0cnMgPSB1c2VyLnBhcnNlKHJlc3ApO1xuICAgICAgICAgIHVzZXIuX2ZpbmlzaEZldGNoKHNlcnZlckF0dHJzKTtcbiAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIExvZ3MgaW4gYSB1c2VyIHdpdGggYSBtb2JpbGUgcGhvbmUgbnVtYmVyIGFuZCBzbXMgY29kZSBzZW50IGJ5XG4gICAgICAgKiBBVi5Vc2VyLnJlcXVlc3RMb2dpblNtc0NvZGUuT24gc3VjY2VzcywgdGhpc1xuICAgICAgICogc2F2ZXMgdGhlIHNlc3Npb24gdG8gZGlzaywgc28geW91IGNhbiByZXRyaWV2ZSB0aGUgY3VycmVudGx5IGxvZ2dlZCBpblxuICAgICAgICogdXNlciB1c2luZyA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmUgVGhlIHVzZXIncyBtb2JpbGVQaG9uZU51bWJlclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNtc0NvZGUgVGhlIHNtcyBjb2RlIHNlbnQgYnkgQVYuVXNlci5yZXF1ZXN0TG9naW5TbXNDb2RlXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICAgKiAgICAgdGhlIGxvZ2luIGNvbXBsZXRlcy5cbiAgICAgICAqIEBzZWUgQVYuVXNlciNsb2dJblxuICAgICAgICovXG4gICAgICBsb2dJbldpdGhNb2JpbGVQaG9uZVNtc0NvZGU6IGZ1bmN0aW9uKG1vYmlsZVBob25lLCBzbXNDb2RlKSB7XG4gICAgICAgIHZhciB1c2VyID0gQVYuT2JqZWN0Ll9jcmVhdGUoJ19Vc2VyJyk7XG4gICAgICAgIHVzZXIuX2ZpbmlzaEZldGNoKHsgbW9iaWxlUGhvbmVOdW1iZXI6IG1vYmlsZVBob25lLCBzbXNDb2RlOiBzbXNDb2RlIH0pO1xuICAgICAgICByZXR1cm4gdXNlci5sb2dJbigpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTaWducyB1cCBvciBsb2dzIGluIGEgdXNlciB3aXRoIGEgbW9iaWxlUGhvbmVOdW1iZXIgYW5kIHNtc0NvZGUuXG4gICAgICAgKiBPbiBzdWNjZXNzLCB0aGlzIHNhdmVzIHRoZSBzZXNzaW9uIHRvIGRpc2ssIHNvIHlvdSBjYW4gcmV0cmlldmUgdGhlIGN1cnJlbnRseVxuICAgICAgICogbG9nZ2VkIGluIHVzZXIgdXNpbmcgPGNvZGU+Y3VycmVudDwvY29kZT4uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1vYmlsZVBob25lTnVtYmVyIFRoZSB1c2VyJ3MgbW9iaWxlUGhvbmVOdW1iZXIuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gc21zQ29kZSBUaGUgc21zIGNvZGUgc2VudCBieSBBVi5DbG91ZC5yZXF1ZXN0U21zQ29kZVxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJpYnV0ZXMgIFRoZSB1c2VyJ3Mgb3RoZXIgYXR0cmlidXRlcyBzdWNoIGFzIHVzZXJuYW1lIGV0Yy5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW5cbiAgICAgICAqICAgICB0aGUgbG9naW4gY29tcGxldGVzLlxuICAgICAgICogQHNlZSBBVi5Vc2VyI3NpZ25VcE9ybG9nSW5XaXRoTW9iaWxlUGhvbmVcbiAgICAgICAqIEBzZWUgQVYuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgICAqL1xuICAgICAgc2lnblVwT3Jsb2dJbldpdGhNb2JpbGVQaG9uZTogZnVuY3Rpb24oXG4gICAgICAgIG1vYmlsZVBob25lTnVtYmVyLFxuICAgICAgICBzbXNDb2RlLFxuICAgICAgICBhdHRycyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKSB7XG4gICAgICAgIGF0dHJzID0gYXR0cnMgfHwge307XG4gICAgICAgIGF0dHJzLm1vYmlsZVBob25lTnVtYmVyID0gbW9iaWxlUGhvbmVOdW1iZXI7XG4gICAgICAgIGF0dHJzLnNtc0NvZGUgPSBzbXNDb2RlO1xuICAgICAgICB2YXIgdXNlciA9IEFWLk9iamVjdC5fY3JlYXRlKCdfVXNlcicpO1xuICAgICAgICByZXR1cm4gdXNlci5zaWduVXBPcmxvZ0luV2l0aE1vYmlsZVBob25lKGF0dHJzLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTG9ncyBpbiBhIHVzZXIgd2l0aCBhIG1vYmlsZSBwaG9uZSBudW1iZXIgYW5kIHBhc3N3b3JkLiBPbiBzdWNjZXNzLCB0aGlzXG4gICAgICAgKiBzYXZlcyB0aGUgc2Vzc2lvbiB0byBkaXNrLCBzbyB5b3UgY2FuIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluXG4gICAgICAgKiB1c2VyIHVzaW5nIDxjb2RlPmN1cnJlbnQ8L2NvZGU+LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZSBUaGUgdXNlcidzIG1vYmlsZVBob25lTnVtYmVyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmQgVGhlIHBhc3N3b3JkIHRvIGxvZyBpbiB3aXRoLlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIHVzZXIgd2hlblxuICAgICAgICogICAgIHRoZSBsb2dpbiBjb21wbGV0ZXMuXG4gICAgICAgKiBAc2VlIEFWLlVzZXIjbG9nSW5cbiAgICAgICAqL1xuICAgICAgbG9nSW5XaXRoTW9iaWxlUGhvbmU6IGZ1bmN0aW9uKG1vYmlsZVBob25lLCBwYXNzd29yZCkge1xuICAgICAgICB2YXIgdXNlciA9IEFWLk9iamVjdC5fY3JlYXRlKCdfVXNlcicpO1xuICAgICAgICB1c2VyLl9maW5pc2hGZXRjaCh7XG4gICAgICAgICAgbW9iaWxlUGhvbmVOdW1iZXI6IG1vYmlsZVBob25lLFxuICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1c2VyLmxvZ0luKCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIExvZ3MgaW4gYSB1c2VyIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkLlxuICAgICAgICpcbiAgICAgICAqIEBzaW5jZSAzLjEzLjBcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbCBUaGUgdXNlcidzIGVtYWlsLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byBsb2cgaW4gd2l0aC5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHRoZSB1c2VyIHdoZW5cbiAgICAgICAqICAgICB0aGUgbG9naW4gY29tcGxldGVzLlxuICAgICAgICovXG4gICAgICBsb2dpbldpdGhFbWFpbChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgY29uc3QgdXNlciA9IEFWLk9iamVjdC5fY3JlYXRlKCdfVXNlcicpO1xuICAgICAgICB1c2VyLl9maW5pc2hGZXRjaCh7XG4gICAgICAgICAgZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXNlci5sb2dJbigpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTaWducyB1cCBvciBsb2dzIGluIGEgdXNlciB3aXRoIGEgdGhpcmQgcGFydHkgYXV0aCBkYXRhKEFjY2Vzc1Rva2VuKS5cbiAgICAgICAqIE9uIHN1Y2Nlc3MsIHRoaXMgc2F2ZXMgdGhlIHNlc3Npb24gdG8gZGlzaywgc28geW91IGNhbiByZXRyaWV2ZSB0aGUgY3VycmVudGx5XG4gICAgICAgKiBsb2dnZWQgaW4gdXNlciB1c2luZyA8Y29kZT5jdXJyZW50PC9jb2RlPi5cbiAgICAgICAqXG4gICAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoRGF0YSBUaGUgcmVzcG9uc2UganNvbiBkYXRhIHJldHVybmVkIGZyb20gdGhpcmQgcGFydHkgdG9rZW4sIG1heWJlIGxpa2UgeyBvcGVuaWQ6ICdhYmMxMjMnLCBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLCBleHBpcmVzX2luOiAxMzgyNjg2NDk2IH1cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGF0Zm9ybSBBdmFpbGFibGUgcGxhdGZvcm0gZm9yIHNpZ24gdXAuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoRGF0YSBleGlzdHMuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuXG4gICAgICAgKiAgICAgdGhlIGxvZ2luIGNvbXBsZXRlcy5cbiAgICAgICAqIEBleGFtcGxlIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGEoe1xuICAgICAgICogICBvcGVuaWQ6ICdhYmMxMjMnLFxuICAgICAgICogICBhY2Nlc3NfdG9rZW46ICcxMjNhYmMnLFxuICAgICAgICogICBleHBpcmVzX2luOiAxMzgyNjg2NDk2XG4gICAgICAgKiB9LCAnd2VpeGluJykudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgKiAgIC8vQWNjZXNzIHVzZXIgaGVyZVxuICAgICAgICogfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAqICAgLy9jb25zb2xlLmVycm9yKFwiZXJyb3I6IFwiLCBlcnJvcik7XG4gICAgICAgKiB9KTtcbiAgICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvanNfZ3VpZGUuaHRtbCPnu5HlrprnrKzkuInmlrnlubPlj7DotKbmiLd9XG4gICAgICAgKi9cbiAgICAgIGxvZ2luV2l0aEF1dGhEYXRhKGF1dGhEYXRhLCBwbGF0Zm9ybSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQVYuVXNlci5fbG9nSW5XaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBkZXByZWNhdGVkIHJlbmFtZWQgdG8ge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGF9XG4gICAgICAgKi9cbiAgICAgIHNpZ25VcE9ybG9nSW5XaXRoQXV0aERhdGEoLi4ucGFyYW0pIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdERVBSRUNBVEVEOiBVc2VyLnNpZ25VcE9ybG9nSW5XaXRoQXV0aERhdGEg5bey5bqf5byD77yM6K+35L2/55SoIFVzZXIjbG9naW5XaXRoQXV0aERhdGEg5Luj5pu/J1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YSguLi5wYXJhbSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNpZ25zIHVwIG9yIGxvZ3MgaW4gYSB1c2VyIHdpdGggYSB0aGlyZCBwYXJ0eSBhdXRoRGF0YSBhbmQgdW5pb25JZC5cbiAgICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGF1dGhEYXRhIFRoZSByZXNwb25zZSBqc29uIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGlyZCBwYXJ0eSB0b2tlbiwgbWF5YmUgbGlrZSB7IG9wZW5pZDogJ2FiYzEyMycsIGFjY2Vzc190b2tlbjogJzEyM2FiYycsIGV4cGlyZXNfaW46IDEzODI2ODY0OTYgfVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHBsYXRmb3JtIEF2YWlsYWJsZSBwbGF0Zm9ybSBmb3Igc2lnbiB1cC5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bmlvbklkXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW3VuaW9uTG9naW5PcHRpb25zXVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt1bmlvbkxvZ2luT3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAnd2VpeGluJ10gdW5pb25JZCBwbGF0Zm9ybVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbdW5pb25Mb2dpbk9wdGlvbnMuYXNNYWluQWNjb3VudCA9IGZhbHNlXSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaW9uTG9naW5PcHRpb25zLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoRGF0YSBleGlzdHMuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLlVzZXI+fSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgdXNlciB3aGVuIGNvbXBsZXRlZC5cbiAgICAgICAqIEBleGFtcGxlIEFWLlVzZXIubG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkKHtcbiAgICAgICAqICAgb3BlbmlkOiAnYWJjMTIzJyxcbiAgICAgICAqICAgYWNjZXNzX3Rva2VuOiAnMTIzYWJjJyxcbiAgICAgICAqICAgZXhwaXJlc19pbjogMTM4MjY4NjQ5NlxuICAgICAgICogfSwgJ3dlaXhpbicsICd1bmlvbjEyMycsIHtcbiAgICAgICAqICAgdW5pb25JZFBsYXRmb3JtOiAnd2VpeGluJyxcbiAgICAgICAqICAgYXNNYWluQWNjb3VudDogdHJ1ZSxcbiAgICAgICAqIH0pLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICogICAvL0FjY2VzcyB1c2VyIGhlcmVcbiAgICAgICAqIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgKiAgIC8vY29uc29sZS5lcnJvcihcImVycm9yOiBcIiwgZXJyb3IpO1xuICAgICAgICogfSk7XG4gICAgICAgKi9cbiAgICAgIGxvZ2luV2l0aEF1dGhEYXRhQW5kVW5pb25JZChcbiAgICAgICAgYXV0aERhdGEsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICB1bmlvbklkLFxuICAgICAgICB1bmlvbkxvZ2luT3B0aW9uc1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2luV2l0aEF1dGhEYXRhKFxuICAgICAgICAgIG1lcmdlVW5pb25EYXRhSW50b0F1dGhEYXRhKCkoYXV0aERhdGEsIHVuaW9uSWQsIHVuaW9uTG9naW5PcHRpb25zKSxcbiAgICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgICB1bmlvbkxvZ2luT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAZGVwcmVjYXRlZCByZW5hbWVkIHRvIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aEF1dGhEYXRhQW5kVW5pb25JZH1cbiAgICAgICAqIEBzaW5jZSAzLjUuMFxuICAgICAgICovXG4gICAgICBzaWduVXBPcmxvZ0luV2l0aEF1dGhEYXRhQW5kVW5pb25JZCguLi5wYXJhbSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ0RFUFJFQ0FURUQ6IFVzZXIuc2lnblVwT3Jsb2dJbldpdGhBdXRoRGF0YUFuZFVuaW9uSWQg5bey5bqf5byD77yM6K+35L2/55SoIFVzZXIjbG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkIOS7o+abvydcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoQXV0aERhdGFBbmRVbmlvbklkKC4uLnBhcmFtKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWVyZ2UgdW5pb25JZCBpbnRvIGF1dGhJbmZvLlxuICAgICAgICogQHNpbmNlIDQuNi4wXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXV0aEluZm9cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bmlvbklkXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gW3VuaW9uSWRPcHRpb25dXG4gICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt1bmlvbklkT3B0aW9uLmFzTWFpbkFjY291bnRdIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAgICovXG4gICAgICBtZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQsIHsgYXNNYWluQWNjb3VudCA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICBhdXRoSW5mbyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXV0aEluZm8pKTtcbiAgICAgICAgY29uc3QgeyBhdXRoRGF0YSwgcGxhdGZvcm0gfSA9IGF1dGhJbmZvO1xuICAgICAgICBhdXRoRGF0YS5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgICAgICBhdXRoRGF0YS5tYWluX2FjY291bnQgPSBhc01haW5BY2NvdW50O1xuICAgICAgICBhdXRoRGF0YS51bmlvbmlkID0gdW5pb25JZDtcbiAgICAgICAgcmV0dXJuIGF1dGhJbmZvO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiDkvb/nlKjlvZPliY3kvb/nlKjlvq7kv6HlsI/nqIvluo/nmoTlvq7kv6HnlKjmiLfouqvku73ms6jlhozmiJbnmbvlvZXvvIzmiJDlip/lkI7nlKjmiLfnmoQgc2Vzc2lvbiDkvJrlnKjorr7lpIfkuIrmjIHkuYXljJbkv53lrZjvvIzkuYvlkI7lj6/ku6Xkvb/nlKggQVYuVXNlci5jdXJyZW50KCkg6I635Y+W5b2T5YmN55m75b2V55So5oi344CCXG4gICAgICAgKiDku4XlnKjlvq7kv6HlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aE1pbmlBcHB9XG4gICAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlZmVyVW5pb25JZF0g5b2T55So5oi35ruh6LazIHtAbGluayBodHRwczovL2RldmVsb3BlcnMud2VpeGluLnFxLmNvbS9taW5pcHJvZ3JhbS9kZXYvZnJhbWV3b3JrL29wZW4tYWJpbGl0eS91bmlvbi1pZC5odG1sIOiOt+WPliBVbmlvbklkIOeahOadoeS7tn0g5pe277yM5piv5ZCm5L2/55SoIFVuaW9uSWQg55m75b2V44CC77yIc2luY2UgMy4xMy4w77yJXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbiddIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgdW5pb25JZCBwbGF0Zm9ybVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hc01haW5BY2NvdW50ID0gdHJ1ZV0gKG9ubHkgdGFrZSBlZmZlY3Qgd2hlbiBwcmVmZXJVbmlvbklkKSBJZiB0cnVlLCB0aGUgdW5pb25JZCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlci5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhEYXRhIGV4aXN0cy4gKHNpbmNlIHYzLjcuMClcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fVxuICAgICAgICovXG4gICAgICBsb2dpbldpdGhXZWFwcCh7XG4gICAgICAgIHByZWZlclVuaW9uSWQgPSBmYWxzZSxcbiAgICAgICAgdW5pb25JZFBsYXRmb3JtID0gJ3dlaXhpbicsXG4gICAgICAgIGFzTWFpbkFjY291bnQgPSB0cnVlLFxuICAgICAgICBmYWlsT25Ob3RFeGlzdCA9IGZhbHNlLFxuICAgICAgICB1c2VNYXN0ZXJLZXksXG4gICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgdXNlcixcbiAgICAgIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBnZXRBdXRoSW5mbyA9IGdldEFkYXB0ZXIoJ2dldEF1dGhJbmZvJyk7XG4gICAgICAgIHJldHVybiBnZXRBdXRoSW5mbyh7XG4gICAgICAgICAgcHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBhc01haW5BY2NvdW50LFxuICAgICAgICAgIHBsYXRmb3JtOiB1bmlvbklkUGxhdGZvcm0sXG4gICAgICAgIH0pLnRoZW4oYXV0aEluZm8gPT5cbiAgICAgICAgICB0aGlzLmxvZ2luV2l0aE1pbmlBcHAoYXV0aEluZm8sIHtcbiAgICAgICAgICAgIGZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgICAgdXNlTWFzdGVyS2V5LFxuICAgICAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiDkvb/nlKjlvZPliY3kvb/nlKjlvq7kv6HlsI/nqIvluo/nmoTlvq7kv6HnlKjmiLfouqvku73ms6jlhozmiJbnmbvlvZXvvIxcbiAgICAgICAqIOS7heWcqOW+ruS/oeWwj+eoi+W6j+S4reWPr+eUqOOAglxuICAgICAgICpcbiAgICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2Uge0BsaW5rIEFWLlVzZXIubG9naW5XaXRoTWluaUFwcH1cbiAgICAgICAqIEBzaW5jZSAzLjEzLjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdW5pb25Mb2dpbk9wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VuaW9uTG9naW5PcHRpb25zLnVuaW9uSWRQbGF0Zm9ybSA9ICd3ZWl4aW4nXSB1bmlvbklkIHBsYXRmb3JtXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbkxvZ2luT3B0aW9ucy5hc01haW5BY2NvdW50ID0gZmFsc2VdIElmIHRydWUsIHRoZSB1bmlvbklkIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbdW5pb25Mb2dpbk9wdGlvbnMuZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhEYXRhIGV4aXN0cy4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5Vc2VyPn1cbiAgICAgICAqL1xuICAgICAgbG9naW5XaXRoV2VhcHBXaXRoVW5pb25JZChcbiAgICAgICAgdW5pb25JZCxcbiAgICAgICAge1xuICAgICAgICAgIHVuaW9uSWRQbGF0Zm9ybSA9ICd3ZWl4aW4nLFxuICAgICAgICAgIGFzTWFpbkFjY291bnQgPSBmYWxzZSxcbiAgICAgICAgICBmYWlsT25Ob3RFeGlzdCA9IGZhbHNlLFxuICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgfSA9IHt9XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICByZXR1cm4gZ2V0QXV0aEluZm8oeyBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtIH0pLnRoZW4oYXV0aEluZm8gPT4ge1xuICAgICAgICAgIGF1dGhJbmZvID0gQVYuVXNlci5tZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQsIHsgYXNNYWluQWNjb3VudCB9KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhNaW5pQXBwKGF1dGhJbmZvLCB7XG4gICAgICAgICAgICBmYWlsT25Ob3RFeGlzdCxcbiAgICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiDkvb/nlKjlvZPliY3kvb/nlKggUVEg5bCP56iL5bqP55qEIFFRIOeUqOaIt+i6q+S7veazqOWGjOaIlueZu+W9le+8jOaIkOWKn+WQjueUqOaIt+eahCBzZXNzaW9uIOS8muWcqOiuvuWkh+S4iuaMgeS5heWMluS/neWtmO+8jOS5i+WQjuWPr+S7peS9v+eUqCBBVi5Vc2VyLmN1cnJlbnQoKSDojrflj5blvZPliY3nmbvlvZXnlKjmiLfjgIJcbiAgICAgICAqIOS7heWcqCBRUSDlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aE1pbmlBcHB9XG4gICAgICAgKiBAc2luY2UgNC4yLjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlZmVyVW5pb25JZF0g5aaC5p6c5pyN5Yqh56uv5Zyo55m75b2V5pe26I635Y+W5Yiw5LqG55So5oi355qEIFVuaW9uSWTvvIzmmK/lkKblsIYgVW5pb25JZCDkv53lrZjlnKjnlKjmiLfotKblj7fkuK3jgIJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmlvbklkUGxhdGZvcm0gPSAncXEnXSAob25seSB0YWtlIGVmZmVjdCB3aGVuIHByZWZlclVuaW9uSWQpIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXNNYWluQWNjb3VudCA9IHRydWVdIChvbmx5IHRha2UgZWZmZWN0IHdoZW4gcHJlZmVyVW5pb25JZCkgSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxPbk5vdEV4aXN0XSBJZiB0cnVlLCB0aGUgbG9naW4gcmVxdWVzdCB3aWxsIGZhaWwgd2hlbiBubyB1c2VyIG1hdGNoZXMgdGhpcyBhdXRoRGF0YSBleGlzdHMuIChzaW5jZSB2My43LjApXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxBVi5Vc2VyPn1cbiAgICAgICAqL1xuICAgICAgbG9naW5XaXRoUVFBcHAoe1xuICAgICAgICBwcmVmZXJVbmlvbklkID0gZmFsc2UsXG4gICAgICAgIHVuaW9uSWRQbGF0Zm9ybSA9ICdxcScsXG4gICAgICAgIGFzTWFpbkFjY291bnQgPSB0cnVlLFxuICAgICAgICBmYWlsT25Ob3RFeGlzdCA9IGZhbHNlLFxuICAgICAgICB1c2VNYXN0ZXJLZXksXG4gICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgdXNlcixcbiAgICAgIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBnZXRBdXRoSW5mbyA9IGdldEFkYXB0ZXIoJ2dldEF1dGhJbmZvJyk7XG4gICAgICAgIHJldHVybiBnZXRBdXRoSW5mbyh7XG4gICAgICAgICAgcHJlZmVyVW5pb25JZCxcbiAgICAgICAgICBhc01haW5BY2NvdW50LFxuICAgICAgICAgIHBsYXRmb3JtOiB1bmlvbklkUGxhdGZvcm0sXG4gICAgICAgIH0pLnRoZW4oYXV0aEluZm8gPT4ge1xuICAgICAgICAgIGF1dGhJbmZvLnByb3ZpZGVyID0gUExBVEZPUk1fUVFBUFA7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywge1xuICAgICAgICAgICAgZmFpbE9uTm90RXhpc3QsXG4gICAgICAgICAgICB1c2VNYXN0ZXJLZXksXG4gICAgICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICog5L2/55So5b2T5YmN5L2/55SoIFFRIOWwj+eoi+W6j+eahCBRUSDnlKjmiLfouqvku73ms6jlhozmiJbnmbvlvZXvvIxcbiAgICAgICAqIOS7heWcqCBRUSDlsI/nqIvluo/kuK3lj6/nlKjjgIJcbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBVi5Vc2VyLmxvZ2luV2l0aE1pbmlBcHB9XG4gICAgICAgKiBAc2luY2UgNC4yLjBcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdW5pb25Mb2dpbk9wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VuaW9uTG9naW5PcHRpb25zLnVuaW9uSWRQbGF0Zm9ybSA9ICdxcSddIHVuaW9uSWQgcGxhdGZvcm1cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaW9uTG9naW5PcHRpb25zLmFzTWFpbkFjY291bnQgPSBmYWxzZV0gSWYgdHJ1ZSwgdGhlIHVuaW9uSWQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIuXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt1bmlvbkxvZ2luT3B0aW9ucy5mYWlsT25Ob3RFeGlzdF0gSWYgdHJ1ZSwgdGhlIGxvZ2luIHJlcXVlc3Qgd2lsbCBmYWlsIHdoZW4gbm8gdXNlciBtYXRjaGVzIHRoaXMgYXV0aERhdGEgZXhpc3RzLlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZS48QVYuVXNlcj59XG4gICAgICAgKi9cbiAgICAgIGxvZ2luV2l0aFFRQXBwV2l0aFVuaW9uSWQoXG4gICAgICAgIHVuaW9uSWQsXG4gICAgICAgIHtcbiAgICAgICAgICB1bmlvbklkUGxhdGZvcm0gPSAncXEnLFxuICAgICAgICAgIGFzTWFpbkFjY291bnQgPSBmYWxzZSxcbiAgICAgICAgICBmYWlsT25Ob3RFeGlzdCA9IGZhbHNlLFxuICAgICAgICAgIHVzZU1hc3RlcktleSxcbiAgICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgfSA9IHt9XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICByZXR1cm4gZ2V0QXV0aEluZm8oeyBwbGF0Zm9ybTogdW5pb25JZFBsYXRmb3JtIH0pLnRoZW4oYXV0aEluZm8gPT4ge1xuICAgICAgICAgIGF1dGhJbmZvID0gQVYuVXNlci5tZXJnZVVuaW9uSWQoYXV0aEluZm8sIHVuaW9uSWQsIHsgYXNNYWluQWNjb3VudCB9KTtcbiAgICAgICAgICBhdXRoSW5mby5wcm92aWRlciA9IFBMQVRGT1JNX1FRQVBQO1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvZ2luV2l0aE1pbmlBcHAoYXV0aEluZm8sIHtcbiAgICAgICAgICAgIGZhaWxPbk5vdEV4aXN0LFxuICAgICAgICAgICAgdXNlTWFzdGVyS2V5LFxuICAgICAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlZ2lzdGVyIG9yIGxvZ2luIHVzaW5nIHRoZSBpZGVudGl0eSBvZiB0aGUgY3VycmVudCBtaW5pLWFwcC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdXRoSW5mb1xuICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25dXG4gICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb24uZmFpbE9uTm90RXhpc3RdIElmIHRydWUsIHRoZSBsb2dpbiByZXF1ZXN0IHdpbGwgZmFpbCB3aGVuIG5vIHVzZXIgbWF0Y2hlcyB0aGlzIGF1dGhJbmZvLmF1dGhEYXRhIGV4aXN0cy5cbiAgICAgICAqL1xuICAgICAgbG9naW5XaXRoTWluaUFwcChhdXRoSW5mbywgb3B0aW9uKSB7XG4gICAgICAgIGlmIChhdXRoSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29uc3QgZ2V0QXV0aEluZm8gPSBnZXRBZGFwdGVyKCdnZXRBdXRoSW5mbycpO1xuICAgICAgICAgIHJldHVybiBnZXRBdXRoSW5mbygpLnRoZW4oYXV0aEluZm8gPT5cbiAgICAgICAgICAgIHRoaXMubG9naW5XaXRoQXV0aERhdGEoYXV0aEluZm8uYXV0aERhdGEsIGF1dGhJbmZvLnByb3ZpZGVyLCBvcHRpb24pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YShcbiAgICAgICAgICBhdXRoSW5mby5hdXRoRGF0YSxcbiAgICAgICAgICBhdXRoSW5mby5wcm92aWRlcixcbiAgICAgICAgICBvcHRpb25cbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogT25seSB1c2UgZm9yIERJIGluIHRlc3RzIHRvIHByb2R1Y2UgZGV0ZXJtaW5pc3RpYyBJRHMuXG4gICAgICAgKi9cbiAgICAgIF9nZW5JZCgpIHtcbiAgICAgICAgcmV0dXJuIHV1aWQoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhbiBhbm9ueW1vdXMgdXNlci5cbiAgICAgICAqXG4gICAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fVxuICAgICAgICovXG4gICAgICBsb2dpbkFub255bW91c2x5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhBdXRoRGF0YShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogQVYuVXNlci5fZ2VuSWQoKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgICdhbm9ueW1vdXMnXG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICBhc3NvY2lhdGVXaXRoQXV0aERhdGEodXNlck9iaiwgcGxhdGZvcm0sIGF1dGhEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnREVQUkVDQVRFRDogVXNlci5hc3NvY2lhdGVXaXRoQXV0aERhdGEg5bey5bqf5byD77yM6K+35L2/55SoIFVzZXIjYXNzb2NpYXRlV2l0aEF1dGhEYXRhIOS7o+abvydcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHVzZXJPYmouX2xpbmtXaXRoKHBsYXRmb3JtLCBhdXRoRGF0YSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBMb2dzIG91dCB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiB1c2VyIHNlc3Npb24uIFRoaXMgd2lsbCByZW1vdmUgdGhlXG4gICAgICAgKiBzZXNzaW9uIGZyb20gZGlzaywgbG9nIG91dCBvZiBsaW5rZWQgc2VydmljZXMsIGFuZCBmdXR1cmUgY2FsbHMgdG9cbiAgICAgICAqIDxjb2RlPmN1cnJlbnQ8L2NvZGU+IHdpbGwgcmV0dXJuIDxjb2RlPm51bGw8L2NvZGU+LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgbG9nT3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKEFWLl9jb25maWcuZGlzYWJsZUN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgJ0FWLlVzZXIuY3VycmVudCgpIHdhcyBkaXNhYmxlZCBpbiBtdWx0aS11c2VyIGVudmlyb25tZW50LCBjYWxsIGxvZ091dCgpIGZyb20gdXNlciBvYmplY3QgaW5zdGVhZCBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL2xlYW5lbmdpbmUtbm9kZS1zZGstdXBncmFkZS0xLmh0bWwnXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFWLlVzZXIuX2N1cnJlbnRVc2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX2xvZ091dFdpdGhBbGwoKTtcbiAgICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5faXNDdXJyZW50VXNlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyTWF0Y2hlc0Rpc2sgPSB0cnVlO1xuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlciA9IG51bGw7XG4gICAgICAgIHJldHVybiBBVi5sb2NhbFN0b3JhZ2VcbiAgICAgICAgICAucmVtb3ZlSXRlbUFzeW5jKEFWLl9nZXRBVlBhdGgoQVYuVXNlci5fQ1VSUkVOVF9VU0VSX0tFWSkpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gQVYuX3JlZnJlc2hTdWJzY3JpcHRpb25JZCgpKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpDcmVhdGUgYSBmb2xsb3dlciBxdWVyeSBmb3Igc3BlY2lhbCB1c2VyIHRvIHF1ZXJ5IHRoZSB1c2VyJ3MgZm9sbG93ZXJzLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHVzZXJPYmplY3RJZCBUaGUgdXNlciBvYmplY3QgaWQuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5GcmllbmRTaGlwUXVlcnl9XG4gICAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgICAqL1xuICAgICAgZm9sbG93ZXJRdWVyeTogZnVuY3Rpb24odXNlck9iamVjdElkKSB7XG4gICAgICAgIGlmICghdXNlck9iamVjdElkIHx8ICFfLmlzU3RyaW5nKHVzZXJPYmplY3RJZCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdXNlciBvYmplY3QgaWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLkZyaWVuZFNoaXBRdWVyeSgnX0ZvbGxvd2VyJyk7XG4gICAgICAgIHF1ZXJ5Ll9mcmllbmRzaGlwVGFnID0gJ2ZvbGxvd2VyJztcbiAgICAgICAgcXVlcnkuZXF1YWxUbyhcbiAgICAgICAgICAndXNlcicsXG4gICAgICAgICAgQVYuT2JqZWN0LmNyZWF0ZVdpdGhvdXREYXRhKCdfVXNlcicsIHVzZXJPYmplY3RJZClcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKkNyZWF0ZSBhIGZvbGxvd2VlIHF1ZXJ5IGZvciBzcGVjaWFsIHVzZXIgdG8gcXVlcnkgdGhlIHVzZXIncyBmb2xsb3dlZXMuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlck9iamVjdElkIFRoZSB1c2VyIG9iamVjdCBpZC5cbiAgICAgICAqIEByZXR1cm4ge0FWLkZyaWVuZFNoaXBRdWVyeX1cbiAgICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAgICovXG4gICAgICBmb2xsb3dlZVF1ZXJ5OiBmdW5jdGlvbih1c2VyT2JqZWN0SWQpIHtcbiAgICAgICAgaWYgKCF1c2VyT2JqZWN0SWQgfHwgIV8uaXNTdHJpbmcodXNlck9iamVjdElkKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1c2VyIG9iamVjdCBpZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVlcnkgPSBuZXcgQVYuRnJpZW5kU2hpcFF1ZXJ5KCdfRm9sbG93ZWUnKTtcbiAgICAgICAgcXVlcnkuX2ZyaWVuZHNoaXBUYWcgPSAnZm9sbG93ZWUnO1xuICAgICAgICBxdWVyeS5lcXVhbFRvKFxuICAgICAgICAgICd1c2VyJyxcbiAgICAgICAgICBBVi5PYmplY3QuY3JlYXRlV2l0aG91dERhdGEoJ19Vc2VyJywgdXNlck9iamVjdElkKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlcXVlc3RzIGEgcGFzc3dvcmQgcmVzZXQgZW1haWwgdG8gYmUgc2VudCB0byB0aGUgc3BlY2lmaWVkIGVtYWlsIGFkZHJlc3NcbiAgICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlciBhY2NvdW50LiBUaGlzIGVtYWlsIGFsbG93cyB0aGUgdXNlciB0byBzZWN1cmVseVxuICAgICAgICogcmVzZXQgdGhlaXIgcGFzc3dvcmQgb24gdGhlIEFWIHNpdGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGVtYWlsIFRoZSBlbWFpbCBhZGRyZXNzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlciB0aGF0XG4gICAgICAgKiAgICAgZm9yZ290IHRoZWlyIHBhc3N3b3JkLlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgcmVxdWVzdFBhc3N3b3JkUmVzZXQ6IGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgICAgIHZhciBqc29uID0geyBlbWFpbDogZW1haWwgfTtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoXG4gICAgICAgICAgJ3JlcXVlc3RQYXNzd29yZFJlc2V0JyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ1BPU1QnLFxuICAgICAgICAgIGpzb25cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlcXVlc3RzIGEgdmVyaWZ5IGVtYWlsIHRvIGJlIHNlbnQgdG8gdGhlIHNwZWNpZmllZCBlbWFpbCBhZGRyZXNzXG4gICAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgYWNjb3VudC4gVGhpcyBlbWFpbCBhbGxvd3MgdGhlIHVzZXIgdG8gc2VjdXJlbHlcbiAgICAgICAqIHZlcmlmeSB0aGVpciBlbWFpbCBhZGRyZXNzIG9uIHRoZSBBViBzaXRlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbCBUaGUgZW1haWwgYWRkcmVzcyBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgdGhhdFxuICAgICAgICogICAgIGRvZXNuJ3QgdmVyaWZ5IHRoZWlyIGVtYWlsIGFkZHJlc3MuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAgICovXG4gICAgICByZXF1ZXN0RW1haWxWZXJpZnk6IGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgICAgIHZhciBqc29uID0geyBlbWFpbDogZW1haWwgfTtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3JlcXVlc3RFbWFpbFZlcmlmeScsIG51bGwsIG51bGwsICdQT1NUJywganNvbik7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXF1ZXN0cyBhIHZlcmlmeSBzbXMgY29kZSB0byBiZSBzZW50IHRvIHRoZSBzcGVjaWZpZWQgbW9iaWxlIHBob25lXG4gICAgICAgKiBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyIGFjY291bnQuIFRoaXMgc21zIGNvZGUgYWxsb3dzIHRoZSB1c2VyIHRvXG4gICAgICAgKiB2ZXJpZnkgdGhlaXIgbW9iaWxlIHBob25lIG51bWJlciBieSBjYWxsaW5nIEFWLlVzZXIudmVyaWZ5TW9iaWxlUGhvbmVcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmVOdW1iZXIgVGhlIG1vYmlsZSBwaG9uZSBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgICAgICogICAgICAgICAgICAgICAgICB1c2VyIHRoYXQgZG9lc24ndCB2ZXJpZnkgdGhlaXIgbW9iaWxlIHBob25lIG51bWJlci5cbiAgICAgICAqIEBwYXJhbSB7U01TQXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgcmVxdWVzdE1vYmlsZVBob25lVmVyaWZ5OiBmdW5jdGlvbihtb2JpbGVQaG9uZU51bWJlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgbW9iaWxlUGhvbmVOdW1iZXIsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zLnZhbGlkYXRlVG9rZW4pIHtcbiAgICAgICAgICBkYXRhLnZhbGlkYXRlX3Rva2VuID0gb3B0aW9ucy52YWxpZGF0ZVRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KFxuICAgICAgICAgICdyZXF1ZXN0TW9iaWxlUGhvbmVWZXJpZnknLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnUE9TVCcsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXF1ZXN0cyBhIHJlc2V0IHBhc3N3b3JkIHNtcyBjb2RlIHRvIGJlIHNlbnQgdG8gdGhlIHNwZWNpZmllZCBtb2JpbGUgcGhvbmVcbiAgICAgICAqIG51bWJlciBhc3NvY2lhdGVkIHdpdGggdGhlIHVzZXIgYWNjb3VudC4gVGhpcyBzbXMgY29kZSBhbGxvd3MgdGhlIHVzZXIgdG9cbiAgICAgICAqIHJlc2V0IHRoZWlyIGFjY291bnQncyBwYXNzd29yZCBieSBjYWxsaW5nIEFWLlVzZXIucmVzZXRQYXNzd29yZEJ5U21zQ29kZVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2JpbGVQaG9uZU51bWJlciBUaGUgbW9iaWxlIHBob25lIG51bWJlciAgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgICAgICogICAgICAgICAgICAgICAgICB1c2VyIHRoYXQgZG9lc24ndCB2ZXJpZnkgdGhlaXIgbW9iaWxlIHBob25lIG51bWJlci5cbiAgICAgICAqIEBwYXJhbSB7U01TQXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgcmVxdWVzdFBhc3N3b3JkUmVzZXRCeVNtc0NvZGU6IGZ1bmN0aW9uKG1vYmlsZVBob25lTnVtYmVyLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICBtb2JpbGVQaG9uZU51bWJlcixcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMudmFsaWRhdGVUb2tlbikge1xuICAgICAgICAgIGRhdGEudmFsaWRhdGVfdG9rZW4gPSBvcHRpb25zLnZhbGlkYXRlVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoXG4gICAgICAgICAgJ3JlcXVlc3RQYXNzd29yZFJlc2V0QnlTbXNDb2RlJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ1BPU1QnLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVxdWVzdHMgYSBjaGFuZ2UgbW9iaWxlIHBob25lIG51bWJlciBzbXMgY29kZSB0byBiZSBzZW50IHRvIHRoZSBtb2JpbGVQaG9uZU51bWJlci5cbiAgICAgICAqIFRoaXMgc21zIGNvZGUgYWxsb3dzIGN1cnJlbnQgdXNlciB0byByZXNldCBpdCdzIG1vYmlsZVBob25lTnVtYmVyIGJ5XG4gICAgICAgKiBjYWxsaW5nIHtAbGluayBBVi5Vc2VyLmNoYW5nZVBob25lTnVtYmVyfVxuICAgICAgICogQHNpbmNlIDQuNy4wXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHRsXSB0dGwgb2Ygc21zIGNvZGUgKGRlZmF1bHQgaXMgNiBtaW51dGVzKVxuICAgICAgICogQHBhcmFtIHtTTVNBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAgICovXG4gICAgICByZXF1ZXN0Q2hhbmdlUGhvbmVOdW1iZXIobW9iaWxlUGhvbmVOdW1iZXIsIHR0bCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBkYXRhID0geyBtb2JpbGVQaG9uZU51bWJlciB9O1xuICAgICAgICBpZiAodHRsKSB7XG4gICAgICAgICAgZGF0YS50dGwgPSBvcHRpb25zLnR0bDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZhbGlkYXRlVG9rZW4pIHtcbiAgICAgICAgICBkYXRhLnZhbGlkYXRlX3Rva2VuID0gb3B0aW9ucy52YWxpZGF0ZVRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBVlJlcXVlc3QoXG4gICAgICAgICAgJ3JlcXVlc3RDaGFuZ2VQaG9uZU51bWJlcicsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdQT1NUJyxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFrZXMgYSBjYWxsIHRvIHJlc2V0IHVzZXIncyBhY2NvdW50IG1vYmlsZVBob25lTnVtYmVyIGJ5IHNtcyBjb2RlLlxuICAgICAgICogVGhlIHNtcyBjb2RlIGlzIHNlbnQgYnkge0BsaW5rIEFWLlVzZXIucmVxdWVzdENoYW5nZVBob25lTnVtYmVyfVxuICAgICAgICogQHNpbmNlIDQuNy4wXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIFRoZSBzbXMgY29kZS5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICAgKi9cbiAgICAgIGNoYW5nZVBob25lTnVtYmVyKG1vYmlsZVBob25lTnVtYmVyLCBjb2RlKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7IG1vYmlsZVBob25lTnVtYmVyLCBjb2RlIH07XG4gICAgICAgIHJldHVybiBBVlJlcXVlc3QoJ2NoYW5nZVBob25lTnVtYmVyJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFrZXMgYSBjYWxsIHRvIHJlc2V0IHVzZXIncyBhY2NvdW50IHBhc3N3b3JkIGJ5IHNtcyBjb2RlIGFuZCBuZXcgcGFzc3dvcmQuXG4gICAgICAgKiBUaGUgc21zIGNvZGUgaXMgc2VudCBieSBBVi5Vc2VyLnJlcXVlc3RQYXNzd29yZFJlc2V0QnlTbXNDb2RlLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGUgVGhlIHNtcyBjb2RlIHNlbnQgYnkgQVYuVXNlci5DbG91ZC5yZXF1ZXN0U21zQ29kZVxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIFRoZSBuZXcgcGFzc3dvcmQuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICByZXNldFBhc3N3b3JkQnlTbXNDb2RlOiBmdW5jdGlvbihjb2RlLCBwYXNzd29yZCkge1xuICAgICAgICB2YXIganNvbiA9IHsgcGFzc3dvcmQ6IHBhc3N3b3JkIH07XG4gICAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KFxuICAgICAgICAgICdyZXNldFBhc3N3b3JkQnlTbXNDb2RlJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgJ1BVVCcsXG4gICAgICAgICAganNvblxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFrZXMgYSBjYWxsIHRvIHZlcmlmeSBzbXMgY29kZSB0aGF0IHNlbnQgYnkgQVYuVXNlci5DbG91ZC5yZXF1ZXN0U21zQ29kZVxuICAgICAgICogSWYgdmVyaWZ5IHN1Y2Nlc3NmdWxseSx0aGUgdXNlciBtb2JpbGVQaG9uZVZlcmlmaWVkIGF0dHJpYnV0ZSB3aWxsIGJlIHRydWUuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29kZSBUaGUgc21zIGNvZGUgc2VudCBieSBBVi5Vc2VyLkNsb3VkLnJlcXVlc3RTbXNDb2RlXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICB2ZXJpZnlNb2JpbGVQaG9uZTogZnVuY3Rpb24oY29kZSkge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdCgndmVyaWZ5TW9iaWxlUGhvbmUnLCBudWxsLCBjb2RlLCAnUE9TVCcsIG51bGwpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVxdWVzdHMgYSBsb2dJbiBzbXMgY29kZSB0byBiZSBzZW50IHRvIHRoZSBzcGVjaWZpZWQgbW9iaWxlIHBob25lXG4gICAgICAgKiBudW1iZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSB1c2VyIGFjY291bnQuIFRoaXMgc21zIGNvZGUgYWxsb3dzIHRoZSB1c2VyIHRvXG4gICAgICAgKiBsb2dpbiBieSBBVi5Vc2VyLmxvZ0luV2l0aE1vYmlsZVBob25lU21zQ29kZSBmdW5jdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9iaWxlUGhvbmVOdW1iZXIgVGhlIG1vYmlsZSBwaG9uZSBudW1iZXIgIGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICAgICAqICAgICAgICAgICB1c2VyIHRoYXQgd2FudCB0byBsb2dpbiBieSBBVi5Vc2VyLmxvZ0luV2l0aE1vYmlsZVBob25lU21zQ29kZVxuICAgICAgICogQHBhcmFtIHtTTVNBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAgICovXG4gICAgICByZXF1ZXN0TG9naW5TbXNDb2RlOiBmdW5jdGlvbihtb2JpbGVQaG9uZU51bWJlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgbW9iaWxlUGhvbmVOdW1iZXIsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zLnZhbGlkYXRlVG9rZW4pIHtcbiAgICAgICAgICBkYXRhLnZhbGlkYXRlX3Rva2VuID0gb3B0aW9ucy52YWxpZGF0ZVRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXF1ZXN0ID0gQVZSZXF1ZXN0KFxuICAgICAgICAgICdyZXF1ZXN0TG9naW5TbXNDb2RlJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ1BPU1QnLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIEFWVXNlciB3aXRoIGEgdmFsaWQgc2Vzc2lvbixcbiAgICAgICAqIGVpdGhlciBmcm9tIG1lbW9yeSBvciBsb2NhbFN0b3JhZ2UsIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLlVzZXI+fSByZXNvbHZlZCB3aXRoIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIEFWLlVzZXIuXG4gICAgICAgKi9cbiAgICAgIGN1cnJlbnRBc3luYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChBVi5fY29uZmlnLmRpc2FibGVDdXJyZW50VXNlcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICdBVi5Vc2VyLmN1cnJlbnRBc3luYygpIHdhcyBkaXNhYmxlZCBpbiBtdWx0aS11c2VyIGVudmlyb25tZW50LCBhY2Nlc3MgdXNlciBmcm9tIHJlcXVlc3QgaW5zdGVhZCBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL2xlYW5lbmdpbmUtbm9kZS1zZGstdXBncmFkZS0xLmh0bWwnXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFWLlVzZXIuX2N1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShBVi5Vc2VyLl9jdXJyZW50VXNlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQVYuVXNlci5fY3VycmVudFVzZXJNYXRjaGVzRGlzaykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoQVYuVXNlci5fY3VycmVudFVzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEFWLmxvY2FsU3RvcmFnZVxuICAgICAgICAgIC5nZXRJdGVtQXN5bmMoQVYuX2dldEFWUGF0aChBVi5Vc2VyLl9DVVJSRU5UX1VTRVJfS0VZKSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbih1c2VyRGF0YSkge1xuICAgICAgICAgICAgaWYgKCF1c2VyRGF0YSkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCB0aGUgdXNlciBmcm9tIGxvY2FsIHN0b3JhZ2UuXG4gICAgICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlck1hdGNoZXNEaXNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcbiAgICAgICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9pc0N1cnJlbnRVc2VyID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHVzZXJEYXRhKTtcbiAgICAgICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLmlkID0ganNvbi5faWQ7XG4gICAgICAgICAgICBkZWxldGUganNvbi5faWQ7XG4gICAgICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc2Vzc2lvblRva2VuID0ganNvbi5fc2Vzc2lvblRva2VuO1xuICAgICAgICAgICAgZGVsZXRlIGpzb24uX3Nlc3Npb25Ub2tlbjtcbiAgICAgICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9maW5pc2hGZXRjaChqc29uKTtcbiAgICAgICAgICAgIC8vQVYuVXNlci5fY3VycmVudFVzZXIuc2V0KGpzb24pO1xuXG4gICAgICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc3luY2hyb25pemVBbGxBdXRoRGF0YSgpO1xuICAgICAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX3JlZnJlc2hDYWNoZSgpO1xuICAgICAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX29wU2V0UXVldWUgPSBbe31dO1xuICAgICAgICAgICAgcmV0dXJuIEFWLlVzZXIuX2N1cnJlbnRVc2VyO1xuICAgICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gQVZVc2VyIHdpdGggYSB2YWxpZCBzZXNzaW9uLFxuICAgICAgICogZWl0aGVyIGZyb20gbWVtb3J5IG9yIGxvY2FsU3RvcmFnZSwgaWYgbmVjZXNzYXJ5LlxuICAgICAgICogQHJldHVybiB7QVYuVXNlcn0gVGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gQVYuVXNlci5cbiAgICAgICAqL1xuICAgICAgY3VycmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChBVi5fY29uZmlnLmRpc2FibGVDdXJyZW50VXNlcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICdBVi5Vc2VyLmN1cnJlbnQoKSB3YXMgZGlzYWJsZWQgaW4gbXVsdGktdXNlciBlbnZpcm9ubWVudCwgYWNjZXNzIHVzZXIgZnJvbSByZXF1ZXN0IGluc3RlYWQgaHR0cHM6Ly9sZWFuY2xvdWQuY24vZG9jcy9sZWFuZW5naW5lLW5vZGUtc2RrLXVwZ3JhZGUtMS5odG1sJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQVYubG9jYWxTdG9yYWdlLmFzeW5jKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnU3luY2hyb25vdXMgQVBJIFVzZXIuY3VycmVudCgpIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBydW50aW1lLiBVc2UgVXNlci5jdXJyZW50QXN5bmMoKSBpbnN0ZWFkLidcbiAgICAgICAgICApO1xuICAgICAgICAgIGVycm9yLmNvZGUgPSAnU1lOQ19BUElfTk9UX0FWQUlMQUJMRSc7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQVYuVXNlci5fY3VycmVudFVzZXIpIHtcbiAgICAgICAgICByZXR1cm4gQVYuVXNlci5fY3VycmVudFVzZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQVYuVXNlci5fY3VycmVudFVzZXJNYXRjaGVzRGlzaykge1xuICAgICAgICAgIHJldHVybiBBVi5Vc2VyLl9jdXJyZW50VXNlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvYWQgdGhlIHVzZXIgZnJvbSBsb2NhbCBzdG9yYWdlLlxuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlck1hdGNoZXNEaXNrID0gdHJ1ZTtcblxuICAgICAgICB2YXIgdXNlckRhdGEgPSBBVi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcbiAgICAgICAgICBBVi5fZ2V0QVZQYXRoKEFWLlVzZXIuX0NVUlJFTlRfVVNFUl9LRVkpXG4gICAgICAgICk7XG4gICAgICAgIGlmICghdXNlckRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlciA9IEFWLk9iamVjdC5fY3JlYXRlKCdfVXNlcicpO1xuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5faXNDdXJyZW50VXNlciA9IHRydWU7XG5cbiAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHVzZXJEYXRhKTtcbiAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuaWQgPSBqc29uLl9pZDtcbiAgICAgICAgZGVsZXRlIGpzb24uX2lkO1xuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fc2Vzc2lvblRva2VuID0ganNvbi5fc2Vzc2lvblRva2VuO1xuICAgICAgICBkZWxldGUganNvbi5fc2Vzc2lvblRva2VuO1xuICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlci5fZmluaXNoRmV0Y2goanNvbik7XG4gICAgICAgIC8vQVYuVXNlci5fY3VycmVudFVzZXIuc2V0KGpzb24pO1xuXG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9zeW5jaHJvbml6ZUFsbEF1dGhEYXRhKCk7XG4gICAgICAgIEFWLlVzZXIuX2N1cnJlbnRVc2VyLl9yZWZyZXNoQ2FjaGUoKTtcbiAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXIuX29wU2V0UXVldWUgPSBbe31dO1xuICAgICAgICByZXR1cm4gQVYuVXNlci5fY3VycmVudFVzZXI7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFBlcnNpc3RzIGEgdXNlciBhcyBjdXJyZW50VXNlciB0byBsb2NhbFN0b3JhZ2UsIGFuZCBpbnRvIHRoZSBzaW5nbGV0b24uXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfc2F2ZUN1cnJlbnRVc2VyOiBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIHZhciBwcm9taXNlO1xuICAgICAgICBpZiAoQVYuVXNlci5fY3VycmVudFVzZXIgIT09IHVzZXIpIHtcbiAgICAgICAgICBwcm9taXNlID0gQVYuVXNlci5sb2dPdXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyLl9pc0N1cnJlbnRVc2VyID0gdHJ1ZTtcbiAgICAgICAgICBBVi5Vc2VyLl9jdXJyZW50VXNlciA9IHVzZXI7XG5cbiAgICAgICAgICB2YXIganNvbiA9IHVzZXIuX3RvRnVsbEpTT04oKTtcbiAgICAgICAgICBqc29uLl9pZCA9IHVzZXIuaWQ7XG4gICAgICAgICAganNvbi5fc2Vzc2lvblRva2VuID0gdXNlci5fc2Vzc2lvblRva2VuO1xuICAgICAgICAgIHJldHVybiBBVi5sb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgIC5zZXRJdGVtQXN5bmMoXG4gICAgICAgICAgICAgIEFWLl9nZXRBVlBhdGgoQVYuVXNlci5fQ1VSUkVOVF9VU0VSX0tFWSksXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGpzb24pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgQVYuVXNlci5fY3VycmVudFVzZXJNYXRjaGVzRGlzayA9IHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiBBVi5fcmVmcmVzaFN1YnNjcmlwdGlvbklkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBfcmVnaXN0ZXJBdXRoZW50aWNhdGlvblByb3ZpZGVyOiBmdW5jdGlvbihwcm92aWRlcikge1xuICAgICAgICBBVi5Vc2VyLl9hdXRoUHJvdmlkZXJzW3Byb3ZpZGVyLmdldEF1dGhUeXBlKCldID0gcHJvdmlkZXI7XG4gICAgICAgIC8vIFN5bmNocm9uaXplIHRoZSBjdXJyZW50IHVzZXIgd2l0aCB0aGUgYXV0aCBwcm92aWRlci5cbiAgICAgICAgaWYgKCFBVi5fY29uZmlnLmRpc2FibGVDdXJyZW50VXNlciAmJiBBVi5Vc2VyLmN1cnJlbnQoKSkge1xuICAgICAgICAgIEFWLlVzZXIuY3VycmVudCgpLl9zeW5jaHJvbml6ZUF1dGhEYXRhKHByb3ZpZGVyLmdldEF1dGhUeXBlKCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfbG9nSW5XaXRoOiBmdW5jdGlvbihwcm92aWRlciwgYXV0aERhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHVzZXIgPSBBVi5PYmplY3QuX2NyZWF0ZSgnX1VzZXInKTtcbiAgICAgICAgcmV0dXJuIHVzZXIuX2xpbmtXaXRoKHByb3ZpZGVyLCBhdXRoRGF0YSwgb3B0aW9ucyk7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXNlci5qcyIsInZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzXG4vLyBtb2R1bGUgaWQgPSA1MzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdsZWFuY2xvdWQ6cXVlcnknKTtcbmNvbnN0IEFWRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9yJyk7XG5jb25zdCB7IF9yZXF1ZXN0LCByZXF1ZXN0IH0gPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcbmNvbnN0IHtcbiAgZW5zdXJlQXJyYXksXG4gIHRyYW5zZm9ybUZldGNoT3B0aW9ucyxcbiAgY29udGludWVXaGlsZSxcbn0gPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbmNvbnN0IHJlcXVpcmVzID0gKHZhbHVlLCBtZXNzYWdlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59O1xuXG4vLyBBVi5RdWVyeSBpcyBhIHdheSB0byBjcmVhdGUgYSBsaXN0IG9mIEFWLk9iamVjdHMuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEFWKSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFWLlF1ZXJ5IGZvciB0aGUgZ2l2ZW4gQVYuT2JqZWN0IHN1YmNsYXNzLlxuICAgKiBAcGFyYW0ge0NsYXNzfFN0cmluZ30gb2JqZWN0Q2xhc3MgQW4gaW5zdGFuY2Ugb2YgYSBzdWJjbGFzcyBvZiBBVi5PYmplY3QsIG9yIGEgQVYgY2xhc3NOYW1lIHN0cmluZy5cbiAgICogQGNsYXNzXG4gICAqXG4gICAqIDxwPkFWLlF1ZXJ5IGRlZmluZXMgYSBxdWVyeSB0aGF0IGlzIHVzZWQgdG8gZmV0Y2ggQVYuT2JqZWN0cy4gVGhlXG4gICAqIG1vc3QgY29tbW9uIHVzZSBjYXNlIGlzIGZpbmRpbmcgYWxsIG9iamVjdHMgdGhhdCBtYXRjaCBhIHF1ZXJ5IHRocm91Z2ggdGhlXG4gICAqIDxjb2RlPmZpbmQ8L2NvZGU+IG1ldGhvZC4gRm9yIGV4YW1wbGUsIHRoaXMgc2FtcGxlIGNvZGUgZmV0Y2hlcyBhbGwgb2JqZWN0c1xuICAgKiBvZiBjbGFzcyA8Y29kZT5NeUNsYXNzPC9jb2RlPi4gSXQgY2FsbHMgYSBkaWZmZXJlbnQgZnVuY3Rpb24gZGVwZW5kaW5nIG9uXG4gICAqIHdoZXRoZXIgdGhlIGZldGNoIHN1Y2NlZWRlZCBvciBub3QuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqIHZhciBxdWVyeSA9IG5ldyBBVi5RdWVyeShNeUNsYXNzKTtcbiAgICogcXVlcnkuZmluZCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0cykge1xuICAgKiAgIC8vIHJlc3VsdHMgaXMgYW4gYXJyYXkgb2YgQVYuT2JqZWN0LlxuICAgKiB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgKiAgIC8vIGVycm9yIGlzIGFuIGluc3RhbmNlIG9mIEFWRXJyb3IuXG4gICAqIH0pOzwvcHJlPjwvcD5cbiAgICpcbiAgICogPHA+QW4gQVYuUXVlcnkgY2FuIGFsc28gYmUgdXNlZCB0byByZXRyaWV2ZSBhIHNpbmdsZSBvYmplY3Qgd2hvc2UgaWQgaXNcbiAgICoga25vd24sIHRocm91Z2ggdGhlIGdldCBtZXRob2QuIEZvciBleGFtcGxlLCB0aGlzIHNhbXBsZSBjb2RlIGZldGNoZXMgYW5cbiAgICogb2JqZWN0IG9mIGNsYXNzIDxjb2RlPk15Q2xhc3M8L2NvZGU+IGFuZCBpZCA8Y29kZT5teUlkPC9jb2RlPi4gSXQgY2FsbHMgYVxuICAgKiBkaWZmZXJlbnQgZnVuY3Rpb24gZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGZldGNoIHN1Y2NlZWRlZCBvciBub3QuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqIHZhciBxdWVyeSA9IG5ldyBBVi5RdWVyeShNeUNsYXNzKTtcbiAgICogcXVlcnkuZ2V0KG15SWQpLnRoZW4oZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAqICAgLy8gb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIEFWLk9iamVjdC5cbiAgICogfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICogICAvLyBlcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBBVkVycm9yLlxuICAgKiB9KTs8L3ByZT48L3A+XG4gICAqXG4gICAqIDxwPkFuIEFWLlF1ZXJ5IGNhbiBhbHNvIGJlIHVzZWQgdG8gY291bnQgdGhlIG51bWJlciBvZiBvYmplY3RzIHRoYXQgbWF0Y2hcbiAgICogdGhlIHF1ZXJ5IHdpdGhvdXQgcmV0cmlldmluZyBhbGwgb2YgdGhvc2Ugb2JqZWN0cy4gRm9yIGV4YW1wbGUsIHRoaXNcbiAgICogc2FtcGxlIGNvZGUgY291bnRzIHRoZSBudW1iZXIgb2Ygb2JqZWN0cyBvZiB0aGUgY2xhc3MgPGNvZGU+TXlDbGFzczwvY29kZT5cbiAgICogPHByZT5cbiAgICogdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KE15Q2xhc3MpO1xuICAgKiBxdWVyeS5jb3VudCgpLnRoZW4oZnVuY3Rpb24obnVtYmVyKSB7XG4gICAqICAgLy8gVGhlcmUgYXJlIG51bWJlciBpbnN0YW5jZXMgb2YgTXlDbGFzcy5cbiAgICogfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICogICAvLyBlcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBBVkVycm9yLlxuICAgKiB9KTs8L3ByZT48L3A+XG4gICAqL1xuICBBVi5RdWVyeSA9IGZ1bmN0aW9uKG9iamVjdENsYXNzKSB7XG4gICAgaWYgKF8uaXNTdHJpbmcob2JqZWN0Q2xhc3MpKSB7XG4gICAgICBvYmplY3RDbGFzcyA9IEFWLk9iamVjdC5fZ2V0U3ViY2xhc3Mob2JqZWN0Q2xhc3MpO1xuICAgIH1cblxuICAgIHRoaXMub2JqZWN0Q2xhc3MgPSBvYmplY3RDbGFzcztcblxuICAgIHRoaXMuY2xhc3NOYW1lID0gb2JqZWN0Q2xhc3MucHJvdG90eXBlLmNsYXNzTmFtZTtcblxuICAgIHRoaXMuX3doZXJlID0ge307XG4gICAgdGhpcy5faW5jbHVkZSA9IFtdO1xuICAgIHRoaXMuX3NlbGVjdCA9IFtdO1xuICAgIHRoaXMuX2xpbWl0ID0gLTE7IC8vIG5lZ2F0aXZlIGxpbWl0IG1lYW5zLCBkbyBub3Qgc2VuZCBhIGxpbWl0XG4gICAgdGhpcy5fc2tpcCA9IDA7XG4gICAgdGhpcy5fZGVmYXVsdFBhcmFtcyA9IHt9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgQVYuUXVlcnkgdGhhdCBpcyB0aGUgT1Igb2YgdGhlIHBhc3NlZCBpbiBxdWVyaWVzLiAgRm9yXG4gICAqIGV4YW1wbGU6XG4gICAqIDxwcmU+dmFyIGNvbXBvdW5kUXVlcnkgPSBBVi5RdWVyeS5vcihxdWVyeTEsIHF1ZXJ5MiwgcXVlcnkzKTs8L3ByZT5cbiAgICpcbiAgICogd2lsbCBjcmVhdGUgYSBjb21wb3VuZFF1ZXJ5IHRoYXQgaXMgYW4gb3Igb2YgdGhlIHF1ZXJ5MSwgcXVlcnkyLCBhbmRcbiAgICogcXVlcnkzLlxuICAgKiBAcGFyYW0gey4uLkFWLlF1ZXJ5fSB2YXJfYXJncyBUaGUgbGlzdCBvZiBxdWVyaWVzIHRvIE9SLlxuICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gVGhlIHF1ZXJ5IHRoYXQgaXMgdGhlIE9SIG9mIHRoZSBwYXNzZWQgaW4gcXVlcmllcy5cbiAgICovXG4gIEFWLlF1ZXJ5Lm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHF1ZXJpZXMgPSBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICB2YXIgY2xhc3NOYW1lID0gbnVsbDtcbiAgICBBVi5fYXJyYXlFYWNoKHF1ZXJpZXMsIGZ1bmN0aW9uKHEpIHtcbiAgICAgIGlmIChfLmlzTnVsbChjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9IHEuY2xhc3NOYW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2xhc3NOYW1lICE9PSBxLmNsYXNzTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBxdWVyaWVzIG11c3QgYmUgZm9yIHRoZSBzYW1lIGNsYXNzJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KGNsYXNzTmFtZSk7XG4gICAgcXVlcnkuX29yUXVlcnkocXVlcmllcyk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgQVYuUXVlcnkgdGhhdCBpcyB0aGUgQU5EIG9mIHRoZSBwYXNzZWQgaW4gcXVlcmllcy4gIEZvclxuICAgKiBleGFtcGxlOlxuICAgKiA8cHJlPnZhciBjb21wb3VuZFF1ZXJ5ID0gQVYuUXVlcnkuYW5kKHF1ZXJ5MSwgcXVlcnkyLCBxdWVyeTMpOzwvcHJlPlxuICAgKlxuICAgKiB3aWxsIGNyZWF0ZSBhIGNvbXBvdW5kUXVlcnkgdGhhdCBpcyBhbiAnYW5kJyBvZiB0aGUgcXVlcnkxLCBxdWVyeTIsIGFuZFxuICAgKiBxdWVyeTMuXG4gICAqIEBwYXJhbSB7Li4uQVYuUXVlcnl9IHZhcl9hcmdzIFRoZSBsaXN0IG9mIHF1ZXJpZXMgdG8gQU5ELlxuICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gVGhlIHF1ZXJ5IHRoYXQgaXMgdGhlIEFORCBvZiB0aGUgcGFzc2VkIGluIHF1ZXJpZXMuXG4gICAqL1xuICBBVi5RdWVyeS5hbmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcXVlcmllcyA9IF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgIHZhciBjbGFzc05hbWUgPSBudWxsO1xuICAgIEFWLl9hcnJheUVhY2gocXVlcmllcywgZnVuY3Rpb24ocSkge1xuICAgICAgaWYgKF8uaXNOdWxsKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gcS5jbGFzc05hbWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjbGFzc05hbWUgIT09IHEuY2xhc3NOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIHF1ZXJpZXMgbXVzdCBiZSBmb3IgdGhlIHNhbWUgY2xhc3MnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgcXVlcnkgPSBuZXcgQVYuUXVlcnkoY2xhc3NOYW1lKTtcbiAgICBxdWVyeS5fYW5kUXVlcnkocXVlcmllcyk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIEFWT2JqZWN0cyB0aGF0IHNhdGlzZnkgdGhlIENRTC5cbiAgICogQ1FMIHN5bnRheCBwbGVhc2Ugc2VlIHtAbGluayBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL2NxbF9ndWlkZS5odG1sIENRTCBHdWlkZX0uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjcWwgQSBDUUwgc3RyaW5nLCBzZWUge0BsaW5rIGh0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvY3FsX2d1aWRlLmh0bWwgQ1FMIEd1aWRlfS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHZhbHVlcyBBbiBhcnJheSBjb250YWlucyBwbGFjZWhvbGRlciB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0cyB3aGVuXG4gICAqIHRoZSBxdWVyeSBjb21wbGV0ZXMuXG4gICAqL1xuICBBVi5RdWVyeS5kb0Nsb3VkUXVlcnkgPSBmdW5jdGlvbihjcWwsIHB2YWx1ZXMsIG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyYW1zID0geyBjcWw6IGNxbCB9O1xuICAgIGlmIChfLmlzQXJyYXkocHZhbHVlcykpIHtcbiAgICAgIHBhcmFtcy5wdmFsdWVzID0gcHZhbHVlcztcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IHB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBfcmVxdWVzdCgnY2xvdWRRdWVyeScsIG51bGwsIG51bGwsICdHRVQnLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIC8vcXVlcnkgdG8gcHJvY2VzcyByZXN1bHRzLlxuICAgICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KHJlc3BvbnNlLmNsYXNzTmFtZSk7XG4gICAgICB2YXIgcmVzdWx0cyA9IF8ubWFwKHJlc3BvbnNlLnJlc3VsdHMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgdmFyIG9iaiA9IHF1ZXJ5Ll9uZXdPYmplY3QocmVzcG9uc2UpO1xuICAgICAgICBpZiAob2JqLl9maW5pc2hGZXRjaCkge1xuICAgICAgICAgIG9iai5fZmluaXNoRmV0Y2gocXVlcnkuX3Byb2Nlc3NSZXN1bHQoanNvbiksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICAgIGNvdW50OiByZXNwb25zZS5jb3VudCxcbiAgICAgICAgY2xhc3NOYW1lOiByZXNwb25zZS5jbGFzc05hbWUsXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBxdWVyeSB3aXRoIGNvbmRpdGlvbnMgZnJvbSBqc29uLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgdG8gc2VuZCBhIHF1ZXJ5IGZyb20gc2VydmVyIHNpZGUgdG8gY2xpZW50IHNpZGUuXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiBmcm9tIHtAbGluayBBVi5RdWVyeSN0b0pTT059XG4gICAqIEByZXR1cm4ge0FWLlF1ZXJ5fVxuICAgKi9cbiAgQVYuUXVlcnkuZnJvbUpTT04gPSAoe1xuICAgIGNsYXNzTmFtZSxcbiAgICB3aGVyZSxcbiAgICBpbmNsdWRlLFxuICAgIHNlbGVjdCxcbiAgICBpbmNsdWRlQUNMLFxuICAgIGxpbWl0LFxuICAgIHNraXAsXG4gICAgb3JkZXIsXG4gIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgUXVlcnkgSlNPTiwgY2xhc3NOYW1lIG11c3QgYmUgYSBTdHJpbmcuJyk7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KGNsYXNzTmFtZSk7XG4gICAgXy5leHRlbmQocXVlcnksIHtcbiAgICAgIF93aGVyZTogd2hlcmUsXG4gICAgICBfaW5jbHVkZTogaW5jbHVkZSxcbiAgICAgIF9zZWxlY3Q6IHNlbGVjdCxcbiAgICAgIF9pbmNsdWRlQUNMOiBpbmNsdWRlQUNMLFxuICAgICAgX2xpbWl0OiBsaW1pdCxcbiAgICAgIF9za2lwOiBza2lwLFxuICAgICAgX29yZGVyOiBvcmRlcixcbiAgICB9KTtcbiAgICByZXR1cm4gcXVlcnk7XG4gIH07XG5cbiAgQVYuUXVlcnkuX2V4dGVuZCA9IEFWLl9leHRlbmQ7XG5cbiAgXy5leHRlbmQoXG4gICAgQVYuUXVlcnkucHJvdG90eXBlLFxuICAgIC8qKiBAbGVuZHMgQVYuUXVlcnkucHJvdG90eXBlICovIHtcbiAgICAgIC8vaG9vayB0byBpdGVyYXRlIHJlc3VsdC4gQWRkZWQgYnkgZGVubmlzPHh6aHVhbmdAYXZvc2Nsb3VkLmNvbT4uXG4gICAgICBfcHJvY2Vzc1Jlc3VsdDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENvbnN0cnVjdHMgYW4gQVYuT2JqZWN0IHdob3NlIGlkIGlzIGFscmVhZHkga25vd24gYnkgZmV0Y2hpbmcgZGF0YSBmcm9tXG4gICAgICAgKiB0aGUgc2VydmVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvYmplY3RJZCBUaGUgaWQgb2YgdGhlIG9iamVjdCB0byBiZSBmZXRjaGVkLlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7UHJvbWlzZS48QVYuT2JqZWN0Pn1cbiAgICAgICAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbihvYmplY3RJZCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIV8uaXNTdHJpbmcob2JqZWN0SWQpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYmplY3RJZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdElkID09PSAnJykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIG5ldyBBVkVycm9yKEFWRXJyb3IuT0JKRUNUX05PVF9GT1VORCwgJ09iamVjdCBub3QgZm91bmQuJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9iaiA9IHRoaXMuX25ld09iamVjdCgpO1xuICAgICAgICBvYmouaWQgPSBvYmplY3RJZDtcblxuICAgICAgICB2YXIgcXVlcnlKU09OID0gdGhpcy5fZ2V0UGFyYW1zKCk7XG4gICAgICAgIHZhciBmZXRjaE9wdGlvbnMgPSB7fTtcblxuICAgICAgICBpZiAocXVlcnlKU09OLmtleXMpIGZldGNoT3B0aW9ucy5rZXlzID0gcXVlcnlKU09OLmtleXM7XG4gICAgICAgIGlmIChxdWVyeUpTT04uaW5jbHVkZSkgZmV0Y2hPcHRpb25zLmluY2x1ZGUgPSBxdWVyeUpTT04uaW5jbHVkZTtcbiAgICAgICAgaWYgKHF1ZXJ5SlNPTi5pbmNsdWRlQUNMKVxuICAgICAgICAgIGZldGNoT3B0aW9ucy5pbmNsdWRlQUNMID0gcXVlcnlKU09OLmluY2x1ZGVBQ0w7XG5cbiAgICAgICAgcmV0dXJuIF9yZXF1ZXN0KFxuICAgICAgICAgICdjbGFzc2VzJyxcbiAgICAgICAgICB0aGlzLmNsYXNzTmFtZSxcbiAgICAgICAgICBvYmplY3RJZCxcbiAgICAgICAgICAnR0VUJyxcbiAgICAgICAgICB0cmFuc2Zvcm1GZXRjaE9wdGlvbnMoZmV0Y2hPcHRpb25zKSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgaWYgKF8uaXNFbXB0eShyZXNwb25zZSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQVZFcnJvcihBVkVycm9yLk9CSkVDVF9OT1RfRk9VTkQsICdPYmplY3Qgbm90IGZvdW5kLicpO1xuICAgICAgICAgIG9iai5fZmluaXNoRmV0Y2gob2JqLnBhcnNlKHJlc3BvbnNlKSwgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcXVlcnkuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICBfd2hlcmU6IHdoZXJlLFxuICAgICAgICAgIF9pbmNsdWRlOiBpbmNsdWRlLFxuICAgICAgICAgIF9zZWxlY3Q6IHNlbGVjdCxcbiAgICAgICAgICBfaW5jbHVkZUFDTDogaW5jbHVkZUFDTCxcbiAgICAgICAgICBfbGltaXQ6IGxpbWl0LFxuICAgICAgICAgIF9za2lwOiBza2lwLFxuICAgICAgICAgIF9vcmRlcjogb3JkZXIsXG4gICAgICAgIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICBpbmNsdWRlLFxuICAgICAgICAgIHNlbGVjdCxcbiAgICAgICAgICBpbmNsdWRlQUNMLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgIHNraXAsXG4gICAgICAgICAgb3JkZXIsXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBfZ2V0UGFyYW1zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IF8uZXh0ZW5kKHt9LCB0aGlzLl9kZWZhdWx0UGFyYW1zLCB7XG4gICAgICAgICAgd2hlcmU6IHRoaXMuX3doZXJlLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5faW5jbHVkZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcGFyYW1zLmluY2x1ZGUgPSB0aGlzLl9pbmNsdWRlLmpvaW4oJywnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwYXJhbXMua2V5cyA9IHRoaXMuX3NlbGVjdC5qb2luKCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2luY2x1ZGVBQ0wgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHBhcmFtcy5yZXR1cm5BQ0wgPSB0aGlzLl9pbmNsdWRlQUNMO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9saW1pdCA+PSAwKSB7XG4gICAgICAgICAgcGFyYW1zLmxpbWl0ID0gdGhpcy5fbGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3NraXAgPiAwKSB7XG4gICAgICAgICAgcGFyYW1zLnNraXAgPSB0aGlzLl9za2lwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGFyYW1zLm9yZGVyID0gdGhpcy5fb3JkZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgfSxcblxuICAgICAgX25ld09iamVjdDogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmNsYXNzTmFtZSkge1xuICAgICAgICAgIG9iaiA9IG5ldyBBVi5PYmplY3QocmVzcG9uc2UuY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmogPSBuZXcgdGhpcy5vYmplY3RDbGFzcygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuICAgICAgX2NyZWF0ZVJlcXVlc3QoXG4gICAgICAgIHBhcmFtcyA9IHRoaXMuX2dldFBhcmFtcygpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBwYXRoID0gYC9jbGFzc2VzLyR7dGhpcy5jbGFzc05hbWV9YFxuICAgICAgKSB7XG4gICAgICAgIGlmIChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSkubGVuZ3RoID4gMjAwMCkge1xuICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICByZXF1ZXN0czogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBwYXRoOiBgLzEuMSR7cGF0aH1gLFxuICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgICAgICBwYXRoOiAnL2JhdGNoJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YTogYm9keSxcbiAgICAgICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2VbMF07XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgQVZFcnJvcihcbiAgICAgICAgICAgICAgcmVzdWx0LmVycm9yLmNvZGUsXG4gICAgICAgICAgICAgIHJlc3VsdC5lcnJvci5lcnJvciB8fCAnVW5rbm93biBiYXRjaCBlcnJvcidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHF1ZXJ5OiBwYXJhbXMsXG4gICAgICAgICAgYXV0aE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgX3BhcnNlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIF8ubWFwKHJlc3BvbnNlLnJlc3VsdHMsIGpzb24gPT4ge1xuICAgICAgICAgIHZhciBvYmogPSB0aGlzLl9uZXdPYmplY3QocmVzcG9uc2UpO1xuICAgICAgICAgIGlmIChvYmouX2ZpbmlzaEZldGNoKSB7XG4gICAgICAgICAgICBvYmouX2ZpbmlzaEZldGNoKHRoaXMuX3Byb2Nlc3NSZXN1bHQoanNvbiksIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0cmlldmVzIGEgbGlzdCBvZiBBVk9iamVjdHMgdGhhdCBzYXRpc2Z5IHRoaXMgcXVlcnkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0cyB3aGVuXG4gICAgICAgKiB0aGUgcXVlcnkgY29tcGxldGVzLlxuICAgICAgICovXG4gICAgICBmaW5kKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuX2NyZWF0ZVJlcXVlc3QodW5kZWZpbmVkLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbih0aGlzLl9wYXJzZVJlc3BvbnNlLmJpbmQodGhpcykpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXRyaWV2ZXMgYm90aCBBVk9iamVjdHMgYW5kIHRvdGFsIGNvdW50LlxuICAgICAgICpcbiAgICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgdHVwbGUgY29udGFpbnMgcmVzdWx0cyBhbmQgY291bnQuXG4gICAgICAgKi9cbiAgICAgIGZpbmRBbmRDb3VudChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuX2dldFBhcmFtcygpO1xuICAgICAgICBwYXJhbXMuY291bnQgPSAxO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5fY3JlYXRlUmVxdWVzdChwYXJhbXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4ocmVzcG9uc2UgPT4gW1xuICAgICAgICAgIHRoaXMuX3BhcnNlUmVzcG9uc2UocmVzcG9uc2UpLFxuICAgICAgICAgIHJlc3BvbnNlLmNvdW50LFxuICAgICAgICBdKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogc2NhbiBhIFF1ZXJ5LiBtYXN0ZXJLZXkgcmVxdWlyZWQuXG4gICAgICAgKlxuICAgICAgICogQHNpbmNlIDIuMS4wXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3JkZXJlZEJ5XSBzcGVjaWZ5IHRoZSBrZXkgdG8gc29ydFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhdGNoU2l6ZV0gc3BlY2lmeSB0aGUgYmF0Y2ggc2l6ZSBmb3IgZWFjaCByZXF1ZXN0XG4gICAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtBc3luY0l0ZXJhdG9yLjxBVi5PYmplY3Q+fVxuICAgICAgICogQGV4YW1wbGUgY29uc3QgdGVzdEl0ZXJhdG9yID0ge1xuICAgICAgICogICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICogICAgIHJldHVybiBuZXcgUXVlcnkoJ1Rlc3QnKS5zY2FuKHVuZGVmaW5lZCwgeyB1c2VNYXN0ZXJLZXk6IHRydWUgfSk7XG4gICAgICAgKiAgIH0sXG4gICAgICAgKiB9O1xuICAgICAgICogZm9yIGF3YWl0IChjb25zdCB0ZXN0IG9mIHRlc3RJdGVyYXRvcikge1xuICAgICAgICogICBjb25zb2xlLmxvZyh0ZXN0LmlkKTtcbiAgICAgICAqIH1cbiAgICAgICAqL1xuICAgICAgc2Nhbih7IG9yZGVyZWRCeSwgYmF0Y2hTaXplIH0gPSB7fSwgYXV0aE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9uID0gdGhpcy5fZ2V0UGFyYW1zKCk7XG4gICAgICAgIGRlYnVnKCdzY2FuICVPJywgY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbi5vcmRlcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICdUaGUgb3JkZXIgb2YgdGhlIHF1ZXJ5IGlzIGlnbm9yZWQgZm9yIFF1ZXJ5I3NjYW4uIENoZWNrb3V0IHRoZSBvcmRlcmVkQnkgb3B0aW9uIG9mIFF1ZXJ5I3NjYW4uJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlIGNvbmRpdGlvbi5vcmRlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZGl0aW9uLnNraXApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAnVGhlIHNraXAgb3B0aW9uIG9mIHRoZSBxdWVyeSBpcyBpZ25vcmVkIGZvciBRdWVyeSNzY2FuLidcbiAgICAgICAgICApO1xuICAgICAgICAgIGRlbGV0ZSBjb25kaXRpb24uc2tpcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZGl0aW9uLmxpbWl0KSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgJ1RoZSBsaW1pdCBvcHRpb24gb2YgdGhlIHF1ZXJ5IGlzIGlnbm9yZWQgZm9yIFF1ZXJ5I3NjYW4uJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlIGNvbmRpdGlvbi5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkZXJlZEJ5KSBjb25kaXRpb24uc2Nhbl9rZXkgPSBvcmRlcmVkQnk7XG4gICAgICAgIGlmIChiYXRjaFNpemUpIGNvbmRpdGlvbi5saW1pdCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgbGV0IGN1cnNvcjtcbiAgICAgICAgbGV0IHJlbWFpblJlc3VsdHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVtYWluUmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlbWFpblJlc3VsdHMuc2hpZnQoKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9yZXF1ZXN0KFxuICAgICAgICAgICAgICAnc2Nhbi9jbGFzc2VzJyxcbiAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICdHRVQnLFxuICAgICAgICAgICAgICBjdXJzb3IgPyBfLmV4dGVuZCh7fSwgY29uZGl0aW9uLCB7IGN1cnNvciB9KSA6IGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgYXV0aE9wdGlvbnNcbiAgICAgICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgIGN1cnNvciA9IHJlc3BvbnNlLmN1cnNvcjtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuX3BhcnNlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4gcmVtYWluUmVzdWx0cy5wdXNoKHJlc3VsdCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChjdXJzb3IgPT09IG51bGwgJiYgcmVtYWluUmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVtYWluUmVzdWx0cy5zaGlmdCgpLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRGVsZXRlIG9iamVjdHMgcmV0cmlldmVkIGJ5IHRoaXMgcXVlcnkuXG4gICAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGUgc2F2ZVxuICAgICAgICogICAgIGNvbXBsZXRlcy5cbiAgICAgICAqL1xuICAgICAgZGVzdHJveUFsbDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBzZWxmLmZpbmQob3B0aW9ucykudGhlbihmdW5jdGlvbihvYmplY3RzKSB7XG4gICAgICAgICAgcmV0dXJuIEFWLk9iamVjdC5kZXN0cm95QWxsKG9iamVjdHMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ291bnRzIHRoZSBudW1iZXIgb2Ygb2JqZWN0cyB0aGF0IG1hdGNoIHRoaXMgcXVlcnkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgY291bnQgd2hlblxuICAgICAgICogdGhlIHF1ZXJ5IGNvbXBsZXRlcy5cbiAgICAgICAqL1xuICAgICAgY291bnQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuX2dldFBhcmFtcygpO1xuICAgICAgICBwYXJhbXMubGltaXQgPSAwO1xuICAgICAgICBwYXJhbXMuY291bnQgPSAxO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuX2NyZWF0ZVJlcXVlc3QocGFyYW1zLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmNvdW50O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0cmlldmVzIGF0IG1vc3Qgb25lIEFWLk9iamVjdCB0aGF0IHNhdGlzZmllcyB0aGlzIHF1ZXJ5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIG9iamVjdCB3aGVuXG4gICAgICAgKiB0aGUgcXVlcnkgY29tcGxldGVzLlxuICAgICAgICovXG4gICAgICBmaXJzdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuX2dldFBhcmFtcygpO1xuICAgICAgICBwYXJhbXMubGltaXQgPSAxO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuX2NyZWF0ZVJlcXVlc3QocGFyYW1zLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gcmVxdWVzdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIF8ubWFwKHJlc3BvbnNlLnJlc3VsdHMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBzZWxmLl9uZXdPYmplY3QoKTtcbiAgICAgICAgICAgIGlmIChvYmouX2ZpbmlzaEZldGNoKSB7XG4gICAgICAgICAgICAgIG9iai5fZmluaXNoRmV0Y2goc2VsZi5fcHJvY2Vzc1Jlc3VsdChqc29uKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgIH0pWzBdO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcCBiZWZvcmUgcmV0dXJuaW5nIGFueSByZXN1bHRzLlxuICAgICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gICAgICAgKiBEZWZhdWx0IGlzIHRvIHNraXAgemVybyByZXN1bHRzLlxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHNraXAuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBza2lwOiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJlcXVpcmVzKG4sICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgc2tpcCB2YWx1ZScpO1xuICAgICAgICB0aGlzLl9za2lwID0gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIGxpbWl0IG9mIHRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm4uIFRoZSBkZWZhdWx0IGxpbWl0IGlzXG4gICAgICAgKiAxMDAsIHdpdGggYSBtYXhpbXVtIG9mIDEwMDAgcmVzdWx0cyBiZWluZyByZXR1cm5lZCBhdCBhIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gbiB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gbGltaXQgdG8uXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBsaW1pdDogZnVuY3Rpb24obikge1xuICAgICAgICByZXF1aXJlcyhuLCAndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGxpbWl0IHZhbHVlJyk7XG4gICAgICAgIHRoaXMuX2xpbWl0ID0gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHF1ZXJ5IHRoYXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyIGtleSdzIHZhbHVlIHRvXG4gICAgICAgKiBiZSBlcXVhbCB0byB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhlIEFWLk9iamVjdCBtdXN0IGNvbnRhaW4uXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBlcXVhbFRvOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIHJlcXVpcmVzKGtleSwgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBrZXknKTtcbiAgICAgICAgcmVxdWlyZXModmFsdWUsICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgdmFsdWUnKTtcbiAgICAgICAgdGhpcy5fd2hlcmVba2V5XSA9IEFWLl9lbmNvZGUodmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogSGVscGVyIGZvciBjb25kaXRpb24gcXVlcmllc1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2FkZENvbmRpdGlvbjogZnVuY3Rpb24oa2V5LCBjb25kaXRpb24sIHZhbHVlKSB7XG4gICAgICAgIHJlcXVpcmVzKGtleSwgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBjb25kaXRpb24ga2V5Jyk7XG4gICAgICAgIHJlcXVpcmVzKGNvbmRpdGlvbiwgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBjb25kaXRpb24nKTtcbiAgICAgICAgcmVxdWlyZXModmFsdWUsICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgY29uZGl0aW9uIHZhbHVlJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgY29uZGl0aW9uXG4gICAgICAgIGlmICghdGhpcy5fd2hlcmVba2V5XSkge1xuICAgICAgICAgIHRoaXMuX3doZXJlW2tleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93aGVyZVtrZXldW2NvbmRpdGlvbl0gPSBBVi5fZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHF1ZXJ5IHRoYXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyXG4gICAgICAgKiA8c3Ryb25nPmFycmF5PC9zdHJvbmc+IGtleSdzIGxlbmd0aCB0byBiZSBlcXVhbCB0byB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBhcnJheSBrZXkgdG8gY2hlY2suXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIGxlbmd0aCB2YWx1ZS5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIHNpemVFcXVhbFRvOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckc2l6ZScsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHF1ZXJ5IHRoYXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyIGtleSdzIHZhbHVlIHRvXG4gICAgICAgKiBiZSBub3QgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IG11c3Qgbm90IGJlIGVxdWFsbGVkLlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgbm90RXF1YWxUbzogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJG5lJywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgICAqIGJlIGxlc3MgdGhhbiB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgcHJvdmlkZXMgYW4gdXBwZXIgYm91bmQuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBsZXNzVGhhbjogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGx0JywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgICAqIGJlIGdyZWF0ZXIgdGhhbiB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgcHJvdmlkZXMgYW4gbG93ZXIgYm91bmQuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBncmVhdGVyVGhhbjogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGd0JywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgICAqIGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgcHJvdmlkZXMgYW4gdXBwZXIgYm91bmQuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBsZXNzVGhhbk9yRXF1YWxUbzogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGx0ZScsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHF1ZXJ5IHRoYXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyIGtleSdzIHZhbHVlIHRvXG4gICAgICAgKiBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHByb3ZpZGVzIGFuIGxvd2VyIGJvdW5kLlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgZ3JlYXRlclRoYW5PckVxdWFsVG86IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRndGUnLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXkncyB2YWx1ZSB0b1xuICAgICAgICogYmUgY29udGFpbmVkIGluIHRoZSBwcm92aWRlZCBsaXN0IG9mIHZhbHVlcy5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRoYXQgd2lsbCBtYXRjaC5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGNvbnRhaW5lZEluOiBmdW5jdGlvbihrZXksIHZhbHVlcykge1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGluJywgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHF1ZXJ5IHRoYXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyIGtleSdzIHZhbHVlIHRvXG4gICAgICAgKiBub3QgYmUgY29udGFpbmVkIGluIHRoZSBwcm92aWRlZCBsaXN0IG9mIHZhbHVlcy5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRoYXQgd2lsbCBub3QgbWF0Y2guXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBub3RDb250YWluZWRJbjogZnVuY3Rpb24oa2V5LCB2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRuaW4nLCB2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgcXVlcnkgdGhhdCByZXF1aXJlcyBhIHBhcnRpY3VsYXIga2V5J3MgdmFsdWUgdG9cbiAgICAgICAqIGNvbnRhaW4gZWFjaCBvbmUgb2YgdGhlIHByb3ZpZGVkIGxpc3Qgb2YgdmFsdWVzLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLiAgVGhpcyBrZXkncyB2YWx1ZSBtdXN0IGJlIGFuIGFycmF5LlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdGhhdCB3aWxsIG1hdGNoLlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgY29udGFpbnNBbGw6IGZ1bmN0aW9uKGtleSwgdmFsdWVzKSB7XG4gICAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckYWxsJywgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgb2JqZWN0cyB0aGF0IGNvbnRhaW4gdGhlIGdpdmVuIGtleS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHNob3VsZCBleGlzdC5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGV4aXN0czogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckZXhpc3RzJywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgYSBjb25zdHJhaW50IGZvciBmaW5kaW5nIG9iamVjdHMgdGhhdCBkbyBub3QgY29udGFpbiBhIGdpdmVuIGtleS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHNob3VsZCBub3QgZXhpc3RcbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGRvZXNOb3RFeGlzdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckZXhpc3RzJywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgcmVndWxhciBleHByZXNzaW9uIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgc3RyaW5nIHZhbHVlcyB0aGF0IG1hdGNoXG4gICAgICAgKiB0aGUgcHJvdmlkZWQgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAgICogVGhpcyBtYXkgYmUgc2xvdyBmb3IgbGFyZ2UgZGF0YXNldHMuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgc3RyaW5nIHRvIG1hdGNoIGlzIHN0b3JlZCBpbi5cbiAgICAgICAqIEBwYXJhbSB7UmVnRXhwfSByZWdleCBUaGUgcmVndWxhciBleHByZXNzaW9uIHBhdHRlcm4gdG8gbWF0Y2guXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBtYXRjaGVzOiBmdW5jdGlvbihrZXksIHJlZ2V4LCBtb2RpZmllcnMpIHtcbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRyZWdleCcsIHJlZ2V4KTtcbiAgICAgICAgaWYgKCFtb2RpZmllcnMpIHtcbiAgICAgICAgICBtb2RpZmllcnMgPSAnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBKYXZhc2NyaXB0IHJlZ2V4IG9wdGlvbnMgc3VwcG9ydCBtaWcgYXMgaW5saW5lIG9wdGlvbnMgYnV0IHN0b3JlIHRoZW1cbiAgICAgICAgLy8gYXMgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0LiBXZSBzdXBwb3J0IG1pICYgc2hvdWxkIG1pZ3JhdGUgdGhlbSB0b1xuICAgICAgICAvLyBtb2RpZmllcnNcbiAgICAgICAgaWYgKHJlZ2V4Lmlnbm9yZUNhc2UpIHtcbiAgICAgICAgICBtb2RpZmllcnMgKz0gJ2knO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWdleC5tdWx0aWxpbmUpIHtcbiAgICAgICAgICBtb2RpZmllcnMgKz0gJ20nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vZGlmaWVycyAmJiBtb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRvcHRpb25zJywgbW9kaWZpZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgY29uc3RyYWludCB0aGF0IHJlcXVpcmVzIHRoYXQgYSBrZXkncyB2YWx1ZSBtYXRjaGVzIGEgQVYuUXVlcnlcbiAgICAgICAqIGNvbnN0cmFpbnQuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgY29udGFpbnMgdGhlIG9iamVjdCB0byBtYXRjaCB0aGVcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgcXVlcnkuXG4gICAgICAgKiBAcGFyYW0ge0FWLlF1ZXJ5fSBxdWVyeSBUaGUgcXVlcnkgdGhhdCBzaG91bGQgbWF0Y2guXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBtYXRjaGVzUXVlcnk6IGZ1bmN0aW9uKGtleSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIHF1ZXJ5SlNPTiA9IHF1ZXJ5Ll9nZXRQYXJhbXMoKTtcbiAgICAgICAgcXVlcnlKU09OLmNsYXNzTmFtZSA9IHF1ZXJ5LmNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRpblF1ZXJ5JywgcXVlcnlKU09OKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdGhhdCByZXF1aXJlcyB0aGF0IGEga2V5J3MgdmFsdWUgbm90IG1hdGNoZXMgYVxuICAgICAgICogQVYuUXVlcnkgY29uc3RyYWludC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBjb250YWlucyB0aGUgb2JqZWN0IHRvIG1hdGNoIHRoZVxuICAgICAgICogICAgICAgICAgICAgICAgICAgICBxdWVyeS5cbiAgICAgICAqIEBwYXJhbSB7QVYuUXVlcnl9IHF1ZXJ5IFRoZSBxdWVyeSB0aGF0IHNob3VsZCBub3QgbWF0Y2guXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBkb2VzTm90TWF0Y2hRdWVyeTogZnVuY3Rpb24oa2V5LCBxdWVyeSkge1xuICAgICAgICB2YXIgcXVlcnlKU09OID0gcXVlcnkuX2dldFBhcmFtcygpO1xuICAgICAgICBxdWVyeUpTT04uY2xhc3NOYW1lID0gcXVlcnkuY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJG5vdEluUXVlcnknLCBxdWVyeUpTT04pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgY29uc3RyYWludCB0aGF0IHJlcXVpcmVzIHRoYXQgYSBrZXkncyB2YWx1ZSBtYXRjaGVzIGEgdmFsdWUgaW5cbiAgICAgICAqIGFuIG9iamVjdCByZXR1cm5lZCBieSBhIGRpZmZlcmVudCBBVi5RdWVyeS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSB0aGF0IGlzIGJlaW5nXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcXVlcnlLZXkgVGhlIGtleSBpbiB0aGUgb2JqZWN0cyByZXR1cm5lZCBieSB0aGUgcXVlcnkgdG9cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCBhZ2FpbnN0LlxuICAgICAgICogQHBhcmFtIHtBVi5RdWVyeX0gcXVlcnkgVGhlIHF1ZXJ5IHRvIHJ1bi5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIG1hdGNoZXNLZXlJblF1ZXJ5OiBmdW5jdGlvbihrZXksIHF1ZXJ5S2V5LCBxdWVyeSkge1xuICAgICAgICB2YXIgcXVlcnlKU09OID0gcXVlcnkuX2dldFBhcmFtcygpO1xuICAgICAgICBxdWVyeUpTT04uY2xhc3NOYW1lID0gcXVlcnkuY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJHNlbGVjdCcsIHsga2V5OiBxdWVyeUtleSwgcXVlcnk6IHF1ZXJ5SlNPTiB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgdGhhdCByZXF1aXJlcyB0aGF0IGEga2V5J3MgdmFsdWUgbm90IG1hdGNoIGEgdmFsdWUgaW5cbiAgICAgICAqIGFuIG9iamVjdCByZXR1cm5lZCBieSBhIGRpZmZlcmVudCBBVi5RdWVyeS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSB0aGF0IGlzIGJlaW5nXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVkLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHF1ZXJ5S2V5IFRoZSBrZXkgaW4gdGhlIG9iamVjdHMgcmV0dXJuZWQgYnkgdGhlIHF1ZXJ5IHRvXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggYWdhaW5zdC5cbiAgICAgICAqIEBwYXJhbSB7QVYuUXVlcnl9IHF1ZXJ5IFRoZSBxdWVyeSB0byBydW4uXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBkb2VzTm90TWF0Y2hLZXlJblF1ZXJ5OiBmdW5jdGlvbihrZXksIHF1ZXJ5S2V5LCBxdWVyeSkge1xuICAgICAgICB2YXIgcXVlcnlKU09OID0gcXVlcnkuX2dldFBhcmFtcygpO1xuICAgICAgICBxdWVyeUpTT04uY2xhc3NOYW1lID0gcXVlcnkuY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJGRvbnRTZWxlY3QnLCB7XG4gICAgICAgICAga2V5OiBxdWVyeUtleSxcbiAgICAgICAgICBxdWVyeTogcXVlcnlKU09OLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBjb25zdHJhaW50IHRoYXQgYXQgbGVhc3Qgb25lIG9mIHRoZSBwYXNzZWQgaW4gcXVlcmllcyBtYXRjaGVzLlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gcXVlcmllc1xuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9vclF1ZXJ5OiBmdW5jdGlvbihxdWVyaWVzKSB7XG4gICAgICAgIHZhciBxdWVyeUpTT04gPSBfLm1hcChxdWVyaWVzLCBmdW5jdGlvbihxKSB7XG4gICAgICAgICAgcmV0dXJuIHEuX2dldFBhcmFtcygpLndoZXJlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl93aGVyZS4kb3IgPSBxdWVyeUpTT047XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgY29uc3RyYWludCB0aGF0IGJvdGggb2YgdGhlIHBhc3NlZCBpbiBxdWVyaWVzIG1hdGNoZXMuXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBxdWVyaWVzXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgX2FuZFF1ZXJ5OiBmdW5jdGlvbihxdWVyaWVzKSB7XG4gICAgICAgIHZhciBxdWVyeUpTT04gPSBfLm1hcChxdWVyaWVzLCBmdW5jdGlvbihxKSB7XG4gICAgICAgICAgcmV0dXJuIHEuX2dldFBhcmFtcygpLndoZXJlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl93aGVyZS4kYW5kID0gcXVlcnlKU09OO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ29udmVydHMgYSBzdHJpbmcgaW50byBhIHJlZ2V4IHRoYXQgbWF0Y2hlcyBpdC5cbiAgICAgICAqIFN1cnJvdW5kaW5nIHdpdGggXFxRIC4uIFxcRSBkb2VzIHRoaXMsIHdlIGp1c3QgbmVlZCB0byBlc2NhcGUgXFxFJ3MgaW5cbiAgICAgICAqIHRoZSB0ZXh0IHNlcGFyYXRlbHkuXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfcXVvdGU6IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuICdcXFxcUScgKyBzLnJlcGxhY2UoJ1xcXFxFJywgJ1xcXFxFXFxcXFxcXFxFXFxcXFEnKSArICdcXFxcRSc7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgc3RyaW5nIHZhbHVlcyB0aGF0IGNvbnRhaW4gYSBwcm92aWRlZFxuICAgICAgICogc3RyaW5nLiAgVGhpcyBtYXkgYmUgc2xvdyBmb3IgbGFyZ2UgZGF0YXNldHMuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgc3RyaW5nIHRvIG1hdGNoIGlzIHN0b3JlZCBpbi5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWJzdHJpbmcgVGhlIHN1YnN0cmluZyB0aGF0IHRoZSB2YWx1ZSBtdXN0IGNvbnRhaW4uXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBjb250YWluczogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJHJlZ2V4JywgdGhpcy5fcXVvdGUodmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgc3RyaW5nIHZhbHVlcyB0aGF0IHN0YXJ0IHdpdGggYSBwcm92aWRlZFxuICAgICAgICogc3RyaW5nLiAgVGhpcyBxdWVyeSB3aWxsIHVzZSB0aGUgYmFja2VuZCBpbmRleCwgc28gaXQgd2lsbCBiZSBmYXN0IGV2ZW5cbiAgICAgICAqIGZvciBsYXJnZSBkYXRhc2V0cy5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBzdHJpbmcgdG8gbWF0Y2ggaXMgc3RvcmVkIGluLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHByZWZpeCBUaGUgc3Vic3RyaW5nIHRoYXQgdGhlIHZhbHVlIG11c3Qgc3RhcnQgd2l0aC5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIHN0YXJ0c1dpdGg6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRyZWdleCcsICdeJyArIHRoaXMuX3F1b3RlKHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgYSBjb25zdHJhaW50IGZvciBmaW5kaW5nIHN0cmluZyB2YWx1ZXMgdGhhdCBlbmQgd2l0aCBhIHByb3ZpZGVkXG4gICAgICAgKiBzdHJpbmcuICBUaGlzIHdpbGwgYmUgc2xvdyBmb3IgbGFyZ2UgZGF0YXNldHMuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgc3RyaW5nIHRvIG1hdGNoIGlzIHN0b3JlZCBpbi5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWZmaXggVGhlIHN1YnN0cmluZyB0aGF0IHRoZSB2YWx1ZSBtdXN0IGVuZCB3aXRoLlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgZW5kc1dpdGg6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyRyZWdleCcsIHRoaXMuX3F1b3RlKHZhbHVlKSArICckJyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTb3J0cyB0aGUgcmVzdWx0cyBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gb3JkZXIgYnkuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBhc2NlbmRpbmc6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICAgIHRoaXMuX29yZGVyID0ga2V5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWxzbyBzb3J0cyB0aGUgcmVzdWx0cyBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS4gVGhlIHByZXZpb3VzIHNvcnQga2V5cyBoYXZlXG4gICAgICAgKiBwcmVjZWRlbmNlIG92ZXIgdGhpcyBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5XG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnkgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGFkZEFzY2VuZGluZzogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJlcXVpcmVzKGtleSwgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBrZXknKTtcbiAgICAgICAgaWYgKHRoaXMuX29yZGVyKSB0aGlzLl9vcmRlciArPSAnLCcgKyBrZXk7XG4gICAgICAgIGVsc2UgdGhpcy5fb3JkZXIgPSBrZXk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTb3J0cyB0aGUgcmVzdWx0cyBpbiBkZXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSBnaXZlbiBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgZGVzY2VuZGluZzogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJlcXVpcmVzKGtleSwgJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBrZXknKTtcbiAgICAgICAgdGhpcy5fb3JkZXIgPSAnLScgKyBrZXk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBbHNvIHNvcnRzIHRoZSByZXN1bHRzIGluIGRlc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS4gVGhlIHByZXZpb3VzIHNvcnQga2V5cyBoYXZlXG4gICAgICAgKiBwcmVjZWRlbmNlIG92ZXIgdGhpcyBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5XG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnkgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGFkZERlc2NlbmRpbmc6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXF1aXJlcyhrZXksICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICAgIGlmICh0aGlzLl9vcmRlcikgdGhpcy5fb3JkZXIgKz0gJywtJyArIGtleTtcbiAgICAgICAgZWxzZSB0aGlzLl9vcmRlciA9ICctJyArIGtleTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIHByb3hpbWl0eSBiYXNlZCBjb25zdHJhaW50IGZvciBmaW5kaW5nIG9iamVjdHMgd2l0aCBrZXkgcG9pbnRcbiAgICAgICAqIHZhbHVlcyBuZWFyIHRoZSBwb2ludCBnaXZlbi5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0aGF0IHRoZSBBVi5HZW9Qb2ludCBpcyBzdG9yZWQgaW4uXG4gICAgICAgKiBAcGFyYW0ge0FWLkdlb1BvaW50fSBwb2ludCBUaGUgcmVmZXJlbmNlIEFWLkdlb1BvaW50IHRoYXQgaXMgdXNlZC5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIG5lYXI6IGZ1bmN0aW9uKGtleSwgcG9pbnQpIHtcbiAgICAgICAgaWYgKCEocG9pbnQgaW5zdGFuY2VvZiBBVi5HZW9Qb2ludCkpIHtcbiAgICAgICAgICAvLyBUcnkgdG8gY2FzdCBpdCB0byBhIEdlb1BvaW50LCBzbyB0aGF0IG5lYXIoXCJsb2NcIiwgWzIwLDMwXSkgd29ya3MuXG4gICAgICAgICAgcG9pbnQgPSBuZXcgQVYuR2VvUG9pbnQocG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FkZENvbmRpdGlvbihrZXksICckbmVhclNwaGVyZScsIHBvaW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIHByb3hpbWl0eSBiYXNlZCBjb25zdHJhaW50IGZvciBmaW5kaW5nIG9iamVjdHMgd2l0aCBrZXkgcG9pbnRcbiAgICAgICAqIHZhbHVlcyBuZWFyIHRoZSBwb2ludCBnaXZlbiBhbmQgd2l0aGluIHRoZSBtYXhpbXVtIGRpc3RhbmNlIGdpdmVuLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRoYXQgdGhlIEFWLkdlb1BvaW50IGlzIHN0b3JlZCBpbi5cbiAgICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IHBvaW50IFRoZSByZWZlcmVuY2UgQVYuR2VvUG9pbnQgdGhhdCBpcyB1c2VkLlxuICAgICAgICogQHBhcmFtIG1heERpc3RhbmNlIE1heGltdW0gZGlzdGFuY2UgKGluIHJhZGlhbnMpIG9mIHJlc3VsdHMgdG8gcmV0dXJuLlxuICAgICAgICogQHJldHVybiB7QVYuUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgd2l0aGluUmFkaWFuczogZnVuY3Rpb24oa2V5LCBwb2ludCwgZGlzdGFuY2UpIHtcbiAgICAgICAgdGhpcy5uZWFyKGtleSwgcG9pbnQpO1xuICAgICAgICB0aGlzLl9hZGRDb25kaXRpb24oa2V5LCAnJG1heERpc3RhbmNlJywgZGlzdGFuY2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgcHJveGltaXR5IGJhc2VkIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgb2JqZWN0cyB3aXRoIGtleSBwb2ludFxuICAgICAgICogdmFsdWVzIG5lYXIgdGhlIHBvaW50IGdpdmVuIGFuZCB3aXRoaW4gdGhlIG1heGltdW0gZGlzdGFuY2UgZ2l2ZW4uXG4gICAgICAgKiBSYWRpdXMgb2YgZWFydGggdXNlZCBpcyAzOTU4LjggbWlsZXMuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgQVYuR2VvUG9pbnQgaXMgc3RvcmVkIGluLlxuICAgICAgICogQHBhcmFtIHtBVi5HZW9Qb2ludH0gcG9pbnQgVGhlIHJlZmVyZW5jZSBBVi5HZW9Qb2ludCB0aGF0IGlzIHVzZWQuXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdGFuY2UgTWF4aW11bSBkaXN0YW5jZSAoaW4gbWlsZXMpIG9mIHJlc3VsdHMgdG9cbiAgICAgICAqICAgICByZXR1cm4uXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICB3aXRoaW5NaWxlczogZnVuY3Rpb24oa2V5LCBwb2ludCwgZGlzdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aGluUmFkaWFucyhrZXksIHBvaW50LCBkaXN0YW5jZSAvIDM5NTguOCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhIHByb3hpbWl0eSBiYXNlZCBjb25zdHJhaW50IGZvciBmaW5kaW5nIG9iamVjdHMgd2l0aCBrZXkgcG9pbnRcbiAgICAgICAqIHZhbHVlcyBuZWFyIHRoZSBwb2ludCBnaXZlbiBhbmQgd2l0aGluIHRoZSBtYXhpbXVtIGRpc3RhbmNlIGdpdmVuLlxuICAgICAgICogUmFkaXVzIG9mIGVhcnRoIHVzZWQgaXMgNjM3MS4wIGtpbG9tZXRlcnMuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhhdCB0aGUgQVYuR2VvUG9pbnQgaXMgc3RvcmVkIGluLlxuICAgICAgICogQHBhcmFtIHtBVi5HZW9Qb2ludH0gcG9pbnQgVGhlIHJlZmVyZW5jZSBBVi5HZW9Qb2ludCB0aGF0IGlzIHVzZWQuXG4gICAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdGFuY2UgTWF4aW11bSBkaXN0YW5jZSAoaW4ga2lsb21ldGVycykgb2YgcmVzdWx0c1xuICAgICAgICogICAgIHRvIHJldHVybi5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIHdpdGhpbktpbG9tZXRlcnM6IGZ1bmN0aW9uKGtleSwgcG9pbnQsIGRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhpblJhZGlhbnMoa2V5LCBwb2ludCwgZGlzdGFuY2UgLyA2MzcxLjApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBxdWVyeSB0aGF0IHJlcXVpcmVzIGEgcGFydGljdWxhciBrZXknc1xuICAgICAgICogY29vcmRpbmF0ZXMgYmUgY29udGFpbmVkIHdpdGhpbiBhIGdpdmVuIHJlY3Rhbmd1bGFyIGdlb2dyYXBoaWMgYm91bmRpbmdcbiAgICAgICAqIGJveC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBiZSBjb25zdHJhaW5lZC5cbiAgICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IHNvdXRod2VzdFxuICAgICAgICogICAgIFRoZSBsb3dlci1sZWZ0IGluY2x1c2l2ZSBjb3JuZXIgb2YgdGhlIGJveC5cbiAgICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IG5vcnRoZWFzdFxuICAgICAgICogICAgIFRoZSB1cHBlci1yaWdodCBpbmNsdXNpdmUgY29ybmVyIG9mIHRoZSBib3guXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICB3aXRoaW5HZW9Cb3g6IGZ1bmN0aW9uKGtleSwgc291dGh3ZXN0LCBub3J0aGVhc3QpIHtcbiAgICAgICAgaWYgKCEoc291dGh3ZXN0IGluc3RhbmNlb2YgQVYuR2VvUG9pbnQpKSB7XG4gICAgICAgICAgc291dGh3ZXN0ID0gbmV3IEFWLkdlb1BvaW50KHNvdXRod2VzdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEobm9ydGhlYXN0IGluc3RhbmNlb2YgQVYuR2VvUG9pbnQpKSB7XG4gICAgICAgICAgbm9ydGhlYXN0ID0gbmV3IEFWLkdlb1BvaW50KG5vcnRoZWFzdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYWRkQ29uZGl0aW9uKGtleSwgJyR3aXRoaW4nLCB7ICRib3g6IFtzb3V0aHdlc3QsIG5vcnRoZWFzdF0gfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBJbmNsdWRlIG5lc3RlZCBBVi5PYmplY3RzIGZvciB0aGUgcHJvdmlkZWQga2V5LiAgWW91IGNhbiB1c2UgZG90XG4gICAgICAgKiBub3RhdGlvbiB0byBzcGVjaWZ5IHdoaWNoIGZpZWxkcyBpbiB0aGUgaW5jbHVkZWQgb2JqZWN0IGFyZSBhbHNvIGZldGNoLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0ga2V5cyBUaGUgbmFtZSBvZiB0aGUga2V5IHRvIGluY2x1ZGUuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBpbmNsdWRlOiBmdW5jdGlvbihrZXlzKSB7XG4gICAgICAgIHJlcXVpcmVzKGtleXMsICd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQga2V5Jyk7XG4gICAgICAgIF8uZm9yRWFjaChhcmd1bWVudHMsIGtleXMgPT4ge1xuICAgICAgICAgIHRoaXMuX2luY2x1ZGUgPSB0aGlzLl9pbmNsdWRlLmNvbmNhdChlbnN1cmVBcnJheShrZXlzKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogSW5jbHVkZSB0aGUgQUNMLlxuICAgICAgICogQHBhcmFtIHtCb29sZWFufSBbdmFsdWU9dHJ1ZV0gV2hldGhlciB0byBpbmNsdWRlIHRoZSBBQ0xcbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGluY2x1ZGVBQ0w6IGZ1bmN0aW9uKHZhbHVlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9pbmNsdWRlQUNMID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXN0cmljdCB0aGUgZmllbGRzIG9mIHRoZSByZXR1cm5lZCBBVi5PYmplY3RzIHRvIGluY2x1ZGUgb25seSB0aGVcbiAgICAgICAqIHByb3ZpZGVkIGtleXMuICBJZiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgdGhlbiBhbGwgb2YgdGhlIGtleXNcbiAgICAgICAqIHNwZWNpZmllZCBpbiBlYWNoIG9mIHRoZSBjYWxscyB3aWxsIGJlIGluY2x1ZGVkLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0ga2V5cyBUaGUgbmFtZXMgb2YgdGhlIGtleXMgdG8gaW5jbHVkZS5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIHNlbGVjdDogZnVuY3Rpb24oa2V5cykge1xuICAgICAgICByZXF1aXJlcyhrZXlzLCAndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGtleScpO1xuICAgICAgICBfLmZvckVhY2goYXJndW1lbnRzLCBrZXlzID0+IHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3QgPSB0aGlzLl9zZWxlY3QuY29uY2F0KGVuc3VyZUFycmF5KGtleXMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBJdGVyYXRlcyBvdmVyIGVhY2ggcmVzdWx0IG9mIGEgcXVlcnksIGNhbGxpbmcgYSBjYWxsYmFjayBmb3IgZWFjaCBvbmUuIElmXG4gICAgICAgKiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHByb21pc2UsIHRoZSBpdGVyYXRpb24gd2lsbCBub3QgY29udGludWUgdW50aWxcbiAgICAgICAqIHRoYXQgcHJvbWlzZSBoYXMgYmVlbiBmdWxmaWxsZWQuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgcmVqZWN0ZWRcbiAgICAgICAqIHByb21pc2UsIHRoZW4gaXRlcmF0aW9uIHdpbGwgc3RvcCB3aXRoIHRoYXQgZXJyb3IuIFRoZSBpdGVtcyBhcmVcbiAgICAgICAqIHByb2Nlc3NlZCBpbiBhbiB1bnNwZWNpZmllZCBvcmRlci4gVGhlIHF1ZXJ5IG1heSBub3QgaGF2ZSBhbnkgc29ydCBvcmRlcixcbiAgICAgICAqIGFuZCBtYXkgbm90IHVzZSBsaW1pdCBvciBza2lwLlxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gQ2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2ggcmVzdWx0XG4gICAgICAgKiAgICAgb2YgdGhlIHF1ZXJ5LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgb25jZSB0aGVcbiAgICAgICAqICAgICBpdGVyYXRpb24gaGFzIGNvbXBsZXRlZC5cbiAgICAgICAqL1xuICAgICAgZWFjaDogZnVuY3Rpb24oY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5fb3JkZXIgfHwgdGhpcy5fc2tpcCB8fCB0aGlzLl9saW1pdCA+PSAwKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0Nhbm5vdCBpdGVyYXRlIG9uIGEgcXVlcnkgd2l0aCBzb3J0LCBza2lwLCBvciBsaW1pdC4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KHRoaXMub2JqZWN0Q2xhc3MpO1xuICAgICAgICAvLyBXZSBjYW4gb3ZlcnJpZGUgdGhlIGJhdGNoIHNpemUgZnJvbSB0aGUgb3B0aW9ucy5cbiAgICAgICAgLy8gVGhpcyBpcyB1bmRvY3VtZW50ZWQsIGJ1dCB1c2VmdWwgZm9yIHRlc3RpbmcuXG4gICAgICAgIHF1ZXJ5Ll9saW1pdCA9IG9wdGlvbnMuYmF0Y2hTaXplIHx8IDEwMDtcbiAgICAgICAgcXVlcnkuX3doZXJlID0gXy5jbG9uZSh0aGlzLl93aGVyZSk7XG4gICAgICAgIHF1ZXJ5Ll9pbmNsdWRlID0gXy5jbG9uZSh0aGlzLl9pbmNsdWRlKTtcblxuICAgICAgICBxdWVyeS5hc2NlbmRpbmcoJ29iamVjdElkJyk7XG5cbiAgICAgICAgdmFyIGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb250aW51ZVdoaWxlKFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICFmaW5pc2hlZDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5LmZpbmQob3B0aW9ucykudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgICAgIHZhciBjYWxsYmFja3NEb25lID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgIF8uZWFjaChyZXN1bHRzLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NEb25lID0gY2FsbGJhY2tzRG9uZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3NEb25lLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID49IHF1ZXJ5Ll9saW1pdCkge1xuICAgICAgICAgICAgICAgICAgcXVlcnkuZ3JlYXRlclRoYW4oJ29iamVjdElkJywgcmVzdWx0c1tyZXN1bHRzLmxlbmd0aCAtIDFdLmlkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFN1YnNjcmliZSB0aGUgY2hhbmdlcyBvZiB0aGlzIHF1ZXJ5LlxuICAgICAgICpcbiAgICAgICAqIExpdmVRdWVyeSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGRlZmF1bHQgYnVuZGxlOiB7QGxpbmsgaHR0cHM6Ly91cmwubGVhbmFwcC5jbi9lbmFibGUtbGl2ZS1xdWVyeX0uXG4gICAgICAgKlxuICAgICAgICogQHNpbmNlIDMuMC4wXG4gICAgICAgKiBAcmV0dXJuIHtBVi5MaXZlUXVlcnl9IEFuIGV2ZW50ZW1pdHRlciB3aGljaCBjYW4gYmUgdXNlZCB0byBnZXQgTGl2ZVF1ZXJ5IHVwZGF0ZXM7XG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBVi5MaXZlUXVlcnkuaW5pdCh0aGlzLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIEFWLkZyaWVuZFNoaXBRdWVyeSA9IEFWLlF1ZXJ5Ll9leHRlbmQoe1xuICAgIF9uZXdPYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgVXNlckNsYXNzID0gQVYuT2JqZWN0Ll9nZXRTdWJjbGFzcygnX1VzZXInKTtcbiAgICAgIHJldHVybiBuZXcgVXNlckNsYXNzKCk7XG4gICAgfSxcbiAgICBfcHJvY2Vzc1Jlc3VsdDogZnVuY3Rpb24oanNvbikge1xuICAgICAgaWYgKGpzb24gJiYganNvblt0aGlzLl9mcmllbmRzaGlwVGFnXSkge1xuICAgICAgICB2YXIgdXNlciA9IGpzb25bdGhpcy5fZnJpZW5kc2hpcFRhZ107XG4gICAgICAgIGlmICh1c2VyLl9fdHlwZSA9PT0gJ1BvaW50ZXInICYmIHVzZXIuY2xhc3NOYW1lID09PSAnX1VzZXInKSB7XG4gICAgICAgICAgZGVsZXRlIHVzZXIuX190eXBlO1xuICAgICAgICAgIGRlbGV0ZSB1c2VyLmNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9xdWVyeS5qcyIsImNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5jb25zdCB7IGluaGVyaXRzIH0gPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5jb25zdCB7IHJlcXVlc3QgfSA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpO1xuXG5jb25zdCBzdWJzY3JpYmUgPSAocXVlcnlKU09OLCBzdWJzY3JpcHRpb25JZCkgPT5cbiAgcmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgcGF0aDogJy9MaXZlUXVlcnkvc3Vic2NyaWJlJyxcbiAgICBkYXRhOiB7XG4gICAgICBxdWVyeTogcXVlcnlKU09OLFxuICAgICAgaWQ6IHN1YnNjcmlwdGlvbklkLFxuICAgIH0sXG4gIH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFWID0+IHtcbiAgY29uc3QgcmVxdWlyZVJlYWx0aW1lID0gKCkgPT4ge1xuICAgIGlmICghQVYuX2NvbmZpZy5yZWFsdGltZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnTGl2ZVF1ZXJ5IG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgdGhlIExpdmVRdWVyeSBidW5kbGUuIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vZW5hYmxlLWxpdmUtcXVlcnknXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBBIExpdmVRdWVyeSwgY3JlYXRlZCBieSB7QGxpbmsgQVYuUXVlcnkjc3Vic2NyaWJlfSBpcyBhbiBFdmVudEVtaXR0ZXIgbm90aWZpZXMgY2hhbmdlcyBvZiB0aGUgUXVlcnkuXG4gICAqIEBzaW5jZSAzLjAuMFxuICAgKi9cbiAgQVYuTGl2ZVF1ZXJ5ID0gaW5oZXJpdHMoXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIC8qKiBAbGVuZHMgQVYuTGl2ZVF1ZXJ5LnByb3RvdHlwZSAqLyB7XG4gICAgICBjb25zdHJ1Y3RvcihpZCwgY2xpZW50LCBxdWVyeUpTT04sIHN1YnNjcmlwdGlvbklkKSB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5hcHBseSh0aGlzKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuX2NsaWVudC5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5fcXVlcnlKU09OID0gcXVlcnlKU09OO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25JZCA9IHN1YnNjcmlwdGlvbklkO1xuICAgICAgICB0aGlzLl9vbk1lc3NhZ2UgPSB0aGlzLl9kaXNwYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vblJlY29ubmVjdCA9ICgpID0+IHtcbiAgICAgICAgICBzdWJzY3JpYmUodGhpcy5fcXVlcnlKU09OLCB0aGlzLl9zdWJzY3JpcHRpb25JZCkuY2F0Y2goZXJyb3IgPT5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYExpdmVRdWVyeSByZXN1YnNjcmliZSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xpZW50Lm9uKCdtZXNzYWdlJywgdGhpcy5fb25NZXNzYWdlKTtcbiAgICAgICAgY2xpZW50Lm9uKCdyZWNvbm5lY3QnLCB0aGlzLl9vblJlY29ubmVjdCk7XG4gICAgICB9LFxuICAgICAgX2Rpc3BhdGNoKG1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZS5mb3JFYWNoKCh7IG9wLCBvYmplY3QsIHF1ZXJ5X2lkOiBxdWVyeUlkLCB1cGRhdGVkS2V5cyB9KSA9PiB7XG4gICAgICAgICAgaWYgKHF1ZXJ5SWQgIT09IHRoaXMuaWQpIHJldHVybjtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBBVi5wYXJzZUpTT04oXG4gICAgICAgICAgICBfLmV4dGVuZChcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF9fdHlwZTogb2JqZWN0LmNsYXNzTmFtZSA9PT0gJ19GaWxlJyA/ICdGaWxlJyA6ICdPYmplY3QnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvYmplY3RcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh1cGRhdGVkS2V5cykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbiBleGlzdGluZyBBVi5PYmplY3Qgd2hpY2ggZnVsZmlsbHMgdGhlIFF1ZXJ5IHlvdSBzdWJzY3JpYmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICAgICAqIEBldmVudCBBVi5MaXZlUXVlcnkjdXBkYXRlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5GaWxlfSB0YXJnZXQgdXBkYXRlZCBvYmplY3RcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHVwZGF0ZWRLZXlzIHVwZGF0ZWQga2V5c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuIGV4aXN0aW5nIEFWLk9iamVjdCB3aGljaCBkb2Vzbid0IGZ1bGZpbGwgdGhlIFF1ZXJ5IGlzIHVwZGF0ZWQgYW5kIG5vdyBpdCBmdWxmaWxscyB0aGUgUXVlcnkuXG4gICAgICAgICAgICAgKiBAZXZlbnQgQVYuTGl2ZVF1ZXJ5I2VudGVyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5GaWxlfSB0YXJnZXQgdXBkYXRlZCBvYmplY3RcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHVwZGF0ZWRLZXlzIHVwZGF0ZWQga2V5c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuIGV4aXN0aW5nIEFWLk9iamVjdCB3aGljaCBmdWxmaWxscyB0aGUgUXVlcnkgaXMgdXBkYXRlZCBhbmQgbm93IGl0IGRvZXNuJ3QgZnVsZmlsbCB0aGUgUXVlcnkuXG4gICAgICAgICAgICAgKiBAZXZlbnQgQVYuTGl2ZVF1ZXJ5I2xlYXZlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FWLk9iamVjdHxBVi5GaWxlfSB0YXJnZXQgdXBkYXRlZCBvYmplY3RcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHVwZGF0ZWRLZXlzIHVwZGF0ZWQga2V5c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmVtaXQob3AsIHRhcmdldCwgdXBkYXRlZEtleXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgbmV3IEFWLk9iamVjdCB3aGljaCBmdWxmaWxscyB0aGUgUXVlcnkgeW91IHN1YnNjcmliZSBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQGV2ZW50IEFWLkxpdmVRdWVyeSNjcmVhdGVcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0fEFWLkZpbGV9IHRhcmdldCB1cGRhdGVkIG9iamVjdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuIGV4aXN0aW5nIEFWLk9iamVjdCB3aGljaCBmdWxmaWxscyB0aGUgUXVlcnkgeW91IHN1YnNjcmliZSBpcyBkZWxldGVkLlxuICAgICAgICAgICAgICogQGV2ZW50IEFWLkxpdmVRdWVyeSNkZWxldGVcbiAgICAgICAgICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0fEFWLkZpbGV9IHRhcmdldCB1cGRhdGVkIG9iamVjdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmVtaXQob3AsIHRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIHVuc3Vic2NyaWJlIHRoZSBxdWVyeVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICAgKi9cbiAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBjb25zdCBjbGllbnQgPSB0aGlzLl9jbGllbnQ7XG4gICAgICAgIGNsaWVudC5vZmYoJ21lc3NhZ2UnLCB0aGlzLl9vbk1lc3NhZ2UpO1xuICAgICAgICBjbGllbnQub2ZmKCdyZWNvbm5lY3QnLCB0aGlzLl9vblJlY29ubmVjdCk7XG4gICAgICAgIGNsaWVudC5kZXJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgcGF0aDogJy9MaXZlUXVlcnkvdW5zdWJzY3JpYmUnLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGlkOiBjbGllbnQuaWQsXG4gICAgICAgICAgICBxdWVyeV9pZDogdGhpcy5pZCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICAvKiogQGxlbmRzIEFWLkxpdmVRdWVyeSAqL1xuICAgIHtcbiAgICAgIGluaXQoXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uSWQ6IHVzZXJEZWZpbmVkU3Vic2NyaXB0aW9uSWQgPSBBVi5fZ2V0U3Vic2NyaXB0aW9uSWQoKSxcbiAgICAgICAgfSA9IHt9XG4gICAgICApIHtcbiAgICAgICAgcmVxdWlyZVJlYWx0aW1lKCk7XG4gICAgICAgIGlmICghKHF1ZXJ5IGluc3RhbmNlb2YgQVYuUXVlcnkpKVxuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0xpdmVRdWVyeSBtdXN0IGJlIGluaXRlZCB3aXRoIGEgUXVlcnknKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyRGVmaW5lZFN1YnNjcmlwdGlvbklkKS50aGVuKHN1YnNjcmlwdGlvbklkID0+XG4gICAgICAgICAgQVYuX2NvbmZpZy5yZWFsdGltZVxuICAgICAgICAgICAgLmNyZWF0ZUxpdmVRdWVyeUNsaWVudChzdWJzY3JpcHRpb25JZClcbiAgICAgICAgICAgIC50aGVuKGxpdmVRdWVyeUNsaWVudCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgd2hlcmUsIGtleXMsIHJldHVybkFDTCB9ID0gcXVlcnkuX2dldFBhcmFtcygpO1xuICAgICAgICAgICAgICBjb25zdCBxdWVyeUpTT04gPSB7XG4gICAgICAgICAgICAgICAgd2hlcmUsXG4gICAgICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgICAgICByZXR1cm5BQ0wsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBxdWVyeS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBzdWJzY3JpYmUocXVlcnlKU09OLCBzdWJzY3JpcHRpb25JZClcbiAgICAgICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAgICh7IHF1ZXJ5X2lkOiBxdWVyeUlkIH0pID0+XG4gICAgICAgICAgICAgICAgICAgIG5ldyBBVi5MaXZlUXVlcnkoXG4gICAgICAgICAgICAgICAgICAgICAgcXVlcnlJZCxcbiAgICAgICAgICAgICAgICAgICAgICBsaXZlUXVlcnlDbGllbnQsXG4gICAgICAgICAgICAgICAgICAgICAgcXVlcnlKU09OLFxuICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbklkXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgbGl2ZVF1ZXJ5Q2xpZW50LmRlcmVnaXN0ZXIocHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGxpdmVRdWVyeUNsaWVudC5yZWdpc3Rlcihwcm9taXNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogUGF1c2UgdGhlIExpdmVRdWVyeSBjb25uZWN0aW9uLiBUaGlzIGlzIHVzZWZ1bCB0byBkZWFjdGl2YXRlIHRoZSBTREsgd2hlbiB0aGUgYXBwIGlzIHN3dGljaGVkIHRvIGJhY2tncm91bmQuXG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgICAqL1xuICAgICAgcGF1c2UoKSB7XG4gICAgICAgIHJlcXVpcmVSZWFsdGltZSgpO1xuICAgICAgICByZXR1cm4gQVYuX2NvbmZpZy5yZWFsdGltZS5wYXVzZSgpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogUmVzdW1lIHRoZSBMaXZlUXVlcnkgY29ubmVjdGlvbi4gQWxsIHN1YnNjcmlwdGlvbnMgd2lsbCBiZSByZXN0b3JlZCBhZnRlciByZWNvbm5lY3Rpb24uXG4gICAgICAgKiBAc3RhdGljXG4gICAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgICAqL1xuICAgICAgcmVzdW1lKCkge1xuICAgICAgICByZXF1aXJlUmVhbHRpbWUoKTtcbiAgICAgICAgcmV0dXJuIEFWLl9jb25maWcucmVhbHRpbWUucmVzdW1lKCk7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbGl2ZS1xdWVyeS5qcyIsImNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCB7IHRhcCB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFWID0+IHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAZXhhbXBsZVxuICAgKiBBVi5DYXB0Y2hhLnJlcXVlc3QoKS50aGVuKGNhcHRjaGEgPT4ge1xuICAgKiAgIGNhcHRjaGEuYmluZCh7XG4gICAqICAgICB0ZXh0SW5wdXQ6ICdjb2RlJywgLy8gdGhlIGlkIGZvciB0ZXh0SW5wdXRcbiAgICogICAgIGltYWdlOiAnY2FwdGNoYScsXG4gICAqICAgICB2ZXJpZnlCdXR0b246ICd2ZXJpZnknLFxuICAgKiAgIH0sIHtcbiAgICogICAgIHN1Y2Nlc3M6ICh2YWxpZGF0ZUNvZGUpID0+IHt9LCAvLyBuZXh0IHN0ZXBcbiAgICogICAgIGVycm9yOiAoZXJyb3IpID0+IHt9LCAvLyBwcmVzZW50IGVycm9yLm1lc3NhZ2UgdG8gdXNlclxuICAgKiAgIH0pO1xuICAgKiB9KTtcbiAgICovXG4gIEFWLkNhcHRjaGEgPSBmdW5jdGlvbiBDYXB0Y2hhKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fYXV0aE9wdGlvbnMgPSBhdXRoT3B0aW9ucztcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgdXJsIG9mIHRoZSBjYXB0Y2hhXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICovXG4gICAgdGhpcy51cmwgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogVGhlIGNhcHRjaGFUb2tlbiBvZiB0aGUgY2FwdGNoYS5cbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKi9cbiAgICB0aGlzLmNhcHRjaGFUb2tlbiA9IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsaWRhdGVUb2tlbiBvZiB0aGUgY2FwdGNoYS5cbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKi9cbiAgICB0aGlzLnZhbGlkYXRlVG9rZW4gPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggdGhlIGNhcHRjaGFcbiAgICogQHJldHVybiB7UHJvbWlzZS48c3RyaW5nPn0gYSBuZXcgY2FwY2hhIHVybFxuICAgKi9cbiAgQVYuQ2FwdGNoYS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgcmV0dXJuIEFWLkNsb3VkLl9yZXF1ZXN0Q2FwdGNoYSh0aGlzLl9vcHRpb25zLCB0aGlzLl9hdXRoT3B0aW9ucykudGhlbihcbiAgICAgICh7IGNhcHRjaGFUb2tlbiwgdXJsIH0pID0+IHtcbiAgICAgICAgXy5leHRlbmQodGhpcywgeyBjYXB0Y2hhVG9rZW4sIHVybCB9KTtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH1cbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWZXJpZnkgdGhlIGNhcHRjaGFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGUgVGhlIGNvZGUgZnJvbSB1c2VyIGlucHV0XG4gICAqIEByZXR1cm4ge1Byb21pc2UuPHN0cmluZz59IHZhbGlkYXRlVG9rZW4gaWYgdGhlIGNvZGUgaXMgdmFsaWRcbiAgICovXG4gIEFWLkNhcHRjaGEucHJvdG90eXBlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShjb2RlKSB7XG4gICAgcmV0dXJuIEFWLkNsb3VkLnZlcmlmeUNhcHRjaGEoY29kZSwgdGhpcy5jYXB0Y2hhVG9rZW4pLnRoZW4oXG4gICAgICB0YXAodmFsaWRhdGVUb2tlbiA9PiAodGhpcy52YWxpZGF0ZVRva2VuID0gdmFsaWRhdGVUb2tlbikpXG4gICAgKTtcbiAgfTtcblxuICBpZiAocHJvY2Vzcy5lbnYuUExBVEZPUk0gPT09ICdCcm93c2VyJykge1xuICAgIC8qKlxuICAgICAqIEJpbmQgdGhlIGNhcHRjaGEgdG8gSFRNTEVsZW1lbnRzLiA8Yj5PTkxZIEFWQUlMQUJMRSBpbiBicm93c2VyczwvYj4uXG4gICAgICogQHBhcmFtIFtlbGVtZW50c11cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MSW5wdXRFbGVtZW50fSBbZWxlbWVudHMudGV4dElucHV0XSBBbiBpbnB1dCBlbGVtZW50IHR5cGVkIHRleHQsIG9yIHRoZSBpZCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEltYWdlRWxlbWVudH0gW2VsZW1lbnRzLmltYWdlXSBBbiBpbWFnZSBlbGVtZW50LCBvciB0aGUgaWQgZm9yIHRoZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fSBbZWxlbWVudHMudmVyaWZ5QnV0dG9uXSBBIGJ1dHRvbiBlbGVtZW50LCBvciB0aGUgaWQgZm9yIHRoZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBbY2FsbGJhY2tzXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Muc3VjY2Vzc10gU3VjY2VzcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBpZiB0aGUgY29kZSBpcyB2ZXJpZmllZC4gVGhlIHBhcmFtIGB2YWxpZGF0ZUNvZGVgIGNhbiBiZSB1c2VkIGZvciBmdXJ0aGVyIFNNUyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3MuZXJyb3JdIEVycm9yIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nLCBkZXRhaWxlZCBpbiBwYXJhbSBgZXJyb3IubWVzc2FnZWAuXG4gICAgICovXG4gICAgQVYuQ2FwdGNoYS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQoXG4gICAgICB7IHRleHRJbnB1dCwgaW1hZ2UsIHZlcmlmeUJ1dHRvbiB9LFxuICAgICAgeyBzdWNjZXNzLCBlcnJvciB9XG4gICAgKSB7XG4gICAgICBpZiAodHlwZW9mIHRleHRJbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGV4dElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dElucHV0KTtcbiAgICAgICAgaWYgKCF0ZXh0SW5wdXQpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0ZXh0SW5wdXQgd2l0aCBpZCAke3RleHRJbnB1dH0gbm90IGZvdW5kYCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGltYWdlKTtcbiAgICAgICAgaWYgKCFpbWFnZSkgdGhyb3cgbmV3IEVycm9yKGBpbWFnZSB3aXRoIGlkICR7aW1hZ2V9IG5vdCBmb3VuZGApO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2ZXJpZnlCdXR0b24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZlcmlmeUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZlcmlmeUJ1dHRvbik7XG4gICAgICAgIGlmICghdmVyaWZ5QnV0dG9uKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdmVyaWZ5QnV0dG9uIHdpdGggaWQgJHt2ZXJpZnlCdXR0b259IG5vdCBmb3VuZGApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9fcmVmcmVzaCA9ICgpID0+XG4gICAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgICAgICAgLnRoZW4odXJsID0+IHtcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICAgICAgICAgIGlmICh0ZXh0SW5wdXQpIHtcbiAgICAgICAgICAgICAgdGV4dElucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgIHRleHRJbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLndhcm4oYHJlZnJlc2ggY2FwdGNoYSBmYWlsOiAke2Vyci5tZXNzYWdlfWApKTtcbiAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICB0aGlzLl9faW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy51cmw7XG4gICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fX3JlZnJlc2gpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9fdmVyaWZ5ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gdGV4dElucHV0LnZhbHVlO1xuICAgICAgICB0aGlzLnZlcmlmeShjb2RlKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgdGhpcy5fX3JlZnJlc2goKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHN1Y2Nlc3MsIGVycm9yKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS53YXJuKGB2ZXJpZnkgY2FwdGNoYSBmYWlsOiAke2Vyci5tZXNzYWdlfWApKTtcbiAgICAgIH07XG4gICAgICBpZiAodGV4dElucHV0ICYmIHZlcmlmeUJ1dHRvbikge1xuICAgICAgICB0aGlzLl9fdmVyaWZ5QnV0dG9uID0gdmVyaWZ5QnV0dG9uO1xuICAgICAgICB2ZXJpZnlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9fdmVyaWZ5KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBjYXB0Y2hhIGZyb20gSFRNTEVsZW1lbnRzLiA8Yj5PTkxZIEFWQUlMQUJMRSBpbiBicm93c2VyczwvYj4uXG4gICAgICovXG4gICAgQVYuQ2FwdGNoYS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gdW5iaW5kKCkge1xuICAgICAgaWYgKHRoaXMuX19pbWFnZSlcbiAgICAgICAgdGhpcy5fX2ltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fX3JlZnJlc2gpO1xuICAgICAgaWYgKHRoaXMuX192ZXJpZnlCdXR0b24pXG4gICAgICAgIHRoaXMuX192ZXJpZnlCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9fdmVyaWZ5KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSBjYXB0Y2hhXG4gICAqIEBwYXJhbSBbb3B0aW9uc11cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoXSB3aWR0aChweCkgb2YgdGhlIGNhcHRjaGEsIHJhbmdlZCA2MC0yMDBcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gaGVpZ2h0KHB4KSBvZiB0aGUgY2FwdGNoYSwgcmFuZ2VkIDMwLTEwMFxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc2l6ZT00XSBsZW5ndGggb2YgdGhlIGNhcHRjaGEsIHJhbmdlZCAzLTYuIE1hc3RlcktleSByZXF1aXJlZC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnR0bD02MF0gdGltZSB0byBsaXZlKHMpLCByYW5nZWQgMTAtMTgwLiBNYXN0ZXJLZXkgcmVxdWlyZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2UuPEFWLkNhcHRjaGE+fVxuICAgKi9cbiAgQVYuQ2FwdGNoYS5yZXF1ZXN0ID0gKG9wdGlvbnMsIGF1dGhPcHRpb25zKSA9PiB7XG4gICAgY29uc3QgY2FwdGNoYSA9IG5ldyBBVi5DYXB0Y2hhKG9wdGlvbnMsIGF1dGhPcHRpb25zKTtcbiAgICByZXR1cm4gY2FwdGNoYS5yZWZyZXNoKCkudGhlbigoKSA9PiBjYXB0Y2hhKTtcbiAgfTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY2FwdGNoYS5qcyIsImNvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5jb25zdCB7IF9yZXF1ZXN0LCByZXF1ZXN0IH0gPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihBVikge1xuICAvKipcbiAgICogQ29udGFpbnMgZnVuY3Rpb25zIGZvciBjYWxsaW5nIGFuZCBkZWNsYXJpbmdcbiAgICogPHA+PHN0cm9uZz48ZW0+XG4gICAqICAgU29tZSBmdW5jdGlvbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGZyb20gQ2xvdWQgQ29kZS5cbiAgICogPC9lbT48L3N0cm9uZz48L3A+XG4gICAqXG4gICAqIEBuYW1lc3BhY2VcbiAgICogQGJvcnJvd3MgQVYuQ2FwdGNoYS5yZXF1ZXN0IGFzIHJlcXVlc3RDYXB0Y2hhXG4gICAqL1xuICBBVi5DbG91ZCA9IEFWLkNsb3VkIHx8IHt9O1xuXG4gIF8uZXh0ZW5kKFxuICAgIEFWLkNsb3VkLFxuICAgIC8qKiBAbGVuZHMgQVYuQ2xvdWQgKi8ge1xuICAgICAgLyoqXG4gICAgICAgKiBNYWtlcyBhIGNhbGwgdG8gYSBjbG91ZCBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBUaGUgcGFyYW1ldGVycyB0byBzZW5kIHRvIHRoZSBjbG91ZCBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRcbiAgICAgICAqIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgICAqL1xuICAgICAgcnVuKG5hbWUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICAgIHNlcnZpY2U6ICdlbmdpbmUnLFxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHBhdGg6IGAvZnVuY3Rpb25zLyR7bmFtZX1gLFxuICAgICAgICAgIGRhdGE6IEFWLl9lbmNvZGUoZGF0YSwgbnVsbCwgdHJ1ZSksXG4gICAgICAgICAgYXV0aE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIH0pLnRoZW4ocmVzcCA9PiB7XG4gICAgICAgICAgcmV0dXJuIEFWLl9kZWNvZGUocmVzcCkucmVzdWx0O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFrZXMgYSBjYWxsIHRvIGEgY2xvdWQgZnVuY3Rpb24sIHlvdSBjYW4gc2VuZCB7QVYuT2JqZWN0fSBhcyBwYXJhbSBvciBhIGZpZWxkIG9mIHBhcmFtOyB0aGUgcmVzcG9uc2VcbiAgICAgICAqIGZyb20gc2VydmVyIHdpbGwgYWxzbyBiZSBwYXJzZWQgYXMgYW4ge0FWLk9iamVjdH0sIGFycmF5IG9mIHtBVi5PYmplY3R9LCBvciBvYmplY3QgaW5jbHVkZXMge0FWLk9iamVjdH1cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBUaGUgcGFyYW1ldGVycyB0byBzZW5kIHRvIHRoZSBjbG91ZCBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICBycGMobmFtZSwgZGF0YSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoXy5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBcIkNhbid0IHBhc3MgQXJyYXkgYXMgdGhlIHBhcmFtIG9mIHJwYyBmdW5jdGlvbiBpbiBKYXZhU2NyaXB0IFNESy5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgICAgc2VydmljZTogJ2VuZ2luZScsXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgcGF0aDogYC9jYWxsLyR7bmFtZX1gLFxuICAgICAgICAgIGRhdGE6IEFWLl9lbmNvZGVPYmplY3RPckFycmF5KGRhdGEpLFxuICAgICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zLFxuICAgICAgICB9KS50aGVuKHJlc3AgPT4ge1xuICAgICAgICAgIHJldHVybiBBVi5fZGVjb2RlKHJlc3ApLnJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIE1ha2UgYSBjYWxsIHRvIHJlcXVlc3Qgc2VydmVyIGRhdGUgdGltZS5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2UuPERhdGU+fSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICogQHNpbmNlIDAuNS45XG4gICAgICAgKi9cbiAgICAgIGdldFNlcnZlckRhdGUoKSB7XG4gICAgICAgIHJldHVybiBfcmVxdWVzdCgnZGF0ZScsIG51bGwsIG51bGwsICdHRVQnKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICByZXR1cm4gQVYuX2RlY29kZShyZXNwKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIE1ha2VzIGEgY2FsbCB0byByZXF1ZXN0IGFuIHNtcyBjb2RlIGZvciBvcGVyYXRpb24gdmVyaWZpY2F0aW9uLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBkYXRhIFRoZSBtb2JpbGUgcGhvbmUgbnVtYmVyIHN0cmluZyBvciBhIEpTT05cbiAgICAgICAqICAgIG9iamVjdCB0aGF0IGNvbnRhaW5zIG1vYmlsZVBob25lTnVtYmVyLHRlbXBsYXRlLHNpZ24sb3AsdHRsLG5hbWUgZXRjLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEubW9iaWxlUGhvbmVOdW1iZXJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YS50ZW1wbGF0ZV0gc21zIHRlbXBsYXRlIG5hbWVcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YS5zaWduXSBzbXMgc2lnbmF0dXJlIG5hbWVcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YS5zbXNUeXBlXSBzZW5kaW5nIGNvZGUgYnkgYHNtc2AgKGRlZmF1bHQpIG9yIGB2b2ljZWAgY2FsbFxuICAgICAgICogQHBhcmFtIHtTTVNBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGlmIHRoZSByZXF1ZXN0IHN1Y2NlZWRcbiAgICAgICAqL1xuICAgICAgcmVxdWVzdFNtc0NvZGUoZGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChfLmlzU3RyaW5nKGRhdGEpKSB7XG4gICAgICAgICAgZGF0YSA9IHsgbW9iaWxlUGhvbmVOdW1iZXI6IGRhdGEgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRhdGEubW9iaWxlUGhvbmVOdW1iZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgbW9iaWxlUGhvbmVOdW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudmFsaWRhdGVUb2tlbikge1xuICAgICAgICAgIGRhdGEgPSBfLmV4dGVuZCh7fSwgZGF0YSwge1xuICAgICAgICAgICAgdmFsaWRhdGVfdG9rZW46IG9wdGlvbnMudmFsaWRhdGVUb2tlbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlcXVlc3QoJ3JlcXVlc3RTbXNDb2RlJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFrZXMgYSBjYWxsIHRvIHZlcmlmeSBzbXMgY29kZSB0aGF0IHNlbnQgYnkgQVYuQ2xvdWQucmVxdWVzdFNtc0NvZGVcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIFRoZSBzbXMgY29kZSBzZW50IGJ5IEFWLkNsb3VkLnJlcXVlc3RTbXNDb2RlXG4gICAgICAgKiBAcGFyYW0ge3Bob25lfSBwaG9uZSBUaGUgbW9iaWxlIHBob25lciBudW1iZXIuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICB2ZXJpZnlTbXNDb2RlKGNvZGUsIHBob25lKSB7XG4gICAgICAgIGlmICghY29kZSkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHNtcyBjb2RlLicpO1xuICAgICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICAgIGlmIChfLmlzU3RyaW5nKHBob25lKSkge1xuICAgICAgICAgIHBhcmFtc1snbW9iaWxlUGhvbmVOdW1iZXInXSA9IHBob25lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9yZXF1ZXN0KCd2ZXJpZnlTbXNDb2RlJywgY29kZSwgbnVsbCwgJ1BPU1QnLCBwYXJhbXMpO1xuICAgICAgfSxcblxuICAgICAgX3JlcXVlc3RDYXB0Y2hhKG9wdGlvbnMsIGF1dGhPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVxdWVzdChcbiAgICAgICAgICAncmVxdWVzdENhcHRjaGEnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnR0VUJyxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIGF1dGhPcHRpb25zXG4gICAgICAgICkudGhlbigoeyBjYXB0Y2hhX3VybDogdXJsLCBjYXB0Y2hhX3Rva2VuOiBjYXB0Y2hhVG9rZW4gfSkgPT4gKHtcbiAgICAgICAgICBjYXB0Y2hhVG9rZW4sXG4gICAgICAgICAgdXJsLFxuICAgICAgICB9KSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlcXVlc3QgYSBjYXB0Y2hhLlxuICAgICAgICovXG4gICAgICByZXF1ZXN0Q2FwdGNoYTogQVYuQ2FwdGNoYS5yZXF1ZXN0LFxuXG4gICAgICAvKipcbiAgICAgICAqIFZlcmlmeSBjYXB0Y2hhIGNvZGUuIFRoaXMgaXMgdGhlIGxvdy1sZXZlbCBBUEkgZm9yIGNhcHRjaGEuXG4gICAgICAgKiBDaGVja291dCB7QGxpbmsgQVYuQ2FwdGNoYX0gZm9yIGhpZ2ggYWJzdHJhY3QgQVBJcy5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlIHRoZSBjb2RlIGZyb20gdXNlciBpbnB1dFxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGNhcHRjaGFUb2tlbiBjYXB0Y2hhVG9rZW4gcmV0dXJuZWQgYnkge0BsaW5rIEFWLkNsb3VkLnJlcXVlc3RDYXB0Y2hhfVxuICAgICAgICogQHJldHVybiB7UHJvbWlzZS48U3RyaW5nPn0gdmFsaWRhdGVUb2tlbiBpZiB0aGUgY29kZSBpcyB2YWxpZFxuICAgICAgICovXG4gICAgICB2ZXJpZnlDYXB0Y2hhKGNvZGUsIGNhcHRjaGFUb2tlbikge1xuICAgICAgICByZXR1cm4gX3JlcXVlc3QoJ3ZlcmlmeUNhcHRjaGEnLCBudWxsLCBudWxsLCAnUE9TVCcsIHtcbiAgICAgICAgICBjYXB0Y2hhX2NvZGU6IGNvZGUsXG4gICAgICAgICAgY2FwdGNoYV90b2tlbjogY2FwdGNoYVRva2VuLFxuICAgICAgICB9KS50aGVuKCh7IHZhbGlkYXRlX3Rva2VuOiB2YWxpZGF0ZVRva2VuIH0pID0+IHZhbGlkYXRlVG9rZW4pO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Nsb3VkZnVuY3Rpb24uanMiLCJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnLi9yZXF1ZXN0JykucmVxdWVzdDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihBVikge1xuICBBVi5JbnN0YWxsYXRpb24gPSBBVi5PYmplY3QuZXh0ZW5kKCdfSW5zdGFsbGF0aW9uJyk7XG5cbiAgLyoqXG4gICAqIEBuYW1lc3BhY2VcbiAgICovXG4gIEFWLlB1c2ggPSBBVi5QdXNoIHx8IHt9O1xuXG4gIC8qKlxuICAgKiBTZW5kcyBhIHB1c2ggbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBvZiB0aGUgcHVzaCBub3RpZmljYXRpb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nW119IFtkYXRhLmNoYW5uZWxzXSBBbiBBcnJheSBvZiBjaGFubmVscyB0byBwdXNoIHRvLlxuICAgKiBAcGFyYW0ge0RhdGV9IFtkYXRhLnB1c2hfdGltZV0gQSBEYXRlIG9iamVjdCBmb3Igd2hlbiB0byBzZW5kIHRoZSBwdXNoLlxuICAgKiBAcGFyYW0ge0RhdGV9IFtkYXRhLmV4cGlyYXRpb25fdGltZV0gIEEgRGF0ZSBvYmplY3QgZm9yIHdoZW4gdG8gZXhwaXJlXG4gICAqICAgICAgICAgdGhlIHB1c2guXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGF0YS5leHBpcmF0aW9uX2ludGVydmFsXSBUaGUgc2Vjb25kcyBmcm9tIG5vdyB0byBleHBpcmUgdGhlIHB1c2guXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGF0YS5mbG93X2NvbnRyb2xdIFRoZSBjbGllbnRzIHRvIG5vdGlmeSBwZXIgc2Vjb25kXG4gICAqIEBwYXJhbSB7QVYuUXVlcnl9IFtkYXRhLndoZXJlXSBBbiBBVi5RdWVyeSBvdmVyIEFWLkluc3RhbGxhdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWF0Y2hcbiAgICogICAgICAgICBhIHNldCBvZiBpbnN0YWxsYXRpb25zIHRvIHB1c2ggdG8uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0YS5jcWxdIEEgQ1FMIHN0YXRlbWVudCBvdmVyIEFWLkluc3RhbGxhdGlvbiB0aGF0IGlzIHVzZWQgdG8gbWF0Y2hcbiAgICogICAgICAgICBhIHNldCBvZiBpbnN0YWxsYXRpb25zIHRvIHB1c2ggdG8uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhLmRhdGEgVGhlIGRhdGEgdG8gc2VuZCBhcyBwYXJ0IG9mIHRoZSBwdXNoLlxuICAgICAgICAgICAgIE1vcmUgZGV0YWlsczogIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vcHVzaERhdGFcbiAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBBVi5QdXNoLnNlbmQgPSBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7XG4gICAgaWYgKGRhdGEud2hlcmUpIHtcbiAgICAgIGRhdGEud2hlcmUgPSBkYXRhLndoZXJlLl9nZXRQYXJhbXMoKS53aGVyZTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS53aGVyZSAmJiBkYXRhLmNxbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQm90aCB3aGVyZSBhbmQgY3FsIGNhbid0IGJlIHNldFwiKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5wdXNoX3RpbWUpIHtcbiAgICAgIGRhdGEucHVzaF90aW1lID0gZGF0YS5wdXNoX3RpbWUudG9KU09OKCk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuZXhwaXJhdGlvbl90aW1lKSB7XG4gICAgICBkYXRhLmV4cGlyYXRpb25fdGltZSA9IGRhdGEuZXhwaXJhdGlvbl90aW1lLnRvSlNPTigpO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmV4cGlyYXRpb25fdGltZSAmJiBkYXRhLmV4cGlyYXRpb25faW50ZXJ2YWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJCb3RoIGV4cGlyYXRpb25fdGltZSBhbmQgZXhwaXJhdGlvbl9pbnRlcnZhbCBjYW4ndCBiZSBzZXRcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICBzZXJ2aWNlOiAncHVzaCcsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHBhdGg6ICcvcHVzaCcsXG4gICAgICBkYXRhLFxuICAgICAgYXV0aE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3B1c2guanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgQVZSZXF1ZXN0ID0gcmVxdWlyZSgnLi9yZXF1ZXN0JykuX3JlcXVlc3Q7XG5jb25zdCB7IGdldFNlc3Npb25Ub2tlbiB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEFWKSB7XG4gIGNvbnN0IGdldFVzZXIgPSAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvblRva2VuID0gZ2V0U2Vzc2lvblRva2VuKG9wdGlvbnMpO1xuICAgIGlmIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgIHJldHVybiBBVi5Vc2VyLl9mZXRjaFVzZXJCeVNlc3Npb25Ub2tlbihnZXRTZXNzaW9uVG9rZW4ob3B0aW9ucykpO1xuICAgIH1cbiAgICByZXR1cm4gQVYuVXNlci5jdXJyZW50QXN5bmMoKTtcbiAgfTtcblxuICBjb25zdCBnZXRVc2VyUG9pbnRlciA9IG9wdGlvbnMgPT5cbiAgICBnZXRVc2VyKG9wdGlvbnMpLnRoZW4oY3VyclVzZXIgPT5cbiAgICAgIEFWLk9iamVjdC5jcmVhdGVXaXRob3V0RGF0YSgnX1VzZXInLCBjdXJyVXNlci5pZCkuX3RvUG9pbnRlcigpXG4gICAgKTtcblxuICAvKipcbiAgICogQ29udGFpbnMgZnVuY3Rpb25zIHRvIGRlYWwgd2l0aCBTdGF0dXMgaW4gTGVhbkNsb3VkLlxuICAgKiBAY2xhc3NcbiAgICovXG4gIEFWLlN0YXR1cyA9IGZ1bmN0aW9uKGltYWdlVXJsLCBtZXNzYWdlKSB7XG4gICAgdGhpcy5kYXRhID0ge307XG4gICAgdGhpcy5pbmJveFR5cGUgPSAnZGVmYXVsdCc7XG4gICAgdGhpcy5xdWVyeSA9IG51bGw7XG4gICAgaWYgKGltYWdlVXJsICYmIHR5cGVvZiBpbWFnZVVybCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGltYWdlVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW1hZ2VVcmwpIHtcbiAgICAgICAgdGhpcy5kYXRhLmltYWdlID0gaW1hZ2VVcmw7XG4gICAgICB9XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICB0aGlzLmRhdGEubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF8uZXh0ZW5kKFxuICAgIEFWLlN0YXR1cy5wcm90b3R5cGUsXG4gICAgLyoqIEBsZW5kcyBBVi5TdGF0dXMucHJvdG90eXBlICovIHtcbiAgICAgIC8qKlxuICAgICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlIGluIHN0YXR1cyBkYXRhLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgVGhlIHN0cmluZyBuYW1lIG9mIGFuIGF0dHJpYnV0ZS5cbiAgICAgICAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbYXR0cl07XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBTZXRzIGEgaGFzaCBvZiBtb2RlbCBhdHRyaWJ1dGVzIG9uIHRoZSBzdGF0dXMgZGF0YS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBzZXQuXG4gICAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIGdpdmUgaXQuXG4gICAgICAgKi9cbiAgICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIERlc3Ryb3kgdGhpcyBzdGF0dXMsdGhlbiBpdCB3aWxsIG5vdCBiZSBhdmFpYWJsZSBpbiBvdGhlciB1c2VyJ3MgaW5ib3hlcy5cbiAgICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBkZXN0cm95XG4gICAgICAgKiAgICAgY29tcGxldGVzLlxuICAgICAgICovXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5pZClcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdUaGUgc3RhdHVzIGlkIGlzIG5vdCBleGlzdHMuJykpO1xuICAgICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdCgnc3RhdHVzZXMnLCBudWxsLCB0aGlzLmlkLCAnREVMRVRFJywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQ2FzdCB0aGUgQVYuU3RhdHVzIG9iamVjdCB0byBhbiBBVi5PYmplY3QgcG9pbnRlci5cbiAgICAgICAqIEByZXR1cm4ge0FWLk9iamVjdH0gQSBBVi5PYmplY3QgcG9pbnRlci5cbiAgICAgICAqL1xuICAgICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaWQpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gQVYuT2JqZWN0LmNyZWF0ZVdpdGhvdXREYXRhKCdfU3RhdHVzJywgdGhpcy5pZCk7XG4gICAgICB9LFxuICAgICAgX2dldERhdGFKU09OOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGpzb24gPSBfLmNsb25lKHRoaXMuZGF0YSk7XG4gICAgICAgIHJldHVybiBBVi5fZW5jb2RlKGpzb24pO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogU2VuZCBhIHN0YXR1cyBieSBhIEFWLlF1ZXJ5IG9iamVjdC5cbiAgICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gb3B0aW9uc1xuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIHNlbmRcbiAgICAgICAqICAgICBjb21wbGV0ZXMuXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogICAgIC8vIHNlbmQgYSBzdGF0dXMgdG8gbWFsZSB1c2Vyc1xuICAgICAgICogICAgIHZhciBzdGF0dXMgPSBuZXcgQVZTdGF0dXMoJ2ltYWdlIHVybCcsICdhIG1lc3NhZ2UnKTtcbiAgICAgICAqICAgICBzdGF0dXMucXVlcnkgPSBuZXcgQVYuUXVlcnkoJ19Vc2VyJyk7XG4gICAgICAgKiAgICAgc3RhdHVzLnF1ZXJ5LmVxdWFsVG8oJ2dlbmRlcicsICdtYWxlJyk7XG4gICAgICAgKiAgICAgc3RhdHVzLnNlbmQoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgKiAgICAgICAgICAgICAgLy9zZW5kIHN0YXR1cyBzdWNjZXNzZnVsbHkuXG4gICAgICAgKiAgICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAgKiAgICAgICAgICAgICAvL2FuIGVycm9yIHRocmV3LlxuICAgICAgICogICAgICAgICAgICAgY29uc29sZS5kaXIoZXJyKTtcbiAgICAgICAqICAgICAgfSk7XG4gICAgICAgKi9cbiAgICAgIHNlbmQ6IGZ1bmN0aW9uKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoIWdldFNlc3Npb25Ub2tlbihvcHRpb25zKSAmJiAhQVYuVXNlci5jdXJyZW50KCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlci4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucXVlcnkpIHtcbiAgICAgICAgICByZXR1cm4gQVYuU3RhdHVzLnNlbmRTdGF0dXNUb0ZvbGxvd2Vycyh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRVc2VyUG9pbnRlcihvcHRpb25zKVxuICAgICAgICAgIC50aGVuKGN1cnJVc2VyID0+IHtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHRoaXMucXVlcnkuX2dldFBhcmFtcygpO1xuICAgICAgICAgICAgcXVlcnkuY2xhc3NOYW1lID0gdGhpcy5xdWVyeS5jbGFzc05hbWU7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgZGF0YS5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNvdXJjZSA9IHRoaXMuZGF0YS5zb3VyY2UgfHwgY3VyclVzZXI7XG4gICAgICAgICAgICBkYXRhLmRhdGEgPSB0aGlzLl9nZXREYXRhSlNPTigpO1xuICAgICAgICAgICAgZGF0YS5pbmJveFR5cGUgPSB0aGlzLmluYm94VHlwZSB8fCAnZGVmYXVsdCc7XG5cbiAgICAgICAgICAgIHJldHVybiBBVlJlcXVlc3QoJ3N0YXR1c2VzJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSByZXNwb25zZS5vYmplY3RJZDtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShyZXNwb25zZS5jcmVhdGVkQXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBfZmluaXNoRmV0Y2g6IGZ1bmN0aW9uKHNlcnZlckRhdGEpIHtcbiAgICAgICAgdGhpcy5pZCA9IHNlcnZlckRhdGEub2JqZWN0SWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShzZXJ2ZXJEYXRhLmNyZWF0ZWRBdCk7XG4gICAgICAgIHRoaXMudXBkYXRlZEF0ID0gQVYuX3BhcnNlRGF0ZShzZXJ2ZXJEYXRhLnVwZGF0ZWRBdCk7XG4gICAgICAgIHRoaXMubWVzc2FnZUlkID0gc2VydmVyRGF0YS5tZXNzYWdlSWQ7XG4gICAgICAgIGRlbGV0ZSBzZXJ2ZXJEYXRhLm1lc3NhZ2VJZDtcbiAgICAgICAgZGVsZXRlIHNlcnZlckRhdGEub2JqZWN0SWQ7XG4gICAgICAgIGRlbGV0ZSBzZXJ2ZXJEYXRhLmNyZWF0ZWRBdDtcbiAgICAgICAgZGVsZXRlIHNlcnZlckRhdGEudXBkYXRlZEF0O1xuICAgICAgICB0aGlzLmRhdGEgPSBBVi5fZGVjb2RlKHNlcnZlckRhdGEpO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBzdGF0dXMgdG8gY3VycmVudCBzaWduaW5lZCB1c2VyJ3MgZm9sbG93ZXJzLlxuICAgKiBAc2luY2UgMC4zLjBcbiAgICogQHBhcmFtIHtBVi5TdGF0dXN9IHN0YXR1cyAgQSBzdGF0dXMgb2JqZWN0IHRvIGJlIHNlbmQgdG8gZm9sbG93ZXJzLlxuICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBzZW5kXG4gICAqICAgICBjb21wbGV0ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqICAgICB2YXIgc3RhdHVzID0gbmV3IEFWU3RhdHVzKCdpbWFnZSB1cmwnLCAnYSBtZXNzYWdlJyk7XG4gICAqICAgICBBVi5TdGF0dXMuc2VuZFN0YXR1c1RvRm9sbG93ZXJzKHN0YXR1cykudGhlbihmdW5jdGlvbigpe1xuICAgKiAgICAgICAgICAgICAgLy9zZW5kIHN0YXR1cyBzdWNjZXNzZnVsbHkuXG4gICAqICAgICAgfSwgZnVuY3Rpb24oZXJyKXtcbiAgICogICAgICAgICAgICAgLy9hbiBlcnJvciB0aHJldy5cbiAgICogICAgICAgICAgICAgY29uc29sZS5kaXIoZXJyKTtcbiAgICogICAgICB9KTtcbiAgICovXG4gIEFWLlN0YXR1cy5zZW5kU3RhdHVzVG9Gb2xsb3dlcnMgPSBmdW5jdGlvbihzdGF0dXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghZ2V0U2Vzc2lvblRva2VuKG9wdGlvbnMpICYmICFBVi5Vc2VyLmN1cnJlbnQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2lnbmluIGFuIHVzZXIuJyk7XG4gICAgfVxuICAgIHJldHVybiBnZXRVc2VyUG9pbnRlcihvcHRpb25zKS50aGVuKGN1cnJVc2VyID0+IHtcbiAgICAgIHZhciBxdWVyeSA9IHt9O1xuICAgICAgcXVlcnkuY2xhc3NOYW1lID0gJ19Gb2xsb3dlcic7XG4gICAgICBxdWVyeS5rZXlzID0gJ2ZvbGxvd2VyJztcbiAgICAgIHF1ZXJ5LndoZXJlID0geyB1c2VyOiBjdXJyVXNlciB9O1xuICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgIGRhdGEucXVlcnkgPSBxdWVyeTtcbiAgICAgIHN0YXR1cy5kYXRhID0gc3RhdHVzLmRhdGEgfHwge307XG4gICAgICBzdGF0dXMuZGF0YS5zb3VyY2UgPSBzdGF0dXMuZGF0YS5zb3VyY2UgfHwgY3VyclVzZXI7XG4gICAgICBkYXRhLmRhdGEgPSBzdGF0dXMuX2dldERhdGFKU09OKCk7XG4gICAgICBkYXRhLmluYm94VHlwZSA9IHN0YXR1cy5pbmJveFR5cGUgfHwgJ2RlZmF1bHQnO1xuXG4gICAgICB2YXIgcmVxdWVzdCA9IEFWUmVxdWVzdCgnc3RhdHVzZXMnLCBudWxsLCBudWxsLCAnUE9TVCcsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlcXVlc3QudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBzdGF0dXMuaWQgPSByZXNwb25zZS5vYmplY3RJZDtcbiAgICAgICAgc3RhdHVzLmNyZWF0ZWRBdCA9IEFWLl9wYXJzZURhdGUocmVzcG9uc2UuY3JlYXRlZEF0KTtcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiA8cD5TZW5kICBhIHN0YXR1cyBmcm9tIGN1cnJlbnQgc2lnbmluZWQgdXNlciB0byBvdGhlciB1c2VyJ3MgcHJpdmF0ZSBzdGF0dXMgaW5ib3guPC9wPlxuICAgKiBAc2luY2UgMC4zLjBcbiAgICogQHBhcmFtIHtBVi5TdGF0dXN9IHN0YXR1cyAgQSBzdGF0dXMgb2JqZWN0IHRvIGJlIHNlbmQgdG8gZm9sbG93ZXJzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0IFRoZSB0YXJnZXQgdXNlciBvciB1c2VyJ3Mgb2JqZWN0SWQuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIHNlbmRcbiAgICogICAgIGNvbXBsZXRlcy5cbiAgICogQGV4YW1wbGVcbiAgICogICAgIC8vIHNlbmQgYSBwcml2YXRlIHN0YXR1cyB0byB1c2VyICc1MmU4NGU0N2U0YjBmOGRlMjgzYjA3OWInXG4gICAqICAgICB2YXIgc3RhdHVzID0gbmV3IEFWU3RhdHVzKCdpbWFnZSB1cmwnLCAnYSBtZXNzYWdlJyk7XG4gICAqICAgICBBVi5TdGF0dXMuc2VuZFByaXZhdGVTdGF0dXMoc3RhdHVzLCAnNTJlODRlNDdlNGIwZjhkZTI4M2IwNzliJykudGhlbihmdW5jdGlvbigpe1xuICAgKiAgICAgICAgICAgICAgLy9zZW5kIHN0YXR1cyBzdWNjZXNzZnVsbHkuXG4gICAqICAgICAgfSwgZnVuY3Rpb24oZXJyKXtcbiAgICogICAgICAgICAgICAgLy9hbiBlcnJvciB0aHJldy5cbiAgICogICAgICAgICAgICAgY29uc29sZS5kaXIoZXJyKTtcbiAgICogICAgICB9KTtcbiAgICovXG4gIEFWLlN0YXR1cy5zZW5kUHJpdmF0ZVN0YXR1cyA9IGZ1bmN0aW9uKHN0YXR1cywgdGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWdldFNlc3Npb25Ub2tlbihvcHRpb25zKSAmJiAhQVYuVXNlci5jdXJyZW50KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbiBhbiB1c2VyLicpO1xuICAgIH1cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRhcmdldCB1c2VyLicpO1xuICAgIH1cbiAgICB2YXIgdXNlck9iamVjdElkID0gXy5pc1N0cmluZyh0YXJnZXQpID8gdGFyZ2V0IDogdGFyZ2V0LmlkO1xuICAgIGlmICghdXNlck9iamVjdElkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFyZ2V0IHVzZXIuJyk7XG4gICAgfVxuICAgIHJldHVybiBnZXRVc2VyUG9pbnRlcihvcHRpb25zKS50aGVuKGN1cnJVc2VyID0+IHtcbiAgICAgIHZhciBxdWVyeSA9IHt9O1xuICAgICAgcXVlcnkuY2xhc3NOYW1lID0gJ19Vc2VyJztcbiAgICAgIHF1ZXJ5LndoZXJlID0geyBvYmplY3RJZDogdXNlck9iamVjdElkIH07XG4gICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgZGF0YS5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgc3RhdHVzLmRhdGEgPSBzdGF0dXMuZGF0YSB8fCB7fTtcbiAgICAgIHN0YXR1cy5kYXRhLnNvdXJjZSA9IHN0YXR1cy5kYXRhLnNvdXJjZSB8fCBjdXJyVXNlcjtcbiAgICAgIGRhdGEuZGF0YSA9IHN0YXR1cy5fZ2V0RGF0YUpTT04oKTtcbiAgICAgIGRhdGEuaW5ib3hUeXBlID0gJ3ByaXZhdGUnO1xuICAgICAgc3RhdHVzLmluYm94VHlwZSA9ICdwcml2YXRlJztcblxuICAgICAgdmFyIHJlcXVlc3QgPSBBVlJlcXVlc3QoJ3N0YXR1c2VzJywgbnVsbCwgbnVsbCwgJ1BPU1QnLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgc3RhdHVzLmlkID0gcmVzcG9uc2Uub2JqZWN0SWQ7XG4gICAgICAgIHN0YXR1cy5jcmVhdGVkQXQgPSBBVi5fcGFyc2VEYXRlKHJlc3BvbnNlLmNyZWF0ZWRBdCk7XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ291bnQgdW5yZWFkIHN0YXR1c2VzIGluIHNvbWVvbmUncyBpbmJveC5cbiAgICogQHNpbmNlIDAuMy4wXG4gICAqIEBwYXJhbSB7QVYuVXNlcn0gb3duZXIgVGhlIHN0YXR1cyBvd25lci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGluYm94VHlwZSBUaGUgaW5ib3ggdHlwZSwgJ2RlZmF1bHQnIGJ5IGRlZmF1bHQuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIGNvdW50XG4gICAqICAgICBjb21wbGV0ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqICBBVi5TdGF0dXMuY291bnRVbnJlYWRTdGF0dXNlcyhBVi5Vc2VyLmN1cnJlbnQoKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAqICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnVucmVhZCk7IC8vdW5yZWFkIHN0YXR1c2VzIG51bWJlci5cbiAgICogICAgY29uc29sZS5sb2cocmVzcG9uc2UudG90YWwpOyAgLy90b3RhbCBzdGF0dXNlcyBudW1iZXIuXG4gICAqICB9KTtcbiAgICovXG4gIEFWLlN0YXR1cy5jb3VudFVucmVhZFN0YXR1c2VzID0gZnVuY3Rpb24oXG4gICAgb3duZXIsXG4gICAgaW5ib3hUeXBlID0gJ2RlZmF1bHQnLFxuICAgIG9wdGlvbnMgPSB7fVxuICApIHtcbiAgICBpZiAoIV8uaXNTdHJpbmcoaW5ib3hUeXBlKSkgb3B0aW9ucyA9IGluYm94VHlwZTtcbiAgICBpZiAoIWdldFNlc3Npb25Ub2tlbihvcHRpb25zKSAmJiBvd25lciA9PSBudWxsICYmICFBVi5Vc2VyLmN1cnJlbnQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2lnbmluIGFuIHVzZXIgb3IgcGFzcyB0aGUgb3duZXIgb2JqZWN0SWQuJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob3duZXIgfHwgZ2V0VXNlcihvcHRpb25zKSkudGhlbihvd25lciA9PiB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBwYXJhbXMuaW5ib3hUeXBlID0gQVYuX2VuY29kZShpbmJveFR5cGUpO1xuICAgICAgcGFyYW1zLm93bmVyID0gQVYuX2VuY29kZShvd25lcik7XG4gICAgICByZXR1cm4gQVZSZXF1ZXN0KFxuICAgICAgICAnc3Vic2NyaWJlL3N0YXR1c2VzL2NvdW50JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgJ0dFVCcsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogcmVzZXQgdW5yZWFkIHN0YXR1c2VzIGNvdW50IGluIHNvbWVvbmUncyBpbmJveC5cbiAgICogQHNpbmNlIDIuMS4wXG4gICAqIEBwYXJhbSB7QVYuVXNlcn0gb3duZXIgVGhlIHN0YXR1cyBvd25lci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGluYm94VHlwZSBUaGUgaW5ib3ggdHlwZSwgJ2RlZmF1bHQnIGJ5IGRlZmF1bHQuXG4gICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIHJlc2V0XG4gICAqICAgICBjb21wbGV0ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqICBBVi5TdGF0dXMucmVzZXRVbnJlYWRDb3VudChBVi5Vc2VyLmN1cnJlbnQoKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAqICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnVucmVhZCk7IC8vdW5yZWFkIHN0YXR1c2VzIG51bWJlci5cbiAgICogICAgY29uc29sZS5sb2cocmVzcG9uc2UudG90YWwpOyAgLy90b3RhbCBzdGF0dXNlcyBudW1iZXIuXG4gICAqICB9KTtcbiAgICovXG4gIEFWLlN0YXR1cy5yZXNldFVucmVhZENvdW50ID0gZnVuY3Rpb24oXG4gICAgb3duZXIsXG4gICAgaW5ib3hUeXBlID0gJ2RlZmF1bHQnLFxuICAgIG9wdGlvbnMgPSB7fVxuICApIHtcbiAgICBpZiAoIV8uaXNTdHJpbmcoaW5ib3hUeXBlKSkgb3B0aW9ucyA9IGluYm94VHlwZTtcbiAgICBpZiAoIWdldFNlc3Npb25Ub2tlbihvcHRpb25zKSAmJiBvd25lciA9PSBudWxsICYmICFBVi5Vc2VyLmN1cnJlbnQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2lnbmluIGFuIHVzZXIgb3IgcGFzcyB0aGUgb3duZXIgb2JqZWN0SWQuJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob3duZXIgfHwgZ2V0VXNlcihvcHRpb25zKSkudGhlbihvd25lciA9PiB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBwYXJhbXMuaW5ib3hUeXBlID0gQVYuX2VuY29kZShpbmJveFR5cGUpO1xuICAgICAgcGFyYW1zLm93bmVyID0gQVYuX2VuY29kZShvd25lcik7XG4gICAgICByZXR1cm4gQVZSZXF1ZXN0KFxuICAgICAgICAnc3Vic2NyaWJlL3N0YXR1c2VzL3Jlc2V0VW5yZWFkQ291bnQnLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICAnUE9TVCcsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgc3RhdHVzIHF1ZXJ5IHRvIGZpbmQgc29tZW9uZSdzIHB1Ymxpc2hlZCBzdGF0dXNlcy5cbiAgICogQHNpbmNlIDAuMy4wXG4gICAqIEBwYXJhbSB7QVYuVXNlcn0gc291cmNlIFRoZSBzdGF0dXMgc291cmNlLCB0eXBpY2FsbHkgdGhlIHB1Ymxpc2hlci5cbiAgICogQHJldHVybiB7QVYuUXVlcnl9IFRoZSBxdWVyeSBvYmplY3QgZm9yIHN0YXR1cy5cbiAgICogQGV4YW1wbGVcbiAgICogICAvL0ZpbmQgY3VycmVudCB1c2VyJ3MgcHVibGlzaGVkIHN0YXR1c2VzLlxuICAgKiAgIHZhciBxdWVyeSA9IEFWLlN0YXR1cy5zdGF0dXNRdWVyeShBVi5Vc2VyLmN1cnJlbnQoKSk7XG4gICAqICAgcXVlcnkuZmluZCgpLnRoZW4oZnVuY3Rpb24oc3RhdHVzZXMpe1xuICAgKiAgICAgIC8vcHJvY2VzcyBzdGF0dXNlc1xuICAgKiAgIH0pO1xuICAgKi9cbiAgQVYuU3RhdHVzLnN0YXR1c1F1ZXJ5ID0gZnVuY3Rpb24oc291cmNlKSB7XG4gICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KCdfU3RhdHVzJyk7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgcXVlcnkuZXF1YWxUbygnc291cmNlJywgc291cmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xuXG4gIC8qKlxuICAgKiA8cD5BVi5JbmJveFF1ZXJ5IGRlZmluZXMgYSBxdWVyeSB0aGF0IGlzIHVzZWQgdG8gZmV0Y2ggc29tZWJvZHkncyBpbmJveCBzdGF0dXNlcy48L3A+XG4gICAqIEBjbGFzc1xuICAgKi9cbiAgQVYuSW5ib3hRdWVyeSA9IEFWLlF1ZXJ5Ll9leHRlbmQoXG4gICAgLyoqIEBsZW5kcyBBVi5JbmJveFF1ZXJ5LnByb3RvdHlwZSAqLyB7XG4gICAgICBfb2JqZWN0Q2xhc3M6IEFWLlN0YXR1cyxcbiAgICAgIF9zaW5jZUlkOiAwLFxuICAgICAgX21heElkOiAwLFxuICAgICAgX2luYm94VHlwZTogJ2RlZmF1bHQnLFxuICAgICAgX293bmVyOiBudWxsLFxuICAgICAgX25ld09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVYuU3RhdHVzKCk7XG4gICAgICB9LFxuICAgICAgX2NyZWF0ZVJlcXVlc3Q6IGZ1bmN0aW9uKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQVYuSW5ib3hRdWVyeS5fX3N1cGVyX18uX2NyZWF0ZVJlcXVlc3QuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICcvc3Vic2NyaWJlL3N0YXR1c2VzJ1xuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXRzIHRoZSBtZXNzYWdlSWQgb2YgcmVzdWx0cyB0byBza2lwIGJlZm9yZSByZXR1cm5pbmcgYW55IHJlc3VsdHMuXG4gICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgcGFnaW5hdGlvbi5cbiAgICAgICAqIERlZmF1bHQgaXMgemVyby5cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIHRoZSBtZXNhZ2UgaWQuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5JbmJveFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIHNpbmNlSWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHRoaXMuX3NpbmNlSWQgPSBpZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBTZXRzIHRoZSBtYXhpbWFsIG1lc3NhZ2VJZCBvZiByZXN1bHRz44CCXG4gICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgcGFnaW5hdGlvbi5cbiAgICAgICAqIERlZmF1bHQgaXMgemVybyB0aGF0IGlzIG5vIGxpbWl0aW9uLlxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG1lc2FnZSBpZC5cbiAgICAgICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgbWF4SWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHRoaXMuX21heElkID0gaWQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgb3duZXIgb2YgdGhlIHF1ZXJ5aW5nIGluYm94LlxuICAgICAgICogQHBhcmFtIHtBVi5Vc2VyfSBvd25lciBUaGUgaW5ib3ggb3duZXIuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5JbmJveFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIG93bmVyOiBmdW5jdGlvbihvd25lcikge1xuICAgICAgICB0aGlzLl9vd25lciA9IG93bmVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIHF1ZXJ5aW5nIGluYm94IHR5cGUuZGVmYXVsdCBpcyAnZGVmYXVsdCcuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgaW5ib3ggdHlwZS5cbiAgICAgICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgaW5ib3hUeXBlOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRoaXMuX2luYm94VHlwZSA9IHR5cGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIF9nZXRQYXJhbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFyYW1zID0gQVYuSW5ib3hRdWVyeS5fX3N1cGVyX18uX2dldFBhcmFtcy5jYWxsKHRoaXMpO1xuICAgICAgICBwYXJhbXMub3duZXIgPSBBVi5fZW5jb2RlKHRoaXMuX293bmVyKTtcbiAgICAgICAgcGFyYW1zLmluYm94VHlwZSA9IEFWLl9lbmNvZGUodGhpcy5faW5ib3hUeXBlKTtcbiAgICAgICAgcGFyYW1zLnNpbmNlSWQgPSBBVi5fZW5jb2RlKHRoaXMuX3NpbmNlSWQpO1xuICAgICAgICBwYXJhbXMubWF4SWQgPSBBVi5fZW5jb2RlKHRoaXMuX21heElkKTtcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBpbmJveCBzdGF0dXMgcXVlcnkgdG8gZmluZCBzb21lb25lJ3MgaW5ib3ggc3RhdHVzZXMuXG4gICAqIEBzaW5jZSAwLjMuMFxuICAgKiBAcGFyYW0ge0FWLlVzZXJ9IG93bmVyIFRoZSBpbmJveCdzIG93bmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpbmJveFR5cGUgVGhlIGluYm94IHR5cGUsJ2RlZmF1bHQnIGJ5IGRlZmF1bHQuXG4gICAqIEByZXR1cm4ge0FWLkluYm94UXVlcnl9IFRoZSBpbmJveCBxdWVyeSBvYmplY3QuXG4gICAqIEBzZWUgQVYuSW5ib3hRdWVyeVxuICAgKiBAZXhhbXBsZVxuICAgKiAgIC8vRmluZCBjdXJyZW50IHVzZXIncyBkZWZhdWx0IGluYm94IHN0YXR1c2VzLlxuICAgKiAgIHZhciBxdWVyeSA9IEFWLlN0YXR1cy5pbmJveFF1ZXJ5KEFWLlVzZXIuY3VycmVudCgpKTtcbiAgICogICAvL2ZpbmQgdGhlIHN0YXR1c2VzIGFmdGVyIHRoZSBsYXN0IG1lc3NhZ2UgaWRcbiAgICogICBxdWVyeS5zaW5jZUlkKGxhc3RNZXNzYWdlSWQpO1xuICAgKiAgIHF1ZXJ5LmZpbmQoKS50aGVuKGZ1bmN0aW9uKHN0YXR1c2VzKXtcbiAgICogICAgICAvL3Byb2Nlc3Mgc3RhdHVzZXNcbiAgICogICB9KTtcbiAgICovXG4gIEFWLlN0YXR1cy5pbmJveFF1ZXJ5ID0gZnVuY3Rpb24ob3duZXIsIGluYm94VHlwZSkge1xuICAgIHZhciBxdWVyeSA9IG5ldyBBVi5JbmJveFF1ZXJ5KEFWLlN0YXR1cyk7XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICBxdWVyeS5fb3duZXIgPSBvd25lcjtcbiAgICB9XG4gICAgaWYgKGluYm94VHlwZSkge1xuICAgICAgcXVlcnkuX2luYm94VHlwZSA9IGluYm94VHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdGF0dXMuanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgQVZSZXF1ZXN0ID0gcmVxdWlyZSgnLi9yZXF1ZXN0JykuX3JlcXVlc3Q7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgLyoqXG4gICAqIEEgYnVpbGRlciB0byBnZW5lcmF0ZSBzb3J0IHN0cmluZyBmb3IgYXBwIHNlYXJjaGluZy5Gb3IgZXhhbXBsZTpcbiAgICogQGNsYXNzXG4gICAqIEBzaW5jZSAwLjUuMVxuICAgKiBAZXhhbXBsZVxuICAgKiAgIHZhciBidWlsZGVyID0gbmV3IEFWLlNlYXJjaFNvcnRCdWlsZGVyKCk7XG4gICAqICAgYnVpbGRlci5hc2NlbmRpbmcoJ2tleTEnKS5kZXNjZW5kaW5nKCdrZXkyJywnbWF4Jyk7XG4gICAqICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlNlYXJjaFF1ZXJ5KCdQbGF5ZXInKTtcbiAgICogICBxdWVyeS5zb3J0QnkoYnVpbGRlcik7XG4gICAqICAgcXVlcnkuZmluZCgpLnRoZW4oKTtcbiAgICovXG4gIEFWLlNlYXJjaFNvcnRCdWlsZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fc29ydEZpZWxkcyA9IFtdO1xuICB9O1xuXG4gIF8uZXh0ZW5kKFxuICAgIEFWLlNlYXJjaFNvcnRCdWlsZGVyLnByb3RvdHlwZSxcbiAgICAvKiogQGxlbmRzIEFWLlNlYXJjaFNvcnRCdWlsZGVyLnByb3RvdHlwZSAqLyB7XG4gICAgICBfYWRkRmllbGQ6IGZ1bmN0aW9uKGtleSwgb3JkZXIsIG1vZGUsIG1pc3NpbmcpIHtcbiAgICAgICAgdmFyIGZpZWxkID0ge307XG4gICAgICAgIGZpZWxkW2tleV0gPSB7XG4gICAgICAgICAgb3JkZXI6IG9yZGVyIHx8ICdhc2MnLFxuICAgICAgICAgIG1vZGU6IG1vZGUgfHwgJ2F2ZycsXG4gICAgICAgICAgbWlzc2luZzogJ18nICsgKG1pc3NpbmcgfHwgJ2xhc3QnKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc29ydEZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNvcnRzIHRoZSByZXN1bHRzIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5IGFuZCBvcHRpb25zLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSB0byBvcmRlciBieS5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2RlIFRoZSBzb3J0IG1vZGUsIGRlZmF1bHQgaXMgJ2F2ZycsIHlvdSBjYW4gY2hvb3NlXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICdtYXgnIG9yICdtaW4nIHRvby5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtaXNzaW5nIFRoZSBtaXNzaW5nIGtleSBiZWhhdmlvdXIsIGRlZmF1bHQgaXMgJ2xhc3QnLFxuICAgICAgICogICAgICAgICAgICAgICAgICB5b3UgY2FuIGNob29zZSAnZmlyc3QnIHRvby5cbiAgICAgICAqIEByZXR1cm4ge0FWLlNlYXJjaFNvcnRCdWlsZGVyfSBSZXR1cm5zIHRoZSBidWlsZGVyLCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgYXNjZW5kaW5nOiBmdW5jdGlvbihrZXksIG1vZGUsIG1pc3NpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEZpZWxkKGtleSwgJ2FzYycsIG1vZGUsIG1pc3NpbmcpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTb3J0cyB0aGUgcmVzdWx0cyBpbiBkZXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSBnaXZlbiBrZXkgYW5kIG9wdGlvbnMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1vZGUgVGhlIHNvcnQgbW9kZSwgZGVmYXVsdCBpcyAnYXZnJywgeW91IGNhbiBjaG9vc2VcbiAgICAgICAqICAgICAgICAgICAgICAgICAgJ21heCcgb3IgJ21pbicgdG9vLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG1pc3NpbmcgVGhlIG1pc3Npbmcga2V5IGJlaGF2aW91ciwgZGVmYXVsdCBpcyAnbGFzdCcsXG4gICAgICAgKiAgICAgICAgICAgICAgICAgIHlvdSBjYW4gY2hvb3NlICdmaXJzdCcgdG9vLlxuICAgICAgICogQHJldHVybiB7QVYuU2VhcmNoU29ydEJ1aWxkZXJ9IFJldHVybnMgdGhlIGJ1aWxkZXIsIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBkZXNjZW5kaW5nOiBmdW5jdGlvbihrZXksIG1vZGUsIG1pc3NpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEZpZWxkKGtleSwgJ2Rlc2MnLCBtb2RlLCBtaXNzaW5nKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQWRkIGEgcHJveGltaXR5IGJhc2VkIGNvbnN0cmFpbnQgZm9yIGZpbmRpbmcgb2JqZWN0cyB3aXRoIGtleSBwb2ludFxuICAgICAgICogdmFsdWVzIG5lYXIgdGhlIHBvaW50IGdpdmVuLlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRoYXQgdGhlIEFWLkdlb1BvaW50IGlzIHN0b3JlZCBpbi5cbiAgICAgICAqIEBwYXJhbSB7QVYuR2VvUG9pbnR9IHBvaW50IFRoZSByZWZlcmVuY2UgQVYuR2VvUG9pbnQgdGhhdCBpcyB1c2VkLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgVGhlIG90aGVyIG9wdGlvbnMgc3VjaCBhcyBtb2RlLG9yZGVyLCB1bml0IGV0Yy5cbiAgICAgICAqIEByZXR1cm4ge0FWLlNlYXJjaFNvcnRCdWlsZGVyfSBSZXR1cm5zIHRoZSBidWlsZGVyLCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgd2hlcmVOZWFyOiBmdW5jdGlvbihrZXksIHBvaW50LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgZmllbGQgPSB7fTtcbiAgICAgICAgdmFyIGdlbyA9IHtcbiAgICAgICAgICBsYXQ6IHBvaW50LmxhdGl0dWRlLFxuICAgICAgICAgIGxvbjogcG9pbnQubG9uZ2l0dWRlLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbSA9IHtcbiAgICAgICAgICBvcmRlcjogb3B0aW9ucy5vcmRlciB8fCAnYXNjJyxcbiAgICAgICAgICBtb2RlOiBvcHRpb25zLm1vZGUgfHwgJ2F2ZycsXG4gICAgICAgICAgdW5pdDogb3B0aW9ucy51bml0IHx8ICdrbScsXG4gICAgICAgIH07XG4gICAgICAgIG1ba2V5XSA9IGdlbztcbiAgICAgICAgZmllbGRbJ19nZW9fZGlzdGFuY2UnXSA9IG07XG5cbiAgICAgICAgdGhpcy5fc29ydEZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEJ1aWxkIGEgc29ydCBzdHJpbmcgYnkgY29uZmlndXJhdGlvbi5cbiAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIHNvcnQgc3RyaW5nLlxuICAgICAgICovXG4gICAgICBidWlsZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShBVi5fZW5jb2RlKHRoaXMuX3NvcnRGaWVsZHMpKTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xuXG4gIC8qKlxuICAgKiBBcHAgc2VhcmNoaW5nIHF1ZXJ5LlVzZSBqdXN0IGxpa2UgQVYuUXVlcnk6XG4gICAqXG4gICAqIFZpc2l0IDxhIGhyZWY9J2h0dHBzOi8vbGVhbmNsb3VkLmNuL2RvY3MvYXBwX3NlYXJjaF9ndWlkZS5odG1sJz5BcHAgU2VhcmNoaW5nIEd1aWRlPC9hPlxuICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKiBAY2xhc3NcbiAgICogQHNpbmNlIDAuNS4xXG4gICAqIEBleGFtcGxlXG4gICAqICAgdmFyIHF1ZXJ5ID0gbmV3IEFWLlNlYXJjaFF1ZXJ5KCdQbGF5ZXInKTtcbiAgICogICBxdWVyeS5xdWVyeVN0cmluZygnKicpO1xuICAgKiAgIHF1ZXJ5LmZpbmQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdGb3VuZCAlZCBvYmplY3RzJywgcXVlcnkuaGl0cygpKTtcbiAgICogICAgIC8vUHJvY2VzcyByZXN1bHRzXG4gICAqICAgfSk7XG4gICAqL1xuICBBVi5TZWFyY2hRdWVyeSA9IEFWLlF1ZXJ5Ll9leHRlbmQoXG4gICAgLyoqIEBsZW5kcyBBVi5TZWFyY2hRdWVyeS5wcm90b3R5cGUgKi8ge1xuICAgICAgX3NpZDogbnVsbCxcbiAgICAgIF9oaXRzOiAwLFxuICAgICAgX3F1ZXJ5U3RyaW5nOiBudWxsLFxuICAgICAgX2hpZ2hsaWdodHM6IG51bGwsXG4gICAgICBfc29ydEJ1aWxkZXI6IG51bGwsXG4gICAgICBfY2xheno6IG51bGwsXG5cbiAgICAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgIHRoaXMuX2NsYXp6ID0gY2xhc3NOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsYXNzTmFtZSA9ICdfX0lOVkFMSURfQ0xBU1MnO1xuICAgICAgICB9XG4gICAgICAgIEFWLlF1ZXJ5LmNhbGwodGhpcywgY2xhc3NOYW1lKTtcbiAgICAgIH0sXG5cbiAgICAgIF9jcmVhdGVSZXF1ZXN0OiBmdW5jdGlvbihwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFWUmVxdWVzdChcbiAgICAgICAgICAnc2VhcmNoL3NlbGVjdCcsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdHRVQnLFxuICAgICAgICAgIHBhcmFtcyB8fCB0aGlzLl9nZXRQYXJhbXMoKSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIHNpZCBvZiBhcHAgc2VhcmNoaW5nIHF1ZXJ5LkRlZmF1bHQgaXMgbnVsbC5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzaWQgIFNjcm9sbCBpZCBmb3Igc2VhcmNoaW5nLlxuICAgICAgICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAgICAgICAqL1xuICAgICAgc2lkOiBmdW5jdGlvbihzaWQpIHtcbiAgICAgICAgdGhpcy5fc2lkID0gc2lkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgcXVlcnkgc3RyaW5nIG9mIGFwcCBzZWFyY2hpbmcuXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcSAgVGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgICAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIHF1ZXJ5U3RyaW5nOiBmdW5jdGlvbihxKSB7XG4gICAgICAgIHRoaXMuX3F1ZXJ5U3RyaW5nID0gcTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgdGhlIGhpZ2hsaWdodCBmaWVsZHMuIFN1Y2ggYXNcbiAgICAgICAqIDxwcmU+PGNvZGU+XG4gICAgICAgKiAgIHF1ZXJ5LmhpZ2hsaWdodHMoJ3RpdGxlJyk7XG4gICAgICAgKiAgIC8vb3IgcGFzcyBhbiBhcnJheS5cbiAgICAgICAqICAgcXVlcnkuaGlnaGxpZ2h0cyhbJ3RpdGxlJywgJ2NvbnRlbnQnXSlcbiAgICAgICAqIDwvY29kZT48L3ByZT5cbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfFN0cmluZ1tdfSBoaWdobGlnaHRzIGEgbGlzdCBvZiBmaWVsZHMuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5TZWFyY2hRdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBoaWdobGlnaHRzOiBmdW5jdGlvbihoaWdobGlnaHRzKSB7XG4gICAgICAgIHZhciBvYmplY3RzO1xuICAgICAgICBpZiAoaGlnaGxpZ2h0cyAmJiBfLmlzU3RyaW5nKGhpZ2hsaWdodHMpKSB7XG4gICAgICAgICAgb2JqZWN0cyA9IF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9iamVjdHMgPSBoaWdobGlnaHRzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hpZ2hsaWdodHMgPSBvYmplY3RzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgc29ydCBidWlsZGVyIGZvciB0aGlzIHF1ZXJ5LlxuICAgICAgICogQHNlZSBBVi5TZWFyY2hTb3J0QnVpbGRlclxuICAgICAgICogQHBhcmFtIHsgQVYuU2VhcmNoU29ydEJ1aWxkZXJ9IGJ1aWxkZXIgVGhlIHNvcnQgYnVpbGRlci5cbiAgICAgICAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBzb3J0Qnk6IGZ1bmN0aW9uKGJ1aWxkZXIpIHtcbiAgICAgICAgdGhpcy5fc29ydEJ1aWxkZXIgPSBidWlsZGVyO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9iamVjdHMgdGhhdCBtYXRjaCB0aGlzIHF1ZXJ5LlxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAgICovXG4gICAgICBoaXRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oaXRzKSB7XG4gICAgICAgICAgdGhpcy5faGl0cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpdHM7XG4gICAgICB9LFxuXG4gICAgICBfcHJvY2Vzc1Jlc3VsdDogZnVuY3Rpb24oanNvbikge1xuICAgICAgICBkZWxldGUganNvblsnY2xhc3NOYW1lJ107XG4gICAgICAgIGRlbGV0ZSBqc29uWydfYXBwX3VybCddO1xuICAgICAgICBkZWxldGUganNvblsnX2RlZXBsaW5rJ107XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgd2hlbiB0aGVyZSBhcmUgbW9yZSBkb2N1bWVudHMgY2FuIGJlIHJldHJpZXZlZCBieSB0aGlzXG4gICAgICAgKiBxdWVyeSBpbnN0YW5jZSwgeW91IGNhbiBjYWxsIGZpbmQgZnVuY3Rpb24gdG8gZ2V0IG1vcmUgcmVzdWx0cy5cbiAgICAgICAqIEBzZWUgQVYuU2VhcmNoUXVlcnkjZmluZFxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgaGFzTW9yZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5faGl0RW5kO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXNldCBjdXJyZW50IHF1ZXJ5IGluc3RhbmNlIHN0YXRlKHN1Y2ggYXMgc2lkLCBoaXRzIGV0YykgZXhjZXB0IHBhcmFtc1xuICAgICAgICogZm9yIGEgbmV3IHNlYXJjaGluZy4gQWZ0ZXIgcmVzZXR0aW5nLCBoYXNNb3JlKCkgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgICAqL1xuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9oaXRFbmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2lkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faGl0cyA9IDA7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgQVZPYmplY3RzIHRoYXQgc2F0aXNmeSB0aGlzIHF1ZXJ5LlxuICAgICAgICogRWl0aGVyIG9wdGlvbnMuc3VjY2VzcyBvciBvcHRpb25zLmVycm9yIGlzIGNhbGxlZCB3aGVuIHRoZSBmaW5kXG4gICAgICAgKiBjb21wbGV0ZXMuXG4gICAgICAgKlxuICAgICAgICogQHNlZSBBVi5RdWVyeSNmaW5kXG4gICAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBvcHRpb25zXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIHdoZW5cbiAgICAgICAqIHRoZSBxdWVyeSBjb21wbGV0ZXMuXG4gICAgICAgKi9cbiAgICAgIGZpbmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5fY3JlYXRlUmVxdWVzdCh1bmRlZmluZWQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAvL3VwZGF0ZSBzaWQgZm9yIG5leHQgcXVlcnlpbmcuXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnNpZCkge1xuICAgICAgICAgICAgc2VsZi5fb2xkU2lkID0gc2VsZi5fc2lkO1xuICAgICAgICAgICAgc2VsZi5fc2lkID0gcmVzcG9uc2Uuc2lkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLl9zaWQgPSBudWxsO1xuICAgICAgICAgICAgc2VsZi5faGl0RW5kID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5faGl0cyA9IHJlc3BvbnNlLmhpdHMgfHwgMDtcblxuICAgICAgICAgIHJldHVybiBfLm1hcChyZXNwb25zZS5yZXN1bHRzLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICAgICAgICBpZiAoanNvbi5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2UuY2xhc3NOYW1lID0ganNvbi5jbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb2JqID0gc2VsZi5fbmV3T2JqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgIG9iai5hcHBVUkwgPSBqc29uWydfYXBwX3VybCddO1xuICAgICAgICAgICAgb2JqLl9maW5pc2hGZXRjaChzZWxmLl9wcm9jZXNzUmVzdWx0KGpzb24pLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgX2dldFBhcmFtczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBBVi5TZWFyY2hRdWVyeS5fX3N1cGVyX18uX2dldFBhcmFtcy5jYWxsKHRoaXMpO1xuICAgICAgICBkZWxldGUgcGFyYW1zLndoZXJlO1xuICAgICAgICBpZiAodGhpcy5fY2xhenopIHtcbiAgICAgICAgICBwYXJhbXMuY2xhenogPSB0aGlzLmNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2lkKSB7XG4gICAgICAgICAgcGFyYW1zLnNpZCA9IHRoaXMuX3NpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3F1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2V0IHF1ZXJ5IHN0cmluZy4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJhbXMucSA9IHRoaXMuX3F1ZXJ5U3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oaWdobGlnaHRzKSB7XG4gICAgICAgICAgcGFyYW1zLmhpZ2hsaWdodHMgPSB0aGlzLl9oaWdobGlnaHRzLmpvaW4oJywnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc29ydEJ1aWxkZXIgJiYgcGFyYW1zLm9yZGVyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzb3J0IGFuZCBvcmRlciBjYW4gbm90IGJlIHNldCBhdCBzYW1lIHRpbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3NvcnRCdWlsZGVyKSB7XG4gICAgICAgICAgcGFyYW1zLnNvcnQgPSB0aGlzLl9zb3J0QnVpbGRlci5idWlsZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuLyoqXG4gKiBTb3J0cyB0aGUgcmVzdWx0cyBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAbWV0aG9kIEFWLlNlYXJjaFF1ZXJ5I2FzY2VuZGluZ1xuICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAqL1xuLyoqXG4gKiBBbHNvIHNvcnRzIHRoZSByZXN1bHRzIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LiBUaGUgcHJldmlvdXMgc29ydCBrZXlzIGhhdmVcbiAqIHByZWNlZGVuY2Ugb3ZlciB0aGlzIGtleS5cbiAqXG4gKiBAbWV0aG9kIEFWLlNlYXJjaFF1ZXJ5I2FkZEFzY2VuZGluZ1xuICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5XG4gKiBAcmV0dXJuIHtBVi5TZWFyY2hRdWVyeX0gUmV0dXJucyB0aGUgcXVlcnkgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gKi9cbi8qKlxuICogU29ydHMgdGhlIHJlc3VsdHMgaW4gZGVzY2VuZGluZyBvcmRlciBieSB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBtZXRob2QgQVYuU2VhcmNoUXVlcnkjZGVzY2VuZGluZ1xuICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHRvIG9yZGVyIGJ5LlxuICogQHJldHVybiB7QVYuU2VhcmNoUXVlcnl9IFJldHVybnMgdGhlIHF1ZXJ5LCBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAqL1xuLyoqXG4gKiBBbHNvIHNvcnRzIHRoZSByZXN1bHRzIGluIGRlc2NlbmRpbmcgb3JkZXIgYnkgdGhlIGdpdmVuIGtleS4gVGhlIHByZXZpb3VzIHNvcnQga2V5cyBoYXZlXG4gKiBwcmVjZWRlbmNlIG92ZXIgdGhpcyBrZXkuXG4gKlxuICogQG1ldGhvZCBBVi5TZWFyY2hRdWVyeSNhZGREZXNjZW5kaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gb3JkZXIgYnlcbiAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSBzbyB5b3UgY2FuIGNoYWluIHRoaXMgY2FsbC5cbiAqL1xuLyoqXG4gKiBJbmNsdWRlIG5lc3RlZCBBVi5PYmplY3RzIGZvciB0aGUgcHJvdmlkZWQga2V5LiAgWW91IGNhbiB1c2UgZG90XG4gKiBub3RhdGlvbiB0byBzcGVjaWZ5IHdoaWNoIGZpZWxkcyBpbiB0aGUgaW5jbHVkZWQgb2JqZWN0IGFyZSBhbHNvIGZldGNoLlxuICogQG1ldGhvZCBBVi5TZWFyY2hRdWVyeSNpbmNsdWRlXG4gKiBAcGFyYW0ge1N0cmluZ1tdfSBrZXlzIFRoZSBuYW1lIG9mIHRoZSBrZXkgdG8gaW5jbHVkZS5cbiAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gKi9cbi8qKlxuICogU2V0cyB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcCBiZWZvcmUgcmV0dXJuaW5nIGFueSByZXN1bHRzLlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gKiBEZWZhdWx0IGlzIHRvIHNraXAgemVybyByZXN1bHRzLlxuICogQG1ldGhvZCBBVi5TZWFyY2hRdWVyeSNza2lwXG4gKiBAcGFyYW0ge051bWJlcn0gbiB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC5cbiAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gKi9cbi8qKlxuICogU2V0cyB0aGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gVGhlIGRlZmF1bHQgbGltaXQgaXNcbiAqIDEwMCwgd2l0aCBhIG1heGltdW0gb2YgMTAwMCByZXN1bHRzIGJlaW5nIHJldHVybmVkIGF0IGEgdGltZS5cbiAqIEBtZXRob2QgQVYuU2VhcmNoUXVlcnkjbGltaXRcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIHRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byBsaW1pdCB0by5cbiAqIEByZXR1cm4ge0FWLlNlYXJjaFF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gKi9cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZWFyY2guanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgQVZFcnJvciA9IHJlcXVpcmUoJy4vZXJyb3InKTtcbmNvbnN0IHsgcmVxdWVzdCB9ID0gcmVxdWlyZSgnLi9yZXF1ZXN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQVYpIHtcbiAgLyoqXG4gICAqIOWMheWQq+S6huS9v+eUqOS6hiBMZWFuQ2xvdWRcbiAgICogIDxhIGhyZWY9Jy9kb2NzL2xlYW5pbnNpZ2h0X2d1aWRlLmh0bWwnPuemu+e6v+aVsOaNruWIhuaekOWKn+iDvTwvYT7nmoTlh73mlbDjgIJcbiAgICogPHA+PHN0cm9uZz48ZW0+XG4gICAqICAg5LuF5Zyo5LqR5byV5pOO6L+Q6KGM546v5aKD5LiL5pyJ5pWI44CCXG4gICAqIDwvZW0+PC9zdHJvbmc+PC9wPlxuICAgKiBAbmFtZXNwYWNlXG4gICAqL1xuICBBVi5JbnNpZ2h0ID0gQVYuSW5zaWdodCB8fCB7fTtcblxuICBfLmV4dGVuZChcbiAgICBBVi5JbnNpZ2h0LFxuICAgIC8qKiBAbGVuZHMgQVYuSW5zaWdodCAqLyB7XG4gICAgICAvKipcbiAgICAgICAqIOW8gOWni+S4gOS4qiBJbnNpZ2h0IOS7u+WKoeOAgue7k+aenOmHjOWwhui/lOWbniBKb2IgaWTvvIzkvaDlj6/ku6Xmi7/lvpfliLDnmoQgaWQg5L2/55SoXG4gICAgICAgKiBBVi5JbnNpZ2h0LkpvYlF1ZXJ5IOafpeivouS7u+WKoeeKtuaAgeWSjOe7k+aenOOAglxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGpvYkNvbmZpZyDku7vliqHphY3nva7nmoQgSlNPTiDlr7nosaHvvIzkvovlpoLvvJo8Y29kZT48cHJlPlxuICAgICAgICogICAgICAgICAgICAgICAgICAgeyBcInNxbFwiIDogXCJzZWxlY3QgY291bnQoKikgYXMgYyxnZW5kZXIgZnJvbSBfVXNlciBncm91cCBieSBnZW5kZXJcIixcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgXCJzYXZlQXNcIjoge1xuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc05hbWVcIiA6IFwiVXNlckdlbmRlclwiLFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW1pdFwiOiAxXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgKiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgKiAgICAgICAgICAgICAgICAgIDwvcHJlPjwvY29kZT5cbiAgICAgICAqICAgICAgICAgICAgICAgc3FsIOaMh+WumuS7u+WKoeaJp+ihjOeahCBTUUwg6K+t5Y+l77yMIHNhdmVBc++8iOWPr+mAie+8iSDmjIflrprlsIbnu5Pmnpzkv53lrZjlnKjlk6rlvKDooajph4zvvIxsaW1pdCDmnIDlpKcgMTAwMOOAglxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICovXG4gICAgICBzdGFydEpvYjogZnVuY3Rpb24oam9iQ29uZmlnLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICgham9iQ29uZmlnIHx8ICFqb2JDb25maWcuc3FsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcHJvdmlkZSB0aGUgc3FsIHRvIHJ1biB0aGUgam9iLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgIGpvYkNvbmZpZzogam9iQ29uZmlnLFxuICAgICAgICAgIGFwcElkOiBBVi5hcHBsaWNhdGlvbklkLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogJy9iaWdxdWVyeS9qb2JzJyxcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBkYXRhOiBBVi5fZW5jb2RlKGRhdGEsIG51bGwsIHRydWUpLFxuICAgICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIHNpZ25LZXk6IGZhbHNlLFxuICAgICAgICB9KS50aGVuKHJlc3AgPT4gQVYuX2RlY29kZShyZXNwKS5pZCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIOebkeWQrCBJbnNpZ2h0IOS7u+WKoeS6i+S7tu+8iOacquadpeaOqOWHuueLrOeri+mDqOe9sueahOemu+e6v+WIhuaekOacjeWKoeWQjuW8gOaUvu+8iVxuICAgICAgICogIDxwPjxzdHJvbmc+PGVtPlxuICAgICAgICogICAgIOS7heWcqOS6keW8leaTjui/kOihjOeOr+Wig+S4i+acieaViOOAglxuICAgICAgICogIDwvZW0+PC9zdHJvbmc+PC9wPlxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IOebkeWQrOeahOS6i+S7tu+8jOebruWJjeWwmuS4jeaUr+aMgeOAglxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0g55uR5ZCs5Zue6LCD5Ye95pWw77yM5o6l5pS2IChlcnIsIGlkKSDkuKTkuKrlj4LmlbDvvIxlcnIg6KGo56S66ZSZ6K+v5L+h5oGv77yMXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICBpZCDooajnpLrku7vliqEgaWTjgILmjqXkuIvmnaXkvaDlj6/ku6Xmi7/ov5nkuKogaWQg5L2/55SoQVYuSW5zaWdodC5Kb2JRdWVyeSDmn6Xor6Lku7vliqHnirbmgIHlkoznu5PmnpzjgIJcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIG9uOiBmdW5jdGlvbihldmVudCwgY2IpIHt9LFxuICAgIH1cbiAgKTtcblxuICAvKipcbiAgICog5Yib5bu65LiA5Liq5a+56LGh77yM55So5LqO5p+l6K+iIEluc2lnaHQg5Lu75Yqh54q25oCB5ZKM57uT5p6c44CCXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQg5Lu75YqhIGlkXG4gICAqIEBzaW5jZSAwLjUuNVxuICAgKi9cbiAgQVYuSW5zaWdodC5Kb2JRdWVyeSA9IGZ1bmN0aW9uKGlkLCBjbGFzc05hbWUpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIHRoZSBqb2IgaWQuJyk7XG4gICAgfVxuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB0aGlzLl9za2lwID0gMDtcbiAgICB0aGlzLl9saW1pdCA9IDEwMDtcbiAgfTtcblxuICBfLmV4dGVuZChcbiAgICBBVi5JbnNpZ2h0LkpvYlF1ZXJ5LnByb3RvdHlwZSxcbiAgICAvKiogQGxlbmRzIEFWLkluc2lnaHQuSm9iUXVlcnkucHJvdG90eXBlICovIHtcbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcCBiZWZvcmUgcmV0dXJuaW5nIGFueSByZXN1bHRzLlxuICAgICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gICAgICAgKiBEZWZhdWx0IGlzIHRvIHNraXAgemVybyByZXN1bHRzLlxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHNraXAuXG4gICAgICAgKiBAcmV0dXJuIHtBVi5RdWVyeX0gUmV0dXJucyB0aGUgcXVlcnksIHNvIHlvdSBjYW4gY2hhaW4gdGhpcyBjYWxsLlxuICAgICAgICovXG4gICAgICBza2lwOiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHRoaXMuX3NraXAgPSBuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0cyB0aGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gVGhlIGRlZmF1bHQgbGltaXQgaXNcbiAgICAgICAqIDEwMCwgd2l0aCBhIG1heGltdW0gb2YgMTAwMCByZXN1bHRzIGJlaW5nIHJldHVybmVkIGF0IGEgdGltZS5cbiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIHRoZSBudW1iZXIgb2YgcmVzdWx0cyB0byBsaW1pdCB0by5cbiAgICAgICAqIEByZXR1cm4ge0FWLlF1ZXJ5fSBSZXR1cm5zIHRoZSBxdWVyeSwgc28geW91IGNhbiBjaGFpbiB0aGlzIGNhbGwuXG4gICAgICAgKi9cbiAgICAgIGxpbWl0OiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHRoaXMuX2xpbWl0ID0gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIOafpeivouS7u+WKoeeKtuaAgeWSjOe7k+aenO+8jOS7u+WKoee7k+aenOS4uuS4gOS4qiBKU09OIOWvueixoe+8jOWMheaLrCBzdGF0dXMg6KGo56S65Lu75Yqh54q25oCB77yMIHRvdGFsQ291bnQg6KGo56S65oC75pWw77yMXG4gICAgICAgKiByZXN1bHRzIOaVsOe7hOihqOekuuS7u+WKoee7k+aenOaVsOe7hO+8jHByZXZpZXdDb3VudCDooajnpLrlj6/ku6Xov5Tlm57nmoTnu5PmnpzmgLvmlbDvvIzku7vliqHnmoTlvIDlp4vlkozmiKrmraLml7bpl7RcbiAgICAgICAqIHN0YXJ0VGltZeOAgWVuZFRpbWUg562J5L+h5oGv44CCXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICogb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgZmluZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgIHNraXA6IHRoaXMuX3NraXAsXG4gICAgICAgICAgbGltaXQ6IHRoaXMuX2xpbWl0LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBgL2JpZ3F1ZXJ5L2pvYnMvJHt0aGlzLmlkfWAsXG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBxdWVyeTogcGFyYW1zLFxuICAgICAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIHNpZ25LZXk6IGZhbHNlLFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEFWRXJyb3IocmVzcG9uc2UuY29kZSwgcmVzcG9uc2UuZXJyb3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luc2lnaHQuanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgeyByZXF1ZXN0OiBMQ1JlcXVlc3QgfSA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpO1xuY29uc3QgeyBnZXRTZXNzaW9uVG9rZW4gfSA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihBVikge1xuICBjb25zdCBnZXRVc2VyV2l0aFNlc3Npb25Ub2tlbiA9IGF1dGhPcHRpb25zID0+IHtcbiAgICBpZiAoYXV0aE9wdGlvbnMudXNlcikge1xuICAgICAgaWYgKCFhdXRoT3B0aW9ucy51c2VyLl9zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdXRoT3B0aW9ucy51c2VyIGlzIG5vdCBzaWduZWQgaW4uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGF1dGhPcHRpb25zLnVzZXIpO1xuICAgIH1cbiAgICBpZiAoYXV0aE9wdGlvbnMuc2Vzc2lvblRva2VuKSB7XG4gICAgICByZXR1cm4gQVYuVXNlci5fZmV0Y2hVc2VyQnlTZXNzaW9uVG9rZW4oYXV0aE9wdGlvbnMuc2Vzc2lvblRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIEFWLlVzZXIuY3VycmVudEFzeW5jKCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0U2Vzc2lvblRva2VuQXN5bmMgPSBhdXRoT3B0aW9ucyA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvblRva2VuID0gZ2V0U2Vzc2lvblRva2VuKGF1dGhPcHRpb25zKTtcbiAgICBpZiAoc2Vzc2lvblRva2VuKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNlc3Npb25Ub2tlbik7XG4gICAgfVxuICAgIHJldHVybiBBVi5Vc2VyLmN1cnJlbnRBc3luYygpLnRoZW4odXNlciA9PiB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlci5nZXRTZXNzaW9uVG9rZW4oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udGFpbnMgZnVuY3Rpb25zIHRvIGRlYWwgd2l0aCBGcmllbmRzaGlwIGluIExlYW5DbG91ZC5cbiAgICogQGNsYXNzXG4gICAqL1xuICBBVi5GcmllbmRzaGlwID0ge1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgZnJpZW5kc2hpcC5cbiAgICAgKiBAc2luY2UgNC44LjBcbiAgICAgKiBAcGFyYW0ge1N0cmluZyB8IEFWLlVzZXIgfCBPYmplY3R9IG9wdGlvbnMgaWYgYW4gQVYuVXNlciBvciBzdHJpbmcgaXMgZ2l2ZW4sIGl0IHdpbGwgYmUgdXNlZCBhcyB0aGUgZnJpZW5kLlxuICAgICAqIEBwYXJhbSB7QVYuVXNlciB8IHN0cmluZ30gb3B0aW9ucy5mcmllbmQgVGhlIGZyaWVuZCAob3IgZnJpZW5kJ3Mgb2JqZWN0SWQpIHRvIGZvbGxvdy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuYXR0cmlidXRlc10ga2V5LXZhbHVlIGF0dHJpYnV0ZXMgZGljdGlvbmFyeSB0byBiZSB1c2VkIGFzIGNvbmRpdGlvbnMgb2YgZm9sbG93ZWVRdWVyeS5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICByZXF1ZXN0OiBmdW5jdGlvbihvcHRpb25zLCBhdXRoT3B0aW9ucyA9IHt9KSB7XG4gICAgICBsZXQgZnJpZW5kO1xuICAgICAgbGV0IGF0dHJpYnV0ZXM7XG5cbiAgICAgIGlmIChvcHRpb25zLmZyaWVuZCkge1xuICAgICAgICBmcmllbmQgPSBvcHRpb25zLmZyaWVuZDtcbiAgICAgICAgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyaWVuZCA9IG9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZyaWVuZE9iaiA9IF8uaXNTdHJpbmcoZnJpZW5kKVxuICAgICAgICA/IEFWLk9iamVjdC5jcmVhdGVXaXRob3V0RGF0YSgnX1VzZXInLCBmcmllbmQpXG4gICAgICAgIDogZnJpZW5kO1xuXG4gICAgICByZXR1cm4gZ2V0VXNlcldpdGhTZXNzaW9uVG9rZW4oYXV0aE9wdGlvbnMpLnRoZW4odXNlck9iaiA9PiB7XG4gICAgICAgIGlmICghdXNlck9iaikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNpZ25pbiBhbiB1c2VyLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMQ1JlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHBhdGg6ICcvdXNlcnMvZnJpZW5kc2hpcFJlcXVlc3RzJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VyOiB1c2VyT2JqLl90b1BvaW50ZXIoKSxcbiAgICAgICAgICAgIGZyaWVuZDogZnJpZW5kT2JqLl90b1BvaW50ZXIoKSxcbiAgICAgICAgICAgIGZyaWVuZHNoaXA6IGF0dHJpYnV0ZXMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdXRoT3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWNjZXB0IGEgZnJpZW5kc2hpcCByZXF1ZXN0LlxuICAgICAqIEBzaW5jZSA0LjguMFxuICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0IHwgc3RyaW5nIHwgT2JqZWN0fSBvcHRpb25zIGlmIGFuIEFWLk9iamVjdCBvciBzdHJpbmcgaXMgZ2l2ZW4sIGl0IHdpbGwgYmUgdXNlZCBhcyB0aGUgcmVxdWVzdCBpbiBfRnJpZW5kc2hpcFJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtBVi5PYmplY3R9IG9wdGlvbnMucmVxdWVzdCBUaGUgcmVxdWVzdCAob3IgaXQncyBvYmplY3RJZCkgdG8gYmUgYWNjZXB0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmF0dHJpYnV0ZXNdIGtleS12YWx1ZSBhdHRyaWJ1dGVzIGRpY3Rpb25hcnkgdG8gYmUgdXNlZCBhcyBjb25kaXRpb25zIG9mIHtAbGluayBBViNmb2xsb3dlZVF1ZXJ5fS5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhY2NlcHRSZXF1ZXN0OiBmdW5jdGlvbihvcHRpb25zLCBhdXRoT3B0aW9ucyA9IHt9KSB7XG4gICAgICBsZXQgcmVxdWVzdDtcbiAgICAgIGxldCBhdHRyaWJ1dGVzO1xuICAgICAgaWYgKG9wdGlvbnMucmVxdWVzdCkge1xuICAgICAgICByZXF1ZXN0ID0gb3B0aW9ucy5yZXF1ZXN0O1xuICAgICAgICBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdCA9IG9wdGlvbnM7XG4gICAgICB9XG4gICAgICBjb25zdCByZXF1ZXN0SWQgPSBfLmlzU3RyaW5nKHJlcXVlc3QpID8gcmVxdWVzdCA6IHJlcXVlc3QuaWQ7XG4gICAgICByZXR1cm4gZ2V0U2Vzc2lvblRva2VuQXN5bmMoYXV0aE9wdGlvbnMpLnRoZW4oc2Vzc2lvblRva2VuID0+IHtcbiAgICAgICAgaWYgKCFzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduaW4gYW4gdXNlci4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTENSZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIHBhdGg6ICcvdXNlcnMvZnJpZW5kc2hpcFJlcXVlc3RzLycgKyByZXF1ZXN0SWQgKyAnL2FjY2VwdCcsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZnJpZW5kc2hpcDogQVYuX2VuY29kZShhdHRyaWJ1dGVzKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGF1dGhPcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNsaW5lIGEgZnJpZW5kc2hpcCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7QVYuT2JqZWN0IHwgc3RyaW5nfSByZXF1ZXN0IFRoZSByZXF1ZXN0IChvciBpdCdzIG9iamVjdElkKSB0byBiZSBkZWNsaW5lZC5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBkZWNsaW5lUmVxdWVzdDogZnVuY3Rpb24ocmVxdWVzdCwgYXV0aE9wdGlvbnMgPSB7fSkge1xuICAgICAgY29uc3QgcmVxdWVzdElkID0gXy5pc1N0cmluZyhyZXF1ZXN0KSA/IHJlcXVlc3QgOiByZXF1ZXN0LmlkO1xuICAgICAgcmV0dXJuIGdldFNlc3Npb25Ub2tlbkFzeW5jKGF1dGhPcHRpb25zKS50aGVuKHNlc3Npb25Ub2tlbiA9PiB7XG4gICAgICAgIGlmICghc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2Ugc2lnbmluIGFuIHVzZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExDUmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBwYXRoOiAnL3VzZXJzL2ZyaWVuZHNoaXBSZXF1ZXN0cy8nICsgcmVxdWVzdElkICsgJy9kZWNsaW5lJyxcbiAgICAgICAgICBhdXRoT3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9mcmllbmRzaGlwLmpzIiwiY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IHsgX3JlcXVlc3QgfSA9IHJlcXVpcmUoJy4vcmVxdWVzdCcpO1xuY29uc3QgQVYgPSByZXF1aXJlKCcuL2F2Jyk7XG5cbmNvbnN0IHNlcmlhbGl6ZU1lc3NhZ2UgPSBtZXNzYWdlID0+IHtcbiAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGlmICh0eXBlb2YgbWVzc2FnZS5nZXRQYXlsb2FkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UuZ2V0UGF5bG9hZCgpKTtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG59O1xuXG4vKipcbiAqIDxwPkFuIEFWLkNvbnZlcnNhdGlvbiBpcyBhIGxvY2FsIHJlcHJlc2VudGF0aW9uIG9mIGEgTGVhbkNsb3VkIHJlYWx0aW1lJ3NcbiAqIGNvbnZlcnNhdGlvbi4gVGhpcyBjbGFzcyBpcyBhIHN1YmNsYXNzIG9mIEFWLk9iamVjdCwgYW5kIHJldGFpbnMgdGhlXG4gKiBzYW1lIGZ1bmN0aW9uYWxpdHkgb2YgYW4gQVYuT2JqZWN0LCBidXQgYWxzbyBleHRlbmRzIGl0IHdpdGggdmFyaW91c1xuICogY29udmVyc2F0aW9uIHNwZWNpZmljIG1ldGhvZHMsIGxpa2UgZ2V0IG1lbWJlcnMsIGNyZWF0b3JzIG9mIHRoaXMgY29udmVyc2F0aW9uLlxuICogPC9wPlxuICpcbiAqIEBjbGFzcyBBVi5Db252ZXJzYXRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBSb2xlIHRvIGNyZWF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaXNTeXN0ZW1dIFNldCB0aGlzIGNvbnZlcnNhdGlvbiBhcyBzeXN0ZW0gY29udmVyc2F0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pc1RyYW5zaWVudF0gU2V0IHRoaXMgY29udmVyc2F0aW9uIGFzIHRyYW5zaWVudCBjb252ZXJzYXRpb24uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVYuT2JqZWN0LmV4dGVuZChcbiAgJ19Db252ZXJzYXRpb24nLFxuICAvKiogQGxlbmRzIEFWLkNvbnZlcnNhdGlvbi5wcm90b3R5cGUgKi8ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgQVYuT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgdGhpcy5zZXQoJ25hbWUnLCBuYW1lKTtcbiAgICAgIGlmIChvcHRpb25zLmlzU3lzdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zZXQoJ3N5cycsIG9wdGlvbnMuaXNTeXN0ZW0gPyB0cnVlIDogZmFsc2UpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuaXNUcmFuc2llbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNldCgndHInLCBvcHRpb25zLmlzVHJhbnNpZW50ID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCBjdXJyZW50IGNvbnZlcnNhdGlvbidzIGNyZWF0b3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0Q3JlYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnYycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxhc3QgbWVzc2FnZSdzIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtEYXRlfVxuICAgICAqL1xuICAgIGdldExhc3RNZXNzYWdlQXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2xtJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGlzIGNvbnZlcnNhdGlvbidzIG1lbWJlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfVxuICAgICAqL1xuICAgIGdldE1lbWJlcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ20nKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWVtYmVyIHRvIHRoaXMgY29udmVyc2F0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVtYmVyXG4gICAgICovXG4gICAgYWRkTWVtYmVyKG1lbWJlcikge1xuICAgICAgcmV0dXJuIHRoaXMuYWRkKCdtJywgbWVtYmVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoaXMgY29udmVyc2F0aW9uJ3MgbWVtYmVycyB3aG8gc2V0IHRoaXMgY29udmVyc2F0aW9uIGFzIG11dGVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nW119XG4gICAgICovXG4gICAgZ2V0TXV0ZWRNZW1iZXJzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdtdScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhpcyBjb252ZXJzYXRpb24ncyBuYW1lIGZpZWxkLlxuICAgICAqXG4gICAgICogQHJldHVybiBTdHJpbmdcbiAgICAgKi9cbiAgICBnZXROYW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCduYW1lJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGNvbnZlcnNhdGlvbiBpcyB0cmFuc2llbnQgY29udmVyc2F0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1RyYW5zaWVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndHInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgY29udmVyc2F0aW9uIGlzIHN5c3RlbSBjb252ZXJzYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzU3lzdGVtKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzeXMnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCByZWFsdGltZSBtZXNzYWdlIHRvIHRoaXMgY29udmVyc2F0aW9uLCB1c2luZyBIVFRQIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbUNsaWVudCBTZW5kZXIncyBjbGllbnQgaWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBtZXNzYWdlIFRoZSBtZXNzYWdlIHdoaWNoIHdpbGwgc2VuZCB0byBjb252ZXJzYXRpb24uXG4gICAgICogICAgIEl0IGNvdWxkIGJlIGEgcmF3IHN0cmluZywgb3IgYW4gb2JqZWN0IHdpdGggYSBgdG9KU09OYCBtZXRob2QsIGxpa2UgYVxuICAgICAqICAgICByZWFsdGltZSBTREsncyBNZXNzYWdlIG9iamVjdC4gU2VlIG1vcmU6IHtAbGluayBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL3JlYWx0aW1lX2d1aWRlLWpzLmh0bWwj5raI5oGvfVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnRyYW5zaWVudF0gV2hldGhlciBzZW5kIHRoaXMgbWVzc2FnZSBhcyB0cmFuc2llbnQgbWVzc2FnZSBvciBub3QuXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gW29wdGlvbnMudG9DbGllbnRzXSBJZHMgb2YgY2xpZW50cyB0byBzZW5kIHRvLiBUaGlzIG9wdGlvbiBjYW4gYmUgdXNlZCBvbmx5IGluIHN5c3RlbSBjb252ZXJzYXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnB1c2hEYXRhXSBQdXNoIGRhdGEgdG8gdGhpcyBtZXNzYWdlLiBTZWUgbW9yZToge0BsaW5rIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vcHVzaERhdGEg5o6o6YCB5raI5oGv5YaF5a65fVxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHNlbmQoZnJvbUNsaWVudCwgbWVzc2FnZSwgb3B0aW9ucyA9IHt9LCBhdXRoT3B0aW9ucyA9IHt9KSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBmcm9tX3BlZXI6IGZyb21DbGllbnQsXG4gICAgICAgIGNvbnZfaWQ6IHRoaXMuaWQsXG4gICAgICAgIHRyYW5zaWVudDogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IHNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZSksXG4gICAgICB9O1xuICAgICAgaWYgKG9wdGlvbnMudG9DbGllbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGF0YS50b19wZWVycyA9IG9wdGlvbnMudG9DbGllbnRzO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMudHJhbnNpZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGF0YS50cmFuc2llbnQgPSBvcHRpb25zLnRyYW5zaWVudCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnB1c2hEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGF0YS5wdXNoX2RhdGEgPSBvcHRpb25zLnB1c2hEYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXF1ZXN0KCdydG0nLCAnbWVzc2FnZXMnLCBudWxsLCAnUE9TVCcsIGRhdGEsIGF1dGhPcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCByZWFsdGltZSBicm9hZGNhc3QgbWVzc2FnZSB0byBhbGwgY2xpZW50cywgdmlhIHRoaXMgY29udmVyc2F0aW9uLCB1c2luZyBIVFRQIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbUNsaWVudCBTZW5kZXIncyBjbGllbnQgaWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBtZXNzYWdlIFRoZSBtZXNzYWdlIHdoaWNoIHdpbGwgc2VuZCB0byBjb252ZXJzYXRpb24uXG4gICAgICogICAgIEl0IGNvdWxkIGJlIGEgcmF3IHN0cmluZywgb3IgYW4gb2JqZWN0IHdpdGggYSBgdG9KU09OYCBtZXRob2QsIGxpa2UgYVxuICAgICAqICAgICByZWFsdGltZSBTREsncyBNZXNzYWdlIG9iamVjdC4gU2VlIG1vcmU6IHtAbGluayBodHRwczovL2xlYW5jbG91ZC5jbi9kb2NzL3JlYWx0aW1lX2d1aWRlLWpzLmh0bWwj5raI5oGvfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnB1c2hEYXRhXSBQdXNoIGRhdGEgdG8gdGhpcyBtZXNzYWdlLiBTZWUgbW9yZToge0BsaW5rIGh0dHBzOi8vdXJsLmxlYW5hcHAuY24vcHVzaERhdGEg5o6o6YCB5raI5oGv5YaF5a65fS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudmFsaWRUaWxsXSBUaGUgbWVzc2FnZSB3aWxsIHZhbGlkIHRpbGwgdGhpcyB0aW1lLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGJyb2FkY2FzdChmcm9tQ2xpZW50LCBtZXNzYWdlLCBvcHRpb25zID0ge30sIGF1dGhPcHRpb25zID0ge30pIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGZyb21fcGVlcjogZnJvbUNsaWVudCxcbiAgICAgICAgY29udl9pZDogdGhpcy5pZCxcbiAgICAgICAgbWVzc2FnZTogc2VyaWFsaXplTWVzc2FnZShtZXNzYWdlKSxcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy5wdXNoRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRhdGEucHVzaCA9IG9wdGlvbnMucHVzaERhdGE7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy52YWxpZFRpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgdHMgPSBvcHRpb25zLnZhbGlkVGlsbDtcbiAgICAgICAgaWYgKF8uaXNEYXRlKHRzKSkge1xuICAgICAgICAgIHRzID0gdHMuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMudmFsaWRfdGlsbCA9IHRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXF1ZXN0KCdydG0nLCAnYnJvYWRjYXN0JywgbnVsbCwgJ1BPU1QnLCBkYXRhLCBhdXRoT3B0aW9ucyk7XG4gICAgfSxcbiAgfVxuKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb252ZXJzYXRpb24uanMiLCJjb25zdCBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuY29uc3QgeyByZXF1ZXN0IH0gPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcbmNvbnN0IHsgZW5zdXJlQXJyYXksIHBhcnNlRGF0ZSB9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgQVYgPSByZXF1aXJlKCcuL2F2Jyk7XG5cbi8qKlxuICogVGhlIHZlcnNpb24gY2hhbmdlIGludGVydmFsIGZvciBMZWFkZXJib2FyZFxuICogQGVudW1cbiAqL1xuQVYuTGVhZGVyYm9hcmRWZXJzaW9uQ2hhbmdlSW50ZXJ2YWwgPSB7XG4gIE5FVkVSOiAnbmV2ZXInLFxuICBEQVk6ICdkYXknLFxuICBXRUVLOiAnd2VlaycsXG4gIE1PTlRIOiAnbW9udGgnLFxufTtcblxuLyoqXG4gKiBUaGUgb3JkZXIgb2YgdGhlIGxlYWRlcmJvYXJkIHJlc3VsdHNcbiAqIEBlbnVtXG4gKi9cbkFWLkxlYWRlcmJvYXJkT3JkZXIgPSB7XG4gIEFTQ0VORElORzogJ2FzY2VuZGluZycsXG4gIERFU0NFTkRJTkc6ICdkZXNjZW5kaW5nJyxcbn07XG5cbi8qKlxuICogVGhlIHVwZGF0ZSBzdHJhdGVneSBmb3IgTGVhZGVyYm9hcmRcbiAqIEBlbnVtXG4gKi9cbkFWLkxlYWRlcmJvYXJkVXBkYXRlU3RyYXRlZ3kgPSB7XG4gIC8qKiBPbmx5IGtlZXAgdGhlIGJlc3Qgc3RhdGlzdGljLiBJZiB0aGUgbGVhZGVyYm9hcmQgaXMgaW4gZGVzY2VuZGluZyBvcmRlciwgdGhlIGJlc3Qgc3RhdGlzdGljIGlzIHRoZSBoaWdoZXN0IG9uZS4gKi9cbiAgQkVUVEVSOiAnYmV0dGVyJyxcbiAgLyoqIEtlZXAgdGhlIGxhc3QgdXBkYXRlZCBzdGF0aXN0aWMgKi9cbiAgTEFTVDogJ2xhc3QnLFxuICAvKiogS2VlcCB0aGUgc3VtIG9mIGFsbCB1cGRhdGVkIHN0YXRpc3RpY3MgKi9cbiAgU1VNOiAnc3VtJyxcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUmFua2luZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhbmsgU3RhcnRzIGF0IDBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB2YWx1ZSB0aGUgc3RhdGlzdGljIHZhbHVlIG9mIHRoaXMgcmFua2luZ1xuICogQHByb3BlcnR5IHtBVi5Vc2VyfSB1c2VyIFRoZSB1c2VyIG9mIHRoaXMgcmFua2luZ1xuICogQHByb3BlcnR5IHtTdGF0aXN0aWNbXX0gW2luY2x1ZGVkU3RhdGlzdGljc10gT3RoZXIgc3RhdGlzdGljcyBvZiB0aGUgdXNlciwgc3BlY2lmaWVkIGJ5IHRoZSBgaW5jbHVkZVN0YXRpc3RpY2Agb3B0aW9uIG9mIGBBVi5MZWFkZXJib2FyZC5nZXRSZXN1bHRzKClgXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMZWFkZXJib2FyZEFyY2hpdmVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0aXN0aWNOYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdmVyc2lvbiB2ZXJzaW9uIG9mIHRoZSBsZWFkZXJib2FyZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXR1c1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHVybCBVUkwgZm9yIHRoZSBkb3dubG9hZGFibGUgYXJjaGl2ZVxuICogQHByb3BlcnR5IHtEYXRlfSBhY3RpdmF0ZWRBdCB0aW1lIHdoZW4gdGhpcyB2ZXJzaW9uIGJlY2FtZSBhY3RpdmVcbiAqIEBwcm9wZXJ0eSB7RGF0ZX0gZGVhY3RpdmF0ZWRBdCB0aW1lIHdoZW4gdGhpcyB2ZXJzaW9uIHdhcyBkZWFjdGl2YXRlZCBieSBhIHZlcnNpb24gaW5jcmVtZW50aW5nXG4gKi9cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZnVuY3Rpb24gU3RhdGlzdGljKHsgbmFtZSwgdmFsdWUsIHZlcnNpb24gfSkge1xuICAvKipcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAvKipcbiAgICogQHR5cGUge251bWJlcj99XG4gICAqL1xuICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xufVxuXG5jb25zdCBwYXJzZVN0YXRpc3RpY0RhdGEgPSBzdGF0aXN0aWNEYXRhID0+IHtcbiAgY29uc3QgeyBzdGF0aXN0aWNOYW1lOiBuYW1lLCBzdGF0aXN0aWNWYWx1ZTogdmFsdWUsIHZlcnNpb24gfSA9IEFWLl9kZWNvZGUoXG4gICAgc3RhdGlzdGljRGF0YVxuICApO1xuICByZXR1cm4gbmV3IFN0YXRpc3RpYyh7IG5hbWUsIHZhbHVlLCB2ZXJzaW9uIH0pO1xufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuQVYuTGVhZGVyYm9hcmQgPSBmdW5jdGlvbiBMZWFkZXJib2FyZChzdGF0aXN0aWNOYW1lKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgdGhpcy5zdGF0aXN0aWNOYW1lID0gc3RhdGlzdGljTmFtZTtcbiAgLyoqXG4gICAqIEB0eXBlIHtBVi5MZWFkZXJib2FyZE9yZGVyfVxuICAgKi9cbiAgdGhpcy5vcmRlciA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtBVi5MZWFkZXJib2FyZFVwZGF0ZVN0cmF0ZWd5fVxuICAgKi9cbiAgdGhpcy51cGRhdGVTdHJhdGVneSA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtBVi5MZWFkZXJib2FyZFZlcnNpb25DaGFuZ2VJbnRlcnZhbH1cbiAgICovXG4gIHRoaXMudmVyc2lvbkNoYW5nZUludGVydmFsID0gdW5kZWZpbmVkO1xuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMudmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEB0eXBlIHtEYXRlP31cbiAgICovXG4gIHRoaXMubmV4dFJlc2V0QXQgPSB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBAdHlwZSB7RGF0ZT99XG4gICAqL1xuICB0aGlzLmNyZWF0ZWRBdCA9IHVuZGVmaW5lZDtcbn07XG5jb25zdCBMZWFkZXJib2FyZCA9IEFWLkxlYWRlcmJvYXJkO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBMZWFkZXJib2FyZCBmb3IgdGhlIGdpdmUgc3RhdGlzdGljIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdGlzdGljTmFtZVxuICogQHJldHVybiB7QVYuTGVhZGVyYm9hcmR9XG4gKi9cbkFWLkxlYWRlcmJvYXJkLmNyZWF0ZVdpdGhvdXREYXRhID0gc3RhdGlzdGljTmFtZSA9PlxuICBuZXcgTGVhZGVyYm9hcmQoc3RhdGlzdGljTmFtZSk7XG4vKipcbiAqIChtYXN0ZXJLZXkgcmVxdWlyZWQpIENyZWF0ZSBhIG5ldyBMZWFkZXJib2FyZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zdGF0aXN0aWNOYW1lXG4gKiBAcGFyYW0ge0FWLkxlYWRlcmJvYXJkT3JkZXJ9IG9wdGlvbnMub3JkZXJcbiAqIEBwYXJhbSB7QVYuTGVhZGVyYm9hcmRWZXJzaW9uQ2hhbmdlSW50ZXJ2YWx9IFtvcHRpb25zLnZlcnNpb25DaGFuZ2VJbnRlcnZhbF0gZGVmYXVsdCB0byBXRUVLXG4gKiBAcGFyYW0ge0FWLkxlYWRlcmJvYXJkVXBkYXRlU3RyYXRlZ3l9IFtvcHRpb25zLnVwZGF0ZVN0cmF0ZWd5XSBkZWZhdWx0IHRvIEJFVFRFUlxuICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICogQHJldHVybiB7UHJvbWlzZTxBVi5MZWFkZXJib2FyZD59XG4gKi9cbkFWLkxlYWRlcmJvYXJkLmNyZWF0ZUxlYWRlcmJvYXJkID0gKFxuICB7IHN0YXRpc3RpY05hbWUsIG9yZGVyLCB2ZXJzaW9uQ2hhbmdlSW50ZXJ2YWwsIHVwZGF0ZVN0cmF0ZWd5IH0sXG4gIGF1dGhPcHRpb25zXG4pID0+XG4gIHJlcXVlc3Qoe1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHBhdGg6ICcvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmRzJyxcbiAgICBkYXRhOiB7XG4gICAgICBzdGF0aXN0aWNOYW1lLFxuICAgICAgb3JkZXIsXG4gICAgICB2ZXJzaW9uQ2hhbmdlSW50ZXJ2YWwsXG4gICAgICB1cGRhdGVTdHJhdGVneSxcbiAgICB9LFxuICAgIGF1dGhPcHRpb25zLFxuICB9KS50aGVuKGRhdGEgPT4ge1xuICAgIGNvbnN0IGxlYWRlcmJvYXJkID0gbmV3IExlYWRlcmJvYXJkKHN0YXRpc3RpY05hbWUpO1xuICAgIHJldHVybiBsZWFkZXJib2FyZC5fZmluaXNoRmV0Y2goZGF0YSk7XG4gIH0pO1xuLyoqXG4gKiBHZXQgdGhlIExlYWRlcmJvYXJkIHdpdGggdGhlIHNwZWNpZmllZCBzdGF0aXN0aWMgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0aXN0aWNOYW1lXG4gKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gKiBAcmV0dXJuIHtQcm9taXNlPEFWLkxlYWRlcmJvYXJkPn1cbiAqL1xuQVYuTGVhZGVyYm9hcmQuZ2V0TGVhZGVyYm9hcmQgPSAoc3RhdGlzdGljTmFtZSwgYXV0aE9wdGlvbnMpID0+XG4gIExlYWRlcmJvYXJkLmNyZWF0ZVdpdGhvdXREYXRhKHN0YXRpc3RpY05hbWUpLmZldGNoKGF1dGhPcHRpb25zKTtcbi8qKlxuICogR2V0IFN0YXRpc3RpY3MgZm9yIHRoZSBzcGVjaWZpZWQgdXNlci5cbiAqIEBwYXJhbSB7QVYuVXNlcn0gdXNlciBUaGUgc3BlY2lmaWVkIEFWLlVzZXIgcG9pbnRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLnN0YXRpc3RpY05hbWVzXSBTcGVjaWZ5IHRoZSBzdGF0aXN0aWNOYW1lcy4gSWYgbm90IHNldCwgYWxsIHN0YXRpc3RpY3Mgb2YgdGhlIHVzZXIgd2lsbCBiZSBmZXRjaGVkLlxuICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICogQHJldHVybiB7UHJvbWlzZTxTdGF0aXN0aWNbXT59XG4gKi9cbkFWLkxlYWRlcmJvYXJkLmdldFN0YXRpc3RpY3MgPSAodXNlciwgeyBzdGF0aXN0aWNOYW1lcyB9ID0ge30sIGF1dGhPcHRpb25zKSA9PlxuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICBpZiAoISh1c2VyICYmIHVzZXIuaWQpKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXIgbXVzdCBiZSBhbiBBVi5Vc2VyJyk7XG4gICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhdGg6IGAvbGVhZGVyYm9hcmQvdXNlcnMvJHt1c2VyLmlkfS9zdGF0aXN0aWNzYCxcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIHN0YXRpc3RpY3M6IHN0YXRpc3RpY05hbWVzXG4gICAgICAgICAgPyBlbnN1cmVBcnJheShzdGF0aXN0aWNOYW1lcykuam9pbignLCcpXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgYXV0aE9wdGlvbnMsXG4gICAgfSkudGhlbigoeyByZXN1bHRzIH0pID0+IHJlc3VsdHMubWFwKHBhcnNlU3RhdGlzdGljRGF0YSkpO1xuICB9KTtcblxuLyoqXG4gKiBVcGRhdGUgU3RhdGlzdGljcyBmb3IgdGhlIHNwZWNpZmllZCB1c2VyLlxuICogQHBhcmFtIHtBVi5Vc2VyfSB1c2VyIFRoZSBzcGVjaWZpZWQgQVYuVXNlciBwb2ludGVyLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRpc3RpY3MgQSBuYW1lLXZhbHVlIHBhaXIgcmVwcmVzZW50aW5nIHRoZSBzdGF0aXN0aWNzIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFtvcHRpb25zXSBBdXRoT3B0aW9ucyBwbHVzOlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vdmVyd3JpdGVdIFdldGhlcmUgdG8gb3ZlcndyaXRlIHRoZXNlIHN0YXRpc3RpY3MgZGlzcmVnYXJkaW5nIHRoZSB1cGRhdGVTdHJhdGVneSBvZiB0aGVyZSBsZWFkZXJib2FyZHNcbiAqIEByZXR1cm4ge1Byb21pc2U8U3RhdGlzdGljW10+fVxuICovXG5BVi5MZWFkZXJib2FyZC51cGRhdGVTdGF0aXN0aWNzID0gKHVzZXIsIHN0YXRpc3RpY3MsIG9wdGlvbnMgPSB7fSkgPT5cbiAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgaWYgKCEodXNlciAmJiB1c2VyLmlkKSkgdGhyb3cgbmV3IEVycm9yKCd1c2VyIG11c3QgYmUgYW4gQVYuVXNlcicpO1xuICAgIGNvbnN0IGRhdGEgPSBfLm1hcChzdGF0aXN0aWNzLCAodmFsdWUsIGtleSkgPT4gKHtcbiAgICAgIHN0YXRpc3RpY05hbWU6IGtleSxcbiAgICAgIHN0YXRpc3RpY1ZhbHVlOiB2YWx1ZSxcbiAgICB9KSk7XG4gICAgY29uc3QgeyBvdmVyd3JpdGUgfSA9IG9wdGlvbnM7XG4gICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBwYXRoOiBgL2xlYWRlcmJvYXJkL3VzZXJzLyR7dXNlci5pZH0vc3RhdGlzdGljc2AsXG4gICAgICBxdWVyeToge1xuICAgICAgICBvdmVyd3JpdGU6IG92ZXJ3cml0ZSA/IDEgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgZGF0YSxcbiAgICAgIGF1dGhPcHRpb25zOiBvcHRpb25zLFxuICAgIH0pLnRoZW4oKHsgcmVzdWx0cyB9KSA9PiByZXN1bHRzLm1hcChwYXJzZVN0YXRpc3RpY0RhdGEpKTtcbiAgfSk7XG5cbi8qKlxuICogRGVsZXRlIFN0YXRpc3RpY3MgZm9yIHRoZSBzcGVjaWZpZWQgdXNlci5cbiAqIEBwYXJhbSB7QVYuVXNlcn0gdXNlciBUaGUgc3BlY2lmaWVkIEFWLlVzZXIgcG9pbnRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0aXN0aWNzIEEgbmFtZS12YWx1ZSBwYWlyIHJlcHJlc2VudGluZyB0aGUgc3RhdGlzdGljcyB0byBkZWxldGUuXG4gKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gKi9cbkFWLkxlYWRlcmJvYXJkLmRlbGV0ZVN0YXRpc3RpY3MgPSAodXNlciwgc3RhdGlzdGljTmFtZXMsIGF1dGhPcHRpb25zKSA9PlxuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICBpZiAoISh1c2VyICYmIHVzZXIuaWQpKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXIgbXVzdCBiZSBhbiBBVi5Vc2VyJyk7XG4gICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIHBhdGg6IGAvbGVhZGVyYm9hcmQvdXNlcnMvJHt1c2VyLmlkfS9zdGF0aXN0aWNzYCxcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIHN0YXRpc3RpY3M6IGVuc3VyZUFycmF5KHN0YXRpc3RpY05hbWVzKS5qb2luKCcsJyksXG4gICAgICB9LFxuICAgICAgYXV0aE9wdGlvbnMsXG4gICAgfSkudGhlbigoKSA9PiB1bmRlZmluZWQpO1xuICB9KTtcblxuXy5leHRlbmQoXG4gIExlYWRlcmJvYXJkLnByb3RvdHlwZSxcbiAgLyoqIEBsZW5kcyBBVi5MZWFkZXJib2FyZC5wcm90b3R5cGUgKi8ge1xuICAgIF9maW5pc2hGZXRjaChkYXRhKSB7XG4gICAgICBfLmZvckVhY2goZGF0YSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3VwZGF0ZWRBdCcgfHwga2V5ID09PSAnb2JqZWN0SWQnKSByZXR1cm47XG4gICAgICAgIGlmIChrZXkgPT09ICdleHBpcmVkQXQnKSB7XG4gICAgICAgICAga2V5ID0gJ25leHRSZXNldEF0JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ID09PSAnY3JlYXRlZEF0Jykge1xuICAgICAgICAgIHZhbHVlID0gcGFyc2VEYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuX190eXBlID09PSAnRGF0ZScpIHtcbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRGF0ZSh2YWx1ZS5pc28pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEZldGNoIGRhdGEgZnJvbSB0aGUgc3JldmVyLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLkxlYWRlcmJvYXJkPn1cbiAgICAgKi9cbiAgICBmZXRjaChhdXRoT3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiBgL2xlYWRlcmJvYXJkL2xlYWRlcmJvYXJkcy8ke3RoaXMuc3RhdGlzdGljTmFtZX1gLFxuICAgICAgICBhdXRoT3B0aW9ucyxcbiAgICAgIH0pLnRoZW4oZGF0YSA9PiB0aGlzLl9maW5pc2hGZXRjaChkYXRhKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiB1c2VycyBwYXJ0aWNpcGF0ZWQgaW4gdGhpcyBsZWFkZXJib2FyZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVyc2lvbl0gU3BlY2lmeSB0aGUgdmVyc2lvbiBvZiB0aGUgbGVhZGVyYm9hcmRcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fVxuICAgICAqL1xuICAgIGNvdW50KHsgdmVyc2lvbiB9ID0ge30sIGF1dGhPcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6IGAvbGVhZGVyYm9hcmQvbGVhZGVyYm9hcmRzLyR7dGhpcy5zdGF0aXN0aWNOYW1lfS9yYW5rc2AsXG4gICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgbGltaXQ6IDAsXG4gICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgfSxcbiAgICAgICAgYXV0aE9wdGlvbnMsXG4gICAgICB9KS50aGVuKCh7IGNvdW50IH0pID0+IGNvdW50KTtcbiAgICB9LFxuICAgIF9nZXRSZXN1bHRzKFxuICAgICAge1xuICAgICAgICBza2lwLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgc2VsZWN0VXNlcktleXMsXG4gICAgICAgIGluY2x1ZGVVc2VyS2V5cyxcbiAgICAgICAgaW5jbHVkZVN0YXRpc3RpY3MsXG4gICAgICAgIHZlcnNpb24sXG4gICAgICB9LFxuICAgICAgYXV0aE9wdGlvbnMsXG4gICAgICB1c2VySWRcbiAgICApIHtcbiAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGF0aDogYC9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvJHt0aGlzLnN0YXRpc3RpY05hbWV9L3JhbmtzJHtcbiAgICAgICAgICB1c2VySWQgPyBgLyR7dXNlcklkfWAgOiAnJ1xuICAgICAgICB9YCxcbiAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICBza2lwLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgIHNlbGVjdFVzZXJLZXlzOlxuICAgICAgICAgICAgXy51bmlvbihcbiAgICAgICAgICAgICAgZW5zdXJlQXJyYXkoc2VsZWN0VXNlcktleXMpLFxuICAgICAgICAgICAgICBlbnN1cmVBcnJheShpbmNsdWRlVXNlcktleXMpXG4gICAgICAgICAgICApLmpvaW4oJywnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgaW5jbHVkZVVzZXI6IGluY2x1ZGVVc2VyS2V5c1xuICAgICAgICAgICAgPyBlbnN1cmVBcnJheShpbmNsdWRlVXNlcktleXMpLmpvaW4oJywnKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgaW5jbHVkZVN0YXRpc3RpY3M6IGluY2x1ZGVTdGF0aXN0aWNzXG4gICAgICAgICAgICA/IGVuc3VyZUFycmF5KGluY2x1ZGVTdGF0aXN0aWNzKS5qb2luKCcsJylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhPcHRpb25zLFxuICAgICAgfSkudGhlbigoeyByZXN1bHRzOiByYW5raW5ncyB9KSA9PlxuICAgICAgICByYW5raW5ncy5tYXAocmFua2luZ0RhdGEgPT4ge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICBzdGF0aXN0aWNWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgICByYW5rLFxuICAgICAgICAgICAgc3RhdGlzdGljcyA9IFtdLFxuICAgICAgICAgIH0gPSBBVi5fZGVjb2RlKHJhbmtpbmdEYXRhKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgcmFuayxcbiAgICAgICAgICAgIGluY2x1ZGVkU3RhdGlzdGljczogc3RhdGlzdGljcy5tYXAocGFyc2VTdGF0aXN0aWNEYXRhKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGEgbGlzdCBvZiByYW5rZWQgdXNlcnMgZm9yIHRoaXMgTGVhZGVyYm9hcmQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5za2lwXSBUaGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC4gVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbWl0XSBUaGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLnNlbGVjdFVzZXJLZXlzXSBTcGVjaWZ5IGtleXMgb2YgdGhlIHVzZXJzIHRvIGluY2x1ZGUgaW4gdGhlIFJhbmtpbmdzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuaW5jbHVkZVVzZXJLZXlzXSBJZiB0aGUgdmFsdWUgb2YgYSBzZWxlY3RlZCB1c2VyIGtleXMgaXMgYSBQb2ludGVyLCB1c2UgdGhpcyBvcHRpb25zIHRvIGluY2x1ZGUgaXRzIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLmluY2x1ZGVTdGF0aXN0aWNzXSBTcGVjaWZ5IG90aGVyIHN0YXRpc3RpY3MgdG8gaW5jbHVkZSBpbiB0aGUgUmFua2luZ3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVyc2lvbl0gU3BlY2lmeSB0aGUgdmVyc2lvbiBvZiB0aGUgbGVhZGVyYm9hcmRcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxSYW5raW5nW10+fVxuICAgICAqL1xuICAgIGdldFJlc3VsdHMoXG4gICAgICB7XG4gICAgICAgIHNraXAsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzZWxlY3RVc2VyS2V5cyxcbiAgICAgICAgaW5jbHVkZVVzZXJLZXlzLFxuICAgICAgICBpbmNsdWRlU3RhdGlzdGljcyxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgIH0gPSB7fSxcbiAgICAgIGF1dGhPcHRpb25zXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzdWx0cyhcbiAgICAgICAge1xuICAgICAgICAgIHNraXAsXG4gICAgICAgICAgbGltaXQsXG4gICAgICAgICAgc2VsZWN0VXNlcktleXMsXG4gICAgICAgICAgaW5jbHVkZVVzZXJLZXlzLFxuICAgICAgICAgIGluY2x1ZGVTdGF0aXN0aWNzLFxuICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhPcHRpb25zXG4gICAgICApO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYSBsaXN0IG9mIHJhbmtlZCB1c2VycyBmb3IgdGhpcyBMZWFkZXJib2FyZCwgY2VudGVyZWQgb24gdGhlIHNwZWNpZmllZCB1c2VyLlxuICAgICAqIEBwYXJhbSB7QVYuVXNlcn0gdXNlciBUaGUgc3BlY2lmaWVkIEFWLlVzZXIgcG9pbnRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbWl0XSBUaGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLnNlbGVjdFVzZXJLZXlzXSBTcGVjaWZ5IGtleXMgb2YgdGhlIHVzZXJzIHRvIGluY2x1ZGUgaW4gdGhlIFJhbmtpbmdzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuaW5jbHVkZVVzZXJLZXlzXSBJZiB0aGUgdmFsdWUgb2YgYSBzZWxlY3RlZCB1c2VyIGtleXMgaXMgYSBQb2ludGVyLCB1c2UgdGhpcyBvcHRpb25zIHRvIGluY2x1ZGUgaXRzIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcHRpb25zLmluY2x1ZGVTdGF0aXN0aWNzXSBTcGVjaWZ5IG90aGVyIHN0YXRpc3RpY3MgdG8gaW5jbHVkZSBpbiB0aGUgUmFua2luZ3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudmVyc2lvbl0gU3BlY2lmeSB0aGUgdmVyc2lvbiBvZiB0aGUgbGVhZGVyYm9hcmRcbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxSYW5raW5nW10+fVxuICAgICAqL1xuICAgIGdldFJlc3VsdHNBcm91bmRVc2VyKHVzZXIsIG9wdGlvbnMgPSB7fSwgYXV0aE9wdGlvbnMpIHtcbiAgICAgIC8vIGdldFJlc3VsdHNBcm91bmRVc2VyKG9wdGlvbnMsIGF1dGhPcHRpb25zKVxuICAgICAgaWYgKHVzZXIgJiYgdHlwZW9mIHVzZXIuaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJlc3VsdHNBcm91bmRVc2VyKHVuZGVmaW5lZCwgdXNlciwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBzZWxlY3RVc2VyS2V5cyxcbiAgICAgICAgaW5jbHVkZVVzZXJLZXlzLFxuICAgICAgICBpbmNsdWRlU3RhdGlzdGljcyxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3VsdHMoXG4gICAgICAgIHsgbGltaXQsIHNlbGVjdFVzZXJLZXlzLCBpbmNsdWRlVXNlcktleXMsIGluY2x1ZGVTdGF0aXN0aWNzLCB2ZXJzaW9uIH0sXG4gICAgICAgIGF1dGhPcHRpb25zLFxuICAgICAgICB1c2VyID8gdXNlci5pZCA6ICdzZWxmJ1xuICAgICAgKTtcbiAgICB9LFxuICAgIF91cGRhdGUoZGF0YSwgYXV0aE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgcGF0aDogYC9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvJHt0aGlzLnN0YXRpc3RpY05hbWV9YCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgYXV0aE9wdGlvbnMsXG4gICAgICB9KS50aGVuKHJlc3VsdCA9PiB0aGlzLl9maW5pc2hGZXRjaChyZXN1bHQpKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIChtYXN0ZXJLZXkgcmVxdWlyZWQpIFVwZGF0ZSB0aGUgdmVyc2lvbiBjaGFuZ2UgaW50ZXJ2YWwgb2YgdGhlIExlYWRlcmJvYXJkLlxuICAgICAqIEBwYXJhbSB7QVYuTGVhZGVyYm9hcmRWZXJzaW9uQ2hhbmdlSW50ZXJ2YWx9IHZlcnNpb25DaGFuZ2VJbnRlcnZhbFxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFWLkxlYWRlcmJvYXJkPn1cbiAgICAgKi9cbiAgICB1cGRhdGVWZXJzaW9uQ2hhbmdlSW50ZXJ2YWwodmVyc2lvbkNoYW5nZUludGVydmFsLCBhdXRoT3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh7IHZlcnNpb25DaGFuZ2VJbnRlcnZhbCB9LCBhdXRoT3B0aW9ucyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiAobWFzdGVyS2V5IHJlcXVpcmVkKSBVcGRhdGUgdGhlIHZlcnNpb24gY2hhbmdlIGludGVydmFsIG9mIHRoZSBMZWFkZXJib2FyZC5cbiAgICAgKiBAcGFyYW0ge0FWLkxlYWRlcmJvYXJkVXBkYXRlU3RyYXRlZ3l9IHVwZGF0ZVN0cmF0ZWd5XG4gICAgICogQHBhcmFtIHtBdXRoT3B0aW9uc30gW2F1dGhPcHRpb25zXVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVYuTGVhZGVyYm9hcmQ+fVxuICAgICAqL1xuICAgIHVwZGF0ZVVwZGF0ZVN0cmF0ZWd5KHVwZGF0ZVN0cmF0ZWd5LCBhdXRoT3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZSh7IHVwZGF0ZVN0cmF0ZWd5IH0sIGF1dGhPcHRpb25zKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIChtYXN0ZXJLZXkgcmVxdWlyZWQpIFJlc2V0IHRoZSBMZWFkZXJib2FyZC4gVGhlIHZlcnNpb24gb2YgdGhlIExlYWRlcmJvYXJkIHdpbGwgYmUgaW5jcmVtZW50ZWQgYnkgMS5cbiAgICAgKiBAcGFyYW0ge0F1dGhPcHRpb25zfSBbYXV0aE9wdGlvbnNdXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBVi5MZWFkZXJib2FyZD59XG4gICAgICovXG4gICAgcmVzZXQoYXV0aE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgcGF0aDogYC9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvJHt0aGlzLnN0YXRpc3RpY05hbWV9L2luY3JlbWVudFZlcnNpb25gLFxuICAgICAgICBhdXRoT3B0aW9ucyxcbiAgICAgIH0pLnRoZW4oZGF0YSA9PiB0aGlzLl9maW5pc2hGZXRjaChkYXRhKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiAobWFzdGVyS2V5IHJlcXVpcmVkKSBEZWxldGUgdGhlIExlYWRlcmJvYXJkIGFuZCBpdHMgYWxsIGFyY2hpdmVkIHZlcnNpb25zLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRlc3Ryb3koYXV0aE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBBVi5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgcGF0aDogYC9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvJHt0aGlzLnN0YXRpc3RpY05hbWV9YCxcbiAgICAgICAgYXV0aE9wdGlvbnMsXG4gICAgICB9KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiAobWFzdGVyS2V5IHJlcXVpcmVkKSBHZXQgYXJjaGl2ZWQgdmVyc2lvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5za2lwXSBUaGUgbnVtYmVyIG9mIHJlc3VsdHMgdG8gc2tpcC4gVGhpcyBpcyB1c2VmdWwgZm9yIHBhZ2luYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbWl0XSBUaGUgbGltaXQgb2YgdGhlIG51bWJlciBvZiByZXN1bHRzLlxuICAgICAqIEBwYXJhbSB7QXV0aE9wdGlvbnN9IFthdXRoT3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPExlYWRlcmJvYXJkQXJjaGl2ZVtdPn1cbiAgICAgKi9cbiAgICBnZXRBcmNoaXZlcyh7IHNraXAsIGxpbWl0IH0gPSB7fSwgYXV0aE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGF0aDogYC9sZWFkZXJib2FyZC9sZWFkZXJib2FyZHMvJHt0aGlzLnN0YXRpc3RpY05hbWV9L2FyY2hpdmVzYCxcbiAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICBza2lwLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICB9LFxuICAgICAgICBhdXRoT3B0aW9ucyxcbiAgICAgIH0pLnRoZW4oKHsgcmVzdWx0cyB9KSA9PlxuICAgICAgICByZXN1bHRzLm1hcCgoeyB2ZXJzaW9uLCBzdGF0dXMsIHVybCwgYWN0aXZhdGVkQXQsIGRlYWN0aXZhdGVkQXQgfSkgPT4gKHtcbiAgICAgICAgICBzdGF0aXN0aWNOYW1lOiB0aGlzLnN0YXRpc3RpY05hbWUsXG4gICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIGFjdGl2YXRlZEF0OiBwYXJzZURhdGUoYWN0aXZhdGVkQXQuaXNvKSxcbiAgICAgICAgICBkZWFjdGl2YXRlZEF0OiBwYXJzZURhdGUoZGVhY3RpdmF0ZWRBdC5pc28pLFxuICAgICAgICB9KSlcbiAgICAgICk7XG4gICAgfSxcbiAgfVxuKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9sZWFkZXJib2FyZC5qcyIsImNvbnN0IGFkYXB0ZXJzID0gcmVxdWlyZSgnQGxlYW5jbG91ZC9wbGF0Zm9ybS1hZGFwdGVycy1ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQVYgPT4ge1xuICBBVi5zZXRBZGFwdGVycyhhZGFwdGVycyk7XG4gIHJldHVybiBBVjtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZW50cnkvdXNlLWFkYXB0ZXJzLmpzIixudWxsLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVwbG9hZCA9IGV4cG9ydHMucmVxdWVzdCA9IHZvaWQgMDtcbnZhciBhZGFwdGVyX3V0aWxzXzEgPSByZXF1aXJlKFwiQGxlYW5jbG91ZC9hZGFwdGVyLXV0aWxzXCIpO1xudmFyIHN1cGVyYWdlbnQgPSByZXF1aXJlKFwic3VwZXJhZ2VudFwiKTtcbmZ1bmN0aW9uIGNvbnZlcnRSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvazogcmVzLm9rLFxuICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHJlcy5oZWFkZXIsXG4gICAgICAgIGRhdGE6IHJlcy5ib2R5LFxuICAgIH07XG59XG52YXIgcmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIG1ldGhvZCwgZGF0YSwgaGVhZGVycywgb25wcm9ncmVzcywgc2lnbmFsLCByZXEsIGFib3J0ZWQsIG9uQWJvcnQsIHJlcywgZXJyb3JfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBvcHRpb25zLm1ldGhvZCwgbWV0aG9kID0gX2EgPT09IHZvaWQgMCA/IFwiR0VUXCIgOiBfYSwgZGF0YSA9IG9wdGlvbnMuZGF0YSwgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycywgb25wcm9ncmVzcyA9IG9wdGlvbnMub25wcm9ncmVzcywgc2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGFkYXB0ZXJfdXRpbHNfMS5BYm9ydEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcSA9IHN1cGVyYWdlbnQobWV0aG9kLCB1cmwpLm9rKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNldChoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob25wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uKFwicHJvZ3Jlc3NcIiwgb25wcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvbkFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsID09PSBudWxsIHx8IHNpZ25hbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAzLCA0LCA1XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcS5zZW5kKGRhdGEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnZlcnRSZXNwb25zZShyZXMpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgYWRhcHRlcl91dGlsc18xLkFib3J0RXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JfMTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCA9PT0gbnVsbCB8fCBzaWduYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydHMucmVxdWVzdCA9IHJlcXVlc3Q7XG52YXIgdXBsb2FkID0gZnVuY3Rpb24gKHVybCwgZmlsZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgbWV0aG9kLCBkYXRhLCBoZWFkZXJzLCBvbnByb2dyZXNzLCBzaWduYWwsIHJlcSwgYWJvcnRlZCwgb25BYm9ydCwgcmVzLCBlcnJvcl8yO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYSA9IG9wdGlvbnMubWV0aG9kLCBtZXRob2QgPSBfYSA9PT0gdm9pZCAwID8gXCJQT1NUXCIgOiBfYSwgZGF0YSA9IG9wdGlvbnMuZGF0YSwgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycywgb25wcm9ncmVzcyA9IG9wdGlvbnMub25wcm9ncmVzcywgc2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGFkYXB0ZXJfdXRpbHNfMS5BYm9ydEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcSA9IHN1cGVyYWdlbnQobWV0aG9kLCB1cmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAub2soZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRhY2goZmlsZS5maWVsZCwgZmlsZS5kYXRhLCBmaWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmZpZWxkKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2V0KGhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub24oXCJwcm9ncmVzc1wiLCBvbnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhYm9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG9uQWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDMsIDQsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVxXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnZlcnRSZXNwb25zZShyZXMpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgYWRhcHRlcl91dGlsc18xLkFib3J0RXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JfMjtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCA9PT0gbnVsbCB8fCBzaWduYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydHMudXBsb2FkID0gdXBsb2FkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGxlYW5jbG91ZC9hZGFwdGVycy1zdXBlcmFnZW50L2xpYi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBBYm9ydEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYm9ydEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFib3J0RXJyb3IoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEFib3J0RXJyb3I7XG59KEVycm9yKSk7XG5cbmV4cG9ydCB7IEFib3J0RXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGxlYW5jbG91ZC9hZGFwdGVyLXV0aWxzL2xpYi9pbmRleC5lcy5qc1xuLy8gbW9kdWxlIGlkID0gNTQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLyoqXG4gKiBSb290IHJlZmVyZW5jZSBmb3IgaWZyYW1lcy5cbiAqL1xuXG5sZXQgcm9vdDtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyBCcm93c2VyIHdpbmRvd1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gT3RoZXIgZW52aXJvbm1lbnRzXG4gIGNvbnNvbGUud2FybihcbiAgICAnVXNpbmcgYnJvd3Nlci1vbmx5IHZlcnNpb24gb2Ygc3VwZXJhZ2VudCBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudCdcbiAgKTtcbiAgcm9vdCA9IHRoaXM7XG59IGVsc2Uge1xuICAvLyBXZWIgV29ya2VyXG4gIHJvb3QgPSBzZWxmO1xufVxuXG5jb25zdCBFbWl0dGVyID0gcmVxdWlyZSgnY29tcG9uZW50LWVtaXR0ZXInKTtcbmNvbnN0IHNhZmVTdHJpbmdpZnkgPSByZXF1aXJlKCdmYXN0LXNhZmUtc3RyaW5naWZ5Jyk7XG5jb25zdCBSZXF1ZXN0QmFzZSA9IHJlcXVpcmUoJy4vcmVxdWVzdC1iYXNlJyk7XG5jb25zdCBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXMtb2JqZWN0Jyk7XG5jb25zdCBSZXNwb25zZUJhc2UgPSByZXF1aXJlKCcuL3Jlc3BvbnNlLWJhc2UnKTtcbmNvbnN0IEFnZW50ID0gcmVxdWlyZSgnLi9hZ2VudC1iYXNlJyk7XG5cbi8qKlxuICogTm9vcC5cbiAqL1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBFeHBvc2UgYHJlcXVlc3RgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWV0aG9kLCB1cmwpIHtcbiAgLy8gY2FsbGJhY2tcbiAgaWYgKHR5cGVvZiB1cmwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IGV4cG9ydHMuUmVxdWVzdCgnR0VUJywgbWV0aG9kKS5lbmQodXJsKTtcbiAgfVxuXG4gIC8vIHVybCBmaXJzdFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KCdHRVQnLCBtZXRob2QpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBleHBvcnRzLlJlcXVlc3QobWV0aG9kLCB1cmwpO1xufTtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzO1xuXG5jb25zdCByZXF1ZXN0ID0gZXhwb3J0cztcblxuZXhwb3J0cy5SZXF1ZXN0ID0gUmVxdWVzdDtcblxuLyoqXG4gKiBEZXRlcm1pbmUgWEhSLlxuICovXG5cbnJlcXVlc3QuZ2V0WEhSID0gKCkgPT4ge1xuICBpZiAoXG4gICAgcm9vdC5YTUxIdHRwUmVxdWVzdCAmJlxuICAgICghcm9vdC5sb2NhdGlvbiB8fFxuICAgICAgcm9vdC5sb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2ZpbGU6JyB8fFxuICAgICAgIXJvb3QuQWN0aXZlWE9iamVjdClcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyk7XG4gIH0gY2F0Y2gge31cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuNi4wJyk7XG4gIH0gY2F0Y2gge31cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAuMy4wJyk7XG4gIH0gY2F0Y2gge31cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKTtcbiAgfSBjYXRjaCB7fVxuXG4gIHRocm93IG5ldyBFcnJvcignQnJvd3Nlci1vbmx5IHZlcnNpb24gb2Ygc3VwZXJhZ2VudCBjb3VsZCBub3QgZmluZCBYSFInKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBhZGRlZCB0byBzdXBwb3J0IElFLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5jb25zdCB0cmltID0gJycudHJpbSA/IHMgPT4gcy50cmltKCkgOiBzID0+IHMucmVwbGFjZSgvKF5cXHMqfFxccyokKS9nLCAnJyk7XG5cbi8qKlxuICogU2VyaWFsaXplIHRoZSBnaXZlbiBgb2JqYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemUob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgY29uc3QgcGFpcnMgPSBbXTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpXG4gICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCBvYmpba2V5XSk7XG4gIH1cblxuICByZXR1cm4gcGFpcnMuam9pbignJicpO1xufVxuXG4vKipcbiAqIEhlbHBzICdzZXJpYWxpemUnIHdpdGggc2VyaWFsaXppbmcgYXJyYXlzLlxuICogTXV0YXRlcyB0aGUgcGFpcnMgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGFpcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICovXG5cbmZ1bmN0aW9uIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHZhbCkge1xuICBpZiAodmFsID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgIHBhaXJzLnB1c2goZW5jb2RlVVJJKGtleSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICB2YWwuZm9yRWFjaCh2ID0+IHtcbiAgICAgIHB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyKHBhaXJzLCBrZXksIHYpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcbiAgICBmb3IgKGNvbnN0IHN1YmtleSBpbiB2YWwpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsLCBzdWJrZXkpKVxuICAgICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywgYCR7a2V5fVske3N1YmtleX1dYCwgdmFsW3N1YmtleV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwYWlycy5wdXNoKGVuY29kZVVSSShrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIHNlcmlhbGl6YXRpb24gbWV0aG9kLlxuICovXG5cbnJlcXVlc3Quc2VyaWFsaXplT2JqZWN0ID0gc2VyaWFsaXplO1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiB4LXd3dy1mb3JtLXVybGVuY29kZWQgYHN0cmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyKSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBjb25zdCBwYWlycyA9IHN0ci5zcGxpdCgnJicpO1xuICBsZXQgcGFpcjtcbiAgbGV0IHBvcztcblxuICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFpcnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBwYWlyID0gcGFpcnNbaV07XG4gICAgcG9zID0gcGFpci5pbmRleE9mKCc9Jyk7XG4gICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpcildID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFpci5zbGljZSgwLCBwb3MpKV0gPSBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgIHBhaXIuc2xpY2UocG9zICsgMSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHBvc2UgcGFyc2VyLlxuICovXG5cbnJlcXVlc3QucGFyc2VTdHJpbmcgPSBwYXJzZVN0cmluZztcblxuLyoqXG4gKiBEZWZhdWx0IE1JTUUgdHlwZSBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICovXG5cbnJlcXVlc3QudHlwZXMgPSB7XG4gIGh0bWw6ICd0ZXh0L2h0bWwnLFxuICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHhtbDogJ3RleHQveG1sJyxcbiAgdXJsZW5jb2RlZDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gIGZvcm06ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAnZm9ybS1kYXRhJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbi8qKlxuICogRGVmYXVsdCBzZXJpYWxpemF0aW9uIG1hcC5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24ob2JqKXtcbiAqICAgICAgIHJldHVybiAnZ2VuZXJhdGVkIHhtbCBoZXJlJztcbiAqICAgICB9O1xuICpcbiAqL1xuXG5yZXF1ZXN0LnNlcmlhbGl6ZSA9IHtcbiAgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc6IHNlcmlhbGl6ZSxcbiAgJ2FwcGxpY2F0aW9uL2pzb24nOiBzYWZlU3RyaW5naWZ5XG59O1xuXG4vKipcbiAqIERlZmF1bHQgcGFyc2Vycy5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC5wYXJzZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihzdHIpe1xuICogICAgICAgcmV0dXJuIHsgb2JqZWN0IHBhcnNlZCBmcm9tIHN0ciB9O1xuICogICAgIH07XG4gKlxuICovXG5cbnJlcXVlc3QucGFyc2UgPSB7XG4gICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBwYXJzZVN0cmluZyxcbiAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnBhcnNlXG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBoZWFkZXIgYHN0cmAgaW50b1xuICogYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1hcHBlZCBmaWVsZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXIoc3RyKSB7XG4gIGNvbnN0IGxpbmVzID0gc3RyLnNwbGl0KC9cXHI/XFxuLyk7XG4gIGNvbnN0IGZpZWxkcyA9IHt9O1xuICBsZXQgaW5kZXg7XG4gIGxldCBsaW5lO1xuICBsZXQgZmllbGQ7XG4gIGxldCB2YWw7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgbGluZSA9IGxpbmVzW2ldO1xuICAgIGluZGV4ID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgLy8gY291bGQgYmUgZW1wdHkgbGluZSwganVzdCBza2lwIGl0XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgaW5kZXgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdHJpbShsaW5lLnNsaWNlKGluZGV4ICsgMSkpO1xuICAgIGZpZWxkc1tmaWVsZF0gPSB2YWw7XG4gIH1cblxuICByZXR1cm4gZmllbGRzO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGBtaW1lYCBpcyBqc29uIG9yIGhhcyAranNvbiBzdHJ1Y3R1cmVkIHN5bnRheCBzdWZmaXguXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1pbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc0pTT04obWltZSkge1xuICAvLyBzaG91bGQgbWF0Y2ggL2pzb24gb3IgK2pzb25cbiAgLy8gYnV0IG5vdCAvanNvbi1zZXFcbiAgcmV0dXJuIC9bLytdanNvbigkfFteLVxcd10pLy50ZXN0KG1pbWUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cbiAqXG4gKiAgLSBzZXQgZmxhZ3MgKC5vaywgLmVycm9yLCBldGMpXG4gKiAgLSBwYXJzZSBoZWFkZXJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgQWxpYXNpbmcgYHN1cGVyYWdlbnRgIGFzIGByZXF1ZXN0YCBpcyBuaWNlOlxuICpcbiAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG4gKlxuICogIFdlIGNhbiB1c2UgdGhlIHByb21pc2UtbGlrZSBBUEksIG9yIHBhc3MgY2FsbGJhY2tzOlxuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nKS5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nLCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBTZW5kaW5nIGRhdGEgY2FuIGJlIGNoYWluZWQ6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnNlbmQoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAucG9zdCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogT3IgZnVydGhlciByZWR1Y2VkIHRvIGEgc2luZ2xlIGNhbGwgZm9yIHNpbXBsZSBjYXNlczpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBAcGFyYW0ge1hNTEhUVFBSZXF1ZXN0fSB4aHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZShyZXEpIHtcbiAgdGhpcy5yZXEgPSByZXE7XG4gIHRoaXMueGhyID0gdGhpcy5yZXEueGhyO1xuICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gIHRoaXMudGV4dCA9XG4gICAgKHRoaXMucmVxLm1ldGhvZCAhPT0gJ0hFQUQnICYmXG4gICAgICAodGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JykpIHx8XG4gICAgdHlwZW9mIHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gdGhpcy54aHIucmVzcG9uc2VUZXh0XG4gICAgICA6IG51bGw7XG4gIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMucmVxLnhoci5zdGF0dXNUZXh0O1xuICBsZXQgeyBzdGF0dXMgfSA9IHRoaXMueGhyO1xuICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gIGlmIChzdGF0dXMgPT09IDEyMjMpIHtcbiAgICBzdGF0dXMgPSAyMDQ7XG4gIH1cblxuICB0aGlzLl9zZXRTdGF0dXNQcm9wZXJ0aWVzKHN0YXR1cyk7XG4gIHRoaXMuaGVhZGVycyA9IHBhcnNlSGVhZGVyKHRoaXMueGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtcbiAgdGhpcy5oZWFkZXIgPSB0aGlzLmhlYWRlcnM7XG4gIC8vIGdldEFsbFJlc3BvbnNlSGVhZGVycyBzb21ldGltZXMgZmFsc2VseSByZXR1cm5zIFwiXCIgZm9yIENPUlMgcmVxdWVzdHMsIGJ1dFxuICAvLyBnZXRSZXNwb25zZUhlYWRlciBzdGlsbCB3b3Jrcy4gc28gd2UgZ2V0IGNvbnRlbnQtdHlwZSBldmVuIGlmIGdldHRpbmdcbiAgLy8gb3RoZXIgaGVhZGVycyBmYWlscy5cbiAgdGhpcy5oZWFkZXJbJ2NvbnRlbnQtdHlwZSddID0gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuICB0aGlzLl9zZXRIZWFkZXJQcm9wZXJ0aWVzKHRoaXMuaGVhZGVyKTtcblxuICBpZiAodGhpcy50ZXh0ID09PSBudWxsICYmIHJlcS5fcmVzcG9uc2VUeXBlKSB7XG4gICAgdGhpcy5ib2R5ID0gdGhpcy54aHIucmVzcG9uc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5ib2R5ID1cbiAgICAgIHRoaXMucmVxLm1ldGhvZCA9PT0gJ0hFQUQnXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHRoaXMuX3BhcnNlQm9keSh0aGlzLnRleHQgPyB0aGlzLnRleHQgOiB0aGlzLnhoci5yZXNwb25zZSk7XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcblJlc3BvbnNlQmFzZShSZXNwb25zZS5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBib2R5IGBzdHJgLlxuICpcbiAqIFVzZWQgZm9yIGF1dG8tcGFyc2luZyBvZiBib2RpZXMuIFBhcnNlcnNcbiAqIGFyZSBkZWZpbmVkIG9uIHRoZSBgc3VwZXJhZ2VudC5wYXJzZWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLl9wYXJzZUJvZHkgPSBmdW5jdGlvbihzdHIpIHtcbiAgbGV0IHBhcnNlID0gcmVxdWVzdC5wYXJzZVt0aGlzLnR5cGVdO1xuICBpZiAodGhpcy5yZXEuX3BhcnNlcikge1xuICAgIHJldHVybiB0aGlzLnJlcS5fcGFyc2VyKHRoaXMsIHN0cik7XG4gIH1cblxuICBpZiAoIXBhcnNlICYmIGlzSlNPTih0aGlzLnR5cGUpKSB7XG4gICAgcGFyc2UgPSByZXF1ZXN0LnBhcnNlWydhcHBsaWNhdGlvbi9qc29uJ107XG4gIH1cblxuICByZXR1cm4gcGFyc2UgJiYgc3RyICYmIChzdHIubGVuZ3RoID4gMCB8fCBzdHIgaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgPyBwYXJzZShzdHIpXG4gICAgOiBudWxsO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYEVycm9yYCByZXByZXNlbnRhdGl2ZSBvZiB0aGlzIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm4ge0Vycm9yfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUudG9FcnJvciA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCB7IHJlcSB9ID0gdGhpcztcbiAgY29uc3QgeyBtZXRob2QgfSA9IHJlcTtcbiAgY29uc3QgeyB1cmwgfSA9IHJlcTtcblxuICBjb25zdCBtc2cgPSBgY2Fubm90ICR7bWV0aG9kfSAke3VybH0gKCR7dGhpcy5zdGF0dXN9KWA7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG5cbiAgcmV0dXJuIGVycjtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZWAuXG4gKi9cblxucmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RgIHdpdGggdGhlIGdpdmVuIGBtZXRob2RgIGFuZCBgdXJsYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX3F1ZXJ5ID0gdGhpcy5fcXVlcnkgfHwgW107XG4gIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5oZWFkZXIgPSB7fTsgLy8gcHJlc2VydmVzIGhlYWRlciBuYW1lIGNhc2VcbiAgdGhpcy5faGVhZGVyID0ge307IC8vIGNvZXJjZXMgaGVhZGVyIG5hbWVzIHRvIGxvd2VyY2FzZVxuICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgbGV0IGVyciA9IG51bGw7XG4gICAgbGV0IHJlcyA9IG51bGw7XG5cbiAgICB0cnkge1xuICAgICAgcmVzID0gbmV3IFJlc3BvbnNlKHNlbGYpO1xuICAgIH0gY2F0Y2ggKGVycl8pIHtcbiAgICAgIGVyciA9IG5ldyBFcnJvcignUGFyc2VyIGlzIHVuYWJsZSB0byBwYXJzZSB0aGUgcmVzcG9uc2UnKTtcbiAgICAgIGVyci5wYXJzZSA9IHRydWU7XG4gICAgICBlcnIub3JpZ2luYWwgPSBlcnJfO1xuICAgICAgLy8gaXNzdWUgIzY3NTogcmV0dXJuIHRoZSByYXcgcmVzcG9uc2UgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcbiAgICAgIGlmIChzZWxmLnhocikge1xuICAgICAgICAvLyBpZTkgZG9lc24ndCBoYXZlICdyZXNwb25zZScgcHJvcGVydHlcbiAgICAgICAgZXJyLnJhd1Jlc3BvbnNlID1cbiAgICAgICAgICB0eXBlb2Ygc2VsZi54aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBzZWxmLnhoci5yZXNwb25zZVRleHRcbiAgICAgICAgICAgIDogc2VsZi54aHIucmVzcG9uc2U7XG4gICAgICAgIC8vIGlzc3VlICM4NzY6IHJldHVybiB0aGUgaHR0cCBzdGF0dXMgY29kZSBpZiB0aGUgcmVzcG9uc2UgcGFyc2luZyBmYWlsc1xuICAgICAgICBlcnIuc3RhdHVzID0gc2VsZi54aHIuc3RhdHVzID8gc2VsZi54aHIuc3RhdHVzIDogbnVsbDtcbiAgICAgICAgZXJyLnN0YXR1c0NvZGUgPSBlcnIuc3RhdHVzOyAvLyBiYWNrd2FyZHMtY29tcGF0IG9ubHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVyci5yYXdSZXNwb25zZSA9IG51bGw7XG4gICAgICAgIGVyci5zdGF0dXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG4gICAgbGV0IG5ld19lcnI7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghc2VsZi5faXNSZXNwb25zZU9LKHJlcykpIHtcbiAgICAgICAgbmV3X2VyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICByZXMuc3RhdHVzVGV4dCB8fCByZXMudGV4dCB8fCAnVW5zdWNjZXNzZnVsIEhUVFAgcmVzcG9uc2UnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyXykge1xuICAgICAgbmV3X2VyciA9IGVycl87IC8vIG9rKCkgY2FsbGJhY2sgY2FuIHRocm93XG4gICAgfVxuXG4gICAgLy8gIzEwMDAgZG9uJ3QgY2F0Y2ggZXJyb3JzIGZyb20gdGhlIGNhbGxiYWNrIHRvIGF2b2lkIGRvdWJsZSBjYWxsaW5nIGl0XG4gICAgaWYgKG5ld19lcnIpIHtcbiAgICAgIG5ld19lcnIub3JpZ2luYWwgPSBlcnI7XG4gICAgICBuZXdfZXJyLnJlc3BvbnNlID0gcmVzO1xuICAgICAgbmV3X2Vyci5zdGF0dXMgPSByZXMuc3RhdHVzO1xuICAgICAgc2VsZi5jYWxsYmFjayhuZXdfZXJyLCByZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBNaXhpbiBgRW1pdHRlcmAgYW5kIGBSZXF1ZXN0QmFzZWAuXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbkVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcblJlcXVlc3RCYXNlKFJlcXVlc3QucHJvdG90eXBlKTtcblxuLyoqXG4gKiBTZXQgQ29udGVudC1UeXBlIHRvIGB0eXBlYCwgbWFwcGluZyB2YWx1ZXMgZnJvbSBgcmVxdWVzdC50eXBlc2AuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICBzdXBlcmFnZW50LnR5cGVzLnhtbCA9ICdhcHBsaWNhdGlvbi94bWwnO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgneG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXF1ZXN0LnBvc3QoJy8nKVxuICogICAgICAgIC50eXBlKCdhcHBsaWNhdGlvbi94bWwnKVxuICogICAgICAgIC5zZW5kKHhtbHN0cmluZylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHRoaXMuc2V0KCdDb250ZW50LVR5cGUnLCByZXF1ZXN0LnR5cGVzW3R5cGVdIHx8IHR5cGUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IEFjY2VwdCB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy5qc29uID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50JylcbiAqICAgICAgICAuYWNjZXB0KCdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWNjZXB0XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24odHlwZSkge1xuICB0aGlzLnNldCgnQWNjZXB0JywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBdXRob3JpemF0aW9uIGZpZWxkIHZhbHVlIHdpdGggYHVzZXJgIGFuZCBgcGFzc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVzZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcGFzc10gb3B0aW9uYWwgaW4gY2FzZSBvZiB1c2luZyAnYmVhcmVyJyBhcyB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB3aXRoICd0eXBlJyBwcm9wZXJ0eSAnYXV0bycsICdiYXNpYycgb3IgJ2JlYXJlcicgKGRlZmF1bHQgJ2Jhc2ljJylcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucykge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgcGFzcyA9ICcnO1xuICBpZiAodHlwZW9mIHBhc3MgPT09ICdvYmplY3QnICYmIHBhc3MgIT09IG51bGwpIHtcbiAgICAvLyBwYXNzIGlzIG9wdGlvbmFsIGFuZCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IHBhc3M7XG4gICAgcGFzcyA9ICcnO1xuICB9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHR5cGU6IHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nID8gJ2Jhc2ljJyA6ICdhdXRvJ1xuICAgIH07XG4gIH1cblxuICBjb25zdCBlbmNvZGVyID0gc3RyaW5nID0+IHtcbiAgICBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBidG9hKHN0cmluZyk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGJhc2ljIGF1dGgsIGJ0b2EgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfTtcblxuICByZXR1cm4gdGhpcy5fYXV0aCh1c2VyLCBwYXNzLCBvcHRpb25zLCBlbmNvZGVyKTtcbn07XG5cbi8qKlxuICogQWRkIHF1ZXJ5LXN0cmluZyBgdmFsYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgIHJlcXVlc3QuZ2V0KCcvc2hvZXMnKVxuICogICAgIC5xdWVyeSgnc2l6ZT0xMCcpXG4gKiAgICAgLnF1ZXJ5KHsgY29sb3I6ICdibHVlJyB9KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbih2YWwpIHtcbiAgaWYgKHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnKSB2YWwgPSBzZXJpYWxpemUodmFsKTtcbiAgaWYgKHZhbCkgdGhpcy5fcXVlcnkucHVzaCh2YWwpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUXVldWUgdGhlIGdpdmVuIGBmaWxlYCBhcyBhbiBhdHRhY2htZW50IHRvIHRoZSBzcGVjaWZpZWQgYGZpZWxkYCxcbiAqIHdpdGggb3B0aW9uYWwgYG9wdGlvbnNgIChvciBmaWxlbmFtZSkuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuYXR0YWNoKCdjb250ZW50JywgbmV3IEJsb2IoWyc8YSBpZD1cImFcIj48YiBpZD1cImJcIj5oZXkhPC9iPjwvYT4nXSwgeyB0eXBlOiBcInRleHQvaHRtbFwifSkpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcGFyYW0ge0Jsb2J8RmlsZX0gZmlsZVxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24oZmllbGQsIGZpbGUsIG9wdGlvbnMpIHtcbiAgaWYgKGZpbGUpIHtcbiAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic3VwZXJhZ2VudCBjYW4ndCBtaXggLnNlbmQoKSBhbmQgLmF0dGFjaCgpXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKGZpZWxkLCBmaWxlLCBvcHRpb25zIHx8IGZpbGUubmFtZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLl9nZXRGb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgdGhpcy5fZm9ybURhdGEgPSBuZXcgcm9vdC5Gb3JtRGF0YSgpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2Zvcm1EYXRhO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gIGlmICh0aGlzLl9zaG91bGRSZXRyeShlcnIsIHJlcykpIHtcbiAgICByZXR1cm4gdGhpcy5fcmV0cnkoKTtcbiAgfVxuXG4gIGNvbnN0IGZuID0gdGhpcy5fY2FsbGJhY2s7XG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG5cbiAgaWYgKGVycikge1xuICAgIGlmICh0aGlzLl9tYXhSZXRyaWVzKSBlcnIucmV0cmllcyA9IHRoaXMuX3JldHJpZXMgLSAxO1xuICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9XG5cbiAgZm4oZXJyLCByZXMpO1xufTtcblxuLyoqXG4gKiBJbnZva2UgY2FsbGJhY2sgd2l0aCB4LWRvbWFpbiBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jcm9zc0RvbWFpbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAnUmVxdWVzdCBoYXMgYmVlbiB0ZXJtaW5hdGVkXFxuUG9zc2libGUgY2F1c2VzOiB0aGUgbmV0d29yayBpcyBvZmZsaW5lLCBPcmlnaW4gaXMgbm90IGFsbG93ZWQgYnkgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luLCB0aGUgcGFnZSBpcyBiZWluZyB1bmxvYWRlZCwgZXRjLidcbiAgKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8vIFRoaXMgb25seSB3YXJucywgYmVjYXVzZSB0aGUgcmVxdWVzdCBpcyBzdGlsbCBsaWtlbHkgdG8gd29ya1xuUmVxdWVzdC5wcm90b3R5cGUuYWdlbnQgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS53YXJuKCdUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYSA9IFJlcXVlc3QucHJvdG90eXBlLmFnZW50O1xuUmVxdWVzdC5wcm90b3R5cGUuYnVmZmVyID0gUmVxdWVzdC5wcm90b3R5cGUuY2E7XG5cbi8vIFRoaXMgdGhyb3dzLCBiZWNhdXNlIGl0IGNhbid0IHNlbmQvcmVjZWl2ZSBkYXRhIGFzIGV4cGVjdGVkXG5SZXF1ZXN0LnByb3RvdHlwZS53cml0ZSA9ICgpID0+IHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdTdHJlYW1pbmcgaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHZlcnNpb24gb2Ygc3VwZXJhZ2VudCdcbiAgKTtcbn07XG5cblJlcXVlc3QucHJvdG90eXBlLnBpcGUgPSBSZXF1ZXN0LnByb3RvdHlwZS53cml0ZTtcblxuLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhIGhvc3Qgb2JqZWN0LFxuICogd2UgZG9uJ3Qgd2FudCB0byBzZXJpYWxpemUgdGhlc2UgOilcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIGhvc3Qgb2JqZWN0XG4gKiBAcmV0dXJuIHtCb29sZWFufSBpcyBhIGhvc3Qgb2JqZWN0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuUmVxdWVzdC5wcm90b3R5cGUuX2lzSG9zdCA9IGZ1bmN0aW9uKG9iaikge1xuICAvLyBOYXRpdmUgb2JqZWN0cyBzdHJpbmdpZnkgdG8gW29iamVjdCBGaWxlXSwgW29iamVjdCBCbG9iXSwgW29iamVjdCBGb3JtRGF0YV0sIGV0Yy5cbiAgcmV0dXJuIChcbiAgICBvYmogJiZcbiAgICB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgICFBcnJheS5pc0FycmF5KG9iaikgJiZcbiAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XSdcbiAgKTtcbn07XG5cbi8qKlxuICogSW5pdGlhdGUgcmVxdWVzdCwgaW52b2tpbmcgY2FsbGJhY2sgYGZuKHJlcylgXG4gKiB3aXRoIGFuIGluc3RhbmNlb2YgYFJlc3BvbnNlYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGZuKSB7XG4gIGlmICh0aGlzLl9lbmRDYWxsZWQpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnV2FybmluZzogLmVuZCgpIHdhcyBjYWxsZWQgdHdpY2UuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiBzdXBlcmFnZW50J1xuICAgICk7XG4gIH1cblxuICB0aGlzLl9lbmRDYWxsZWQgPSB0cnVlO1xuXG4gIC8vIHN0b3JlIGNhbGxiYWNrXG4gIHRoaXMuX2NhbGxiYWNrID0gZm4gfHwgbm9vcDtcblxuICAvLyBxdWVyeXN0cmluZ1xuICB0aGlzLl9maW5hbGl6ZVF1ZXJ5U3RyaW5nKCk7XG5cbiAgdGhpcy5fZW5kKCk7XG59O1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5fc2V0VXBsb2FkVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcblxuICAvLyB1cGxvYWQgdGltZW91dCBpdCdzIHdva3JzIG9ubHkgaWYgZGVhZGxpbmUgdGltZW91dCBpcyBvZmZcbiAgaWYgKHRoaXMuX3VwbG9hZFRpbWVvdXQgJiYgIXRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lcikge1xuICAgIHRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2VsZi5fdGltZW91dEVycm9yKFxuICAgICAgICAnVXBsb2FkIHRpbWVvdXQgb2YgJyxcbiAgICAgICAgc2VsZi5fdXBsb2FkVGltZW91dCxcbiAgICAgICAgJ0VUSU1FRE9VVCdcbiAgICAgICk7XG4gICAgfSwgdGhpcy5fdXBsb2FkVGltZW91dCk7XG4gIH1cbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5SZXF1ZXN0LnByb3RvdHlwZS5fZW5kID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9hYm9ydGVkKVxuICAgIHJldHVybiB0aGlzLmNhbGxiYWNrKFxuICAgICAgbmV3IEVycm9yKCdUaGUgcmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkIGV2ZW4gYmVmb3JlIC5lbmQoKSB3YXMgY2FsbGVkJylcbiAgICApO1xuXG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCk7XG4gIGNvbnN0IHsgeGhyIH0gPSB0aGlzO1xuICBsZXQgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgdGhpcy5fc2V0VGltZW91dHMoKTtcblxuICAvLyBzdGF0ZSBjaGFuZ2VcbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlYWR5U3RhdGUgfSA9IHhocjtcbiAgICBpZiAocmVhZHlTdGF0ZSA+PSAyICYmIHNlbGYuX3Jlc3BvbnNlVGltZW91dFRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi5fcmVzcG9uc2VUaW1lb3V0VGltZXIpO1xuICAgIH1cblxuICAgIGlmIChyZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSW4gSUU5LCByZWFkcyB0byBhbnkgcHJvcGVydHkgKGUuZy4gc3RhdHVzKSBvZmYgb2YgYW4gYWJvcnRlZCBYSFIgd2lsbFxuICAgIC8vIHJlc3VsdCBpbiB0aGUgZXJyb3IgXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIG9wZXJhdGlvbiBkdWUgdG8gZXJyb3IgYzAwYzAyM2ZcIlxuICAgIGxldCBzdGF0dXM7XG4gICAgdHJ5IHtcbiAgICAgIHN0YXR1cyA9IHhoci5zdGF0dXM7XG4gICAgfSBjYXRjaCB7XG4gICAgICBzdGF0dXMgPSAwO1xuICAgIH1cblxuICAgIGlmICghc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCB8fCBzZWxmLl9hYm9ydGVkKSByZXR1cm47XG4gICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG4gICAgfVxuXG4gICAgc2VsZi5lbWl0KCdlbmQnKTtcbiAgfTtcblxuICAvLyBwcm9ncmVzc1xuICBjb25zdCBoYW5kbGVQcm9ncmVzcyA9IChkaXJlY3Rpb24sIGUpID0+IHtcbiAgICBpZiAoZS50b3RhbCA+IDApIHtcbiAgICAgIGUucGVyY2VudCA9IChlLmxvYWRlZCAvIGUudG90YWwpICogMTAwO1xuXG4gICAgICBpZiAoZS5wZXJjZW50ID09PSAxMDApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3VwbG9hZFRpbWVvdXRUaW1lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgc2VsZi5lbWl0KCdwcm9ncmVzcycsIGUpO1xuICB9O1xuXG4gIGlmICh0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgIHRyeSB7XG4gICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBoYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsICdkb3dubG9hZCcpKTtcbiAgICAgIGlmICh4aHIudXBsb2FkKSB7XG4gICAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAncHJvZ3Jlc3MnLFxuICAgICAgICAgIGhhbmRsZVByb2dyZXNzLmJpbmQobnVsbCwgJ3VwbG9hZCcpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBBY2Nlc3NpbmcgeGhyLnVwbG9hZCBmYWlscyBpbiBJRSBmcm9tIGEgd2ViIHdvcmtlciwgc28ganVzdCBwcmV0ZW5kIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAvLyBSZXBvcnRlZCBoZXJlOlxuICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy84MzcyNDUveG1saHR0cHJlcXVlc3QtdXBsb2FkLXRocm93cy1pbnZhbGlkLWFyZ3VtZW50LXdoZW4tdXNlZC1mcm9tLXdlYi13b3JrZXItY29udGV4dFxuICAgIH1cbiAgfVxuXG4gIGlmICh4aHIudXBsb2FkKSB7XG4gICAgdGhpcy5fc2V0VXBsb2FkVGltZW91dCgpO1xuICB9XG5cbiAgLy8gaW5pdGlhdGUgcmVxdWVzdFxuICB0cnkge1xuICAgIGlmICh0aGlzLnVzZXJuYW1lICYmIHRoaXMucGFzc3dvcmQpIHtcbiAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSwgdGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBzZWUgIzExNDlcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFjayhlcnIpO1xuICB9XG5cbiAgLy8gQ09SU1xuICBpZiAodGhpcy5fd2l0aENyZWRlbnRpYWxzKSB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblxuICAvLyBib2R5XG4gIGlmIChcbiAgICAhdGhpcy5fZm9ybURhdGEgJiZcbiAgICB0aGlzLm1ldGhvZCAhPT0gJ0dFVCcgJiZcbiAgICB0aGlzLm1ldGhvZCAhPT0gJ0hFQUQnICYmXG4gICAgdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnICYmXG4gICAgIXRoaXMuX2lzSG9zdChkYXRhKVxuICApIHtcbiAgICAvLyBzZXJpYWxpemUgc3R1ZmZcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG4gICAgbGV0IHNlcmlhbGl6ZSA9XG4gICAgICB0aGlzLl9zZXJpYWxpemVyIHx8XG4gICAgICByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkge1xuICAgICAgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICB9XG5cbiAgICBpZiAoc2VyaWFsaXplKSBkYXRhID0gc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgLy8gc2V0IGhlYWRlciBmaWVsZHNcbiAgZm9yIChjb25zdCBmaWVsZCBpbiB0aGlzLmhlYWRlcikge1xuICAgIGlmICh0aGlzLmhlYWRlcltmaWVsZF0gPT09IG51bGwpIGNvbnRpbnVlO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmhlYWRlciwgZmllbGQpKVxuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoZmllbGQsIHRoaXMuaGVhZGVyW2ZpZWxkXSk7XG4gIH1cblxuICBpZiAodGhpcy5fcmVzcG9uc2VUeXBlKSB7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMuX3Jlc3BvbnNlVHlwZTtcbiAgfVxuXG4gIC8vIHNlbmQgc3R1ZmZcbiAgdGhpcy5lbWl0KCdyZXF1ZXN0JywgdGhpcyk7XG5cbiAgLy8gSUUxMSB4aHIuc2VuZCh1bmRlZmluZWQpIHNlbmRzICd1bmRlZmluZWQnIHN0cmluZyBhcyBQT1NUIHBheWxvYWQgKGluc3RlYWQgb2Ygbm90aGluZylcbiAgLy8gV2UgbmVlZCBudWxsIGhlcmUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgeGhyLnNlbmQodHlwZW9mIGRhdGEgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IGRhdGEpO1xufTtcblxucmVxdWVzdC5hZ2VudCA9ICgpID0+IG5ldyBBZ2VudCgpO1xuXG5bJ0dFVCcsICdQT1NUJywgJ09QVElPTlMnLCAnUEFUQ0gnLCAnUFVUJywgJ0RFTEVURSddLmZvckVhY2gobWV0aG9kID0+IHtcbiAgQWdlbnQucHJvdG90eXBlW21ldGhvZC50b0xvd2VyQ2FzZSgpXSA9IGZ1bmN0aW9uKHVybCwgZm4pIHtcbiAgICBjb25zdCByZXEgPSBuZXcgcmVxdWVzdC5SZXF1ZXN0KG1ldGhvZCwgdXJsKTtcbiAgICB0aGlzLl9zZXREZWZhdWx0cyhyZXEpO1xuICAgIGlmIChmbikge1xuICAgICAgcmVxLmVuZChmbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcTtcbiAgfTtcbn0pO1xuXG5BZ2VudC5wcm90b3R5cGUuZGVsID0gQWdlbnQucHJvdG90eXBlLmRlbGV0ZTtcblxuLyoqXG4gKiBHRVQgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LmdldCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZuID0gZGF0YTtcbiAgICBkYXRhID0gbnVsbDtcbiAgfVxuXG4gIGlmIChkYXRhKSByZXEucXVlcnkoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIEhFQUQgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LmhlYWQgPSAodXJsLCBkYXRhLCBmbikgPT4ge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdIRUFEJywgdXJsKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5xdWVyeShkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogT1BUSU9OUyBxdWVyeSB0byBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3Qub3B0aW9ucyA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ09QVElPTlMnLCB1cmwpO1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIERFTEVURSBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVsKHVybCwgZGF0YSwgZm4pIHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnREVMRVRFJywgdXJsKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufVxuXG5yZXF1ZXN0LmRlbCA9IGRlbDtcbnJlcXVlc3QuZGVsZXRlID0gZGVsO1xuXG4vKipcbiAqIFBBVENIIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnBhdGNoID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnUEFUQ0gnLCB1cmwpO1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIFBPU1QgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucG9zdCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BPU1QnLCB1cmwpO1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIFBVVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wdXQgPSAodXJsLCBkYXRhLCBmbikgPT4ge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdQVVQnLCB1cmwpO1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL3NyYy9jbGllbnQuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL3RyaW1cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS90cmltLmpzXG4vLyBtb2R1bGUgaWQgPSA1NDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vZXMvaW5zdGFuY2UvdHJpbScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2UvdHJpbS5qc1xuLy8gbW9kdWxlIGlkID0gNTUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIG1ldGhvZCA9IHJlcXVpcmUoJy4uL3N0cmluZy92aXJ0dWFsL3RyaW0nKTtcblxudmFyIFN0cmluZ1Byb3RvdHlwZSA9IFN0cmluZy5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC50cmltO1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzdHJpbmcnIHx8IGl0ID09PSBTdHJpbmdQcm90b3R5cGVcbiAgICB8fCAoaXNQcm90b3R5cGVPZihTdHJpbmdQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IFN0cmluZ1Byb3RvdHlwZS50cmltKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvdHJpbS5qc1xuLy8gbW9kdWxlIGlkID0gNTUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vLi4vLi4vbW9kdWxlcy9lcy5zdHJpbmcudHJpbScpO1xudmFyIGVudHJ5VmlydHVhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2ludGVybmFscy9lbnRyeS12aXJ0dWFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdTdHJpbmcnKS50cmltO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL3N0cmluZy92aXJ0dWFsL3RyaW0uanNcbi8vIG1vZHVsZSBpZCA9IDU1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyICR0cmltID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy10cmltJykudHJpbTtcbnZhciBmb3JjZWRTdHJpbmdUcmltTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy10cmltLWZvcmNlZCcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS50cmltYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogZm9yY2VkU3RyaW5nVHJpbU1ldGhvZCgndHJpbScpIH0sIHtcbiAgdHJpbTogZnVuY3Rpb24gdHJpbSgpIHtcbiAgICByZXR1cm4gJHRyaW0odGhpcyk7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanNcbi8vIG1vZHVsZSBpZCA9IDU1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHdoaXRlc3BhY2VzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3doaXRlc3BhY2VzJyk7XG5cbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgd2hpdGVzcGFjZSA9ICdbJyArIHdoaXRlc3BhY2VzICsgJ10nO1xudmFyIGx0cmltID0gUmVnRXhwKCdeJyArIHdoaXRlc3BhY2UgKyB3aGl0ZXNwYWNlICsgJyonKTtcbnZhciBydHJpbSA9IFJlZ0V4cCh3aGl0ZXNwYWNlICsgd2hpdGVzcGFjZSArICcqJCcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW0sIHRyaW1TdGFydCwgdHJpbUVuZCwgdHJpbUxlZnQsIHRyaW1SaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcykge1xuICAgIHZhciBzdHJpbmcgPSB0b1N0cmluZyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKCR0aGlzKSk7XG4gICAgaWYgKFRZUEUgJiAxKSBzdHJpbmcgPSByZXBsYWNlKHN0cmluZywgbHRyaW0sICcnKTtcbiAgICBpZiAoVFlQRSAmIDIpIHN0cmluZyA9IHJlcGxhY2Uoc3RyaW5nLCBydHJpbSwgJycpO1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltTGVmdCwgdHJpbVN0YXJ0IH1gIG1ldGhvZHNcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1zdGFydFxuICBzdGFydDogY3JlYXRlTWV0aG9kKDEpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1SaWdodCwgdHJpbUVuZCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltZW5kXG4gIGVuZDogY3JlYXRlTWV0aG9kKDIpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS50cmltYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1cbiAgdHJpbTogY3JlYXRlTWV0aG9kKDMpXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9zdHJpbmctdHJpbS5qc1xuLy8gbW9kdWxlIGlkID0gNTU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLW5hbWUnKS5QUk9QRVI7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgbm9uID0gJ1xcdTIwMEJcXHUwMDg1XFx1MTgwRSc7XG5cbi8vIGNoZWNrIHRoYXQgYSBtZXRob2Qgd29ya3Mgd2l0aCB0aGUgY29ycmVjdCBsaXN0XG4vLyBvZiB3aGl0ZXNwYWNlcyBhbmQgaGFzIGEgY29ycmVjdCBuYW1lXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICByZXR1cm4gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhIXdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXSgpXG4gICAgICB8fCBub25bTUVUSE9EX05BTUVdKCkgIT09IG5vblxuICAgICAgfHwgKFBST1BFUl9GVU5DVElPTl9OQU1FICYmIHdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXS5uYW1lICE9PSBNRVRIT0RfTkFNRSk7XG4gIH0pO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvc3RyaW5nLXRyaW0tZm9yY2VkLmpzXG4vLyBtb2R1bGUgaWQgPSA1NTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJcclxuLyoqXHJcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXHJcbiAqL1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBhIG5ldyBgRW1pdHRlcmAuXHJcbiAqXHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcclxuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XHJcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vbiA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICAodGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW10pXHJcbiAgICAucHVzaChmbik7XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogQWRkcyBhbiBgZXZlbnRgIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBpbnZva2VkIGEgc2luZ2xlXHJcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIGZ1bmN0aW9uIG9uKCkge1xyXG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcclxuICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICBvbi5mbiA9IGZuO1xyXG4gIHRoaXMub24oZXZlbnQsIG9uKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxyXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cclxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcblxyXG4gIC8vIGFsbFxyXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyBzcGVjaWZpYyBldmVudFxyXG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcclxuXHJcbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xyXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxyXG4gIHZhciBjYjtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY2IgPSBjYWxsYmFja3NbaV07XHJcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBldmVudCBzcGVjaWZpYyBhcnJheXMgZm9yIGV2ZW50IHR5cGVzIHRoYXQgbm9cclxuICAvLyBvbmUgaXMgc3Vic2NyaWJlZCBmb3IgdG8gYXZvaWQgbWVtb3J5IGxlYWsuXHJcbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHJcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXHJcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcblxyXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcclxuICB9XHJcblxyXG4gIGlmIChjYWxsYmFja3MpIHtcclxuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XHJcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeVxuc3RyaW5naWZ5LmRlZmF1bHQgPSBzdHJpbmdpZnlcbnN0cmluZ2lmeS5zdGFibGUgPSBkZXRlcm1pbmlzdGljU3RyaW5naWZ5XG5zdHJpbmdpZnkuc3RhYmxlU3RyaW5naWZ5ID0gZGV0ZXJtaW5pc3RpY1N0cmluZ2lmeVxuXG52YXIgTElNSVRfUkVQTEFDRV9OT0RFID0gJ1suLi5dJ1xudmFyIENJUkNVTEFSX1JFUExBQ0VfTk9ERSA9ICdbQ2lyY3VsYXJdJ1xuXG52YXIgYXJyID0gW11cbnZhciByZXBsYWNlclN0YWNrID0gW11cblxuZnVuY3Rpb24gZGVmYXVsdE9wdGlvbnMgKCkge1xuICByZXR1cm4ge1xuICAgIGRlcHRoTGltaXQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgIGVkZ2VzTGltaXQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gIH1cbn1cblxuLy8gUmVndWxhciBzdHJpbmdpZnlcbmZ1bmN0aW9uIHN0cmluZ2lmeSAob2JqLCByZXBsYWNlciwgc3BhY2VyLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnMoKVxuICB9XG5cbiAgZGVjaXJjKG9iaiwgJycsIDAsIFtdLCB1bmRlZmluZWQsIDAsIG9wdGlvbnMpXG4gIHZhciByZXNcbiAgdHJ5IHtcbiAgICBpZiAocmVwbGFjZXJTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlcyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgcmVwbGFjZXIsIHNwYWNlcilcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzID0gSlNPTi5zdHJpbmdpZnkob2JqLCByZXBsYWNlR2V0dGVyVmFsdWVzKHJlcGxhY2VyKSwgc3BhY2VyKVxuICAgIH1cbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSgnW3VuYWJsZSB0byBzZXJpYWxpemUsIGNpcmN1bGFyIHJlZmVyZW5jZSBpcyB0b28gY29tcGxleCB0byBhbmFseXplXScpXG4gIH0gZmluYWxseSB7XG4gICAgd2hpbGUgKGFyci5sZW5ndGggIT09IDApIHtcbiAgICAgIHZhciBwYXJ0ID0gYXJyLnBvcCgpXG4gICAgICBpZiAocGFydC5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnRbMF0sIHBhcnRbMV0sIHBhcnRbM10pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0WzBdW3BhcnRbMV1dID0gcGFydFsyXVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHNldFJlcGxhY2UgKHJlcGxhY2UsIHZhbCwgaywgcGFyZW50KSB7XG4gIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBhcmVudCwgaylcbiAgaWYgKHByb3BlcnR5RGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyZW50LCBrLCB7IHZhbHVlOiByZXBsYWNlIH0pXG4gICAgICBhcnIucHVzaChbcGFyZW50LCBrLCB2YWwsIHByb3BlcnR5RGVzY3JpcHRvcl0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VyU3RhY2sucHVzaChbdmFsLCBrLCByZXBsYWNlXSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50W2tdID0gcmVwbGFjZVxuICAgIGFyci5wdXNoKFtwYXJlbnQsIGssIHZhbF0pXG4gIH1cbn1cblxuZnVuY3Rpb24gZGVjaXJjICh2YWwsIGssIGVkZ2VJbmRleCwgc3RhY2ssIHBhcmVudCwgZGVwdGgsIG9wdGlvbnMpIHtcbiAgZGVwdGggKz0gMVxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc3RhY2tbaV0gPT09IHZhbCkge1xuICAgICAgICBzZXRSZXBsYWNlKENJUkNVTEFSX1JFUExBQ0VfTk9ERSwgdmFsLCBrLCBwYXJlbnQpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBvcHRpb25zLmRlcHRoTGltaXQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBkZXB0aCA+IG9wdGlvbnMuZGVwdGhMaW1pdFxuICAgICkge1xuICAgICAgc2V0UmVwbGFjZShMSU1JVF9SRVBMQUNFX05PREUsIHZhbCwgaywgcGFyZW50KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuZWRnZXNMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIGVkZ2VJbmRleCArIDEgPiBvcHRpb25zLmVkZ2VzTGltaXRcbiAgICApIHtcbiAgICAgIHNldFJlcGxhY2UoTElNSVRfUkVQTEFDRV9OT0RFLCB2YWwsIGssIHBhcmVudClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsKVxuICAgIC8vIE9wdGltaXplIGZvciBBcnJheXMuIEJpZyBhcnJheXMgY291bGQga2lsbCB0aGUgcGVyZm9ybWFuY2Ugb3RoZXJ3aXNlIVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVjaXJjKHZhbFtpXSwgaSwgaSwgc3RhY2ssIHZhbCwgZGVwdGgsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsKVxuICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV1cbiAgICAgICAgZGVjaXJjKHZhbFtrZXldLCBrZXksIGksIHN0YWNrLCB2YWwsIGRlcHRoLCBvcHRpb25zKVxuICAgICAgfVxuICAgIH1cbiAgICBzdGFjay5wb3AoKVxuICB9XG59XG5cbi8vIFN0YWJsZS1zdHJpbmdpZnlcbmZ1bmN0aW9uIGNvbXBhcmVGdW5jdGlvbiAoYSwgYikge1xuICBpZiAoYSA8IGIpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoYSA+IGIpIHtcbiAgICByZXR1cm4gMVxuICB9XG4gIHJldHVybiAwXG59XG5cbmZ1bmN0aW9uIGRldGVybWluaXN0aWNTdHJpbmdpZnkgKG9iaiwgcmVwbGFjZXIsIHNwYWNlciwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKClcbiAgfVxuXG4gIHZhciB0bXAgPSBkZXRlcm1pbmlzdGljRGVjaXJjKG9iaiwgJycsIDAsIFtdLCB1bmRlZmluZWQsIDAsIG9wdGlvbnMpIHx8IG9ialxuICB2YXIgcmVzXG4gIHRyeSB7XG4gICAgaWYgKHJlcGxhY2VyU3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICByZXMgPSBKU09OLnN0cmluZ2lmeSh0bXAsIHJlcGxhY2VyLCBzcGFjZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcyA9IEpTT04uc3RyaW5naWZ5KHRtcCwgcmVwbGFjZUdldHRlclZhbHVlcyhyZXBsYWNlciksIHNwYWNlcilcbiAgICB9XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJ1t1bmFibGUgdG8gc2VyaWFsaXplLCBjaXJjdWxhciByZWZlcmVuY2UgaXMgdG9vIGNvbXBsZXggdG8gYW5hbHl6ZV0nKVxuICB9IGZpbmFsbHkge1xuICAgIC8vIEVuc3VyZSB0aGF0IHdlIHJlc3RvcmUgdGhlIG9iamVjdCBhcyBpdCB3YXMuXG4gICAgd2hpbGUgKGFyci5sZW5ndGggIT09IDApIHtcbiAgICAgIHZhciBwYXJ0ID0gYXJyLnBvcCgpXG4gICAgICBpZiAocGFydC5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnRbMF0sIHBhcnRbMV0sIHBhcnRbM10pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0WzBdW3BhcnRbMV1dID0gcGFydFsyXVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGRldGVybWluaXN0aWNEZWNpcmMgKHZhbCwgaywgZWRnZUluZGV4LCBzdGFjaywgcGFyZW50LCBkZXB0aCwgb3B0aW9ucykge1xuICBkZXB0aCArPSAxXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzdGFja1tpXSA9PT0gdmFsKSB7XG4gICAgICAgIHNldFJlcGxhY2UoQ0lSQ1VMQVJfUkVQTEFDRV9OT0RFLCB2YWwsIGssIHBhcmVudClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHZhbC50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnMuZGVwdGhMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIGRlcHRoID4gb3B0aW9ucy5kZXB0aExpbWl0XG4gICAgKSB7XG4gICAgICBzZXRSZXBsYWNlKExJTUlUX1JFUExBQ0VfTk9ERSwgdmFsLCBrLCBwYXJlbnQpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5lZGdlc0xpbWl0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgZWRnZUluZGV4ICsgMSA+IG9wdGlvbnMuZWRnZXNMaW1pdFxuICAgICkge1xuICAgICAgc2V0UmVwbGFjZShMSU1JVF9SRVBMQUNFX05PREUsIHZhbCwgaywgcGFyZW50KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWwpXG4gICAgLy8gT3B0aW1pemUgZm9yIEFycmF5cy4gQmlnIGFycmF5cyBjb3VsZCBraWxsIHRoZSBwZXJmb3JtYW5jZSBvdGhlcndpc2UhXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBkZXRlcm1pbmlzdGljRGVjaXJjKHZhbFtpXSwgaSwgaSwgc3RhY2ssIHZhbCwgZGVwdGgsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBvYmplY3QgaW4gdGhlIHJlcXVpcmVkIHdheVxuICAgICAgdmFyIHRtcCA9IHt9XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbCkuc29ydChjb21wYXJlRnVuY3Rpb24pXG4gICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXVxuICAgICAgICBkZXRlcm1pbmlzdGljRGVjaXJjKHZhbFtrZXldLCBrZXksIGksIHN0YWNrLCB2YWwsIGRlcHRoLCBvcHRpb25zKVxuICAgICAgICB0bXBba2V5XSA9IHZhbFtrZXldXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYXJyLnB1c2goW3BhcmVudCwgaywgdmFsXSlcbiAgICAgICAgcGFyZW50W2tdID0gdG1wXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdG1wXG4gICAgICB9XG4gICAgfVxuICAgIHN0YWNrLnBvcCgpXG4gIH1cbn1cblxuLy8gd3JhcHMgcmVwbGFjZXIgZnVuY3Rpb24gdG8gaGFuZGxlIHZhbHVlcyB3ZSBjb3VsZG4ndCByZXBsYWNlXG4vLyBhbmQgbWFyayB0aGVtIGFzIHJlcGxhY2VkIHZhbHVlXG5mdW5jdGlvbiByZXBsYWNlR2V0dGVyVmFsdWVzIChyZXBsYWNlcikge1xuICByZXBsYWNlciA9XG4gICAgdHlwZW9mIHJlcGxhY2VyICE9PSAndW5kZWZpbmVkJ1xuICAgICAgPyByZXBsYWNlclxuICAgICAgOiBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICByZXR1cm4gdlxuICAgICAgfVxuICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsKSB7XG4gICAgaWYgKHJlcGxhY2VyU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXBsYWNlclN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gcmVwbGFjZXJTdGFja1tpXVxuICAgICAgICBpZiAocGFydFsxXSA9PT0ga2V5ICYmIHBhcnRbMF0gPT09IHZhbCkge1xuICAgICAgICAgIHZhbCA9IHBhcnRbMl1cbiAgICAgICAgICByZXBsYWNlclN0YWNrLnNwbGljZShpLCAxKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWwpXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2Zhc3Qtc2FmZS1zdHJpbmdpZnkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8qKlxuICogTW9kdWxlIG9mIG1peGVkLWluIGZ1bmN0aW9ucyBzaGFyZWQgYmV0d2VlbiBub2RlIGFuZCBjbGllbnQgY29kZVxuICovXG5jb25zdCBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXMtb2JqZWN0Jyk7XG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0QmFzZWAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZXF1ZXN0QmFzZTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXF1ZXN0QmFzZWAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXF1ZXN0QmFzZShvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG5cbi8qKlxuICogTWl4aW4gdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKGNvbnN0IGtleSBpbiBSZXF1ZXN0QmFzZS5wcm90b3R5cGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFJlcXVlc3RCYXNlLnByb3RvdHlwZSwga2V5KSlcbiAgICAgIG9ialtrZXldID0gUmVxdWVzdEJhc2UucHJvdG90eXBlW2tleV07XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lcik7XG4gIGRlbGV0ZSB0aGlzLl90aW1lcjtcbiAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyO1xuICBkZWxldGUgdGhpcy5fdXBsb2FkVGltZW91dFRpbWVyO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgZGVmYXVsdCByZXNwb25zZSBib2R5IHBhcnNlclxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgdG8gY29udmVydCBpbmNvbWluZyBkYXRhIGludG8gcmVxdWVzdC5ib2R5XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5fcGFyc2VyID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgZm9ybWF0IG9mIGJpbmFyeSByZXNwb25zZSBib2R5LlxuICogSW4gYnJvd3NlciB2YWxpZCBmb3JtYXRzIGFyZSAnYmxvYicgYW5kICdhcnJheWJ1ZmZlcicsXG4gKiB3aGljaCByZXR1cm4gQmxvYiBhbmQgQXJyYXlCdWZmZXIsIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBJbiBOb2RlIGFsbCB2YWx1ZXMgcmVzdWx0IGluIEJ1ZmZlci5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5yZXNwb25zZVR5cGUoJ2Jsb2InKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUucmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odmFsKSB7XG4gIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVxdWVzdCBib2R5IHNlcmlhbGl6ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5fc2VyaWFsaXplciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRpbWVvdXRzLlxuICpcbiAqIC0gcmVzcG9uc2UgdGltZW91dCBpcyB0aW1lIGJldHdlZW4gc2VuZGluZyByZXF1ZXN0IGFuZCByZWNlaXZpbmcgdGhlIGZpcnN0IGJ5dGUgb2YgdGhlIHJlc3BvbnNlLiBJbmNsdWRlcyBETlMgYW5kIGNvbm5lY3Rpb24gdGltZS5cbiAqIC0gZGVhZGxpbmUgaXMgdGhlIHRpbWUgZnJvbSBzdGFydCBvZiB0aGUgcmVxdWVzdCB0byByZWNlaXZpbmcgcmVzcG9uc2UgYm9keSBpbiBmdWxsLiBJZiB0aGUgZGVhZGxpbmUgaXMgdG9vIHNob3J0IGxhcmdlIGZpbGVzIG1heSBub3QgbG9hZCBhdCBhbGwgb24gc2xvdyBjb25uZWN0aW9ucy5cbiAqIC0gdXBsb2FkIGlzIHRoZSB0aW1lICBzaW5jZSBsYXN0IGJpdCBvZiBkYXRhIHdhcyBzZW50IG9yIHJlY2VpdmVkLiBUaGlzIHRpbWVvdXQgd29ya3Mgb25seSBpZiBkZWFkbGluZSB0aW1lb3V0IGlzIG9mZlxuICpcbiAqIFZhbHVlIG9mIDAgb3IgZmFsc2UgbWVhbnMgbm8gdGltZW91dC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IG1zIG9yIHtyZXNwb25zZSwgZGVhZGxpbmV9XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnRpbWVvdXQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucztcbiAgICB0aGlzLl9yZXNwb25zZVRpbWVvdXQgPSAwO1xuICAgIHRoaXMuX3VwbG9hZFRpbWVvdXQgPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZm9yIChjb25zdCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgb3B0aW9uKSkge1xuICAgICAgc3dpdGNoIChvcHRpb24pIHtcbiAgICAgICAgY2FzZSAnZGVhZGxpbmUnOlxuICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBvcHRpb25zLmRlYWRsaW5lO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZXNwb25zZSc6XG4gICAgICAgICAgdGhpcy5fcmVzcG9uc2VUaW1lb3V0ID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndXBsb2FkJzpcbiAgICAgICAgICB0aGlzLl91cGxvYWRUaW1lb3V0ID0gb3B0aW9ucy51cGxvYWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS53YXJuKCdVbmtub3duIHRpbWVvdXQgb3B0aW9uJywgb3B0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IG51bWJlciBvZiByZXRyeSBhdHRlbXB0cyBvbiBlcnJvci5cbiAqXG4gKiBGYWlsZWQgcmVxdWVzdHMgd2lsbCBiZSByZXRyaWVkICdjb3VudCcgdGltZXMgaWYgdGltZW91dCBvciBlcnIuY29kZSA+PSA1MDAuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oY291bnQsIGZuKSB7XG4gIC8vIERlZmF1bHQgdG8gMSBpZiBubyBjb3VudCBwYXNzZWQgb3IgdHJ1ZVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCBjb3VudCA9PT0gdHJ1ZSkgY291bnQgPSAxO1xuICBpZiAoY291bnQgPD0gMCkgY291bnQgPSAwO1xuICB0aGlzLl9tYXhSZXRyaWVzID0gY291bnQ7XG4gIHRoaXMuX3JldHJpZXMgPSAwO1xuICB0aGlzLl9yZXRyeUNhbGxiYWNrID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgRVJST1JfQ09ERVMgPSBbJ0VDT05OUkVTRVQnLCAnRVRJTUVET1VUJywgJ0VBRERSSU5GTycsICdFU09DS0VUVElNRURPVVQnXTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSByZXF1ZXN0IHNob3VsZCBiZSByZXRyaWVkLlxuICogKEJvcnJvd2VkIGZyb20gc2VnbWVudGlvL3N1cGVyYWdlbnQtcmV0cnkpXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyIGFuIGVycm9yXG4gKiBAcGFyYW0ge1Jlc3BvbnNlfSBbcmVzXSByZXNwb25zZVxuICogQHJldHVybnMge0Jvb2xlYW59IGlmIHNlZ21lbnQgc2hvdWxkIGJlIHJldHJpZWRcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9zaG91bGRSZXRyeSA9IGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gIGlmICghdGhpcy5fbWF4UmV0cmllcyB8fCB0aGlzLl9yZXRyaWVzKysgPj0gdGhpcy5fbWF4UmV0cmllcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl9yZXRyeUNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG92ZXJyaWRlID0gdGhpcy5fcmV0cnlDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgICBpZiAob3ZlcnJpZGUgPT09IHRydWUpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKG92ZXJyaWRlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gdW5kZWZpbmVkIGZhbGxzIGJhY2sgdG8gZGVmYXVsdHNcbiAgICB9IGNhdGNoIChlcnJfKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycl8pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZXMgJiYgcmVzLnN0YXR1cyAmJiByZXMuc3RhdHVzID49IDUwMCAmJiByZXMuc3RhdHVzICE9PSA1MDEpIHJldHVybiB0cnVlO1xuICBpZiAoZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlICYmIEVSUk9SX0NPREVTLmluY2x1ZGVzKGVyci5jb2RlKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gU3VwZXJhZ2VudCB0aW1lb3V0XG4gICAgaWYgKGVyci50aW1lb3V0ICYmIGVyci5jb2RlID09PSAnRUNPTk5BQk9SVEVEJykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGVyci5jcm9zc0RvbWFpbikgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJldHJ5IHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fcmV0cnkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblxuICAvLyBub2RlXG4gIGlmICh0aGlzLnJlcSkge1xuICAgIHRoaXMucmVxID0gbnVsbDtcbiAgICB0aGlzLnJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICB9XG5cbiAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlO1xuICB0aGlzLnRpbWVkb3V0ID0gZmFsc2U7XG4gIHRoaXMudGltZWRvdXRFcnJvciA9IG51bGw7XG5cbiAgcmV0dXJuIHRoaXMuX2VuZCgpO1xufTtcblxuLyoqXG4gKiBQcm9taXNlIHN1cHBvcnRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVqZWN0XVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICBpZiAoIXRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHRoaXMuX2VuZENhbGxlZCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnV2FybmluZzogc3VwZXJhZ2VudCByZXF1ZXN0IHdhcyBzZW50IHR3aWNlLCBiZWNhdXNlIGJvdGggLmVuZCgpIGFuZCAudGhlbigpIHdlcmUgY2FsbGVkLiBOZXZlciBjYWxsIC5lbmQoKSBpZiB5b3UgdXNlIHByb21pc2VzJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYub24oJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5fbWF4UmV0cmllcyAmJiB0aGlzLl9tYXhSZXRyaWVzID4gdGhpcy5fcmV0cmllcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRpbWVkb3V0ICYmIHRoaXMudGltZWRvdXRFcnJvcikge1xuICAgICAgICAgIHJlamVjdCh0aGlzLnRpbWVkb3V0RXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignQWJvcnRlZCcpO1xuICAgICAgICBlcnIuY29kZSA9ICdBQk9SVEVEJztcbiAgICAgICAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuICAgICAgICBlcnIubWV0aG9kID0gdGhpcy5tZXRob2Q7XG4gICAgICAgIGVyci51cmwgPSB0aGlzLnVybDtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICAgIHNlbGYuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKTtcbiAgICAgICAgZWxzZSByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihjYikge1xuICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgY2IpO1xufTtcblxuLyoqXG4gKiBBbGxvdyBmb3IgZXh0ZW5zaW9uXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5vayA9IGZ1bmN0aW9uKGNiKSB7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgcmVxdWlyZWQnKTtcbiAgdGhpcy5fb2tDYWxsYmFjayA9IGNiO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5faXNSZXNwb25zZU9LID0gZnVuY3Rpb24ocmVzKSB7XG4gIGlmICghcmVzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHRoaXMuX29rQ2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5fb2tDYWxsYmFjayhyZXMpO1xuICB9XG5cbiAgcmV0dXJuIHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPCAzMDA7XG59O1xuXG4vKipcbiAqIEdldCByZXF1ZXN0IGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmdldEhlYWRlciA9IFJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQ7XG5cbi8qKlxuICogU2V0IGhlYWRlciBgZmllbGRgIHRvIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0LlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcbiAqICAgICAgICAuc2V0KCdYLUFQSS1LZXknLCAnZm9vYmFyJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5zZXQoeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQVBJLUtleSc6ICdmb29iYXInIH0pXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBmaWVsZFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKSB7XG4gIGlmIChpc09iamVjdChmaWVsZCkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmaWVsZCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmaWVsZCwga2V5KSlcbiAgICAgICAgdGhpcy5zZXQoa2V5LCBmaWVsZFtrZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXSA9IHZhbDtcbiAgdGhpcy5oZWFkZXJbZmllbGRdID0gdmFsO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnVuc2V0KCdVc2VyLUFnZW50JylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGQgZmllbGQgbmFtZVxuICovXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbihmaWVsZCkge1xuICBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuICBkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV3JpdGUgdGhlIGZpZWxkIGBuYW1lYCBhbmQgYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3RcbiAqIGZvciBcIm11bHRpcGFydC9mb3JtLWRhdGFcIiByZXF1ZXN0IGJvZGllcy5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCgnZm9vJywgJ2JhcicpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCh7IGZvbzogJ2JhcicsIGJhejogJ3F1eCcgfSlcbiAqICAgLmVuZChjYWxsYmFjayk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IG5hbWUgbmFtZSBvZiBmaWVsZFxuICogQHBhcmFtIHtTdHJpbmd8QmxvYnxGaWxlfEJ1ZmZlcnxmcy5SZWFkU3RyZWFtfSB2YWwgdmFsdWUgb2YgZmllbGRcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLmZpZWxkID0gZnVuY3Rpb24obmFtZSwgdmFsKSB7XG4gIC8vIG5hbWUgc2hvdWxkIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3QuXG4gIGlmIChuYW1lID09PSBudWxsIHx8IHVuZGVmaW5lZCA9PT0gbmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignLmZpZWxkKG5hbWUsIHZhbCkgbmFtZSBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gIH1cblxuICBpZiAodGhpcy5fZGF0YSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiLmZpZWxkKCkgY2FuJ3QgYmUgdXNlZCBpZiAuc2VuZCgpIGlzIHVzZWQuIFBsZWFzZSB1c2Ugb25seSAuc2VuZCgpIG9yIG9ubHkgLmZpZWxkKCkgJiAuYXR0YWNoKClcIlxuICAgICk7XG4gIH1cblxuICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuYW1lKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5hbWUsIGtleSkpXG4gICAgICAgIHRoaXMuZmllbGQoa2V5LCBuYW1lW2tleV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIGZvciAoY29uc3QgaSBpbiB2YWwpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsLCBpKSlcbiAgICAgICAgdGhpcy5maWVsZChuYW1lLCB2YWxbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gdmFsIHNob3VsZCBiZSBkZWZpbmVkIG5vd1xuICBpZiAodmFsID09PSBudWxsIHx8IHVuZGVmaW5lZCA9PT0gdmFsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCcuZmllbGQobmFtZSwgdmFsKSB2YWwgY2FuIG5vdCBiZSBlbXB0eScpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xuICAgIHZhbCA9IFN0cmluZyh2YWwpO1xuICB9XG5cbiAgdGhpcy5fZ2V0Rm9ybURhdGEoKS5hcHBlbmQobmFtZSwgdmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gcmVxdWVzdFxuICogQGFwaSBwdWJsaWNcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9hYm9ydGVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgaWYgKHRoaXMueGhyKSB0aGlzLnhoci5hYm9ydCgpOyAvLyBicm93c2VyXG4gIGlmICh0aGlzLnJlcSkgdGhpcy5yZXEuYWJvcnQoKTsgLy8gbm9kZVxuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuICB0aGlzLmVtaXQoJ2Fib3J0Jyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucywgYmFzZTY0RW5jb2Rlcikge1xuICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkge1xuICAgIGNhc2UgJ2Jhc2ljJzpcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJhc2ljICR7YmFzZTY0RW5jb2RlcihgJHt1c2VyfToke3Bhc3N9YCl9YCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXI7XG4gICAgICB0aGlzLnBhc3N3b3JkID0gcGFzcztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnYmVhcmVyJzogLy8gdXNhZ2Ugd291bGQgYmUgLmF1dGgoYWNjZXNzVG9rZW4sIHsgdHlwZTogJ2JlYXJlcicgfSlcbiAgICAgIHRoaXMuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3VzZXJ9YCk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHRyYW5zbWlzc2lvbiBvZiBjb29raWVzIHdpdGggeC1kb21haW4gcmVxdWVzdHMuXG4gKlxuICogTm90ZSB0aGF0IGZvciB0aGlzIHRvIHdvcmsgdGhlIG9yaWdpbiBtdXN0IG5vdCBiZVxuICogdXNpbmcgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiB3aXRoIGEgd2lsZGNhcmQsXG4gKiBhbmQgYWxzbyBtdXN0IHNldCBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzXCJcbiAqIHRvIFwidHJ1ZVwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLndpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKG9uKSB7XG4gIC8vIFRoaXMgaXMgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uYWxpdHkuIE5vZGUgc2lkZSBpcyBuby1vcC5cbiAgaWYgKG9uID09PSB1bmRlZmluZWQpIG9uID0gdHJ1ZTtcbiAgdGhpcy5fd2l0aENyZWRlbnRpYWxzID0gb247XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1heCByZWRpcmVjdHMgdG8gYG5gLiBEb2VzIG5vdGhpbmcgaW4gYnJvd3NlciBYSFIgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUucmVkaXJlY3RzID0gZnVuY3Rpb24obikge1xuICB0aGlzLl9tYXhSZWRpcmVjdHMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTWF4aW11bSBzaXplIG9mIGJ1ZmZlcmVkIHJlc3BvbnNlIGJvZHksIGluIGJ5dGVzLiBDb3VudHMgdW5jb21wcmVzc2VkIHNpemUuXG4gKiBEZWZhdWx0IDIwME1CLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIG51bWJlciBvZiBieXRlc1xuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5tYXhSZXNwb25zZVNpemUgPSBmdW5jdGlvbihuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGFyZ3VtZW50Jyk7XG4gIH1cblxuICB0aGlzLl9tYXhSZXNwb25zZVNpemUgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29udmVydCB0byBhIHBsYWluIGphdmFzY3JpcHQgb2JqZWN0IChub3QgSlNPTiBzdHJpbmcpIG9mIHNjYWxhciBwcm9wZXJ0aWVzLlxuICogTm90ZSBhcyB0aGlzIG1ldGhvZCBpcyBkZXNpZ25lZCB0byByZXR1cm4gYSB1c2VmdWwgbm9uLXRoaXMgdmFsdWUsXG4gKiBpdCBjYW5ub3QgYmUgY2hhaW5lZC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlc2NyaWJpbmcgbWV0aG9kLCB1cmwsIGFuZCBkYXRhIG9mIHRoaXMgcmVxdWVzdFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICB1cmw6IHRoaXMudXJsLFxuICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyXG4gIH07XG59O1xuXG4vKipcbiAqIFNlbmQgYGRhdGFgIGFzIHRoZSByZXF1ZXN0IGJvZHksIGRlZmF1bHRpbmcgdGhlIGAudHlwZSgpYCB0byBcImpzb25cIiB3aGVuXG4gKiBhbiBvYmplY3QgaXMgZ2l2ZW4uXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICAgLy8gbWFudWFsIGpzb25cbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnanNvbicpXG4gKiAgICAgICAgIC5zZW5kKCd7XCJuYW1lXCI6XCJ0alwifScpXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gYXV0byBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gbWFudWFsIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoJ25hbWU9dGonKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2Zvcm0nKVxuICogICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBkZWZhdWx0cyB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoJ25hbWU9dG9iaScpXG4gKiAgICAgICAgLnNlbmQoJ3NwZWNpZXM9ZmVycmV0JylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZGF0YVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgY29uc3QgaXNPYmogPSBpc09iamVjdChkYXRhKTtcbiAgbGV0IHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuXG4gIGlmICh0aGlzLl9mb3JtRGF0YSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiLnNlbmQoKSBjYW4ndCBiZSB1c2VkIGlmIC5hdHRhY2goKSBvciAuZmllbGQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKGlzT2JqICYmICF0aGlzLl9kYXRhKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc0hvc3QoZGF0YSkpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGF0YSAmJiB0aGlzLl9kYXRhICYmIHRoaXMuX2lzSG9zdCh0aGlzLl9kYXRhKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IG1lcmdlIHRoZXNlIHNlbmQgY2FsbHNcIik7XG4gIH1cblxuICAvLyBtZXJnZVxuICBpZiAoaXNPYmogJiYgaXNPYmplY3QodGhpcy5fZGF0YSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpXG4gICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IGRhdGFba2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZGVmYXVsdCB0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAgICBpZiAoIXR5cGUpIHRoaXMudHlwZSgnZm9ybScpO1xuICAgIHR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICAgIGlmICh0eXBlID09PSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykge1xuICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RhdGEgPyBgJHt0aGlzLl9kYXRhfSYke2RhdGF9YCA6IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RhdGEgPSAodGhpcy5fZGF0YSB8fCAnJykgKyBkYXRhO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICghaXNPYmogfHwgdGhpcy5faXNIb3N0KGRhdGEpKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBkZWZhdWx0IHRvIGpzb25cbiAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2pzb24nKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNvcnQgYHF1ZXJ5c3RyaW5nYCBieSB0aGUgc29ydCBmdW5jdGlvblxuICpcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgICAvLyBkZWZhdWx0IG9yZGVyXG4gKiAgICAgICByZXF1ZXN0LmdldCgnL3VzZXInKVxuICogICAgICAgICAucXVlcnkoJ25hbWU9TmljaycpXG4gKiAgICAgICAgIC5xdWVyeSgnc2VhcmNoPU1hbm55JylcbiAqICAgICAgICAgLnNvcnRRdWVyeSgpXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gY3VzdG9taXplZCBzb3J0IGZ1bmN0aW9uXG4gKiAgICAgICByZXF1ZXN0LmdldCgnL3VzZXInKVxuICogICAgICAgICAucXVlcnkoJ25hbWU9TmljaycpXG4gKiAgICAgICAgIC5xdWVyeSgnc2VhcmNoPU1hbm55JylcbiAqICAgICAgICAgLnNvcnRRdWVyeShmdW5jdGlvbihhLCBiKXtcbiAqICAgICAgICAgICByZXR1cm4gYS5sZW5ndGggLSBiLmxlbmd0aDtcbiAqICAgICAgICAgfSlcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc29ydFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5zb3J0UXVlcnkgPSBmdW5jdGlvbihzb3J0KSB7XG4gIC8vIF9zb3J0IGRlZmF1bHQgdG8gdHJ1ZSBidXQgb3RoZXJ3aXNlIGNhbiBiZSBhIGZ1bmN0aW9uIG9yIGJvb2xlYW5cbiAgdGhpcy5fc29ydCA9IHR5cGVvZiBzb3J0ID09PSAndW5kZWZpbmVkJyA/IHRydWUgOiBzb3J0O1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29tcG9zZSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gcmVxLnVybFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2ZpbmFsaXplUXVlcnlTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgcXVlcnkgPSB0aGlzLl9xdWVyeS5qb2luKCcmJyk7XG4gIGlmIChxdWVyeSkge1xuICAgIHRoaXMudXJsICs9ICh0aGlzLnVybC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nKSArIHF1ZXJ5O1xuICB9XG5cbiAgdGhpcy5fcXVlcnkubGVuZ3RoID0gMDsgLy8gTWFrZXMgdGhlIGNhbGwgaWRlbXBvdGVudFxuXG4gIGlmICh0aGlzLl9zb3J0KSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnVybC5pbmRleE9mKCc/Jyk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIGNvbnN0IHF1ZXJ5QXJyID0gdGhpcy51cmwuc2xpY2UoaW5kZXggKyAxKS5zcGxpdCgnJicpO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zb3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHF1ZXJ5QXJyLnNvcnQodGhpcy5fc29ydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeUFyci5zb3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXJsID0gdGhpcy51cmwuc2xpY2UoMCwgaW5kZXgpICsgJz8nICsgcXVlcnlBcnIuam9pbignJicpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gRm9yIGJhY2t3YXJkcyBjb21wYXQgb25seVxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9hcHBlbmRRdWVyeVN0cmluZyA9ICgpID0+IHtcbiAgY29uc29sZS53YXJuKCdVbnN1cHBvcnRlZCcpO1xufTtcblxuLyoqXG4gKiBJbnZva2UgY2FsbGJhY2sgd2l0aCB0aW1lb3V0IGVycm9yLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fdGltZW91dEVycm9yID0gZnVuY3Rpb24ocmVhc29uLCB0aW1lb3V0LCBlcnJubykge1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgJHtyZWFzb24gKyB0aW1lb3V0fW1zIGV4Y2VlZGVkYCk7XG4gIGVyci50aW1lb3V0ID0gdGltZW91dDtcbiAgZXJyLmNvZGUgPSAnRUNPTk5BQk9SVEVEJztcbiAgZXJyLmVycm5vID0gZXJybm87XG4gIHRoaXMudGltZWRvdXQgPSB0cnVlO1xuICB0aGlzLnRpbWVkb3V0RXJyb3IgPSBlcnI7XG4gIHRoaXMuYWJvcnQoKTtcbiAgdGhpcy5jYWxsYmFjayhlcnIpO1xufTtcblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9zZXRUaW1lb3V0cyA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcblxuICAvLyBkZWFkbGluZVxuICBpZiAodGhpcy5fdGltZW91dCAmJiAhdGhpcy5fdGltZXIpIHtcbiAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2VsZi5fdGltZW91dEVycm9yKCdUaW1lb3V0IG9mICcsIHNlbGYuX3RpbWVvdXQsICdFVElNRScpO1xuICAgIH0sIHRoaXMuX3RpbWVvdXQpO1xuICB9XG5cbiAgLy8gcmVzcG9uc2UgdGltZW91dFxuICBpZiAodGhpcy5fcmVzcG9uc2VUaW1lb3V0ICYmICF0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLl90aW1lb3V0RXJyb3IoXG4gICAgICAgICdSZXNwb25zZSB0aW1lb3V0IG9mICcsXG4gICAgICAgIHNlbGYuX3Jlc3BvbnNlVGltZW91dCxcbiAgICAgICAgJ0VUSU1FRE9VVCdcbiAgICAgICk7XG4gICAgfSwgdGhpcy5fcmVzcG9uc2VUaW1lb3V0KTtcbiAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi9zcmMvcmVxdWVzdC1iYXNlLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9pbmNsdWRlc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL2luY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA1NTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgcGFyZW50ID0gcmVxdWlyZSgnLi4vLi4vZXMvaW5zdGFuY2UvaW5jbHVkZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL2luY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA1NjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgYXJyYXlNZXRob2QgPSByZXF1aXJlKCcuLi9hcnJheS92aXJ0dWFsL2luY2x1ZGVzJyk7XG52YXIgc3RyaW5nTWV0aG9kID0gcmVxdWlyZSgnLi4vc3RyaW5nL3ZpcnR1YWwvaW5jbHVkZXMnKTtcblxudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xudmFyIFN0cmluZ1Byb3RvdHlwZSA9IFN0cmluZy5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBvd24gPSBpdC5pbmNsdWRlcztcbiAgaWYgKGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuaW5jbHVkZXMpKSByZXR1cm4gYXJyYXlNZXRob2Q7XG4gIGlmICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgfHwgaXQgPT09IFN0cmluZ1Byb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihTdHJpbmdQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IFN0cmluZ1Byb3RvdHlwZS5pbmNsdWRlcykpIHtcbiAgICByZXR1cm4gc3RyaW5nTWV0aG9kO1xuICB9IHJldHVybiBvd247XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2luc3RhbmNlL2luY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA1NjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi8uLi9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzJyk7XG52YXIgZW50cnlWaXJ0dWFsID0gcmVxdWlyZSgnLi4vLi4vLi4vaW50ZXJuYWxzL2VudHJ5LXZpcnR1YWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ0FycmF5JykuaW5jbHVkZXM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvYXJyYXkvdmlydHVhbC9pbmNsdWRlcy5qc1xuLy8gbW9kdWxlIGlkID0gNTYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJGluY2x1ZGVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzJykuaW5jbHVkZXM7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FkZC10by11bnNjb3BhYmxlcycpO1xuXG4vLyBGRjk5KyBidWdcbnZhciBCUk9LRU5fT05fU1BBUlNFID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gIUFycmF5KDEpLmluY2x1ZGVzKCk7XG59KTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogQlJPS0VOX09OX1NQQVJTRSB9LCB7XG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhlbCAvKiAsIGZyb21JbmRleCA9IDAgKi8pIHtcbiAgICByZXR1cm4gJGluY2x1ZGVzKHRoaXMsIGVsLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5hZGRUb1Vuc2NvcGFibGVzKCdpbmNsdWRlcycpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanNcbi8vIG1vZHVsZSBpZCA9IDU2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInJlcXVpcmUoJy4uLy4uLy4uL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzJyk7XG52YXIgZW50cnlWaXJ0dWFsID0gcmVxdWlyZSgnLi4vLi4vLi4vaW50ZXJuYWxzL2VudHJ5LXZpcnR1YWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVZpcnR1YWwoJ1N0cmluZycpLmluY2x1ZGVzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL3N0cmluZy92aXJ0dWFsL2luY2x1ZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA1NjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBub3RBUmVnRXhwID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25vdC1hLXJlZ2V4cCcpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgY29ycmVjdElzUmVnRXhwTG9naWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29ycmVjdC1pcy1yZWdleHAtbG9naWMnKTtcblxudmFyIHN0cmluZ0luZGV4T2YgPSB1bmN1cnJ5VGhpcygnJy5pbmRleE9mKTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogIWNvcnJlY3RJc1JlZ0V4cExvZ2ljKCdpbmNsdWRlcycpIH0sIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZyAvKiAsIHBvc2l0aW9uID0gMCAqLykge1xuICAgIHJldHVybiAhIX5zdHJpbmdJbmRleE9mKFxuICAgICAgdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKSksXG4gICAgICB0b1N0cmluZyhub3RBUmVnRXhwKHNlYXJjaFN0cmluZykpLFxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcbiAgICApO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qc1xuLy8gbW9kdWxlIGlkID0gNTY1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXJlZ2V4cCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGlzUmVnRXhwKGl0KSkge1xuICAgIHRocm93ICRUeXBlRXJyb3IoXCJUaGUgbWV0aG9kIGRvZXNuJ3QgYWNjZXB0IHJlZ3VsYXIgZXhwcmVzc2lvbnNcIik7XG4gIH0gcmV0dXJuIGl0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvbm90LWEtcmVnZXhwLmpzXG4vLyBtb2R1bGUgaWQgPSA1NjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgTUFUQ0ggPSB3ZWxsS25vd25TeW1ib2woJ21hdGNoJyk7XG5cbi8vIGBJc1JlZ0V4cGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzcmVnZXhwXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXNSZWdFeHA7XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgKChpc1JlZ0V4cCA9IGl0W01BVENIXSkgIT09IHVuZGVmaW5lZCA/ICEhaXNSZWdFeHAgOiBjbGFzc29mKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9pcy1yZWdleHAuanNcbi8vIG1vZHVsZSBpZCA9IDU2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIE1BVENIID0gd2VsbEtub3duU3ltYm9sKCdtYXRjaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICB2YXIgcmVnZXhwID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICB0cnkge1xuICAgICAgcmVnZXhwW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICAgIH0gY2F0Y2ggKGVycm9yMikgeyAvKiBlbXB0eSAqLyB9XG4gIH0gcmV0dXJuIGZhbHNlO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvY29ycmVjdC1pcy1yZWdleHAtbG9naWMuanNcbi8vIG1vZHVsZSBpZCA9IDU2OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcmUtanMtcHVyZS9zdGFibGUvaW5zdGFuY2Uvc29ydFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMzL2NvcmUtanMtc3RhYmxlL2luc3RhbmNlL3NvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDU2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9pbnN0YW5jZS9zb3J0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9zb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSA1NzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgbWV0aG9kID0gcmVxdWlyZSgnLi4vYXJyYXkvdmlydHVhbC9zb3J0Jyk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LnNvcnQ7XG4gIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUgfHwgKGlzUHJvdG90eXBlT2YoQXJyYXlQcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlLnNvcnQpID8gbWV0aG9kIDogb3duO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pbnN0YW5jZS9zb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSA1NzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi8uLi9tb2R1bGVzL2VzLmFycmF5LnNvcnQnKTtcbnZhciBlbnRyeVZpcnR1YWwgPSByZXF1aXJlKCcuLi8uLi8uLi9pbnRlcm5hbHMvZW50cnktdmlydHVhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudHJ5VmlydHVhbCgnQXJyYXknKS5zb3J0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2VzL2FycmF5L3ZpcnR1YWwvc29ydC5qc1xuLy8gbW9kdWxlIGlkID0gNTcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9sZW5ndGgtb2YtYXJyYXktbGlrZScpO1xudmFyIGRlbGV0ZVByb3BlcnR5T3JUaHJvdyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWxldGUtcHJvcGVydHktb3ItdGhyb3cnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGludGVybmFsU29ydCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zb3J0Jyk7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0Jyk7XG52YXIgRkYgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWZmLXZlcnNpb24nKTtcbnZhciBJRV9PUl9FREdFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1pZS1vci1lZGdlJyk7XG52YXIgVjggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcbnZhciBXRUJLSVQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXdlYmtpdC12ZXJzaW9uJyk7XG5cbnZhciB0ZXN0ID0gW107XG52YXIgdW4kU29ydCA9IHVuY3VycnlUaGlzKHRlc3Quc29ydCk7XG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKHRlc3QucHVzaCk7XG5cbi8vIElFOC1cbnZhciBGQUlMU19PTl9VTkRFRklORUQgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHRlc3Quc29ydCh1bmRlZmluZWQpO1xufSk7XG4vLyBWOCBidWdcbnZhciBGQUlMU19PTl9OVUxMID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICB0ZXN0LnNvcnQobnVsbCk7XG59KTtcbi8vIE9sZCBXZWJLaXRcbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnc29ydCcpO1xuXG52YXIgU1RBQkxFX1NPUlQgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBmZWF0dXJlIGRldGVjdGlvbiBjYW4gYmUgdG9vIHNsb3csIHNvIGNoZWNrIGVuZ2luZXMgdmVyc2lvbnNcbiAgaWYgKFY4KSByZXR1cm4gVjggPCA3MDtcbiAgaWYgKEZGICYmIEZGID4gMykgcmV0dXJuO1xuICBpZiAoSUVfT1JfRURHRSkgcmV0dXJuIHRydWU7XG4gIGlmIChXRUJLSVQpIHJldHVybiBXRUJLSVQgPCA2MDM7XG5cbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB2YXIgY29kZSwgY2hyLCB2YWx1ZSwgaW5kZXg7XG5cbiAgLy8gZ2VuZXJhdGUgYW4gYXJyYXkgd2l0aCBtb3JlIDUxMiBlbGVtZW50cyAoQ2hha3JhIGFuZCBvbGQgVjggZmFpbHMgb25seSBpbiB0aGlzIGNhc2UpXG4gIGZvciAoY29kZSA9IDY1OyBjb2RlIDwgNzY7IGNvZGUrKykge1xuICAgIGNociA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG5cbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgIGNhc2UgNjY6IGNhc2UgNjk6IGNhc2UgNzA6IGNhc2UgNzI6IHZhbHVlID0gMzsgYnJlYWs7XG4gICAgICBjYXNlIDY4OiBjYXNlIDcxOiB2YWx1ZSA9IDQ7IGJyZWFrO1xuICAgICAgZGVmYXVsdDogdmFsdWUgPSAyO1xuICAgIH1cblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IDQ3OyBpbmRleCsrKSB7XG4gICAgICB0ZXN0LnB1c2goeyBrOiBjaHIgKyBpbmRleCwgdjogdmFsdWUgfSk7XG4gICAgfVxuICB9XG5cbiAgdGVzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBiLnYgLSBhLnY7IH0pO1xuXG4gIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRlc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY2hyID0gdGVzdFtpbmRleF0uay5jaGFyQXQoMCk7XG4gICAgaWYgKHJlc3VsdC5jaGFyQXQocmVzdWx0Lmxlbmd0aCAtIDEpICE9PSBjaHIpIHJlc3VsdCArPSBjaHI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0ICE9PSAnREdCRUZIQUNJSksnO1xufSk7XG5cbnZhciBGT1JDRUQgPSBGQUlMU19PTl9VTkRFRklORUQgfHwgIUZBSUxTX09OX05VTEwgfHwgIVNUUklDVF9NRVRIT0QgfHwgIVNUQUJMRV9TT1JUO1xuXG52YXIgZ2V0U29ydENvbXBhcmUgPSBmdW5jdGlvbiAoY29tcGFyZWZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoeCwgeSkge1xuICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHJldHVybiAtMTtcbiAgICBpZiAoeCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMTtcbiAgICBpZiAoY29tcGFyZWZuICE9PSB1bmRlZmluZWQpIHJldHVybiArY29tcGFyZWZuKHgsIHkpIHx8IDA7XG4gICAgcmV0dXJuIHRvU3RyaW5nKHgpID4gdG9TdHJpbmcoeSkgPyAxIDogLTE7XG4gIH07XG59O1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnNvcnRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc29ydFxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogRk9SQ0VEIH0sIHtcbiAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlZm4pIHtcbiAgICBpZiAoY29tcGFyZWZuICE9PSB1bmRlZmluZWQpIGFDYWxsYWJsZShjb21wYXJlZm4pO1xuXG4gICAgdmFyIGFycmF5ID0gdG9PYmplY3QodGhpcyk7XG5cbiAgICBpZiAoU1RBQkxFX1NPUlQpIHJldHVybiBjb21wYXJlZm4gPT09IHVuZGVmaW5lZCA/IHVuJFNvcnQoYXJyYXkpIDogdW4kU29ydChhcnJheSwgY29tcGFyZWZuKTtcblxuICAgIHZhciBpdGVtcyA9IFtdO1xuICAgIHZhciBhcnJheUxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKGFycmF5KTtcbiAgICB2YXIgaXRlbXNMZW5ndGgsIGluZGV4O1xuXG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgYXJyYXlMZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmIChpbmRleCBpbiBhcnJheSkgcHVzaChpdGVtcywgYXJyYXlbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpbnRlcm5hbFNvcnQoaXRlbXMsIGdldFNvcnRDb21wYXJlKGNvbXBhcmVmbikpO1xuXG4gICAgaXRlbXNMZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gICAgaW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGluZGV4IDwgaXRlbXNMZW5ndGgpIGFycmF5W2luZGV4XSA9IGl0ZW1zW2luZGV4KytdO1xuICAgIHdoaWxlIChpbmRleCA8IGFycmF5TGVuZ3RoKSBkZWxldGVQcm9wZXJ0eU9yVGhyb3coYXJyYXksIGluZGV4KyspO1xuXG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDU3M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0JztcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBQKSB7XG4gIGlmICghZGVsZXRlIE9bUF0pIHRocm93ICRUeXBlRXJyb3IoJ0Nhbm5vdCBkZWxldGUgcHJvcGVydHkgJyArIHRyeVRvU3RyaW5nKFApICsgJyBvZiAnICsgdHJ5VG9TdHJpbmcoTykpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZGVsZXRlLXByb3BlcnR5LW9yLXRocm93LmpzXG4vLyBtb2R1bGUgaWQgPSA1NzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZS1zaW1wbGUnKTtcblxudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxudmFyIG1lcmdlU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBtaWRkbGUgPSBmbG9vcihsZW5ndGggLyAyKTtcbiAgcmV0dXJuIGxlbmd0aCA8IDggPyBpbnNlcnRpb25Tb3J0KGFycmF5LCBjb21wYXJlZm4pIDogbWVyZ2UoXG4gICAgYXJyYXksXG4gICAgbWVyZ2VTb3J0KGFycmF5U2xpY2UoYXJyYXksIDAsIG1pZGRsZSksIGNvbXBhcmVmbiksXG4gICAgbWVyZ2VTb3J0KGFycmF5U2xpY2UoYXJyYXksIG1pZGRsZSksIGNvbXBhcmVmbiksXG4gICAgY29tcGFyZWZuXG4gICk7XG59O1xuXG52YXIgaW5zZXJ0aW9uU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBpID0gMTtcbiAgdmFyIGVsZW1lbnQsIGo7XG5cbiAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICBqID0gaTtcbiAgICBlbGVtZW50ID0gYXJyYXlbaV07XG4gICAgd2hpbGUgKGogJiYgY29tcGFyZWZuKGFycmF5W2ogLSAxXSwgZWxlbWVudCkgPiAwKSB7XG4gICAgICBhcnJheVtqXSA9IGFycmF5Wy0tal07XG4gICAgfVxuICAgIGlmIChqICE9PSBpKyspIGFycmF5W2pdID0gZWxlbWVudDtcbiAgfSByZXR1cm4gYXJyYXk7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiAoYXJyYXksIGxlZnQsIHJpZ2h0LCBjb21wYXJlZm4pIHtcbiAgdmFyIGxsZW5ndGggPSBsZWZ0Lmxlbmd0aDtcbiAgdmFyIHJsZW5ndGggPSByaWdodC5sZW5ndGg7XG4gIHZhciBsaW5kZXggPSAwO1xuICB2YXIgcmluZGV4ID0gMDtcblxuICB3aGlsZSAobGluZGV4IDwgbGxlbmd0aCB8fCByaW5kZXggPCBybGVuZ3RoKSB7XG4gICAgYXJyYXlbbGluZGV4ICsgcmluZGV4XSA9IChsaW5kZXggPCBsbGVuZ3RoICYmIHJpbmRleCA8IHJsZW5ndGgpXG4gICAgICA/IGNvbXBhcmVmbihsZWZ0W2xpbmRleF0sIHJpZ2h0W3JpbmRleF0pIDw9IDAgPyBsZWZ0W2xpbmRleCsrXSA6IHJpZ2h0W3JpbmRleCsrXVxuICAgICAgOiBsaW5kZXggPCBsbGVuZ3RoID8gbGVmdFtsaW5kZXgrK10gOiByaWdodFtyaW5kZXgrK107XG4gIH0gcmV0dXJuIGFycmF5O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZVNvcnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXNvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDU3NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcblxudmFyIGZpcmVmb3ggPSB1c2VyQWdlbnQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSk7XG5cbm1vZHVsZS5leHBvcnRzID0gISFmaXJlZm94ICYmICtmaXJlZm94WzFdO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL2ludGVybmFscy9lbmdpbmUtZmYtdmVyc2lvbi5qc1xuLy8gbW9kdWxlIGlkID0gNTc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIFVBID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gL01TSUV8VHJpZGVudC8udGVzdChVQSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2VuZ2luZS1pcy1pZS1vci1lZGdlLmpzXG4vLyBtb2R1bGUgaWQgPSA1Nzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJ2YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50Jyk7XG5cbnZhciB3ZWJraXQgPSB1c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLyk7XG5cbm1vZHVsZS5leHBvcnRzID0gISF3ZWJraXQgJiYgK3dlYmtpdFsxXTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvZW5naW5lLXdlYmtpdC12ZXJzaW9uLmpzXG4vLyBtb2R1bGUgaWQgPSA1Nzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZUJhc2VgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVzcG9uc2VCYXNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlQmFzZWAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZUJhc2Uob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gUmVzcG9uc2VCYXNlLnByb3RvdHlwZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUmVzcG9uc2VCYXNlLnByb3RvdHlwZSwga2V5KSlcbiAgICAgIG9ialtrZXldID0gUmVzcG9uc2VCYXNlLnByb3RvdHlwZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG5cbi8qKlxuICogU2V0IGhlYWRlciByZWxhdGVkIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKSB7XG4gIC8vIFRPRE86IG1vYXIhXG4gIC8vIFRPRE86IG1ha2UgdGhpcyBhIHV0aWxcblxuICAvLyBjb250ZW50LXR5cGVcbiAgY29uc3QgY3QgPSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddIHx8ICcnO1xuICB0aGlzLnR5cGUgPSB1dGlscy50eXBlKGN0KTtcblxuICAvLyBwYXJhbXNcbiAgY29uc3QgcGFyYW1zID0gdXRpbHMucGFyYW1zKGN0KTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIGtleSkpXG4gICAgICB0aGlzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgfVxuXG4gIHRoaXMubGlua3MgPSB7fTtcblxuICAvLyBsaW5rc1xuICB0cnkge1xuICAgIGlmIChoZWFkZXIubGluaykge1xuICAgICAgdGhpcy5saW5rcyA9IHV0aWxzLnBhcnNlTGlua3MoaGVhZGVyLmxpbmspO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gaWdub3JlXG4gIH1cbn07XG5cbi8qKlxuICogU2V0IGZsYWdzIHN1Y2ggYXMgYC5va2AgYmFzZWQgb24gYHN0YXR1c2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG4gKiB3aGVyZWFzIDV4eCB3aWxsIGJlIF9fZmFsc2VfXyBhbmQgYC5lcnJvcmAgd2lsbCBiZSBfX3RydWVfXy4gVGhlXG4gKiBgLmNsaWVudEVycm9yYCBhbmQgYC5zZXJ2ZXJFcnJvcmAgYXJlIGFsc28gYXZhaWxhYmxlIHRvIGJlIG1vcmVcbiAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2xhc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcbiAqIHNvbWV0aW1lcyB1c2VmdWwgZm9yIG1hcHBpbmcgcmVzcG9uZCBjb2xvcnMgZXRjLlxuICpcbiAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudGx5IHByb3ZpZGluZzpcbiAqXG4gKiAgIC0gLm5vQ29udGVudFxuICogICAtIC5iYWRSZXF1ZXN0XG4gKiAgIC0gLnVuYXV0aG9yaXplZFxuICogICAtIC5ub3RBY2NlcHRhYmxlXG4gKiAgIC0gLm5vdEZvdW5kXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2VCYXNlLnByb3RvdHlwZS5fc2V0U3RhdHVzUHJvcGVydGllcyA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICBjb25zdCB0eXBlID0gKHN0YXR1cyAvIDEwMCkgfCAwO1xuXG4gIC8vIHN0YXR1cyAvIGNsYXNzXG4gIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1cztcbiAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGU7XG4gIHRoaXMuc3RhdHVzVHlwZSA9IHR5cGU7XG5cbiAgLy8gYmFzaWNzXG4gIHRoaXMuaW5mbyA9IHR5cGUgPT09IDE7XG4gIHRoaXMub2sgPSB0eXBlID09PSAyO1xuICB0aGlzLnJlZGlyZWN0ID0gdHlwZSA9PT0gMztcbiAgdGhpcy5jbGllbnRFcnJvciA9IHR5cGUgPT09IDQ7XG4gIHRoaXMuc2VydmVyRXJyb3IgPSB0eXBlID09PSA1O1xuICB0aGlzLmVycm9yID0gdHlwZSA9PT0gNCB8fCB0eXBlID09PSA1ID8gdGhpcy50b0Vycm9yKCkgOiBmYWxzZTtcblxuICAvLyBzdWdhclxuICB0aGlzLmNyZWF0ZWQgPSBzdGF0dXMgPT09IDIwMTtcbiAgdGhpcy5hY2NlcHRlZCA9IHN0YXR1cyA9PT0gMjAyO1xuICB0aGlzLm5vQ29udGVudCA9IHN0YXR1cyA9PT0gMjA0O1xuICB0aGlzLmJhZFJlcXVlc3QgPSBzdGF0dXMgPT09IDQwMDtcbiAgdGhpcy51bmF1dGhvcml6ZWQgPSBzdGF0dXMgPT09IDQwMTtcbiAgdGhpcy5ub3RBY2NlcHRhYmxlID0gc3RhdHVzID09PSA0MDY7XG4gIHRoaXMuZm9yYmlkZGVuID0gc3RhdHVzID09PSA0MDM7XG4gIHRoaXMubm90Rm91bmQgPSBzdGF0dXMgPT09IDQwNDtcbiAgdGhpcy51bnByb2Nlc3NhYmxlRW50aXR5ID0gc3RhdHVzID09PSA0MjI7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL3NyYy9yZXNwb25zZS1iYXNlLmpzIiwiLyoqXG4gKiBSZXR1cm4gdGhlIG1pbWUgdHlwZSBmb3IgdGhlIGdpdmVuIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMudHlwZSA9IHN0ciA9PiBzdHIuc3BsaXQoLyAqOyAqLykuc2hpZnQoKTtcblxuLyoqXG4gKiBSZXR1cm4gaGVhZGVyIGZpZWxkIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5wYXJhbXMgPSBzdHIgPT5cbiAgc3RyLnNwbGl0KC8gKjsgKi8pLnJlZHVjZSgob2JqLCBzdHIpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHN0ci5zcGxpdCgvICo9ICovKTtcbiAgICBjb25zdCBrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuICAgIGNvbnN0IHZhbCA9IHBhcnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoa2V5ICYmIHZhbCkgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xuXG4vKipcbiAqIFBhcnNlIExpbmsgaGVhZGVyIGZpZWxkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnBhcnNlTGlua3MgPSBzdHIgPT5cbiAgc3RyLnNwbGl0KC8gKiwgKi8pLnJlZHVjZSgob2JqLCBzdHIpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHN0ci5zcGxpdCgvICo7ICovKTtcbiAgICBjb25zdCB1cmwgPSBwYXJ0c1swXS5zbGljZSgxLCAtMSk7XG4gICAgY29uc3QgcmVsID0gcGFydHNbMV0uc3BsaXQoLyAqPSAqLylbMV0uc2xpY2UoMSwgLTEpO1xuICAgIG9ialtyZWxdID0gdXJsO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcblxuLyoqXG4gKiBTdHJpcCBjb250ZW50IHJlbGF0ZWQgZmllbGRzIGZyb20gYGhlYWRlcmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlclxuICogQHJldHVybiB7T2JqZWN0fSBoZWFkZXJcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuY2xlYW5IZWFkZXIgPSAoaGVhZGVyLCBjaGFuZ2VzT3JpZ2luKSA9PiB7XG4gIGRlbGV0ZSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICBkZWxldGUgaGVhZGVyWydjb250ZW50LWxlbmd0aCddO1xuICBkZWxldGUgaGVhZGVyWyd0cmFuc2Zlci1lbmNvZGluZyddO1xuICBkZWxldGUgaGVhZGVyLmhvc3Q7XG4gIC8vIHNlY3VpcnR5XG4gIGlmIChjaGFuZ2VzT3JpZ2luKSB7XG4gICAgZGVsZXRlIGhlYWRlci5hdXRob3JpemF0aW9uO1xuICAgIGRlbGV0ZSBoZWFkZXIuY29va2llO1xuICB9XG5cbiAgcmV0dXJuIGhlYWRlcjtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vc3JjL3V0aWxzLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL3N0YWJsZS9pbnN0YW5jZS9yZWR1Y2VcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9jb3JlLWpzLXN0YWJsZS9pbnN0YW5jZS9yZWR1Y2UuanNcbi8vIG1vZHVsZSBpZCA9IDU4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi8uLi9lcy9pbnN0YW5jZS9yZWR1Y2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvc3RhYmxlL2luc3RhbmNlL3JlZHVjZS5qc1xuLy8gbW9kdWxlIGlkID0gNTgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi8uLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIG1ldGhvZCA9IHJlcXVpcmUoJy4uL2FycmF5L3ZpcnR1YWwvcmVkdWNlJyk7XG5cbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIG93biA9IGl0LnJlZHVjZTtcbiAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUucmVkdWNlKSA/IG1ldGhvZCA6IG93bjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZXMvaW5zdGFuY2UvcmVkdWNlLmpzXG4vLyBtb2R1bGUgaWQgPSA1ODNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKCcuLi8uLi8uLi9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZScpO1xudmFyIGVudHJ5VmlydHVhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2ludGVybmFscy9lbnRyeS12aXJ0dWFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZW50cnlWaXJ0dWFsKCdBcnJheScpLnJlZHVjZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9hcnJheS92aXJ0dWFsL3JlZHVjZS5qc1xuLy8gbW9kdWxlIGlkID0gNTg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHJlZHVjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1yZWR1Y2UnKS5sZWZ0O1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIENIUk9NRV9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3JlZHVjZScpO1xuLy8gQ2hyb21lIDgwLTgyIGhhcyBhIGNyaXRpY2FsIGJ1Z1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxudmFyIENIUk9NRV9CVUcgPSAhSVNfTk9ERSAmJiBDSFJPTUVfVkVSU0lPTiA+IDc5ICYmIENIUk9NRV9WRVJTSU9OIDwgODM7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QgfHwgQ0hST01FX0JVRyB9LCB7XG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBsZW5ndGgsIGxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qc1xuLy8gbW9kdWxlIGlkID0gNTg1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgcmVkdWNlLCByZWR1Y2VSaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX1JJR0hUKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgY2FsbGJhY2tmbiwgYXJndW1lbnRzTGVuZ3RoLCBtZW1vKSB7XG4gICAgYUNhbGxhYmxlKGNhbGxiYWNrZm4pO1xuICAgIHZhciBPID0gdG9PYmplY3QodGhhdCk7XG4gICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0KE8pO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgICB2YXIgaW5kZXggPSBJU19SSUdIVCA/IGxlbmd0aCAtIDEgOiAwO1xuICAgIHZhciBpID0gSVNfUklHSFQgPyAtMSA6IDE7XG4gICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA8IDIpIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgICBtZW1vID0gc2VsZltpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaW5kZXggKz0gaTtcbiAgICAgIGlmIChJU19SSUdIVCA/IGluZGV4IDwgMCA6IGxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICB0aHJvdyAkVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoO0lTX1JJR0hUID8gaW5kZXggPj0gMCA6IGxlbmd0aCA+IGluZGV4OyBpbmRleCArPSBpKSBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgbWVtbyA9IGNhbGxiYWNrZm4obWVtbywgc2VsZltpbmRleF0sIGluZGV4LCBPKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5yZWR1Y2VcbiAgbGVmdDogY3JlYXRlTWV0aG9kKGZhbHNlKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZXJpZ2h0XG4gIHJpZ2h0OiBjcmVhdGVNZXRob2QodHJ1ZSlcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvaW50ZXJuYWxzL2FycmF5LXJlZHVjZS5qc1xuLy8gbW9kdWxlIGlkID0gNTg2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiZnVuY3Rpb24gQWdlbnQoKSB7XG4gIHRoaXMuX2RlZmF1bHRzID0gW107XG59XG5cbltcbiAgJ3VzZScsXG4gICdvbicsXG4gICdvbmNlJyxcbiAgJ3NldCcsXG4gICdxdWVyeScsXG4gICd0eXBlJyxcbiAgJ2FjY2VwdCcsXG4gICdhdXRoJyxcbiAgJ3dpdGhDcmVkZW50aWFscycsXG4gICdzb3J0UXVlcnknLFxuICAncmV0cnknLFxuICAnb2snLFxuICAncmVkaXJlY3RzJyxcbiAgJ3RpbWVvdXQnLFxuICAnYnVmZmVyJyxcbiAgJ3NlcmlhbGl6ZScsXG4gICdwYXJzZScsXG4gICdjYScsXG4gICdrZXknLFxuICAncGZ4JyxcbiAgJ2NlcnQnLFxuICAnZGlzYWJsZVRMU0NlcnRzJ1xuXS5mb3JFYWNoKGZuID0+IHtcbiAgLy8gRGVmYXVsdCBzZXR0aW5nIGZvciBhbGwgcmVxdWVzdHMgZnJvbSB0aGlzIGFnZW50XG4gIEFnZW50LnByb3RvdHlwZVtmbl0gPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgdGhpcy5fZGVmYXVsdHMucHVzaCh7IGZuLCBhcmdzIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSk7XG5cbkFnZW50LnByb3RvdHlwZS5fc2V0RGVmYXVsdHMgPSBmdW5jdGlvbihyZXEpIHtcbiAgdGhpcy5fZGVmYXVsdHMuZm9yRWFjaChkZWYgPT4ge1xuICAgIHJlcVtkZWYuZm5dKC4uLmRlZi5hcmdzKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZW50O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL3NyYy9hZ2VudC1iYXNlLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yZS1qcy1wdXJlL2ZlYXR1cmVzL2lzLWl0ZXJhYmxlXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvY29yZS1qcy9pcy1pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9mdWxsL2lzLWl0ZXJhYmxlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZmVhdHVyZXMvaXMtaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDU4OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi9hY3R1YWwvaXMtaXRlcmFibGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJlbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jb3JlLWpzLXB1cmUvZnVsbC9pcy1pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTkwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIHBhcmVudCA9IHJlcXVpcmUoJy4uL3N0YWJsZS9pcy1pdGVyYWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmVudDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9hY3R1YWwvaXMtaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDU5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsInZhciBwYXJlbnQgPSByZXF1aXJlKCcuLi9lcy9pcy1pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyZW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY29yZS1qcy1wdXJlL3N0YWJsZS9pcy1pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3InKTtcbnZhciBpc0l0ZXJhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWl0ZXJhYmxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYWJsZTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9lcy9pcy1pdGVyYWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgJE9iamVjdCA9IE9iamVjdDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8gPSAkT2JqZWN0KGl0KTtcbiAgcmV0dXJuIE9bSVRFUkFUT1JdICE9PSB1bmRlZmluZWRcbiAgICB8fCAnQEBpdGVyYXRvcicgaW4gT1xuICAgIHx8IGhhc093bihJdGVyYXRvcnMsIGNsYXNzb2YoTykpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMtcHVyZS9pbnRlcm5hbHMvaXMtaXRlcmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDU5NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJzb3VyY2VSb290IjoiIn0=