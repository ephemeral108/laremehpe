import{s as a,g as c,b as h,u as y}from"./index-68562b0b.js";async function k(o){var r,i;const n=o.replace("add ","").split(" "),d=new RegExp(/.*\.{1}.+/),t=((r=n.find(e=>d.test(e)))==null?void 0:r.split("?")[0])||"",s=n.find(e=>e!=t)||"";if(!s||!t){a&&a("please check your key or url spell");return}if(c().findIndex(e=>e.key===s)>-1){let e=(i=c().find(p=>p.key===s))==null?void 0:i.url;localStorage.setItem("lastMes","the key already exist! url is: "+e)}const l=h.getInstance();if(l===null)return;const u=[...(await l.fetchPlaceholders()).get("list")||[],{key:s,url:t.startsWith("http")?t:"http://"+t}];l.setPlaceholders(u),a&&a(t.startsWith("http")?t:"http://"+t),y()}export{k as install};
